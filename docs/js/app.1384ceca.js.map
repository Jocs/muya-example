{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./node_modules/prismjs2/components lazy ^\\.\\/prism\\-.*$ namespace object","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?9870","webpack:///./src/muya/lib/utils/index.js","webpack:///./src/muya/lib/config/index.js","webpack:///./src/muya/lib/selection/dom.js","webpack:///./src/muya/lib/selection/index.js","webpack:///./src/muya/lib/parser/render/sequence.js","webpack:///./src/muya/lib/parser/render/snabbdom.js","webpack:///./src/muya/lib/parser/escapeCharacter.js","webpack:///./src/muya/lib/parser/rules.js","webpack:///./src/muya/lib/parser/render/renderInlines/backlashInToken.js","webpack:///./src/muya/lib/parser/render/renderInlines/backlash.js","webpack:///./src/muya/lib/parser/render/renderInlines/highlight.js","webpack:///./src/muya/lib/parser/render/renderInlines/header.js","webpack:///./src/muya/lib/parser/render/renderInlines/link.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlTag.js","webpack:///./src/muya/lib/parser/render/renderInlines/hr.js","webpack:///./src/muya/lib/parser/render/renderInlines/tailHeader.js","webpack:///./src/muya/lib/parser/render/renderInlines/hardLineBreak.js","webpack:///./src/muya/lib/parser/render/renderInlines/codeFense.js","webpack:///./src/muya/lib/parser/render/renderInlines/inlineMath.js","webpack:///./src/muya/lib/parser/render/renderInlines/aLink.js","webpack:///./src/muya/lib/parser/render/renderInlines/autoLink.js","webpack:///./src/muya/lib/utils/domManipulate.js","webpack:///./src/muya/lib/parser/render/renderInlines/loadImageAsync.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlImage.js","webpack:///./src/muya/lib/parser/render/renderInlines/image.js","webpack:///./src/muya/lib/parser/render/renderInlines/delEmStringFactory.js","webpack:///./src/muya/lib/ui/emojis/index.js","webpack:///./src/muya/lib/parser/render/renderInlines/emoji.js","webpack:///./src/muya/lib/parser/render/renderInlines/inlineCode.js","webpack:///./src/muya/lib/parser/render/renderInlines/text.js","webpack:///./src/muya/lib/parser/render/renderInlines/del.js","webpack:///./src/muya/lib/parser/render/renderInlines/em.js","webpack:///./src/muya/lib/parser/render/renderInlines/strong.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlEscape.js","webpack:///./src/muya/lib/parser/render/renderInlines/multipleMath.js","webpack:///./src/muya/lib/parser/render/renderInlines/referenceDefinition.js","webpack:///./src/muya/lib/parser/render/renderInlines/referenceLink.js","webpack:///./src/muya/lib/parser/render/renderInlines/referenceImage.js","webpack:///./src/muya/lib/parser/render/renderInlines/index.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderBlock.js","webpack:///./src/muya/lib/prism/loadLanguage.js","webpack:///./src/muya/lib/prism/index.js","webpack:///./src/muya/lib/parser/parse.js","webpack:///./src/muya/lib/assets/icons/align_left.svg","webpack:///./src/muya/lib/assets/icons/align_right.svg","webpack:///./src/muya/lib/assets/icons/align_center.svg","webpack:///./src/muya/lib/assets/icons/table.svg","webpack:///./src/muya/lib/assets/icons/delete.svg","webpack:///./src/muya/lib/parser/render/renderBlock/renderLeafBlock.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderContainerBlock.js","webpack:///./src/muya/lib/parser/render/renderBlock/index.js","webpack:///./src/muya/lib/parser/render/index.js","webpack:///./src/muya/lib/contentState/enterCtrl.js","webpack:///./src/muya/lib/contentState/updateCtrl.js","webpack:///./src/muya/lib/contentState/backspaceCtrl.js","webpack:///./src/muya/lib/contentState/deleteCtrl.js","webpack:///./src/muya/lib/contentState/codeBlockCtrl.js","webpack:///./src/muya/lib/contentState/tableBlockCtrl.js","webpack:///./src/muya/lib/contentState/selectionCtrl.js","webpack:///./src/muya/lib/contentState/history.js","webpack:///./src/muya/lib/contentState/arrowCtrl.js","webpack:///./src/muya/lib/contentState/pasteCtrl.js","webpack:///./src/muya/lib/parser/marked/utils.js","webpack:///./src/muya/lib/parser/marked/renderer.js","webpack:///./src/muya/lib/parser/marked/blockRules.js","webpack:///./src/muya/lib/parser/marked/lexer.js","webpack:///./src/muya/lib/parser/marked/inlineRules.js","webpack:///./src/muya/lib/parser/marked/inlineLexer.js","webpack:///./src/muya/lib/parser/marked/parser.js","webpack:///./src/muya/lib/parser/marked/index.js","webpack:///./src/muya/lib/utils/exportHtml.js","webpack:///./src/muya/lib/utils/exportMarkdown.js","webpack:///./src/muya/lib/contentState/copyCutCtrl.js","webpack:///./src/muya/lib/contentState/paragraphCtrl.js","webpack:///./src/muya/lib/contentState/tabCtrl.js","webpack:///./src/muya/lib/contentState/formatCtrl.js","webpack:///./src/muya/lib/contentState/searchCtrl.js","webpack:///./src/muya/lib/contentState/containerCtrl.js","webpack:///./src/muya/lib/contentState/imagePathCtrl.js","webpack:///./src/muya/lib/contentState/htmlBlock.js","webpack:///./src/muya/lib/contentState/clickCtrl.js","webpack:///./src/muya/lib/contentState/inputCtrl.js","webpack:///./src/muya/lib/utils/turndownService.js","webpack:///./src/muya/lib/utils/importMarkdown.js","webpack:///./src/muya/lib/contentState/index.js","webpack:///./src/muya/lib/eventHandler/event.js","webpack:///./src/muya/lib/eventHandler/clipboard.js","webpack:///./src/muya/lib/eventHandler/keyboard.js","webpack:///./src/muya/lib/eventHandler/clickEvent.js","webpack:///./src/muya/lib/ui/tooltip/index.js","webpack:///./src/muya/lib/index.js","webpack:///./src/muya/lib/ui/baseFloat/index.js","webpack:///./src/muya/lib/ui/tablePicker/index.js","webpack:///./src/muya/lib/ui/baseScrollFloat/index.js","webpack:///./src/muya/lib/ui/fileIcons/index.js","webpack:///./src/muya/lib/ui/codePicker/index.js","webpack:///./src/muya/lib/ui/emojiPicker/index.js","webpack:///./src/muya/lib/assets/icons/folder.svg","webpack:///./src/muya/lib/assets/icons/image.svg","webpack:///./src/muya/lib/assets/icons/upload.svg","webpack:///./src/muya/lib/ui/imagePicker/index.js","webpack:///./src/muya/lib/assets/icons/format_strong.svg","webpack:///./src/muya/lib/assets/icons/format_emphasis.svg","webpack:///./src/muya/lib/assets/icons/format_code.svg","webpack:///./src/muya/lib/assets/icons/format_image.svg","webpack:///./src/muya/lib/assets/icons/format_link.svg","webpack:///./src/muya/lib/assets/icons/format_strike.svg","webpack:///./src/muya/lib/assets/icons/format_clear.svg","webpack:///./src/muya/lib/ui/formatPicker/config.js","webpack:///./src/muya/lib/ui/formatPicker/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/muya/lib/assets/libs/sequence-diagram.js","webpack:///./node_modules/markdown-toc/lib sync","webpack:///./src/muya/lib/assets/libs/webFontLoader.js","webpack:///./src/muya/lib/assets/libs/raphael.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","jsonpScriptSrc","p","chunk-2d0a2d2c","chunk-2d0a2dc3","chunk-2d0a2e23","chunk-2d0a3149","chunk-2d0a3325","chunk-2d0a3382","chunk-2d0a429b","chunk-2d0a43d1","chunk-2d0a4467","chunk-2d0a4764","chunk-2d0a4d9b","chunk-2d0a4f5b","chunk-2d0a515e","chunk-2d0a516f","chunk-2d0aa8ff","chunk-2d0aaeeb","chunk-2d0aba9c","chunk-2d0abe0f","chunk-2d0ac3ad","chunk-2d0aeaf7","chunk-2d0aed83","chunk-2d0aed85","chunk-2d0af14a","chunk-2d0af48f","chunk-2d0af67e","chunk-2d0b1657","chunk-2d0b1680","chunk-2d0b16cd","chunk-2d0b19d3","chunk-2d0b238b","chunk-2d0b23f3","chunk-2d0b2758","chunk-2d0b28aa","chunk-2d0b2b76","chunk-2d0b2ee5","chunk-2d0b2ffc","chunk-2d0b3059","chunk-2d0b348d","chunk-2d0b34b5","chunk-2d0b3818","chunk-2d0b5a71","chunk-2d0b5fe7","chunk-2d0b611c","chunk-2d0b6367","chunk-2d0b672a","chunk-2d0b6918","chunk-2d0b6e7b","chunk-2d0b8e84","chunk-2d0b919a","chunk-2d0b9608","chunk-2d0ba198","chunk-2d0ba319","chunk-2d0ba45b","chunk-2d0ba45d","chunk-2d0ba4df","chunk-2d0ba6bc","chunk-2d0bd1c8","chunk-2d0bd9d5","chunk-2d0bdb37","chunk-2d0bdb3a","chunk-2d0bdb88","chunk-2d0bdd3a","chunk-2d0bdd87","chunk-2d0be0fd","chunk-2d0bff0d","chunk-2d0c0845","chunk-2d0c0847","chunk-2d0c0a27","chunk-2d0c11f8","chunk-2d0c1798","chunk-2d0c17b7","chunk-2d0c1af0","chunk-2d0c1b1d","chunk-2d0c1b6c","chunk-2d0c1f2b","chunk-2d0c211c","chunk-2d0c2304","chunk-2d0c2339","chunk-2d0c266c","chunk-2d0c4351","chunk-2d0c4e48","chunk-2d0c4f7a","chunk-2d0c51b6","chunk-2d0c55b8","chunk-2d0c5738","chunk-2d0c5797","chunk-2d0c7a85","chunk-2d0c7e3b","chunk-2d0c859f","chunk-2d0c85b7","chunk-2d0c8609","chunk-2d0c8627","chunk-2d0c89d8","chunk-2d0c8a12","chunk-2d0c8a19","chunk-2d0c8a80","chunk-2d0c9101","chunk-2d0c9727","chunk-2d0cba65","chunk-2d0cc5c9","chunk-2d0ccc23","chunk-2d0ce735","chunk-2d0cebfe","chunk-2d0cedec","chunk-2d0cf2e7","chunk-2d0cf38d","chunk-2d0cf4d2","chunk-2d0cf6a6","chunk-2d0cf6c6","chunk-2d0cfcc0","chunk-2d0cfece","chunk-2d0cfedf","chunk-2d0d05aa","chunk-2d0d094b","chunk-2d0d32c9","chunk-2d0d3682","chunk-2d0d38e5","chunk-2d0d39c7","chunk-2d0d3a05","chunk-2d0d5f8e","chunk-2d0d6383","chunk-2d0d6412","chunk-2d0d6722","chunk-2d0d6970","chunk-2d0d6e54","chunk-2d0d6e86","chunk-2d0d6ef4","chunk-2d0d708b","chunk-2d0d725b","chunk-2d0d72f4","chunk-2d0d732c","chunk-2d0d7633","chunk-2d0d800b","chunk-2d0da3b0","chunk-2d0da764","chunk-2d0daa64","chunk-2d0dad12","chunk-2d0daea8","chunk-2d0daedf","chunk-2d0db832","chunk-2d0dcff1","chunk-2d0dd3d3","chunk-2d0dd61c","chunk-2d0ddb85","chunk-2d0ddc21","chunk-2d0dddc5","chunk-2d0ddf80","chunk-2d0ddfb2","chunk-2d0ddfb5","chunk-2d0ddfed","chunk-2d0de186","chunk-2d0de1bd","chunk-2d0de304","chunk-2d0de543","chunk-2d0de6a7","chunk-2d0dee3d","chunk-2d0deea7","chunk-2d0df048","chunk-2d0df1bf","chunk-2d0df462","chunk-2d0df464","chunk-2d0e1d82","chunk-2d0e22b6","chunk-2d0e22d5","chunk-2d0e23a0","chunk-2d0e252f","chunk-2d0e2711","chunk-2d0e2c99","chunk-2d0e502d","chunk-2d0e506c","chunk-2d0e526c","chunk-2d0e55b3","chunk-2d0e59be","chunk-2d0e6174","chunk-2d0e6256","chunk-2d0e62e3","chunk-2d0e64c3","chunk-2d0e665d","chunk-2d0e6724","chunk-2d0e6863","chunk-2d0e6884","chunk-2d0e8bc1","chunk-2d0e8fe0","chunk-2d0e9079","chunk-2d0e9404","chunk-2d0e9586","chunk-2d0e97f1","chunk-2d0ea141","chunk-2d0efc80","chunk-2d0efd59","chunk-2d0f0054","chunk-2d0f04bd","chunk-2d0f04dc","chunk-2d0f06a0","chunk-2d0f0f27","chunk-2d0f0f60","chunk-2d0f102e","chunk-2d207795","chunk-2d208327","chunk-2d208340","chunk-2d208376","chunk-2d2084ac","chunk-2d2089ad","chunk-2d208a4a","chunk-2d208e2b","chunk-2d2091fd","chunk-2d2094f0","chunk-2d209560","chunk-2d20e7e1","chunk-2d20e8d1","chunk-2d20ec31","chunk-2d20f15a","chunk-2d20f8fd","chunk-2d20fcfb","chunk-2d2100b8","chunk-2d21046c","chunk-2d21080b","chunk-2d2109dd","chunk-2d210c48","chunk-2d212fe5","chunk-2d2138bc","chunk-2d21392b","chunk-2d213a22","chunk-2d213aca","chunk-2d213c6e","chunk-2d213cab","chunk-2d21636d","chunk-2d21641f","chunk-2d2167e2","chunk-2d2169f8","chunk-2d216eec","chunk-2d21711d","chunk-2d217349","chunk-2d217688","chunk-2d2176ca","chunk-2d217a50","chunk-2d218058","chunk-2d219fca","chunk-2d21a37a","chunk-2d21a76b","chunk-2d21a7f6","chunk-2d21aabb","chunk-2d21ab28","chunk-2d21ad5a","chunk-2d21aead","chunk-2d21b487","chunk-2d21b87d","chunk-2d21d0fd","chunk-2d21dbe3","chunk-2d21dc0a","chunk-2d21dc40","chunk-2d21dde8","chunk-2d21df6a","chunk-2d21e17b","chunk-2d21e567","chunk-2d21e5c4","chunk-2d21ea8f","chunk-2d21ecf8","chunk-2d21ecf9","chunk-2d21ef97","chunk-2d21f355","chunk-2d21f458","chunk-2d2218c0","chunk-2d221a61","chunk-2d2225b7","chunk-2d22270a","chunk-2d2248c2","chunk-2d224930","chunk-2d224d3e","chunk-2d2250d1","chunk-2d2255d9","chunk-2d225823","chunk-2d225836","chunk-2d225dbb","chunk-2d225f2e","chunk-2d2263d5","chunk-2d226516","chunk-2d226538","chunk-2d22672b","chunk-2d22692b","chunk-2d226967","chunk-2d2288c3","chunk-2d228bf5","chunk-2d228e67","chunk-2d229457","chunk-2d22a11c","chunk-2d22b973","chunk-2d22b9dc","chunk-2d22c302","chunk-2d22c8f4","chunk-2d22d0a4","chunk-2d22d1b9","chunk-2d22d239","chunk-2d22db84","chunk-2d22fd11","chunk-2d22fd25","chunk-2d2304b3","chunk-2d230bc7","chunk-2d230c58","chunk-2d230df5","chunk-2d23106f","chunk-2d231223","chunk-2d23758c","chunk-2d237ca4","chunk-2d2380d1","chunk-744d890d","chunk-74b0191d","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","head","document","getElementsByTagName","script","createElement","charset","timeout","nc","setAttribute","src","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","map","./prism-abap","./prism-abap.js","./prism-abap.min","./prism-abap.min.js","./prism-actionscript","./prism-actionscript.js","./prism-actionscript.min","./prism-actionscript.min.js","./prism-ada","./prism-ada.js","./prism-ada.min","./prism-ada.min.js","./prism-apacheconf","./prism-apacheconf.js","./prism-apacheconf.min","./prism-apacheconf.min.js","./prism-apl","./prism-apl.js","./prism-apl.min","./prism-apl.min.js","./prism-applescript","./prism-applescript.js","./prism-applescript.min","./prism-applescript.min.js","./prism-arduino","./prism-arduino.js","./prism-arduino.min","./prism-arduino.min.js","./prism-arff","./prism-arff.js","./prism-arff.min","./prism-arff.min.js","./prism-asciidoc","./prism-asciidoc.js","./prism-asciidoc.min","./prism-asciidoc.min.js","./prism-asm6502","./prism-asm6502.js","./prism-asm6502.min","./prism-asm6502.min.js","./prism-aspnet","./prism-aspnet.js","./prism-aspnet.min","./prism-aspnet.min.js","./prism-autohotkey","./prism-autohotkey.js","./prism-autohotkey.min","./prism-autohotkey.min.js","./prism-autoit","./prism-autoit.js","./prism-autoit.min","./prism-autoit.min.js","./prism-bash","./prism-bash.js","./prism-bash.min","./prism-bash.min.js","./prism-basic","./prism-basic.js","./prism-basic.min","./prism-basic.min.js","./prism-batch","./prism-batch.js","./prism-batch.min","./prism-batch.min.js","./prism-bison","./prism-bison.js","./prism-bison.min","./prism-bison.min.js","./prism-brainfuck","./prism-brainfuck.js","./prism-brainfuck.min","./prism-brainfuck.min.js","./prism-bro","./prism-bro.js","./prism-bro.min","./prism-bro.min.js","./prism-c","./prism-c.js","./prism-c.min","./prism-c.min.js","./prism-clike","./prism-clike.js","./prism-clike.min","./prism-clike.min.js","./prism-clojure","./prism-clojure.js","./prism-clojure.min","./prism-clojure.min.js","./prism-coffeescript","./prism-coffeescript.js","./prism-coffeescript.min","./prism-coffeescript.min.js","./prism-core","./prism-core.js","./prism-core.min","./prism-core.min.js","./prism-cpp","./prism-cpp.js","./prism-cpp.min","./prism-cpp.min.js","./prism-crystal","./prism-crystal.js","./prism-crystal.min","./prism-crystal.min.js","./prism-csharp","./prism-csharp.js","./prism-csharp.min","./prism-csharp.min.js","./prism-csp","./prism-csp.js","./prism-csp.min","./prism-csp.min.js","./prism-css","./prism-css-extras","./prism-css-extras.js","./prism-css-extras.min","./prism-css-extras.min.js","./prism-css.js","./prism-css.min","./prism-css.min.js","./prism-d","./prism-d.js","./prism-d.min","./prism-d.min.js","./prism-dart","./prism-dart.js","./prism-dart.min","./prism-dart.min.js","./prism-diff","./prism-diff.js","./prism-diff.min","./prism-diff.min.js","./prism-django","./prism-django.js","./prism-django.min","./prism-django.min.js","./prism-docker","./prism-docker.js","./prism-docker.min","./prism-docker.min.js","./prism-eiffel","./prism-eiffel.js","./prism-eiffel.min","./prism-eiffel.min.js","./prism-elixir","./prism-elixir.js","./prism-elixir.min","./prism-elixir.min.js","./prism-elm","./prism-elm.js","./prism-elm.min","./prism-elm.min.js","./prism-erb","./prism-erb.js","./prism-erb.min","./prism-erb.min.js","./prism-erlang","./prism-erlang.js","./prism-erlang.min","./prism-erlang.min.js","./prism-flow","./prism-flow.js","./prism-flow.min","./prism-flow.min.js","./prism-fortran","./prism-fortran.js","./prism-fortran.min","./prism-fortran.min.js","./prism-fsharp","./prism-fsharp.js","./prism-fsharp.min","./prism-fsharp.min.js","./prism-gedcom","./prism-gedcom.js","./prism-gedcom.min","./prism-gedcom.min.js","./prism-gherkin","./prism-gherkin.js","./prism-gherkin.min","./prism-gherkin.min.js","./prism-git","./prism-git.js","./prism-git.min","./prism-git.min.js","./prism-glsl","./prism-glsl.js","./prism-glsl.min","./prism-glsl.min.js","./prism-gml","./prism-gml.js","./prism-gml.min","./prism-gml.min.js","./prism-go","./prism-go.js","./prism-go.min","./prism-go.min.js","./prism-graphql","./prism-graphql.js","./prism-graphql.min","./prism-graphql.min.js","./prism-groovy","./prism-groovy.js","./prism-groovy.min","./prism-groovy.min.js","./prism-haml","./prism-haml.js","./prism-haml.min","./prism-haml.min.js","./prism-handlebars","./prism-handlebars.js","./prism-handlebars.min","./prism-handlebars.min.js","./prism-haskell","./prism-haskell.js","./prism-haskell.min","./prism-haskell.min.js","./prism-haxe","./prism-haxe.js","./prism-haxe.min","./prism-haxe.min.js","./prism-hpkp","./prism-hpkp.js","./prism-hpkp.min","./prism-hpkp.min.js","./prism-hsts","./prism-hsts.js","./prism-hsts.min","./prism-hsts.min.js","./prism-http","./prism-http.js","./prism-http.min","./prism-http.min.js","./prism-ichigojam","./prism-ichigojam.js","./prism-ichigojam.min","./prism-ichigojam.min.js","./prism-icon","./prism-icon.js","./prism-icon.min","./prism-icon.min.js","./prism-inform7","./prism-inform7.js","./prism-inform7.min","./prism-inform7.min.js","./prism-ini","./prism-ini.js","./prism-ini.min","./prism-ini.min.js","./prism-io","./prism-io.js","./prism-io.min","./prism-io.min.js","./prism-j","./prism-j.js","./prism-j.min","./prism-j.min.js","./prism-java","./prism-java.js","./prism-java.min","./prism-java.min.js","./prism-javascript","./prism-javascript.js","./prism-javascript.min","./prism-javascript.min.js","./prism-jolie","./prism-jolie.js","./prism-jolie.min","./prism-jolie.min.js","./prism-json","./prism-json.js","./prism-json.min","./prism-json.min.js","./prism-jsx","./prism-jsx.js","./prism-jsx.min","./prism-jsx.min.js","./prism-julia","./prism-julia.js","./prism-julia.min","./prism-julia.min.js","./prism-keyman","./prism-keyman.js","./prism-keyman.min","./prism-keyman.min.js","./prism-kotlin","./prism-kotlin.js","./prism-kotlin.min","./prism-kotlin.min.js","./prism-latex","./prism-latex.js","./prism-latex.min","./prism-latex.min.js","./prism-less","./prism-less.js","./prism-less.min","./prism-less.min.js","./prism-liquid","./prism-liquid.js","./prism-liquid.min","./prism-liquid.min.js","./prism-lisp","./prism-lisp.js","./prism-lisp.min","./prism-lisp.min.js","./prism-livescript","./prism-livescript.js","./prism-livescript.min","./prism-livescript.min.js","./prism-lolcode","./prism-lolcode.js","./prism-lolcode.min","./prism-lolcode.min.js","./prism-lua","./prism-lua.js","./prism-lua.min","./prism-lua.min.js","./prism-makefile","./prism-makefile.js","./prism-makefile.min","./prism-makefile.min.js","./prism-markdown","./prism-markdown.js","./prism-markdown.min","./prism-markdown.min.js","./prism-markup","./prism-markup-templating","./prism-markup-templating.js","./prism-markup-templating.min","./prism-markup-templating.min.js","./prism-markup.js","./prism-markup.min","./prism-markup.min.js","./prism-matlab","./prism-matlab.js","./prism-matlab.min","./prism-matlab.min.js","./prism-mel","./prism-mel.js","./prism-mel.min","./prism-mel.min.js","./prism-mizar","./prism-mizar.js","./prism-mizar.min","./prism-mizar.min.js","./prism-monkey","./prism-monkey.js","./prism-monkey.min","./prism-monkey.min.js","./prism-n4js","./prism-n4js.js","./prism-n4js.min","./prism-n4js.min.js","./prism-nasm","./prism-nasm.js","./prism-nasm.min","./prism-nasm.min.js","./prism-nginx","./prism-nginx.js","./prism-nginx.min","./prism-nginx.min.js","./prism-nim","./prism-nim.js","./prism-nim.min","./prism-nim.min.js","./prism-nix","./prism-nix.js","./prism-nix.min","./prism-nix.min.js","./prism-nsis","./prism-nsis.js","./prism-nsis.min","./prism-nsis.min.js","./prism-objectivec","./prism-objectivec.js","./prism-objectivec.min","./prism-objectivec.min.js","./prism-ocaml","./prism-ocaml.js","./prism-ocaml.min","./prism-ocaml.min.js","./prism-opencl","./prism-opencl.js","./prism-opencl.min","./prism-opencl.min.js","./prism-oz","./prism-oz.js","./prism-oz.min","./prism-oz.min.js","./prism-parigp","./prism-parigp.js","./prism-parigp.min","./prism-parigp.min.js","./prism-parser","./prism-parser.js","./prism-parser.min","./prism-parser.min.js","./prism-pascal","./prism-pascal.js","./prism-pascal.min","./prism-pascal.min.js","./prism-perl","./prism-perl.js","./prism-perl.min","./prism-perl.min.js","./prism-php","./prism-php-extras","./prism-php-extras.js","./prism-php-extras.min","./prism-php-extras.min.js","./prism-php.js","./prism-php.min","./prism-php.min.js","./prism-plsql","./prism-plsql.js","./prism-plsql.min","./prism-plsql.min.js","./prism-powershell","./prism-powershell.js","./prism-powershell.min","./prism-powershell.min.js","./prism-processing","./prism-processing.js","./prism-processing.min","./prism-processing.min.js","./prism-prolog","./prism-prolog.js","./prism-prolog.min","./prism-prolog.min.js","./prism-properties","./prism-properties.js","./prism-properties.min","./prism-properties.min.js","./prism-protobuf","./prism-protobuf.js","./prism-protobuf.min","./prism-protobuf.min.js","./prism-pug","./prism-pug.js","./prism-pug.min","./prism-pug.min.js","./prism-puppet","./prism-puppet.js","./prism-puppet.min","./prism-puppet.min.js","./prism-pure","./prism-pure.js","./prism-pure.min","./prism-pure.min.js","./prism-python","./prism-python.js","./prism-python.min","./prism-python.min.js","./prism-q","./prism-q.js","./prism-q.min","./prism-q.min.js","./prism-qore","./prism-qore.js","./prism-qore.min","./prism-qore.min.js","./prism-r","./prism-r.js","./prism-r.min","./prism-r.min.js","./prism-reason","./prism-reason.js","./prism-reason.min","./prism-reason.min.js","./prism-renpy","./prism-renpy.js","./prism-renpy.min","./prism-renpy.min.js","./prism-rest","./prism-rest.js","./prism-rest.min","./prism-rest.min.js","./prism-rip","./prism-rip.js","./prism-rip.min","./prism-rip.min.js","./prism-roboconf","./prism-roboconf.js","./prism-roboconf.min","./prism-roboconf.min.js","./prism-ruby","./prism-ruby.js","./prism-ruby.min","./prism-ruby.min.js","./prism-rust","./prism-rust.js","./prism-rust.min","./prism-rust.min.js","./prism-sas","./prism-sas.js","./prism-sas.min","./prism-sas.min.js","./prism-sass","./prism-sass.js","./prism-sass.min","./prism-sass.min.js","./prism-scala","./prism-scala.js","./prism-scala.min","./prism-scala.min.js","./prism-scheme","./prism-scheme.js","./prism-scheme.min","./prism-scheme.min.js","./prism-scss","./prism-scss.js","./prism-scss.min","./prism-scss.min.js","./prism-smalltalk","./prism-smalltalk.js","./prism-smalltalk.min","./prism-smalltalk.min.js","./prism-smarty","./prism-smarty.js","./prism-smarty.min","./prism-smarty.min.js","./prism-soy","./prism-soy.js","./prism-soy.min","./prism-soy.min.js","./prism-sql","./prism-sql.js","./prism-sql.min","./prism-sql.min.js","./prism-stylus","./prism-stylus.js","./prism-stylus.min","./prism-stylus.min.js","./prism-swift","./prism-swift.js","./prism-swift.min","./prism-swift.min.js","./prism-tap","./prism-tap.js","./prism-tap.min","./prism-tap.min.js","./prism-tcl","./prism-tcl.js","./prism-tcl.min","./prism-tcl.min.js","./prism-textile","./prism-textile.js","./prism-textile.min","./prism-textile.min.js","./prism-tsx","./prism-tsx.js","./prism-tsx.min","./prism-tsx.min.js","./prism-tt2","./prism-tt2.js","./prism-tt2.min","./prism-tt2.min.js","./prism-twig","./prism-twig.js","./prism-twig.min","./prism-twig.min.js","./prism-typescript","./prism-typescript.js","./prism-typescript.min","./prism-typescript.min.js","./prism-vbnet","./prism-vbnet.js","./prism-vbnet.min","./prism-vbnet.min.js","./prism-velocity","./prism-velocity.js","./prism-velocity.min","./prism-velocity.min.js","./prism-verilog","./prism-verilog.js","./prism-verilog.min","./prism-verilog.min.js","./prism-vhdl","./prism-vhdl.js","./prism-vhdl.min","./prism-vhdl.min.js","./prism-vim","./prism-vim.js","./prism-vim.min","./prism-vim.min.js","./prism-visual-basic","./prism-visual-basic.js","./prism-visual-basic.min","./prism-visual-basic.min.js","./prism-wasm","./prism-wasm.js","./prism-wasm.min","./prism-wasm.min.js","./prism-wiki","./prism-wiki.js","./prism-wiki.min","./prism-wiki.min.js","./prism-xeora","./prism-xeora.js","./prism-xeora.min","./prism-xeora.min.js","./prism-xojo","./prism-xojo.js","./prism-xojo.min","./prism-xojo.min.js","./prism-xquery","./prism-xquery.js","./prism-xquery.min","./prism-xquery.min.js","./prism-yaml","./prism-yaml.js","./prism-yaml.min","./prism-yaml.min.js","webpackAsyncContext","req","ids","then","id","code","keys","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","webpackContextResolve","Appvue_type_template_id_df99df0a_render","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticRenderFns","ID_PREFIX","getUniqueId","concat","getLongUniqueId","Date","toString","noop","identity","isEven","number","Math","abs","isLengthEven","str","arguments","snakeToCamel","replace","p0","p1","toUpperCase","conflict","arr1","arr2","union","_ref2","_ref3","tStart","start","tEnd","end","lStart","lEnd","active","deepCopyArray","array","len","esm_typeof","Array","isArray","deepCopy","obj","forEach","loadImage","_ref4","asyncToGenerator","regeneratorRuntime","mark","_callee","url","detectContentType","isImage","wrap","_context","prev","next","checkImageContentType","sent","abrupt","image","Image","stop","_x","_x2","_ref5","_callee2","res","contentType","_context2","axios","headers","status","test","t0","_x3","getImageInfo","EXT_REG","URL_REG","DATA_URL_REG","imageExtension","isUrl","isUnknownType","isDataUrl","DIRNAME","process","require","escapeHtml","html","escapeInBlockHtml","p2","p3","p4","wordCount","markdown","paragraph","split","filter","line","word","character","removedChinese","tokens","chineseWordLength","reduce","acc","genUpper2LowerKeyHash","toLowerCase","assign","generateKeyHash","mixins","constructor","_len2","_key2","sanitize","options","DOMPurify","createDOMPurify","getParagraphReference","ele","_ele$getBoundingClien","getBoundingClientRect","x","y","left","top","bottom","height","width","right","clientWidth","clientHeight","DEVICE_MEMORY","navigator","deviceMemory","UNDO_DEPTH","HAS_TEXT_BLOCK_REG","VOID_HTML_TAGS","voidHtmlTags","HTML_TAGS","htmlTags","BLOCK_TYPE1","BLOCK_TYPE6","IMAGE_EXT_REG","tag","find","PARAGRAPH_TYPES","blockContainerElementNames","emptyElementNames","EVENT_KEYS","LOWERCASE_TAGS","toConsumableArray","CLASS_OR_ID","CURSOR_DNA","Set","DEFAULT_TURNDOWN_CONFIG","headingStyle","bulletListMarker","codeBlockStyle","fence","emDelimiter","strongDelimiter","FORMAT_MARKER_MAP","em","inline_code","strong","del","FORMAT_TYPES","punctuation","TABLE_TOOLS","label","title","icon","HTML_TOOLS","LINE_BREAK","PREVIEW_DOMPURIFY_CONFIG","FORBID_ATTR","ALLOW_DATA_ATTR","USE_PROFILES","svg","svgFilters","mathMl","EXPORT_DOMPURIFY_CONFIG","MUYA_DEFAULT_OPTION","focusMode","theme","preferLooseListItem","autoPairBracket","autoPairMarkdownSyntax","autoPairQuote","tabSize","sequenceTheme","mermaidTheme","isInElectron","isOsx","platform","CHOP_TEXT_REG","getTextContent","node","blackList","textContent","text","some","className","classList","contains","nodeType","childNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","return","findNearestParagraph","isAganippeParagraph","parentNode","findOutMostParagraph","isAganippeEditorElement","element","isBlockContainer","indexOf","nodeName","traverseUp","current","testElementFunction","getFirstSelectableLeafNode","firstChild","el","table","firstCell","querySelector","isElementAtBeginningOfBlock","textVal","sibling","previousSibling","nodeValue","findPreviousSibling","getClosestBlockContainer","getCursorPositionWithinMarkedText","markedText","cursorOffset","match","chunks","exec","index","leftSymbol","rightSymbol","lastIndex","info","compareParagraphsOrder","paragraph1","paragraph2","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","filterOnlyParentElements","NodeFilter","FILTER_ACCEPT","FILTER_SKIP","Selection","doc","classCallCheck","contentWindow","range","selection","getSelection","rangeCount","getRangeAt","commonAncestorContainer","findMatchingSelectionParent","root","selectionState","preSelectionRange","cloneRange","selectNodeContents","setEnd","startContainer","startOffset","doesRangeStartWithImages","startsWithImage","trailingImageCount","getTrailingImageCount","endContainer","endOffset","emptyBlocksIndex","getIndexRelativeToAdjacentEmptyBlocks","favorLaterSelectionAnchor","createRange","setStart","collapse","nextCharIndex","nodeStack","charIndex","foundStart","foundEnd","allowRangeToStartAtEndOfNode","lastTextNode","pop","endIndex","importSelectionMoveCursorPastBlocks","importSelectionMoveCursorPastAnchor","selectRange","nodeInsideAnchorTagFunction","prevNode","currentNode","currentNodeIndex","startBlock","targetNode","treeWalker","createTreeWalker","SHOW_ELEMENT","currIndex","nextNode","cursorContainer","closestBlock","emptyBlocksCount","blockIsEmpty","img","SHOW_ALL","lastNode","hasChildNodes","lastChild","trailingImages","sel","isCollapsed","trim","selectionNode","getSelectedParentElement","sawtrue","sawfalse","ce","getAttribute","container","cloneContents","innerHTML","_this$getCaretOffsets","getCaretOffsets","_getCursorPositionWit","pre","post","preCaretRange","postCaretRange","startNode","rangeSelectsSingleNode","toRet","currNode","containsNode","endNode","moveCursorToStart","_this$doc$getSelectio","collapseToStart","collapseToEnd","offset","select","removeAllRanges","addRange","anchorNode","cursorRange","startParagraph","endParagraph","getNodeAndOffset","count","child","_getNodeAndOffset","_getNodeAndOffset2","min","_this$doc$getSelectio2","anchorOffset","focusNode","focusOffset","findFirstTextNode","anchor","children","getOffsetOfParagraph","preSibling","offset1","offset2","max","order","rawCursor","_this$getCursorCoords","getCursorCoords","_paragraph$getBoundin","lineHeight","parseFloat","getComputedStyle","topOffset","round","bottomOffset","getClientRects","rects","ELEMENT_NODE","_rects$","rectX","rectY","lib_selection","Diagram","snabbdom","patch","init","default","h","toHTML","toVNode","htmlToVNode","wrapper","charachers","escapeCharacters","escapeCharactersMap","escapeCharacter","beginRules","hr","code_fense","header","multiple_math","reference_definition","inlineRules","backlash","link","emoji","auto_link","reference_link","reference_image","inline_math","tail_header","a_link","html_image","html_tag","html_escape","RegExp","join","hard_line_break","backlashInToken","backlashes","outerClass","token","_token$highlights","highlights","light","selector","getHighlightClassName","cursor","block","getClassName","_token$range","content","highlight","rStart","rEnd","unions","pos","un","_i","u","substring","_this","linkClassName","firstMiddleBracket","firstBracket","middleBracket","first","hrefContent","href","middleHref","lastBracket","firstBacklashStart","secondBacklashStart","second","props","encodeURI","to","htmlTag","isBr","tailHeader","hardLineBreak","spaces","nextSibling","codeFense","marker","markerContent","displayMath","startMarker","endMarker","math","loadMathMap","displayMode","mathVnode","previewSelector","has","katex","renderToString","set","contenteditable","aLink","tagClassName","openTag","closeTag","dataset","autoLink","operateClassName","ctrl","insertAfter","newNode","originNode","insertBefore","loadImageAsync","imageInfo","alt","imageClass","isSuccess","loadImageMap","imageWrapper","add","catch","htmlImage","rawSrc","_this$loadImageAsync","eventCenter","cursorStart","cursorEnd","dispatch","titleContent","srcContent","secondBracketContent","lastBracketContent","delEmStrongFac","COMMON_MARKER","backlashStart","emojisForSearch","emojis_step","emojis_iterator","emojis","emojis_iteratorNormalCompletion","newEmoji","search","aliases","tags","category","validEmoji","includes","checkEditEmoji","setInlineEmoji","moveCursor","nextElementSibling","Emoji","cache","Map","list","clear","validation","finalClass","CONTENT_CLASSNAME","startMarkerCN","endMarkerCN","HIGHLIGHT_CLASSNAME","emojiVdom","inlineCode","htmlEscape","multipleMath","referenceDefinition","leftBracket","titleMarker","rightTitleSpace","leftBracketContent","labelContent","middleContent","rightContent","referenceLink","labelClass","isFullLink","MARKER","labels","_this$labels$get","anchorSelector","dataSet","middleMarker","lastMarker","renderInlines","inlineMath","referenceImage","renderBlock","activeBlocks","matches","useCache","method","peerDependentsMap","loadedCache","getPeerDependentsMap","languages","language","peerDependencies","peerDependency","getPeerDependents","mainLanguage","initLoadLanguage","Prism","loadLanguages","arr","withoutDependencies","_","dependents","dependent","warn","prism","langs","loadLanguage","CAN_NEST_RULES","validateRules","getSrcAlt","SRC_REG","ALT_REG","srcMatch","altMatch","lowerPriority","_arr","rule","validateEmphasize","pending","lastChar","charAt","followedChar","ALPHA_REG","mLen","emphasizeText","tokenizerFac","pendingStartPos","pushPending","raw","beginRuleList","_i2","ruleName","parent","def","rightBracket","leftHrefMarker","rightHrefMarker","leftTitlespace","backTo","emRules","inChunk","_i3","isValid","_i4","imageTo","linkTo","rLinkTo","rImageTo","aLinkTo","htmlImageTo","rawAttr","_getSrcAlt","imageSrc","htmlEscapeTo","htmlTo","autoLTo","hardTo","tailTo","tokenizer","hasBeginRules","postTokenizer","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","generator","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","align_left","viewBox","align_right","align_center","icons_table","icons_delete","MARKER_HASK","<",">","\"","'","ICON_MAP","icon-alignright","alignRightIcon","icon-alignleft","alignLeftIcon","icon-del","deleteIcon","icon-table","tableIcon","icon-aligncenter","alignCenterIcon","getHighlightHtml","escape","renderLeafBlock","getSelector","align","checked","lang","functionType","editable","style","tokenCache","muya","contentState","codeBlocks","htmlContent","mermaid","parse","mermaidCache","diagramCache","iconSvg","aria-hidden","xlink:href","slugify","role","highlightElement","highlightedCode","PRE_BLOCK_HASH","fencecode","indentcode","frontmatter","multiplemath","flowchart","sequence","vega-lite","renderContainerBlock","toolBarType","listType","tooltip","listItemType","bulletListItemMarker","isLooseListItem","render_renderBlock","StateRender","blocks","travel","b","tokenStart","tokenEnd","checkConflicted","isActive","size","querySelectorAll","RENDER_MAP","entries","render","actions","renderer","diagram","drawSVG","JSON","_this2","newVdom","rootDom","oldVdom","renderMermaid","renderDiagram","startKey","endKey","_this3","cursorOutMostBlock","needRenderCursorBlock","newVnode","needToRemoved","firstOldDom","firstElementChild","insertAdjacentHTML","from","dom","remove","cursorDom","oldCursorVnode","newCursorVnode","checkAutoIndent","pairStr","getIndentSpace","enterCtrl","ContentState","chopBlockByCursor","newBlock","createBlock","findIndex","activeLine","getBlock","removeBlock","prependChild","newLine","chopBlock","getParent","partChildren","createRow","row","trBlock","tdBlock","preChild","column","createBlockLi","paragraphInListItem","liBlock","createBlockP","createTaskItemBlock","listItem","checkboxInListItem","enterInEmptyParagraph","isOnlyChild","isFirstChild","isLastChild","blocksInListItem","partialRender","enterHandler","_selection$getCursorR","getCursorRange","endBlock","preventDefault","startRemainText","endRemainText","removeBlocks","shiftKey","_block","newLineText","autoIndent","indent","emptyLine","repeat","_block2","brTag","getFirstBlockInNextRow","rowContainer","figure","firstInDescendant","metaKey","ctrlKey","nextRow","tBody","_getFirstBlockInNextR","_selection$getCaretOf","_selection$chopHtmlBy","chopHtmlByCursor","PREFIX","lastLine","getParagraphBlock","codeBlockUpdate","cursorBlock","preParagraphBlock","blockNeedFocus","tableNeedFocus","tableBlockUpdate","htmlNeedFocus","updateHtmlBlock","mathNeedFocus","updateMathBlock","INLINE_UPDATE_FRAGMENTS","INLINE_UPDATE_REG","updateCtrl","listItemCheckBoxClick","checkbox","toggle","checkSameLooseType","isLooseType","checkNeedRender","cStart","cEnd","textLen","_token$range2","checkInlineUpdate","_ref","slicedToArray","bullet","tasklist","blockquote","updateHr","updateList","updateTaskListItem","updateHeader","updateBlockQuote","updateToParagraph","getPreSibling","getNextSibling","wrapperTag","_this$cursor","listBlock","taskListWrapper","grandpa","_this$cursor2","bulletListWrapper","newType","quoteBlock","_this$cursor3","updateCodeBlocks","codeBlock","preBlock","backspaceCtrl","checkBackspaceCase","getSelectionStart","outMostParagraph","outBlock","findOutMostBlock","outLeft","_selection$getCaretOf2","inLeft","backspaceHandler","findNextBlockInLocation","findPreBlockInLocation","_selection$getCaretOf3","inlineDegrade","tableHasContent","tHead","tHeadHasContent","th","tBodyHasContent","td","stopPropagation","hasContent","parPre","pBlock","lineBlock","referenceBlock","deleteCtrl","deleteHandler","nextBlock","toBeRemoved","isOnlyRemoveableChild","CODE_UPDATE_REP","codeBlockCtrl","checkEditLanguage","selectLanguage","firstLine","inputBlock","history","TABLE_BLOCK_REG","tableBlockCtrl","createTableInFigure","headerTexts","rows","columns","rowBlock","cell","createFigure","figureBlock","toolBar","createToolBar","createTable","tableChecker","selectionChanges","selectionChange","initTable","rowHeader","char","tableToolBarClick","getTable","newAlign","figureKey","tableLable","_table$row","_table$column","handler","oldRow","oldColumn","headerRow","bodyRows","bodyRow","lastRow","oneRowInBody","reference","editTable","location","action","currentRow","thead","tbody","columnIndex","isHeader","tr","newRow","firstRow","preRow","headRow","tableRow","targetCell","removeCell","newColum","_cursorBlock","getTableBlock","startParents","getParents","endParents","affiliation","selectionCtrl","getTableFromTableCell","tableCellHandler","startType","endType","startTable","endTable","firstTableCell","lastTableCell","lastInDescendant","History","stack","createClass","state","renderRange","noHistory","copyState","arrowCtrl","findNextRowCell","findPrevRowCell","rowIndex","arrowHandler","_selection$getCursorY","getCursorYOffset","ArrowRight","ArrowUp","ArrowDown","activeBlock","cellInNextRow","cellInPrevRow","ArrowLeft","lastBlock","LIST_REG","LINE_BREAKS_REG","pasteCtrl","checkPasteType","fragment","fragmentType","checkCopyType","standardizeHTML","sanitizedHtml","tempWrapper","tables","tagName","replaceWith","paragraphs","span","pasteHandler","clipboardData","getData","copyType","cutHandler","appendHtml","blockText","prePartText","postPartText","textList","pendingText","lines","stateFragments","markdownToState","html2State","cacheText","firstFragment","tailFragments","pasteType","getLastBlock","listItems","firstListItem","liChildren","originListItem","originList","tail","firstFragmentTail","encode","unescape","String","fromCharCode","parseInt","regex","opt","source","self","val","gfm","breaks","pedantic","sanitizer","mangle","smartLists","silent","mathRenderer","emojiRenderer","langPrefix","smartypants","headerPrefix","xhtml","disableInline","Renderer","output","escaped","out","quote","heading","level","body","ordered","taskList","classes","startatt","listitem","loose","tablerow","tablecell","flags","codespan","br","prot","decodeURIComponent","newline","fences","nptable","lheading","orderlist","bulletlist","item","_tag","normal","Lexer","opts","links","rules","lex","bq","cap","bull","space","depth","cells","prevNext","listItemIndices","itemWithBullet","prevItem","endsWith","charCodeAt","inline","autolink","reflink","nolink","_inside","_href","InlineLexer","inLink","outputLink","ch","random","Parser","reverse","tok","peek","parseText","_this$token","_this$token2","_this$token3","_this$token4","marked","message","getSanitizeHtml","ExportHtml","validate","filename","renderHtml","githubMarkdownCss","highlightCss","katexCss","ExportMarkdown","isLooseParentList","translateBlocks2Markdown","insertLineBreak","normalizeParagraphText","normalizeHeaderText","normalizeTable","normalizeHTML","normalizeMultipleMath","normalizeContainer","insertNewLine","normalizeListItem","normalizeList","listCount","normalizeFrontMatter","normalizeCodeBlock","normalizeBlockquote","log","newIndent","diagramType","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","codeLine","codeLines","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","tableData","tHeader","columnWidth","rs","cutOff","itemMarker","listInfo","copyCutCtrl","getClipBoradData","getSelectionHtml","removedElements","hrs","inlineRuleElements","aLinks","codefense","cf","selectedCodeLines","htmlBlock","hb","mathBlock","mb","preElement","htmlData","textData","htmlToMarkdown","copyHandler","_this$getClipBoradDat","setData","generate","getCurrentLevel","Number","paragraphCtrl","cursorCoords","getCommonParent","startIndex","_this$selectionChange","startParentKeys","endParentKeys","handleFrontMatter","firstBlock","frontMatter","handleListMenu","paraType","insertMode","_this$selectionChange2","_paraType$split","_paraType$split2","blockType","isListed","itemParagraph","listItemParagraph","_this$getCommonParent","referBlock","listWrapper","handleLooseListItem","_this$selectionChange3","listContainer","handleCodeBlockMenu","_this$selectionChange4","hasFencedCodeBlockParent","delete","_this$getCommonParent2","removeCache","handleQuoteMenu","_this$selectionChange5","isBlockQuote","_this$getCommonParent3","insertContainerBlock","createContainerBlock","showTablePicker","_this4","getPositionReference","insertHtmlBlock","parentBlock","initHtmlBlock","updateParagraph","_$exec","_$exec2","hash","partText","newLevel","currentLevel","newText","oldNextSibling","newHeader","archor","hrBlock","insertParagraph","parseSelector","REG_EXP","isVoid","startsWith","tabCtrl","findNextCell","tbOrTh","isUnindentableListItem","listParent","isCollapse","isIndentableListItem","unindentListItem","newList","temp","indentListItem","prevListItem","getLastChild","insertTab","tabCharacter","tabHandler","lastWord","preText","_parseSelector","nextCell","textLength","unindentType","getOffset","_ref$range","dis","MARKER_LEN","clearFormat","deltaStart","delata","delataEnd","addFormat","oldText","formatCtrl","selectionFormats","formats","neighbors","tks","clearBlockFormat","_this$selectionFormat","_this$selectionFormat2","_this$selectionFormat3","_this$selectionFormat4","neighbor","insertImage","_this$selectionFormat5","imageFormat","f","_imageFormat$0$range","imageTitle","format","_this$selectionFormat6","currentFormats","currentNeightbors","formatType","defaultSearchOption","caseSensitive","selectHighlight","highlightIndex","searchCtrl","replaceOne","replaceValue","isSingle","_this$searchMatches","searchMatches","setCursorToHighlight","_this$searchMatches2","_this$searchMatches3","_Object$assign","FUNCTION_TYPE_LANG","containerCtrl","_this$createPreAndPre","createPreAndPreview","preview","initContainerBlock","_this$createPreAndPre2","handleContainerBlockClick","imagePathCtrl","getImageTextNode","getNode","showAutoImagePath","cb","_this$cursor$start","chop","listenForPathChange","subscribe","iconClass","HTML_BLOCK_REG","LINE_BREAKS","tools","ul","tool","toolBlock","svgBlock","createCodeInHtml","codeContainer","htmlToolBarClick","codeBlockContainer","handleHtmlBlockClick","codeWrapper","createHtmlBlock","isVoidTag","clickCtrl","clickHandler","needRender","oldBlock","needMarkedUpdate","BRACKET_HASH","{","[","(","*","inputCtrl","checkQuickInsert","inputHandler","oldStart","oldEnd","needRenderAll","inputChar","preInputChar","postInputChar","inputType","rect","checkMarkedUpdate","inlineUpdatedBlock","turndownPluginGfm","usePluginAddRules","turndownService","use","addRule","replacement","TurndownService","importRegister","rootState","parentList","_ret","_token","_ret2","_token2","_token2$lang","_token3","theadRow","headText","_token4","unshift","_token5","_token6","input","turndownConfig","turndown","addCursorToMarkdown","rawText","getCodeMirrorCursor","getBlocks","importCursor","newCode","importMarkdown","prototypes","htmlBlockCtrl","exemption","stateRender","currentCursor","prevCursor","historyTimer","fontSize","_this$history","setCursorRange","startOutMostBlock","endOutMostBlock","isRenderCursor","getActiveBlocks","setNextRenderRange","collectLabels","setCursor","_this$renderRange","needRenderBlocks","isInclude","checkerIn","checkerOut","removeTextOrBlock","findFigure","before","after","isRemoveAfter","isRecursion","beforeEnd","afterEnd","removeAfter","fromBlocks","siblings","oldPreSibling","blockList","_selection$getCursorC","clearHistory","EventCenter","events","listeners","listener","capture","checkHasBind","eventId","addEventListener","removeEvent","removeEventListener","detachDOMEvent","once","_subscribe","_len","_key","eventListener","unsubscribe","cTarget","cEvent","cListener","cCapture","_step$value","Clipboard","_copyType","_pasteType","listen","_this$muya","copyCutHandler","attachDOMEvent","execCommand","Keyboard","isComposed","shownFloat","recordIsComposed","dispatchEditorState","keydownBinding","keyupBinding","inputBinding","_this$muya2","timer","changeHandler","_contentState$selecti","dispatchChange","_this$muya3","Enter","Escape","Tab","Backspace","Delete","_this5","_this$muya4","_contentState$checkEd","_this6","_this$muya5","emojiNode","_contentState$cursor","imageTextNode","_contentState$selecti2","ClickEvent","clickBinding","toolItem","getToolItem","grandPa","markedImageText","previousElementSibling","mathRender","closest","mathText","selectionText","htmlPreview","importSelection","position","offsetWidth","Tooltip","WeakMap","mouseOver","toolTipTarget","tooltipEle","setInterval","mouseLeave","clearInterval","Muya","_this$options","getContainer","ToolTip","plugins","Plugin","pluginName","clipboard","clickEvent","keyboard","plugin","setContainer","sectionChanges","setTheme","setMarkdown","setFocusMode","getMarkdown","getWordCount","getCursor","getHistory","setHistory","newMarkdown","bool","activeElement","focus","blur","files","file","subscribeOnce","undo","redo","copyAsMarkdown","copyAsHtml","pasteAsPlainText","copy","quickInsert","destroy","codePicker","tablePicker","emojiPicker","imagePathPicker","detachAllDomEvents","originContainer","attributes","attr","defaultOptions","placement","modifiers","showArrow","BaseFloat","floatBox","popper","arrow","erd","resezeDetector","strategy","listenTo","offsetHeight","update","keydownHandler","hide","scrollHandler","themeChange","Popper","TablePicker","possibleConstructorReturn","getPrototypeOf","checkerCount","oldVnode","tableContainer","show","_this$checkerCount","_this$current","cRow","cColumn","_this$select","sRow","sColumn","tableRows","rowSelector","cellSelector","on","mouseenter","click","selectItem","tableFooter","keyup","keyupHandler","vnode","_this$select2","BaseScrollFloat","scrollElement","activeItem","createScrollElement","scrollIntoView","behavior","step","HTMLElement","direction","renderArray","activeEle","getItemElement","activeEleScrollIntoView","fileIcons","CodePicker","modes","iconClassNames","ext","getClassWithColor","iconSelector","EmojiPicker","_renderObj","renderObj","description","folder","icons_image","upload","iconhash","icon-image","ImageIcon","icon-folder","FolderIcon","icon-upload","UploadIcon","ImagePathPicker","textEle","format_strong","format_emphasis","format_code","format_image","format_link","format_strike","format_clear","icons","strongIcon","emphasisIcon","strikeIcon","codeIcon","linkIcon","imageIcon","clearIcon","FormatPicker","formatContainer","iconWrapper","itemSelector","Appvue_type_script_lang_js_","created","$nextTick","$refs","editor","lib","ui_tablePicker","ui_codePicker","ui_emojiPicker","imagePicker","ui_formatPicker","_this$editor","src_Appvue_type_script_lang_js_","component","componentNormalizer","__file","App","Vue","config","productionTip","$mount","actors","signals","getActor","alias","Actor","getActorWithAlias","setTitle","addSignal","signal","Signal","actorA","signaltype","actorB","linetype","arrowtype","isSelf","Note","actor","hasManyActors","LINETYPE","SOLID","DOTTED","ARROWTYPE","FILLED","OPEN","PLACEMENT","LEFTOF","RIGHTOF","OVER","_Users_ransixi_Documents_muya_example_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__","__proto__","parser","yy","k","v","$V0","$V1","$V2","$V3","trace","symbols_","EOF","statement","NL","participant","actor_alias","note_statement","note","over","actor_pair",",","left_of","right_of","ACTOR","LINE","DOTLINE","ARROW","OPENARROW","MESSAGE","$accept","$end","terminals_","2","5","8","9","13","15","18","20","21","22","24","27","28","29","30","31","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","3","4","1","6","7","11","12","17","10","14","23","25","16","26","19","defaultActions","37","parseError","recoverable","lexer","vstack","lstack","recovering","TERROR","args","sharedState","setInput","yylloc","yyloc","ranges","symbol","preErrorSymbol","newState","expected","yyval","errStr","showPosition","loc","first_line","last_line","first_column","last_column","_input","_more","_backtrack","matched","conditionStack","unput","substr","oldLines","more","backtrack_lexer","less","pastInput","past","upcomingInput","test_match","indexed_rule","backup","tempMatch","_currentRules","flex","begin","condition","popState","conditions","INITIAL","topState","pushState","stateStackSize","case-insensitive","yy_","$avoiding_name_collisions","YY_START","inclusive","ParseError","extend","main","exit","readFileSync","normalize","argv","DIAGRAM_MARGIN","ACTOR_MARGIN","ACTOR_PADDING","SIGNAL_MARGIN","SIGNAL_PADDING","NOTE_MARGIN","NOTE_PADDING","NOTE_OVERLAP","TITLE_MARGIN","TITLE_PADDING","SELF_SIGNAL_WIDTH","ALIGN_LEFT","ALIGN_CENTER","AssertException","assert","exp","registerTheme","themes","getCenterX","box","getCenterY","clamp","wobble","x1","y1","x2","y2","every","isFinite","factor","sqrt","r1","r2","xfactor","yfactor","toFixed","handRect","w","handLine","BaseTheme","actorsHeight_","signalsHeight_","title_","setupPaper","draw","layout","titleHeight","drawTitle","drawActors","drawSignals","font","font_","bb","textBBox","textBB","actorEnsureDistance","a","paddingRight","distances","each","extraWidth","actorsX","distance","drawTextBox","offsetY","drawActor","aX","drawLine","drawSelfSignal","drawSignal","drawNote","drawText","bX","overlap","margin","padding","drawRect","Snap","xmlns","stroke","stroke-width","fill","RECT","LOADED_FONTS","SnapTheme","resume","defaults","css-class","font-size","font-family","paper_","cssClass_","arrowTypes_","lineTypes_","that","waitForFont","callback","fontFamily","WebFont","load","custom","families","inactive","addDescription","desc","createElementNS","createTextNode","addClass","beginGroup","arrowMarkers_","path","markerWidth","createText","getBBox","pushToStack","_stack","finishGroup","g","group","selectAll","dy","arrowhead","SnapHandTheme","Raphael","fn","RaphaelTheme","setFinish","setSize","cleanText","obj_","print","paper","text-anchor","RaphaelHandTheme","getFont","registerFont","face","font-weight","font-stretch","units-per-em","panose-1","ascent","descent","x-height","bbox","underline-thickness","underline-position","unicode-range","glyphs"," ","\t","\r","!","#","%","&",")","+","-",".","/","0",":",";","=","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","\\","]","^","`","q","z","|","}","~"," ","¡","¢","£","¤","€","¥","§","¨","©","ª","«","¬","®","¯","°","±","´","¶","¸","º","»","¿","À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ñ","Ò","Ó","Ô","Õ","Ö","Ø","Ù","Ú","Û","Ü","ß","à","á","â","ã","ä","å","æ","ç","è","é","ê","ë","ì","í","î","ï","ñ","ò","ó","ô","õ","ö","÷","ø","ù","ú","û","ü","ÿ","ı","Œ","œ","Ÿ","ƒ","ˆ","ˇ","˘","˙","˚","˛","˜","˝","–","—","‘","’","‚","“","”","„","†","‡","•","…","‰","‹","›","⁄","™","∆","∙","√","∞","∫","≈","≠","≤","≥","◊","isEmpty","hand","snapHand","raphaelHand","simple","snapSimple","raphaelSimple","div","isString","getElementById","Theme","drawing","webpackEmptyContext","aa","ba","Function","now","ca","da","FontFace","cssText","documentElement","removeChild","ea","hostname","rel","media","onreadystatechange","readyState","fa","ga","ha","ia","ja","ka","fonts","race","userAgent","la","serif","ma","na","oa","qa","xa","vendor","pa","ra","sa","ta","ua","context","fontfamily","fontStyle","fontWeight","projectId","version","api","urls","testStrings","va","wa","encodeURIComponent","ya","za","latin","latin-ext","cyrillic","greek","khmer","Hanuman","Aa","thin","extralight","extra-light","ultralight","ultra-light","regular","book","medium","semi-bold","semibold","demi-bold","demibold","bold","extra-bold","extrabold","ultra-bold","ultrabold","black","heavy","Ba","italic","Ca","Da","isNaN","Ea","Fa","Arimo","Cousine","Tinos","Ga","Ha","Typekit","async","__webfontfontdeckmodule__","weight","fontdeck","monotype","typekit","google","define","WebFontConfig","factory","configurable","./dev/raphael.amd.js","devRaphaelAmdJs","eval","./dev/raphael.core.js","devRaphaelCoreJs","./dev/raphael.svg.js","devRaphaelSvgJs","./dev/raphael.vml.js","devRaphaelVmlJs","./node_modules/eve-raphael/eve.js","node_modulesEveRaphaelEveJs"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,IAAA,GAGAZ,EAAA,GAGA,SAAAa,EAAA7B,GACA,OAAAyB,EAAAK,EAAA,UAA6C9B,OAAA,KAA6B+B,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA,WAAAC,iBAAA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AA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,QACAC,aAAA,QACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UA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","file":"js/app.1384ceca.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0a2d2c\":\"910788bb\",\"chunk-2d0a2dc3\":\"493bbb16\",\"chunk-2d0a2e23\":\"8b5d28ea\",\"chunk-2d0a3149\":\"bd5f5623\",\"chunk-2d0a3325\":\"ff1c7ca0\",\"chunk-2d0a3382\":\"1d475a99\",\"chunk-2d0a429b\":\"d247f0eb\",\"chunk-2d0a43d1\":\"69842c3c\",\"chunk-2d0a4467\":\"0850a865\",\"chunk-2d0a4764\":\"210597ff\",\"chunk-2d0a4d9b\":\"4498d9ec\",\"chunk-2d0a4f5b\":\"14f6247c\",\"chunk-2d0a515e\":\"46ffe96f\",\"chunk-2d0a516f\":\"68ca6e96\",\"chunk-2d0aa8ff\":\"ea7e1890\",\"chunk-2d0aaeeb\":\"de0381a4\",\"chunk-2d0aba9c\":\"505b4415\",\"chunk-2d0abe0f\":\"f305f70f\",\"chunk-2d0ac3ad\":\"18d9322d\",\"chunk-2d0aeaf7\":\"a5553405\",\"chunk-2d0aed83\":\"195d47ff\",\"chunk-2d0aed85\":\"b25960e7\",\"chunk-2d0af14a\":\"96ab92ef\",\"chunk-2d0af48f\":\"c6edadb8\",\"chunk-2d0af67e\":\"396b57af\",\"chunk-2d0b1657\":\"f90f300e\",\"chunk-2d0b1680\":\"795cfdc0\",\"chunk-2d0b16cd\":\"603e2d24\",\"chunk-2d0b19d3\":\"cb1ae41c\",\"chunk-2d0b238b\":\"194dfa5a\",\"chunk-2d0b23f3\":\"ccccb886\",\"chunk-2d0b2758\":\"a4300283\",\"chunk-2d0b28aa\":\"094cdabe\",\"chunk-2d0b2b76\":\"b61e5a7e\",\"chunk-2d0b2ee5\":\"64cd063c\",\"chunk-2d0b2ffc\":\"923b1657\",\"chunk-2d0b3059\":\"548dd9af\",\"chunk-2d0b348d\":\"d8e7ae32\",\"chunk-2d0b34b5\":\"411cc6e5\",\"chunk-2d0b3818\":\"762f2c75\",\"chunk-2d0b5a71\":\"0909c642\",\"chunk-2d0b5fe7\":\"2e363843\",\"chunk-2d0b611c\":\"7d88274e\",\"chunk-2d0b6367\":\"0f359ea6\",\"chunk-2d0b672a\":\"713381e2\",\"chunk-2d0b6918\":\"f42dba18\",\"chunk-2d0b6e7b\":\"22d0cf24\",\"chunk-2d0b8e84\":\"c4e884b6\",\"chunk-2d0b919a\":\"f0315398\",\"chunk-2d0b9608\":\"74685ab8\",\"chunk-2d0ba198\":\"42376397\",\"chunk-2d0ba319\":\"90e19d7a\",\"chunk-2d0ba45b\":\"e90c9798\",\"chunk-2d0ba45d\":\"814641c3\",\"chunk-2d0ba4df\":\"65a23518\",\"chunk-2d0ba6bc\":\"dd81ca17\",\"chunk-2d0bd1c8\":\"c4a35251\",\"chunk-2d0bd9d5\":\"97e9bb37\",\"chunk-2d0bdb37\":\"8d344078\",\"chunk-2d0bdb3a\":\"46ba4381\",\"chunk-2d0bdb88\":\"75981b43\",\"chunk-2d0bdd3a\":\"9ac20037\",\"chunk-2d0bdd87\":\"a3cca213\",\"chunk-2d0be0fd\":\"a5bcf3cd\",\"chunk-2d0bff0d\":\"3dd1b045\",\"chunk-2d0c0845\":\"50c3cd29\",\"chunk-2d0c0847\":\"d1c75424\",\"chunk-2d0c0a27\":\"f66ad221\",\"chunk-2d0c11f8\":\"f13ba2fd\",\"chunk-2d0c1798\":\"b3f87efb\",\"chunk-2d0c17b7\":\"66a4ef57\",\"chunk-2d0c1af0\":\"466b0ad5\",\"chunk-2d0c1b1d\":\"dc2e5e9c\",\"chunk-2d0c1b6c\":\"f187492a\",\"chunk-2d0c1f2b\":\"ac41f55f\",\"chunk-2d0c211c\":\"20f4cdb6\",\"chunk-2d0c2304\":\"b57cdd8d\",\"chunk-2d0c2339\":\"8084abea\",\"chunk-2d0c266c\":\"2ca4c69c\",\"chunk-2d0c4351\":\"3e3b1b28\",\"chunk-2d0c4e48\":\"ef42d976\",\"chunk-2d0c4f7a\":\"2c1d40af\",\"chunk-2d0c51b6\":\"ecb0a9af\",\"chunk-2d0c55b8\":\"0aeb3628\",\"chunk-2d0c5738\":\"6c9b426c\",\"chunk-2d0c5797\":\"530b2441\",\"chunk-2d0c7a85\":\"68fef00e\",\"chunk-2d0c7e3b\":\"301e4725\",\"chunk-2d0c859f\":\"bed4708d\",\"chunk-2d0c85b7\":\"898ec51a\",\"chunk-2d0c8609\":\"19709eed\",\"chunk-2d0c8627\":\"b5025869\",\"chunk-2d0c89d8\":\"d8eb3cb7\",\"chunk-2d0c8a12\":\"e49c6e82\",\"chunk-2d0c8a19\":\"657c1438\",\"chunk-2d0c8a80\":\"39c74dce\",\"chunk-2d0c9101\":\"9f6fdf2e\",\"chunk-2d0c9727\":\"aefbd97b\",\"chunk-2d0cba65\":\"981525d9\",\"chunk-2d0cc5c9\":\"05c2e0b3\",\"chunk-2d0ccc23\":\"22c6d986\",\"chunk-2d0ce735\":\"51a6e167\",\"chunk-2d0cebfe\":\"d6930574\",\"chunk-2d0cedec\":\"90f106d1\",\"chunk-2d0cf2e7\":\"74d8f3e2\",\"chunk-2d0cf38d\":\"dbd3c2a8\",\"chunk-2d0cf4d2\":\"9b930302\",\"chunk-2d0cf6a6\":\"1c6f2e15\",\"chunk-2d0cf6c6\":\"c14563e7\",\"chunk-2d0cfcc0\":\"1521837d\",\"chunk-2d0cfece\":\"5591baa0\",\"chunk-2d0cfedf\":\"f460a2ce\",\"chunk-2d0d05aa\":\"153ab5a1\",\"chunk-2d0d094b\":\"a2c982bb\",\"chunk-2d0d32c9\":\"ba817350\",\"chunk-2d0d3682\":\"662b0750\",\"chunk-2d0d38e5\":\"6750fb85\",\"chunk-2d0d39c7\":\"9c544b1d\",\"chunk-2d0d3a05\":\"5abe2ab9\",\"chunk-2d0d5f8e\":\"6c6c44db\",\"chunk-2d0d6383\":\"d37f7a79\",\"chunk-2d0d6412\":\"7bc23437\",\"chunk-2d0d6722\":\"a60f6154\",\"chunk-2d0d6970\":\"940e96b0\",\"chunk-2d0d6e54\":\"3d23ba21\",\"chunk-2d0d6e86\":\"50393cd2\",\"chunk-2d0d6ef4\":\"d35e64a1\",\"chunk-2d0d708b\":\"03d64ba3\",\"chunk-2d0d725b\":\"5abc88c4\",\"chunk-2d0d72f4\":\"5f1ca23d\",\"chunk-2d0d732c\":\"77129d55\",\"chunk-2d0d7633\":\"d4170312\",\"chunk-2d0d800b\":\"4507e350\",\"chunk-2d0da3b0\":\"62cf4337\",\"chunk-2d0da764\":\"dec7f100\",\"chunk-2d0daa64\":\"357267de\",\"chunk-2d0dad12\":\"2ebcc6ca\",\"chunk-2d0daea8\":\"3f286624\",\"chunk-2d0daedf\":\"6767e5fe\",\"chunk-2d0db832\":\"2cd3a378\",\"chunk-2d0dcff1\":\"d63faa64\",\"chunk-2d0dd3d3\":\"36b6f4f4\",\"chunk-2d0dd61c\":\"b5d6433d\",\"chunk-2d0ddb85\":\"ce33b23a\",\"chunk-2d0ddc21\":\"3bde990d\",\"chunk-2d0dddc5\":\"64678d3f\",\"chunk-2d0ddf80\":\"53c144de\",\"chunk-2d0ddfb2\":\"bdeba52f\",\"chunk-2d0ddfb5\":\"372116f1\",\"chunk-2d0ddfed\":\"cff1af2e\",\"chunk-2d0de186\":\"c394f879\",\"chunk-2d0de1bd\":\"3ced5972\",\"chunk-2d0de304\":\"48f1a453\",\"chunk-2d0de543\":\"298da3ed\",\"chunk-2d0de6a7\":\"422aa048\",\"chunk-2d0dee3d\":\"8391b35b\",\"chunk-2d0deea7\":\"9a5394e5\",\"chunk-2d0df048\":\"cce413ca\",\"chunk-2d0df1bf\":\"ce58addf\",\"chunk-2d0df462\":\"241203c8\",\"chunk-2d0df464\":\"66066a6f\",\"chunk-2d0e1d82\":\"29923445\",\"chunk-2d0e22b6\":\"a0ddb9d5\",\"chunk-2d0e22d5\":\"c4d40224\",\"chunk-2d0e23a0\":\"8c32dfdf\",\"chunk-2d0e252f\":\"7252eb3b\",\"chunk-2d0e2711\":\"c7f8f33a\",\"chunk-2d0e2c99\":\"0ababa06\",\"chunk-2d0e502d\":\"f4c434d5\",\"chunk-2d0e506c\":\"9456edbd\",\"chunk-2d0e526c\":\"9ed3d787\",\"chunk-2d0e55b3\":\"868d9965\",\"chunk-2d0e59be\":\"3b6f5453\",\"chunk-2d0e6174\":\"ab8a5f08\",\"chunk-2d0e6256\":\"f377f12f\",\"chunk-2d0e62e3\":\"2f877dec\",\"chunk-2d0e64c3\":\"9dafc6e5\",\"chunk-2d0e665d\":\"6c998028\",\"chunk-2d0e6724\":\"bd4e7a92\",\"chunk-2d0e6863\":\"1388e306\",\"chunk-2d0e6884\":\"ff911383\",\"chunk-2d0e8bc1\":\"ab33a056\",\"chunk-2d0e8fe0\":\"0735ccf3\",\"chunk-2d0e9079\":\"f8ae38f7\",\"chunk-2d0e9404\":\"a49b02ab\",\"chunk-2d0e9586\":\"d50676ad\",\"chunk-2d0e97f1\":\"1216d9f7\",\"chunk-2d0ea141\":\"1bc1344f\",\"chunk-2d0efc80\":\"b51e13ef\",\"chunk-2d0efd59\":\"3de5bc63\",\"chunk-2d0f0054\":\"713e0996\",\"chunk-2d0f04bd\":\"ec445382\",\"chunk-2d0f04dc\":\"463a76fc\",\"chunk-2d0f06a0\":\"a9585862\",\"chunk-2d0f0f27\":\"ecf78297\",\"chunk-2d0f0f60\":\"20c7dad1\",\"chunk-2d0f102e\":\"64f06c87\",\"chunk-2d207795\":\"aeea73b8\",\"chunk-2d208327\":\"d4c8c05a\",\"chunk-2d208340\":\"3a3028ab\",\"chunk-2d208376\":\"2607d0d7\",\"chunk-2d2084ac\":\"cb9421ac\",\"chunk-2d2089ad\":\"e4ccb857\",\"chunk-2d208a4a\":\"5843bb55\",\"chunk-2d208e2b\":\"90bd31ee\",\"chunk-2d2091fd\":\"a36728e0\",\"chunk-2d2094f0\":\"aa1a6b74\",\"chunk-2d209560\":\"f79012ab\",\"chunk-2d20e7e1\":\"353cdb33\",\"chunk-2d20e8d1\":\"241ccbc5\",\"chunk-2d20ec31\":\"4f74d72e\",\"chunk-2d20f15a\":\"7c326999\",\"chunk-2d20f8fd\":\"6e0c3b2f\",\"chunk-2d20fcfb\":\"2d39296d\",\"chunk-2d2100b8\":\"67c5e6fe\",\"chunk-2d21046c\":\"eff789ac\",\"chunk-2d21080b\":\"12503def\",\"chunk-2d2109dd\":\"3831df34\",\"chunk-2d210c48\":\"2595ae78\",\"chunk-2d212fe5\":\"feb409c7\",\"chunk-2d2138bc\":\"421b36a4\",\"chunk-2d21392b\":\"b37aa6f8\",\"chunk-2d213a22\":\"d1af9cb6\",\"chunk-2d213aca\":\"79386062\",\"chunk-2d213c6e\":\"56d28da2\",\"chunk-2d213cab\":\"6bd08506\",\"chunk-2d21636d\":\"98c09a5d\",\"chunk-2d21641f\":\"b793dd19\",\"chunk-2d2167e2\":\"532073b8\",\"chunk-2d2169f8\":\"96140f01\",\"chunk-2d216eec\":\"c9871210\",\"chunk-2d21711d\":\"b2a9a355\",\"chunk-2d217349\":\"709aa3ec\",\"chunk-2d217688\":\"d7069526\",\"chunk-2d2176ca\":\"6b287b46\",\"chunk-2d217a50\":\"7c463812\",\"chunk-2d218058\":\"9a252559\",\"chunk-2d219fca\":\"b720d260\",\"chunk-2d21a37a\":\"8f9c3e6a\",\"chunk-2d21a76b\":\"c870f720\",\"chunk-2d21a7f6\":\"bb35a149\",\"chunk-2d21aabb\":\"d5255b4e\",\"chunk-2d21ab28\":\"05837b58\",\"chunk-2d21ad5a\":\"92d68877\",\"chunk-2d21aead\":\"1b24ab13\",\"chunk-2d21b487\":\"bc2e7d2f\",\"chunk-2d21b87d\":\"45ab308d\",\"chunk-2d21d0fd\":\"ff8c28ba\",\"chunk-2d21dbe3\":\"9475d637\",\"chunk-2d21dc0a\":\"687e6fc0\",\"chunk-2d21dc40\":\"f6b49456\",\"chunk-2d21dde8\":\"83b4b7c9\",\"chunk-2d21df6a\":\"bdb8da89\",\"chunk-2d21e17b\":\"6d2aad67\",\"chunk-2d21e567\":\"9ba7c0b7\",\"chunk-2d21e5c4\":\"f8600bf4\",\"chunk-2d21ea8f\":\"2a7fd52b\",\"chunk-2d21ecf8\":\"d66dbb10\",\"chunk-2d21ecf9\":\"103e8aec\",\"chunk-2d21ef97\":\"2b588c04\",\"chunk-2d21f355\":\"f04a2945\",\"chunk-2d21f458\":\"5f25b14b\",\"chunk-2d2218c0\":\"c3e17be8\",\"chunk-2d221a61\":\"1aec9638\",\"chunk-2d2225b7\":\"4c39a3b1\",\"chunk-2d22270a\":\"ca884125\",\"chunk-2d2248c2\":\"ca7b9335\",\"chunk-2d224930\":\"5138bae3\",\"chunk-2d224d3e\":\"07b5e23b\",\"chunk-2d2250d1\":\"bf3489ea\",\"chunk-2d2255d9\":\"22fe4fb6\",\"chunk-2d225823\":\"999f37f2\",\"chunk-2d225836\":\"a4a75f15\",\"chunk-2d225dbb\":\"10b5f17c\",\"chunk-2d225f2e\":\"d958795c\",\"chunk-2d2263d5\":\"2a3ce97b\",\"chunk-2d226516\":\"e6a31248\",\"chunk-2d226538\":\"18c2cac9\",\"chunk-2d22672b\":\"b4fdca1b\",\"chunk-2d22692b\":\"1b375bea\",\"chunk-2d226967\":\"c86fe898\",\"chunk-2d2288c3\":\"b8bb89e0\",\"chunk-2d228bf5\":\"c5c5047c\",\"chunk-2d228e67\":\"bc791d52\",\"chunk-2d229457\":\"694a6e30\",\"chunk-2d22a11c\":\"8ace2409\",\"chunk-2d22b973\":\"23d877ea\",\"chunk-2d22b9dc\":\"21f38ac3\",\"chunk-2d22c302\":\"a86b8ea9\",\"chunk-2d22c8f4\":\"b89c3104\",\"chunk-2d22d0a4\":\"0643eb4a\",\"chunk-2d22d1b9\":\"0d1b24e9\",\"chunk-2d22d239\":\"cecdf3ef\",\"chunk-2d22db84\":\"61ca3c87\",\"chunk-2d22fd11\":\"1bcca7d4\",\"chunk-2d22fd25\":\"734f4369\",\"chunk-2d2304b3\":\"2b63379e\",\"chunk-2d230bc7\":\"4a449a1d\",\"chunk-2d230c58\":\"700a852b\",\"chunk-2d230df5\":\"297d28f5\",\"chunk-2d23106f\":\"f4adfb36\",\"chunk-2d231223\":\"78091602\",\"chunk-2d23758c\":\"e91b63cc\",\"chunk-2d237ca4\":\"f73664c0\",\"chunk-2d2380d1\":\"1b0c6a20\",\"chunk-744d890d\":\"caf0118d\",\"chunk-74b0191d\":\"295730d1\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/muya-example/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var map = {\n\t\"./prism-abap\": [\n\t\t\"3f6e\",\n\t\t\"chunk-2d0c55b8\"\n\t],\n\t\"./prism-abap.js\": [\n\t\t\"3f6e\",\n\t\t\"chunk-2d0c55b8\"\n\t],\n\t\"./prism-abap.min\": [\n\t\t\"83f2\",\n\t\t\"chunk-2d0de1bd\"\n\t],\n\t\"./prism-abap.min.js\": [\n\t\t\"83f2\",\n\t\t\"chunk-2d0de1bd\"\n\t],\n\t\"./prism-actionscript\": [\n\t\t\"46af\",\n\t\t\"chunk-2d0c1b1d\"\n\t],\n\t\"./prism-actionscript.js\": [\n\t\t\"46af\",\n\t\t\"chunk-2d0c1b1d\"\n\t],\n\t\"./prism-actionscript.min\": [\n\t\t\"432d\",\n\t\t\"chunk-2d0c0a27\"\n\t],\n\t\"./prism-actionscript.min.js\": [\n\t\t\"432d\",\n\t\t\"chunk-2d0c0a27\"\n\t],\n\t\"./prism-ada\": [\n\t\t\"c526\",\n\t\t\"chunk-2d216eec\"\n\t],\n\t\"./prism-ada.js\": [\n\t\t\"c526\",\n\t\t\"chunk-2d216eec\"\n\t],\n\t\"./prism-ada.min\": [\n\t\t\"250a\",\n\t\t\"chunk-2d0b28aa\"\n\t],\n\t\"./prism-ada.min.js\": [\n\t\t\"250a\",\n\t\t\"chunk-2d0b28aa\"\n\t],\n\t\"./prism-apacheconf\": [\n\t\t\"3ec3\",\n\t\t\"chunk-2d0c5738\"\n\t],\n\t\"./prism-apacheconf.js\": [\n\t\t\"3ec3\",\n\t\t\"chunk-2d0c5738\"\n\t],\n\t\"./prism-apacheconf.min\": [\n\t\t\"ea3f\",\n\t\t\"chunk-2d22fd25\"\n\t],\n\t\"./prism-apacheconf.min.js\": [\n\t\t\"ea3f\",\n\t\t\"chunk-2d22fd25\"\n\t],\n\t\"./prism-apl\": [\n\t\t\"fb71\",\n\t\t\"chunk-2d23758c\"\n\t],\n\t\"./prism-apl.js\": [\n\t\t\"fb71\",\n\t\t\"chunk-2d23758c\"\n\t],\n\t\"./prism-apl.min\": [\n\t\t\"ae08\",\n\t\t\"chunk-2d213a22\"\n\t],\n\t\"./prism-apl.min.js\": [\n\t\t\"ae08\",\n\t\t\"chunk-2d213a22\"\n\t],\n\t\"./prism-applescript\": [\n\t\t\"d4ab\",\n\t\t\"chunk-2d21e567\"\n\t],\n\t\"./prism-applescript.js\": [\n\t\t\"d4ab\",\n\t\t\"chunk-2d21e567\"\n\t],\n\t\"./prism-applescript.min\": [\n\t\t\"013e\",\n\t\t\"chunk-2d0a3149\"\n\t],\n\t\"./prism-applescript.min.js\": [\n\t\t\"013e\",\n\t\t\"chunk-2d0a3149\"\n\t],\n\t\"./prism-arduino\": [\n\t\t\"3749\",\n\t\t\"chunk-2d0ba4df\"\n\t],\n\t\"./prism-arduino.js\": [\n\t\t\"3749\",\n\t\t\"chunk-2d0ba4df\"\n\t],\n\t\"./prism-arduino.min\": [\n\t\t\"b93c\",\n\t\t\"chunk-2d2109dd\"\n\t],\n\t\"./prism-arduino.min.js\": [\n\t\t\"b93c\",\n\t\t\"chunk-2d2109dd\"\n\t],\n\t\"./prism-arff\": [\n\t\t\"8c91\",\n\t\t\"chunk-2d0e9079\"\n\t],\n\t\"./prism-arff.js\": [\n\t\t\"8c91\",\n\t\t\"chunk-2d0e9079\"\n\t],\n\t\"./prism-arff.min\": [\n\t\t\"d706\",\n\t\t\"chunk-2d21ea8f\"\n\t],\n\t\"./prism-arff.min.js\": [\n\t\t\"d706\",\n\t\t\"chunk-2d21ea8f\"\n\t],\n\t\"./prism-asciidoc\": [\n\t\t\"b09f\",\n\t\t\"chunk-2d20e8d1\"\n\t],\n\t\"./prism-asciidoc.js\": [\n\t\t\"b09f\",\n\t\t\"chunk-2d20e8d1\"\n\t],\n\t\"./prism-asciidoc.min\": [\n\t\t\"997e\",\n\t\t\"chunk-2d0e6724\"\n\t],\n\t\"./prism-asciidoc.min.js\": [\n\t\t\"997e\",\n\t\t\"chunk-2d0e6724\"\n\t],\n\t\"./prism-asm6502\": [\n\t\t\"668a\",\n\t\t\"chunk-2d0cfedf\"\n\t],\n\t\"./prism-asm6502.js\": [\n\t\t\"668a\",\n\t\t\"chunk-2d0cfedf\"\n\t],\n\t\"./prism-asm6502.min\": [\n\t\t\"bccf\",\n\t\t\"chunk-2d21ad5a\"\n\t],\n\t\"./prism-asm6502.min.js\": [\n\t\t\"bccf\",\n\t\t\"chunk-2d21ad5a\"\n\t],\n\t\"./prism-aspnet\": [\n\t\t\"a602\",\n\t\t\"chunk-2d2089ad\"\n\t],\n\t\"./prism-aspnet.js\": [\n\t\t\"a602\",\n\t\t\"chunk-2d2089ad\"\n\t],\n\t\"./prism-aspnet.min\": [\n\t\t\"2092\",\n\t\t\"chunk-2d0b16cd\"\n\t],\n\t\"./prism-aspnet.min.js\": [\n\t\t\"2092\",\n\t\t\"chunk-2d0b16cd\"\n\t],\n\t\"./prism-autohotkey\": [\n\t\t\"7e1b\",\n\t\t\"chunk-2d0e22d5\"\n\t],\n\t\"./prism-autohotkey.js\": [\n\t\t\"7e1b\",\n\t\t\"chunk-2d0e22d5\"\n\t],\n\t\"./prism-autohotkey.min\": [\n\t\t\"5661\",\n\t\t\"chunk-2d0c8a12\"\n\t],\n\t\"./prism-autohotkey.min.js\": [\n\t\t\"5661\",\n\t\t\"chunk-2d0c8a12\"\n\t],\n\t\"./prism-autoit\": [\n\t\t\"0e59\",\n\t\t\"chunk-2d0af48f\"\n\t],\n\t\"./prism-autoit.js\": [\n\t\t\"0e59\",\n\t\t\"chunk-2d0af48f\"\n\t],\n\t\"./prism-autoit.min\": [\n\t\t\"9bef\",\n\t\t\"chunk-2d0f06a0\"\n\t],\n\t\"./prism-autoit.min.js\": [\n\t\t\"9bef\",\n\t\t\"chunk-2d0f06a0\"\n\t],\n\t\"./prism-bash\": [\n\t\t\"dac7\",\n\t\t\"chunk-2d228e67\"\n\t],\n\t\"./prism-bash.js\": [\n\t\t\"dac7\",\n\t\t\"chunk-2d228e67\"\n\t],\n\t\"./prism-bash.min\": [\n\t\t\"5d41\",\n\t\t\"chunk-2d0d3682\"\n\t],\n\t\"./prism-bash.min.js\": [\n\t\t\"5d41\",\n\t\t\"chunk-2d0d3682\"\n\t],\n\t\"./prism-basic\": [\n\t\t\"e728\",\n\t\t\"chunk-2d225f2e\"\n\t],\n\t\"./prism-basic.js\": [\n\t\t\"e728\",\n\t\t\"chunk-2d225f2e\"\n\t],\n\t\"./prism-basic.min\": [\n\t\t\"7628\",\n\t\t\"chunk-2d0d725b\"\n\t],\n\t\"./prism-basic.min.js\": [\n\t\t\"7628\",\n\t\t\"chunk-2d0d725b\"\n\t],\n\t\"./prism-batch\": [\n\t\t\"36ad\",\n\t\t\"chunk-2d0ba6bc\"\n\t],\n\t\"./prism-batch.js\": [\n\t\t\"36ad\",\n\t\t\"chunk-2d0ba6bc\"\n\t],\n\t\"./prism-batch.min\": [\n\t\t\"314d\",\n\t\t\"chunk-2d0b8e84\"\n\t],\n\t\"./prism-batch.min.js\": [\n\t\t\"314d\",\n\t\t\"chunk-2d0b8e84\"\n\t],\n\t\"./prism-bison\": [\n\t\t\"72cb\",\n\t\t\"chunk-2d0d6970\"\n\t],\n\t\"./prism-bison.js\": [\n\t\t\"72cb\",\n\t\t\"chunk-2d0d6970\"\n\t],\n\t\"./prism-bison.min\": [\n\t\t\"da3c\",\n\t\t\"chunk-2d2288c3\"\n\t],\n\t\"./prism-bison.min.js\": [\n\t\t\"da3c\",\n\t\t\"chunk-2d2288c3\"\n\t],\n\t\"./prism-brainfuck\": [\n\t\t\"46e9\",\n\t\t\"chunk-2d0c1b6c\"\n\t],\n\t\"./prism-brainfuck.js\": [\n\t\t\"46e9\",\n\t\t\"chunk-2d0c1b6c\"\n\t],\n\t\"./prism-brainfuck.min\": [\n\t\t\"e133\",\n\t\t\"chunk-2d2248c2\"\n\t],\n\t\"./prism-brainfuck.min.js\": [\n\t\t\"e133\",\n\t\t\"chunk-2d2248c2\"\n\t],\n\t\"./prism-bro\": [\n\t\t\"8469\",\n\t\t\"chunk-2d0ddfb5\"\n\t],\n\t\"./prism-bro.js\": [\n\t\t\"8469\",\n\t\t\"chunk-2d0ddfb5\"\n\t],\n\t\"./prism-bro.min\": [\n\t\t\"2731\",\n\t\t\"chunk-2d0b3059\"\n\t],\n\t\"./prism-bro.min.js\": [\n\t\t\"2731\",\n\t\t\"chunk-2d0b3059\"\n\t],\n\t\"./prism-c\": [\n\t\t\"831e\",\n\t\t\"chunk-2d0ddb85\"\n\t],\n\t\"./prism-c.js\": [\n\t\t\"831e\",\n\t\t\"chunk-2d0ddb85\"\n\t],\n\t\"./prism-c.min\": [\n\t\t\"17fbe\",\n\t\t\"chunk-744d890d\"\n\t],\n\t\"./prism-c.min.js\": [\n\t\t\"17fbe\",\n\t\t\"chunk-744d890d\"\n\t],\n\t\"./prism-clike\": [\n\t\t\"74a9\",\n\t\t\"chunk-2d0d708b\"\n\t],\n\t\"./prism-clike.js\": [\n\t\t\"74a9\",\n\t\t\"chunk-2d0d708b\"\n\t],\n\t\"./prism-clike.min\": [\n\t\t\"285f\",\n\t\t\"chunk-2d0b348d\"\n\t],\n\t\"./prism-clike.min.js\": [\n\t\t\"285f\",\n\t\t\"chunk-2d0b348d\"\n\t],\n\t\"./prism-clojure\": [\n\t\t\"41b4\",\n\t\t\"chunk-2d0c0845\"\n\t],\n\t\"./prism-clojure.js\": [\n\t\t\"41b4\",\n\t\t\"chunk-2d0c0845\"\n\t],\n\t\"./prism-clojure.min\": [\n\t\t\"3e4b\",\n\t\t\"chunk-2d0c51b6\"\n\t],\n\t\"./prism-clojure.min.js\": [\n\t\t\"3e4b\",\n\t\t\"chunk-2d0c51b6\"\n\t],\n\t\"./prism-coffeescript\": [\n\t\t\"d89f\",\n\t\t\"chunk-2d21ef97\"\n\t],\n\t\"./prism-coffeescript.js\": [\n\t\t\"d89f\",\n\t\t\"chunk-2d21ef97\"\n\t],\n\t\"./prism-coffeescript.min\": [\n\t\t\"83d9\",\n\t\t\"chunk-2d0de186\"\n\t],\n\t\"./prism-coffeescript.min.js\": [\n\t\t\"83d9\",\n\t\t\"chunk-2d0de186\"\n\t],\n\t\"./prism-core\": [\n\t\t\"9352\",\n\t\t\"chunk-2d0e502d\"\n\t],\n\t\"./prism-core.js\": [\n\t\t\"9352\",\n\t\t\"chunk-2d0e502d\"\n\t],\n\t\"./prism-core.min\": [\n\t\t\"ba1f\",\n\t\t\"chunk-2d219fca\"\n\t],\n\t\"./prism-core.min.js\": [\n\t\t\"ba1f\",\n\t\t\"chunk-2d219fca\"\n\t],\n\t\"./prism-cpp\": [\n\t\t\"334f\",\n\t\t\"chunk-2d0b9608\"\n\t],\n\t\"./prism-cpp.js\": [\n\t\t\"334f\",\n\t\t\"chunk-2d0b9608\"\n\t],\n\t\"./prism-cpp.min\": [\n\t\t\"4e35\",\n\t\t\"chunk-2d0cc5c9\"\n\t],\n\t\"./prism-cpp.min.js\": [\n\t\t\"4e35\",\n\t\t\"chunk-2d0cc5c9\"\n\t],\n\t\"./prism-crystal\": [\n\t\t\"9a24\",\n\t\t\"chunk-2d0efc80\"\n\t],\n\t\"./prism-crystal.js\": [\n\t\t\"9a24\",\n\t\t\"chunk-2d0efc80\"\n\t],\n\t\"./prism-crystal.min\": [\n\t\t\"d3a7\",\n\t\t\"chunk-2d21e17b\"\n\t],\n\t\"./prism-crystal.min.js\": [\n\t\t\"d3a7\",\n\t\t\"chunk-2d21e17b\"\n\t],\n\t\"./prism-csharp\": [\n\t\t\"682d\",\n\t\t\"chunk-2d0d05aa\"\n\t],\n\t\"./prism-csharp.js\": [\n\t\t\"682d\",\n\t\t\"chunk-2d0d05aa\"\n\t],\n\t\"./prism-csharp.min\": [\n\t\t\"5c49\",\n\t\t\"chunk-2d0d32c9\"\n\t],\n\t\"./prism-csharp.min.js\": [\n\t\t\"5c49\",\n\t\t\"chunk-2d0d32c9\"\n\t],\n\t\"./prism-csp\": [\n\t\t\"691c\",\n\t\t\"chunk-2d0d094b\"\n\t],\n\t\"./prism-csp.js\": [\n\t\t\"691c\",\n\t\t\"chunk-2d0d094b\"\n\t],\n\t\"./prism-csp.min\": [\n\t\t\"e8fd\",\n\t\t\"chunk-2d226967\"\n\t],\n\t\"./prism-csp.min.js\": [\n\t\t\"e8fd\",\n\t\t\"chunk-2d226967\"\n\t],\n\t\"./prism-css\": [\n\t\t\"0c93\",\n\t\t\"chunk-2d0aed83\"\n\t],\n\t\"./prism-css-extras\": [\n\t\t\"c731\",\n\t\t\"chunk-2d217688\"\n\t],\n\t\"./prism-css-extras.js\": [\n\t\t\"c731\",\n\t\t\"chunk-2d217688\"\n\t],\n\t\"./prism-css-extras.min\": [\n\t\t\"47e7\",\n\t\t\"chunk-2d0c1f2b\"\n\t],\n\t\"./prism-css-extras.min.js\": [\n\t\t\"47e7\",\n\t\t\"chunk-2d0c1f2b\"\n\t],\n\t\"./prism-css.js\": [\n\t\t\"0c93\",\n\t\t\"chunk-2d0aed83\"\n\t],\n\t\"./prism-css.min\": [\n\t\t\"3703\",\n\t\t\"chunk-2d0ba45d\"\n\t],\n\t\"./prism-css.min.js\": [\n\t\t\"3703\",\n\t\t\"chunk-2d0ba45d\"\n\t],\n\t\"./prism-d\": [\n\t\t\"c2f9\",\n\t\t\"chunk-2d2169f8\"\n\t],\n\t\"./prism-d.js\": [\n\t\t\"c2f9\",\n\t\t\"chunk-2d2169f8\"\n\t],\n\t\"./prism-d.min\": [\n\t\t\"7690\",\n\t\t\"chunk-2d0d732c\"\n\t],\n\t\"./prism-d.min.js\": [\n\t\t\"7690\",\n\t\t\"chunk-2d0d732c\"\n\t],\n\t\"./prism-dart\": [\n\t\t\"e294\",\n\t\t\"chunk-2d224d3e\"\n\t],\n\t\"./prism-dart.js\": [\n\t\t\"e294\",\n\t\t\"chunk-2d224d3e\"\n\t],\n\t\"./prism-dart.min\": [\n\t\t\"c260\",\n\t\t\"chunk-2d21641f\"\n\t],\n\t\"./prism-dart.min.js\": [\n\t\t\"c260\",\n\t\t\"chunk-2d21641f\"\n\t],\n\t\"./prism-diff\": [\n\t\t\"6d00\",\n\t\t\"chunk-2d0daa64\"\n\t],\n\t\"./prism-diff.js\": [\n\t\t\"6d00\",\n\t\t\"chunk-2d0daa64\"\n\t],\n\t\"./prism-diff.min\": [\n\t\t\"45dd\",\n\t\t\"chunk-2d0c17b7\"\n\t],\n\t\"./prism-diff.min.js\": [\n\t\t\"45dd\",\n\t\t\"chunk-2d0c17b7\"\n\t],\n\t\"./prism-django\": [\n\t\t\"750b\",\n\t\t\"chunk-2d0d6e86\"\n\t],\n\t\"./prism-django.js\": [\n\t\t\"750b\",\n\t\t\"chunk-2d0d6e86\"\n\t],\n\t\"./prism-django.min\": [\n\t\t\"acf9\",\n\t\t\"chunk-2d21392b\"\n\t],\n\t\"./prism-django.min.js\": [\n\t\t\"acf9\",\n\t\t\"chunk-2d21392b\"\n\t],\n\t\"./prism-docker\": [\n\t\t\"e55e\",\n\t\t\"chunk-2d225836\"\n\t],\n\t\"./prism-docker.js\": [\n\t\t\"e55e\",\n\t\t\"chunk-2d225836\"\n\t],\n\t\"./prism-docker.min\": [\n\t\t\"d4db\",\n\t\t\"chunk-2d21e5c4\"\n\t],\n\t\"./prism-docker.min.js\": [\n\t\t\"d4db\",\n\t\t\"chunk-2d21e5c4\"\n\t],\n\t\"./prism-eiffel\": [\n\t\t\"2cb5\",\n\t\t\"chunk-2d0bdb3a\"\n\t],\n\t\"./prism-eiffel.js\": [\n\t\t\"2cb5\",\n\t\t\"chunk-2d0bdb3a\"\n\t],\n\t\"./prism-eiffel.min\": [\n\t\t\"d349\",\n\t\t\"chunk-2d21dc0a\"\n\t],\n\t\"./prism-eiffel.min.js\": [\n\t\t\"d349\",\n\t\t\"chunk-2d21dc0a\"\n\t],\n\t\"./prism-elixir\": [\n\t\t\"8003\",\n\t\t\"chunk-2d0dcff1\"\n\t],\n\t\"./prism-elixir.js\": [\n\t\t\"8003\",\n\t\t\"chunk-2d0dcff1\"\n\t],\n\t\"./prism-elixir.min\": [\n\t\t\"2131\",\n\t\t\"chunk-2d0b19d3\"\n\t],\n\t\"./prism-elixir.min.js\": [\n\t\t\"2131\",\n\t\t\"chunk-2d0b19d3\"\n\t],\n\t\"./prism-elm\": [\n\t\t\"08cc\",\n\t\t\"chunk-2d0a515e\"\n\t],\n\t\"./prism-elm.js\": [\n\t\t\"08cc\",\n\t\t\"chunk-2d0a515e\"\n\t],\n\t\"./prism-elm.min\": [\n\t\t\"e967\",\n\t\t\"chunk-2d22672b\"\n\t],\n\t\"./prism-elm.min.js\": [\n\t\t\"e967\",\n\t\t\"chunk-2d22672b\"\n\t],\n\t\"./prism-erb\": [\n\t\t\"64f2\",\n\t\t\"chunk-2d0cfcc0\"\n\t],\n\t\"./prism-erb.js\": [\n\t\t\"64f2\",\n\t\t\"chunk-2d0cfcc0\"\n\t],\n\t\"./prism-erb.min\": [\n\t\t\"7e0b\",\n\t\t\"chunk-2d0e22b6\"\n\t],\n\t\"./prism-erb.min.js\": [\n\t\t\"7e0b\",\n\t\t\"chunk-2d0e22b6\"\n\t],\n\t\"./prism-erlang\": [\n\t\t\"4b23\",\n\t\t\"chunk-2d0cba65\"\n\t],\n\t\"./prism-erlang.js\": [\n\t\t\"4b23\",\n\t\t\"chunk-2d0cba65\"\n\t],\n\t\"./prism-erlang.min\": [\n\t\t\"bc2f\",\n\t\t\"chunk-2d21a76b\"\n\t],\n\t\"./prism-erlang.min.js\": [\n\t\t\"bc2f\",\n\t\t\"chunk-2d21a76b\"\n\t],\n\t\"./prism-flow\": [\n\t\t\"5509\",\n\t\t\"chunk-2d0c859f\"\n\t],\n\t\"./prism-flow.js\": [\n\t\t\"5509\",\n\t\t\"chunk-2d0c859f\"\n\t],\n\t\"./prism-flow.min\": [\n\t\t\"49c4\",\n\t\t\"chunk-2d0c266c\"\n\t],\n\t\"./prism-flow.min.js\": [\n\t\t\"49c4\",\n\t\t\"chunk-2d0c266c\"\n\t],\n\t\"./prism-fortran\": [\n\t\t\"7120\",\n\t\t\"chunk-2d0d5f8e\"\n\t],\n\t\"./prism-fortran.js\": [\n\t\t\"7120\",\n\t\t\"chunk-2d0d5f8e\"\n\t],\n\t\"./prism-fortran.min\": [\n\t\t\"f5a5\",\n\t\t\"chunk-2d22d1b9\"\n\t],\n\t\"./prism-fortran.min.js\": [\n\t\t\"f5a5\",\n\t\t\"chunk-2d22d1b9\"\n\t],\n\t\"./prism-fsharp\": [\n\t\t\"45cd\",\n\t\t\"chunk-2d0c1798\"\n\t],\n\t\"./prism-fsharp.js\": [\n\t\t\"45cd\",\n\t\t\"chunk-2d0c1798\"\n\t],\n\t\"./prism-fsharp.min\": [\n\t\t\"860c\",\n\t\t\"chunk-2d0de6a7\"\n\t],\n\t\"./prism-fsharp.min.js\": [\n\t\t\"860c\",\n\t\t\"chunk-2d0de6a7\"\n\t],\n\t\"./prism-gedcom\": [\n\t\t\"be0d\",\n\t\t\"chunk-2d21aead\"\n\t],\n\t\"./prism-gedcom.js\": [\n\t\t\"be0d\",\n\t\t\"chunk-2d21aead\"\n\t],\n\t\"./prism-gedcom.min\": [\n\t\t\"f5e9\",\n\t\t\"chunk-2d22d239\"\n\t],\n\t\"./prism-gedcom.min.js\": [\n\t\t\"f5e9\",\n\t\t\"chunk-2d22d239\"\n\t],\n\t\"./prism-gherkin\": [\n\t\t\"12b6\",\n\t\t\"chunk-2d0aaeeb\"\n\t],\n\t\"./prism-gherkin.js\": [\n\t\t\"12b6\",\n\t\t\"chunk-2d0aaeeb\"\n\t],\n\t\"./prism-gherkin.min\": [\n\t\t\"a92d\",\n\t\t\"chunk-2d209560\"\n\t],\n\t\"./prism-gherkin.min.js\": [\n\t\t\"a92d\",\n\t\t\"chunk-2d209560\"\n\t],\n\t\"./prism-git\": [\n\t\t\"1cce\",\n\t\t\"chunk-2d0b672a\"\n\t],\n\t\"./prism-git.js\": [\n\t\t\"1cce\",\n\t\t\"chunk-2d0b672a\"\n\t],\n\t\"./prism-git.min\": [\n\t\t\"fd2b\",\n\t\t\"chunk-2d237ca4\"\n\t],\n\t\"./prism-git.min.js\": [\n\t\t\"fd2b\",\n\t\t\"chunk-2d237ca4\"\n\t],\n\t\"./prism-glsl\": [\n\t\t\"e8df\",\n\t\t\"chunk-2d22692b\"\n\t],\n\t\"./prism-glsl.js\": [\n\t\t\"e8df\",\n\t\t\"chunk-2d22692b\"\n\t],\n\t\"./prism-glsl.min\": [\n\t\t\"6b5c\",\n\t\t\"chunk-2d0da3b0\"\n\t],\n\t\"./prism-glsl.min.js\": [\n\t\t\"6b5c\",\n\t\t\"chunk-2d0da3b0\"\n\t],\n\t\"./prism-gml\": [\n\t\t\"3701\",\n\t\t\"chunk-2d0ba45b\"\n\t],\n\t\"./prism-gml.js\": [\n\t\t\"3701\",\n\t\t\"chunk-2d0ba45b\"\n\t],\n\t\"./prism-gml.min\": [\n\t\t\"1219\",\n\t\t\"chunk-2d0aa8ff\"\n\t],\n\t\"./prism-gml.min.js\": [\n\t\t\"1219\",\n\t\t\"chunk-2d0aa8ff\"\n\t],\n\t\"./prism-go\": [\n\t\t\"caf3\",\n\t\t\"chunk-2d221a61\"\n\t],\n\t\"./prism-go.js\": [\n\t\t\"caf3\",\n\t\t\"chunk-2d221a61\"\n\t],\n\t\"./prism-go.min\": [\n\t\t\"5e21\",\n\t\t\"chunk-2d0d3a05\"\n\t],\n\t\"./prism-go.min.js\": [\n\t\t\"5e21\",\n\t\t\"chunk-2d0d3a05\"\n\t],\n\t\"./prism-graphql\": [\n\t\t\"a486\",\n\t\t\"chunk-2d208327\"\n\t],\n\t\"./prism-graphql.js\": [\n\t\t\"a486\",\n\t\t\"chunk-2d208327\"\n\t],\n\t\"./prism-graphql.min\": [\n\t\t\"9929\",\n\t\t\"chunk-2d0e665d\"\n\t],\n\t\"./prism-graphql.min.js\": [\n\t\t\"9929\",\n\t\t\"chunk-2d0e665d\"\n\t],\n\t\"./prism-groovy\": [\n\t\t\"6e60\",\n\t\t\"chunk-2d0daedf\"\n\t],\n\t\"./prism-groovy.js\": [\n\t\t\"6e60\",\n\t\t\"chunk-2d0daedf\"\n\t],\n\t\"./prism-groovy.min\": [\n\t\t\"3a9f\",\n\t\t\"chunk-2d0c4351\"\n\t],\n\t\"./prism-groovy.min.js\": [\n\t\t\"3a9f\",\n\t\t\"chunk-2d0c4351\"\n\t],\n\t\"./prism-haml\": [\n\t\t\"08e6\",\n\t\t\"chunk-2d0a516f\"\n\t],\n\t\"./prism-haml.js\": [\n\t\t\"08e6\",\n\t\t\"chunk-2d0a516f\"\n\t],\n\t\"./prism-haml.min\": [\n\t\t\"632f\",\n\t\t\"chunk-2d0cf2e7\"\n\t],\n\t\"./prism-haml.min.js\": [\n\t\t\"632f\",\n\t\t\"chunk-2d0cf2e7\"\n\t],\n\t\"./prism-handlebars\": [\n\t\t\"ea43\",\n\t\t\"chunk-2d22fd11\"\n\t],\n\t\"./prism-handlebars.js\": [\n\t\t\"ea43\",\n\t\t\"chunk-2d22fd11\"\n\t],\n\t\"./prism-handlebars.min\": [\n\t\t\"5645\",\n\t\t\"chunk-2d0c89d8\"\n\t],\n\t\"./prism-handlebars.min.js\": [\n\t\t\"5645\",\n\t\t\"chunk-2d0c89d8\"\n\t],\n\t\"./prism-haskell\": [\n\t\t\"22fc\",\n\t\t\"chunk-2d0b23f3\"\n\t],\n\t\"./prism-haskell.js\": [\n\t\t\"22fc\",\n\t\t\"chunk-2d0b23f3\"\n\t],\n\t\"./prism-haskell.min\": [\n\t\t\"87b5\",\n\t\t\"chunk-2d0df048\"\n\t],\n\t\"./prism-haskell.min.js\": [\n\t\t\"87b5\",\n\t\t\"chunk-2d0df048\"\n\t],\n\t\"./prism-haxe\": [\n\t\t\"41b6\",\n\t\t\"chunk-2d0c0847\"\n\t],\n\t\"./prism-haxe.js\": [\n\t\t\"41b6\",\n\t\t\"chunk-2d0c0847\"\n\t],\n\t\"./prism-haxe.min\": [\n\t\t\"e7c1\",\n\t\t\"chunk-2d226516\"\n\t],\n\t\"./prism-haxe.min.js\": [\n\t\t\"e7c1\",\n\t\t\"chunk-2d226516\"\n\t],\n\t\"./prism-hpkp\": [\n\t\t\"731a\",\n\t\t\"chunk-2d0d6722\"\n\t],\n\t\"./prism-hpkp.js\": [\n\t\t\"731a\",\n\t\t\"chunk-2d0d6722\"\n\t],\n\t\"./prism-hpkp.min\": [\n\t\t\"6691\",\n\t\t\"chunk-2d0cfece\"\n\t],\n\t\"./prism-hpkp.min.js\": [\n\t\t\"6691\",\n\t\t\"chunk-2d0cfece\"\n\t],\n\t\"./prism-hsts\": [\n\t\t\"88e1\",\n\t\t\"chunk-2d0df462\"\n\t],\n\t\"./prism-hsts.js\": [\n\t\t\"88e1\",\n\t\t\"chunk-2d0df462\"\n\t],\n\t\"./prism-hsts.min\": [\n\t\t\"9a94\",\n\t\t\"chunk-2d0efd59\"\n\t],\n\t\"./prism-hsts.min.js\": [\n\t\t\"9a94\",\n\t\t\"chunk-2d0efd59\"\n\t],\n\t\"./prism-http\": [\n\t\t\"d415\",\n\t\t\"chunk-2d21df6a\"\n\t],\n\t\"./prism-http.js\": [\n\t\t\"d415\",\n\t\t\"chunk-2d21df6a\"\n\t],\n\t\"./prism-http.min\": [\n\t\t\"3d89\",\n\t\t\"chunk-2d0c4e48\"\n\t],\n\t\"./prism-http.min.js\": [\n\t\t\"3d89\",\n\t\t\"chunk-2d0c4e48\"\n\t],\n\t\"./prism-ichigojam\": [\n\t\t\"5819\",\n\t\t\"chunk-2d0c9101\"\n\t],\n\t\"./prism-ichigojam.js\": [\n\t\t\"5819\",\n\t\t\"chunk-2d0c9101\"\n\t],\n\t\"./prism-ichigojam.min\": [\n\t\t\"8e7e\",\n\t\t\"chunk-2d0e97f1\"\n\t],\n\t\"./prism-ichigojam.min.js\": [\n\t\t\"8e7e\",\n\t\t\"chunk-2d0e97f1\"\n\t],\n\t\"./prism-icon\": [\n\t\t\"9f8c\",\n\t\t\"chunk-2d0f102e\"\n\t],\n\t\"./prism-icon.js\": [\n\t\t\"9f8c\",\n\t\t\"chunk-2d0f102e\"\n\t],\n\t\"./prism-icon.min\": [\n\t\t\"cf2c\",\n\t\t\"chunk-2d22270a\"\n\t],\n\t\"./prism-icon.min.js\": [\n\t\t\"cf2c\",\n\t\t\"chunk-2d22270a\"\n\t],\n\t\"./prism-inform7\": [\n\t\t\"2e3d\",\n\t\t\"chunk-2d0bdd3a\"\n\t],\n\t\"./prism-inform7.js\": [\n\t\t\"2e3d\",\n\t\t\"chunk-2d0bdd3a\"\n\t],\n\t\"./prism-inform7.min\": [\n\t\t\"d361\",\n\t\t\"chunk-2d21dc40\"\n\t],\n\t\"./prism-inform7.min.js\": [\n\t\t\"d361\",\n\t\t\"chunk-2d21dc40\"\n\t],\n\t\"./prism-ini\": [\n\t\t\"a765\",\n\t\t\"chunk-2d208e2b\"\n\t],\n\t\"./prism-ini.js\": [\n\t\t\"a765\",\n\t\t\"chunk-2d208e2b\"\n\t],\n\t\"./prism-ini.min\": [\n\t\t\"061f\",\n\t\t\"chunk-2d0a43d1\"\n\t],\n\t\"./prism-ini.min.js\": [\n\t\t\"061f\",\n\t\t\"chunk-2d0a43d1\"\n\t],\n\t\"./prism-io\": [\n\t\t\"80c1\",\n\t\t\"chunk-2d0dd61c\"\n\t],\n\t\"./prism-io.js\": [\n\t\t\"80c1\",\n\t\t\"chunk-2d0dd61c\"\n\t],\n\t\"./prism-io.min\": [\n\t\t\"8feb\",\n\t\t\"chunk-2d0ea141\"\n\t],\n\t\"./prism-io.min.js\": [\n\t\t\"8feb\",\n\t\t\"chunk-2d0ea141\"\n\t],\n\t\"./prism-j\": [\n\t\t\"9801\",\n\t\t\"chunk-2d0e6256\"\n\t],\n\t\"./prism-j.js\": [\n\t\t\"9801\",\n\t\t\"chunk-2d0e6256\"\n\t],\n\t\"./prism-j.min\": [\n\t\t\"add6\",\n\t\t\"chunk-2d213cab\"\n\t],\n\t\"./prism-j.min.js\": [\n\t\t\"add6\",\n\t\t\"chunk-2d213cab\"\n\t],\n\t\"./prism-java\": [\n\t\t\"9f15\",\n\t\t\"chunk-2d0f0f27\"\n\t],\n\t\"./prism-java.js\": [\n\t\t\"9f15\",\n\t\t\"chunk-2d0f0f27\"\n\t],\n\t\"./prism-java.min\": [\n\t\t\"2ccd\",\n\t\t\"chunk-2d0bdb88\"\n\t],\n\t\"./prism-java.min.js\": [\n\t\t\"2ccd\",\n\t\t\"chunk-2d0bdb88\"\n\t],\n\t\"./prism-javascript\": [\n\t\t\"eef3\",\n\t\t\"chunk-2d231223\"\n\t],\n\t\"./prism-javascript.js\": [\n\t\t\"eef3\",\n\t\t\"chunk-2d231223\"\n\t],\n\t\"./prism-javascript.min\": [\n\t\t\"f073\",\n\t\t\"chunk-2d22b9dc\"\n\t],\n\t\"./prism-javascript.min.js\": [\n\t\t\"f073\",\n\t\t\"chunk-2d22b9dc\"\n\t],\n\t\"./prism-jolie\": [\n\t\t\"ee68\",\n\t\t\"chunk-2d230c58\"\n\t],\n\t\"./prism-jolie.js\": [\n\t\t\"ee68\",\n\t\t\"chunk-2d230c58\"\n\t],\n\t\"./prism-jolie.min\": [\n\t\t\"a654\",\n\t\t\"chunk-2d208a4a\"\n\t],\n\t\"./prism-jolie.min.js\": [\n\t\t\"a654\",\n\t\t\"chunk-2d208a4a\"\n\t],\n\t\"./prism-json\": [\n\t\t\"568a\",\n\t\t\"chunk-2d0c8a80\"\n\t],\n\t\"./prism-json.js\": [\n\t\t\"568a\",\n\t\t\"chunk-2d0c8a80\"\n\t],\n\t\"./prism-json.min\": [\n\t\t\"0dd8\",\n\t\t\"chunk-2d0af67e\"\n\t],\n\t\"./prism-json.min.js\": [\n\t\t\"0dd8\",\n\t\t\"chunk-2d0af67e\"\n\t],\n\t\"./prism-jsx\": [\n\t\t\"7676\",\n\t\t\"chunk-2d0d72f4\"\n\t],\n\t\"./prism-jsx.js\": [\n\t\t\"7676\",\n\t\t\"chunk-2d0d72f4\"\n\t],\n\t\"./prism-jsx.min\": [\n\t\t\"a490\",\n\t\t\"chunk-2d208340\"\n\t],\n\t\"./prism-jsx.min.js\": [\n\t\t\"a490\",\n\t\t\"chunk-2d208340\"\n\t],\n\t\"./prism-julia\": [\n\t\t\"d061\",\n\t\t\"chunk-2d21d0fd\"\n\t],\n\t\"./prism-julia.js\": [\n\t\t\"d061\",\n\t\t\"chunk-2d21d0fd\"\n\t],\n\t\"./prism-julia.min\": [\n\t\t\"b3c9\",\n\t\t\"chunk-2d20f8fd\"\n\t],\n\t\"./prism-julia.min.js\": [\n\t\t\"b3c9\",\n\t\t\"chunk-2d20f8fd\"\n\t],\n\t\"./prism-keyman\": [\n\t\t\"642d\",\n\t\t\"chunk-2d0cf6a6\"\n\t],\n\t\"./prism-keyman.js\": [\n\t\t\"642d\",\n\t\t\"chunk-2d0cf6a6\"\n\t],\n\t\"./prism-keyman.min\": [\n\t\t\"193b\",\n\t\t\"chunk-2d0ac3ad\"\n\t],\n\t\"./prism-keyman.min.js\": [\n\t\t\"193b\",\n\t\t\"chunk-2d0ac3ad\"\n\t],\n\t\"./prism-kotlin\": [\n\t\t\"553d\",\n\t\t\"chunk-2d0c8627\"\n\t],\n\t\"./prism-kotlin.js\": [\n\t\t\"553d\",\n\t\t\"chunk-2d0c8627\"\n\t],\n\t\"./prism-kotlin.min\": [\n\t\t\"b8fb\",\n\t\t\"chunk-2d210c48\"\n\t],\n\t\"./prism-kotlin.min.js\": [\n\t\t\"b8fb\",\n\t\t\"chunk-2d210c48\"\n\t],\n\t\"./prism-latex\": [\n\t\t\"dfae\",\n\t\t\"chunk-2d22a11c\"\n\t],\n\t\"./prism-latex.js\": [\n\t\t\"dfae\",\n\t\t\"chunk-2d22a11c\"\n\t],\n\t\"./prism-latex.min\": [\n\t\t\"ee0a\",\n\t\t\"chunk-2d230bc7\"\n\t],\n\t\"./prism-latex.min.js\": [\n\t\t\"ee0a\",\n\t\t\"chunk-2d230bc7\"\n\t],\n\t\"./prism-less\": [\n\t\t\"0ab2\",\n\t\t\"chunk-2d0aeaf7\"\n\t],\n\t\"./prism-less.js\": [\n\t\t\"0ab2\",\n\t\t\"chunk-2d0aeaf7\"\n\t],\n\t\"./prism-less.min\": [\n\t\t\"e88d\",\n\t\t\"chunk-2d2263d5\"\n\t],\n\t\"./prism-less.min.js\": [\n\t\t\"e88d\",\n\t\t\"chunk-2d2263d5\"\n\t],\n\t\"./prism-liquid\": [\n\t\t\"ec54\",\n\t\t\"chunk-2d2304b3\"\n\t],\n\t\"./prism-liquid.js\": [\n\t\t\"ec54\",\n\t\t\"chunk-2d2304b3\"\n\t],\n\t\"./prism-liquid.min\": [\n\t\t\"adb7\",\n\t\t\"chunk-2d213c6e\"\n\t],\n\t\"./prism-liquid.min.js\": [\n\t\t\"adb7\",\n\t\t\"chunk-2d213c6e\"\n\t],\n\t\"./prism-lisp\": [\n\t\t\"07ca\",\n\t\t\"chunk-2d0a4d9b\"\n\t],\n\t\"./prism-lisp.js\": [\n\t\t\"07ca\",\n\t\t\"chunk-2d0a4d9b\"\n\t],\n\t\"./prism-lisp.min\": [\n\t\t\"2f3f\",\n\t\t\"chunk-2d0be0fd\"\n\t],\n\t\"./prism-lisp.min.js\": [\n\t\t\"2f3f\",\n\t\t\"chunk-2d0be0fd\"\n\t],\n\t\"./prism-livescript\": [\n\t\t\"c838\",\n\t\t\"chunk-2d217a50\"\n\t],\n\t\"./prism-livescript.js\": [\n\t\t\"c838\",\n\t\t\"chunk-2d217a50\"\n\t],\n\t\"./prism-livescript.min\": [\n\t\t\"e5d9\",\n\t\t\"chunk-2d225dbb\"\n\t],\n\t\"./prism-livescript.min.js\": [\n\t\t\"e5d9\",\n\t\t\"chunk-2d225dbb\"\n\t],\n\t\"./prism-lolcode\": [\n\t\t\"617d\",\n\t\t\"chunk-2d0cebfe\"\n\t],\n\t\"./prism-lolcode.js\": [\n\t\t\"617d\",\n\t\t\"chunk-2d0cebfe\"\n\t],\n\t\"./prism-lolcode.min\": [\n\t\t\"5cef\",\n\t\t\"chunk-2d0d38e5\"\n\t],\n\t\"./prism-lolcode.min.js\": [\n\t\t\"5cef\",\n\t\t\"chunk-2d0d38e5\"\n\t],\n\t\"./prism-lua\": [\n\t\t\"b1b7\",\n\t\t\"chunk-2d20f15a\"\n\t],\n\t\"./prism-lua.js\": [\n\t\t\"b1b7\",\n\t\t\"chunk-2d20f15a\"\n\t],\n\t\"./prism-lua.min\": [\n\t\t\"cdee\",\n\t\t\"chunk-2d2225b7\"\n\t],\n\t\"./prism-lua.min.js\": [\n\t\t\"cdee\",\n\t\t\"chunk-2d2225b7\"\n\t],\n\t\"./prism-makefile\": [\n\t\t\"8caf\",\n\t\t\"chunk-2d0e9586\"\n\t],\n\t\"./prism-makefile.js\": [\n\t\t\"8caf\",\n\t\t\"chunk-2d0e9586\"\n\t],\n\t\"./prism-makefile.min\": [\n\t\t\"5668\",\n\t\t\"chunk-2d0c8a19\"\n\t],\n\t\"./prism-makefile.min.js\": [\n\t\t\"5668\",\n\t\t\"chunk-2d0c8a19\"\n\t],\n\t\"./prism-markdown\": [\n\t\t\"8483\",\n\t\t\"chunk-2d0ddfed\"\n\t],\n\t\"./prism-markdown.js\": [\n\t\t\"8483\",\n\t\t\"chunk-2d0ddfed\"\n\t],\n\t\"./prism-markdown.min\": [\n\t\t\"205a\",\n\t\t\"chunk-2d0b1680\"\n\t],\n\t\"./prism-markdown.min.js\": [\n\t\t\"205a\",\n\t\t\"chunk-2d0b1680\"\n\t],\n\t\"./prism-markup\": [\n\t\t\"c677\",\n\t\t\"chunk-2d217349\"\n\t],\n\t\"./prism-markup-templating\": [\n\t\t\"00f2\",\n\t\t\"chunk-2d0a3382\"\n\t],\n\t\"./prism-markup-templating.js\": [\n\t\t\"00f2\",\n\t\t\"chunk-2d0a3382\"\n\t],\n\t\"./prism-markup-templating.min\": [\n\t\t\"b030\",\n\t\t\"chunk-2d20e7e1\"\n\t],\n\t\"./prism-markup-templating.min.js\": [\n\t\t\"b030\",\n\t\t\"chunk-2d20e7e1\"\n\t],\n\t\"./prism-markup.js\": [\n\t\t\"c677\",\n\t\t\"chunk-2d217349\"\n\t],\n\t\"./prism-markup.min\": [\n\t\t\"552e\",\n\t\t\"chunk-2d0c8609\"\n\t],\n\t\"./prism-markup.min.js\": [\n\t\t\"552e\",\n\t\t\"chunk-2d0c8609\"\n\t],\n\t\"./prism-matlab\": [\n\t\t\"00c2\",\n\t\t\"chunk-2d0a3325\"\n\t],\n\t\"./prism-matlab.js\": [\n\t\t\"00c2\",\n\t\t\"chunk-2d0a3325\"\n\t],\n\t\"./prism-matlab.min\": [\n\t\t\"9c85\",\n\t\t\"chunk-2d0f04bd\"\n\t],\n\t\"./prism-matlab.min.js\": [\n\t\t\"9c85\",\n\t\t\"chunk-2d0f04bd\"\n\t],\n\t\"./prism-mel\": [\n\t\t\"4978\",\n\t\t\"chunk-2d0c211c\"\n\t],\n\t\"./prism-mel.js\": [\n\t\t\"4978\",\n\t\t\"chunk-2d0c211c\"\n\t],\n\t\"./prism-mel.min\": [\n\t\t\"7289\",\n\t\t\"chunk-2d0d6412\"\n\t],\n\t\"./prism-mel.min.js\": [\n\t\t\"7289\",\n\t\t\"chunk-2d0d6412\"\n\t],\n\t\"./prism-mizar\": [\n\t\t\"722d\",\n\t\t\"chunk-2d0d6383\"\n\t],\n\t\"./prism-mizar.js\": [\n\t\t\"722d\",\n\t\t\"chunk-2d0d6383\"\n\t],\n\t\"./prism-mizar.min\": [\n\t\t\"ab7e\",\n\t\t\"chunk-2d212fe5\"\n\t],\n\t\"./prism-mizar.min.js\": [\n\t\t\"ab7e\",\n\t\t\"chunk-2d212fe5\"\n\t],\n\t\"./prism-monkey\": [\n\t\t\"7fd8\",\n\t\t\"chunk-2d0e2c99\"\n\t],\n\t\"./prism-monkey.js\": [\n\t\t\"7fd8\",\n\t\t\"chunk-2d0e2c99\"\n\t],\n\t\"./prism-monkey.min\": [\n\t\t\"7730\",\n\t\t\"chunk-2d0d7633\"\n\t],\n\t\"./prism-monkey.min.js\": [\n\t\t\"7730\",\n\t\t\"chunk-2d0d7633\"\n\t],\n\t\"./prism-n4js\": [\n\t\t\"c208\",\n\t\t\"chunk-2d21636d\"\n\t],\n\t\"./prism-n4js.js\": [\n\t\t\"c208\",\n\t\t\"chunk-2d21636d\"\n\t],\n\t\"./prism-n4js.min\": [\n\t\t\"7555\",\n\t\t\"chunk-2d0d6ef4\"\n\t],\n\t\"./prism-n4js.min.js\": [\n\t\t\"7555\",\n\t\t\"chunk-2d0d6ef4\"\n\t],\n\t\"./prism-nasm\": [\n\t\t\"d8b0\",\n\t\t\"chunk-2d21f458\"\n\t],\n\t\"./prism-nasm.js\": [\n\t\t\"d8b0\",\n\t\t\"chunk-2d21f458\"\n\t],\n\t\"./prism-nasm.min\": [\n\t\t\"98b0\",\n\t\t\"chunk-2d0e6863\"\n\t],\n\t\"./prism-nasm.min.js\": [\n\t\t\"98b0\",\n\t\t\"chunk-2d0e6863\"\n\t],\n\t\"./prism-nginx\": [\n\t\t\"5512\",\n\t\t\"chunk-2d0c85b7\"\n\t],\n\t\"./prism-nginx.js\": [\n\t\t\"5512\",\n\t\t\"chunk-2d0c85b7\"\n\t],\n\t\"./prism-nginx.min\": [\n\t\t\"88e3\",\n\t\t\"chunk-2d0df464\"\n\t],\n\t\"./prism-nginx.min.js\": [\n\t\t\"88e3\",\n\t\t\"chunk-2d0df464\"\n\t],\n\t\"./prism-nim\": [\n\t\t\"2d6c\",\n\t\t\"chunk-2d0bd9d5\"\n\t],\n\t\"./prism-nim.js\": [\n\t\t\"2d6c\",\n\t\t\"chunk-2d0bd9d5\"\n\t],\n\t\"./prism-nim.min\": [\n\t\t\"b7bb\",\n\t\t\"chunk-2d21080b\"\n\t],\n\t\"./prism-nim.min.js\": [\n\t\t\"b7bb\",\n\t\t\"chunk-2d21080b\"\n\t],\n\t\"./prism-nix\": [\n\t\t\"6393\",\n\t\t\"chunk-2d0cf38d\"\n\t],\n\t\"./prism-nix.js\": [\n\t\t\"6393\",\n\t\t\"chunk-2d0cf38d\"\n\t],\n\t\"./prism-nix.min\": [\n\t\t\"9f30\",\n\t\t\"chunk-2d0f0f60\"\n\t],\n\t\"./prism-nix.min.js\": [\n\t\t\"9f30\",\n\t\t\"chunk-2d0f0f60\"\n\t],\n\t\"./prism-nsis\": [\n\t\t\"9b1f\",\n\t\t\"chunk-2d0f0054\"\n\t],\n\t\"./prism-nsis.js\": [\n\t\t\"9b1f\",\n\t\t\"chunk-2d0f0054\"\n\t],\n\t\"./prism-nsis.min\": [\n\t\t\"7e95\",\n\t\t\"chunk-2d0e23a0\"\n\t],\n\t\"./prism-nsis.min.js\": [\n\t\t\"7e95\",\n\t\t\"chunk-2d0e23a0\"\n\t],\n\t\"./prism-objectivec\": [\n\t\t\"0c95\",\n\t\t\"chunk-2d0aed85\"\n\t],\n\t\"./prism-objectivec.js\": [\n\t\t\"0c95\",\n\t\t\"chunk-2d0aed85\"\n\t],\n\t\"./prism-objectivec.min\": [\n\t\t\"98c2\",\n\t\t\"chunk-2d0e6884\"\n\t],\n\t\"./prism-objectivec.min.js\": [\n\t\t\"98c2\",\n\t\t\"chunk-2d0e6884\"\n\t],\n\t\"./prism-ocaml\": [\n\t\t\"6fd0\",\n\t\t\"chunk-2d0db832\"\n\t],\n\t\"./prism-ocaml.js\": [\n\t\t\"6fd0\",\n\t\t\"chunk-2d0db832\"\n\t],\n\t\"./prism-ocaml.min\": [\n\t\t\"8466\",\n\t\t\"chunk-2d0ddfb2\"\n\t],\n\t\"./prism-ocaml.min.js\": [\n\t\t\"8466\",\n\t\t\"chunk-2d0ddfb2\"\n\t],\n\t\"./prism-opencl\": [\n\t\t\"9373\",\n\t\t\"chunk-2d0e506c\"\n\t],\n\t\"./prism-opencl.js\": [\n\t\t\"9373\",\n\t\t\"chunk-2d0e506c\"\n\t],\n\t\"./prism-opencl.min\": [\n\t\t\"a3bf\",\n\t\t\"chunk-2d2084ac\"\n\t],\n\t\"./prism-opencl.min.js\": [\n\t\t\"a3bf\",\n\t\t\"chunk-2d2084ac\"\n\t],\n\t\"./prism-oz\": [\n\t\t\"005b\",\n\t\t\"chunk-2d0a2dc3\"\n\t],\n\t\"./prism-oz.js\": [\n\t\t\"005b\",\n\t\t\"chunk-2d0a2dc3\"\n\t],\n\t\"./prism-oz.min\": [\n\t\t\"7de1\",\n\t\t\"chunk-2d0e252f\"\n\t],\n\t\"./prism-oz.min.js\": [\n\t\t\"7de1\",\n\t\t\"chunk-2d0e252f\"\n\t],\n\t\"./prism-parigp\": [\n\t\t\"db01\",\n\t\t\"chunk-2d228bf5\"\n\t],\n\t\"./prism-parigp.js\": [\n\t\t\"db01\",\n\t\t\"chunk-2d228bf5\"\n\t],\n\t\"./prism-parigp.min\": [\n\t\t\"0718\",\n\t\t\"chunk-2d0a4764\"\n\t],\n\t\"./prism-parigp.min.js\": [\n\t\t\"0718\",\n\t\t\"chunk-2d0a4764\"\n\t],\n\t\"./prism-parser\": [\n\t\t\"22d9\",\n\t\t\"chunk-2d0b238b\"\n\t],\n\t\"./prism-parser.js\": [\n\t\t\"22d9\",\n\t\t\"chunk-2d0b238b\"\n\t],\n\t\"./prism-parser.min\": [\n\t\t\"6ce4\",\n\t\t\"chunk-2d0dad12\"\n\t],\n\t\"./prism-parser.min.js\": [\n\t\t\"6ce4\",\n\t\t\"chunk-2d0dad12\"\n\t],\n\t\"./prism-pascal\": [\n\t\t\"e7d4\",\n\t\t\"chunk-2d226538\"\n\t],\n\t\"./prism-pascal.js\": [\n\t\t\"e7d4\",\n\t\t\"chunk-2d226538\"\n\t],\n\t\"./prism-pascal.min\": [\n\t\t\"8b12\",\n\t\t\"chunk-2d0e8bc1\"\n\t],\n\t\"./prism-pascal.min.js\": [\n\t\t\"8b12\",\n\t\t\"chunk-2d0e8bc1\"\n\t],\n\t\"./prism-perl\": [\n\t\t\"1a8c\",\n\t\t\"chunk-2d0b5a71\"\n\t],\n\t\"./prism-perl.js\": [\n\t\t\"1a8c\",\n\t\t\"chunk-2d0b5a71\"\n\t],\n\t\"./prism-perl.min\": [\n\t\t\"e15c\",\n\t\t\"chunk-2d224930\"\n\t],\n\t\"./prism-perl.min.js\": [\n\t\t\"e15c\",\n\t\t\"chunk-2d224930\"\n\t],\n\t\"./prism-php\": [\n\t\t\"bd2b\",\n\t\t\"chunk-2d21ab28\"\n\t],\n\t\"./prism-php-extras\": [\n\t\t\"520b\",\n\t\t\"chunk-2d0c7a85\"\n\t],\n\t\"./prism-php-extras.js\": [\n\t\t\"520b\",\n\t\t\"chunk-2d0c7a85\"\n\t],\n\t\"./prism-php-extras.min\": [\n\t\t\"884e\",\n\t\t\"chunk-2d0deea7\"\n\t],\n\t\"./prism-php-extras.min.js\": [\n\t\t\"884e\",\n\t\t\"chunk-2d0deea7\"\n\t],\n\t\"./prism-php.js\": [\n\t\t\"bd2b\",\n\t\t\"chunk-2d21ab28\"\n\t],\n\t\"./prism-php.min\": [\n\t\t\"48fe\",\n\t\t\"chunk-2d0c2339\"\n\t],\n\t\"./prism-php.min.js\": [\n\t\t\"48fe\",\n\t\t\"chunk-2d0c2339\"\n\t],\n\t\"./prism-plsql\": [\n\t\t\"92eb\",\n\t\t\"chunk-2d0e526c\"\n\t],\n\t\"./prism-plsql.js\": [\n\t\t\"92eb\",\n\t\t\"chunk-2d0e526c\"\n\t],\n\t\"./prism-plsql.min\": [\n\t\t\"25e1\",\n\t\t\"chunk-2d0b2ee5\"\n\t],\n\t\"./prism-plsql.min.js\": [\n\t\t\"25e1\",\n\t\t\"chunk-2d0b2ee5\"\n\t],\n\t\"./prism-powershell\": [\n\t\t\"a14c\",\n\t\t\"chunk-2d207795\"\n\t],\n\t\"./prism-powershell.js\": [\n\t\t\"a14c\",\n\t\t\"chunk-2d207795\"\n\t],\n\t\"./prism-powershell.min\": [\n\t\t\"f961\",\n\t\t\"chunk-2d22db84\"\n\t],\n\t\"./prism-powershell.min.js\": [\n\t\t\"f961\",\n\t\t\"chunk-2d22db84\"\n\t],\n\t\"./prism-processing\": [\n\t\t\"58d2\",\n\t\t\"chunk-2d0c9727\"\n\t],\n\t\"./prism-processing.js\": [\n\t\t\"58d2\",\n\t\t\"chunk-2d0c9727\"\n\t],\n\t\"./prism-processing.min\": [\n\t\t\"48f0\",\n\t\t\"chunk-2d0c2304\"\n\t],\n\t\"./prism-processing.min.js\": [\n\t\t\"48f0\",\n\t\t\"chunk-2d0c2304\"\n\t],\n\t\"./prism-prolog\": [\n\t\t\"6c67\",\n\t\t\"chunk-2d0da764\"\n\t],\n\t\"./prism-prolog.js\": [\n\t\t\"6c67\",\n\t\t\"chunk-2d0da764\"\n\t],\n\t\"./prism-prolog.min\": [\n\t\t\"a85e\",\n\t\t\"chunk-2d2091fd\"\n\t],\n\t\"./prism-prolog.min.js\": [\n\t\t\"a85e\",\n\t\t\"chunk-2d2091fd\"\n\t],\n\t\"./prism-properties\": [\n\t\t\"04ef\",\n\t\t\"chunk-2d0a429b\"\n\t],\n\t\"./prism-properties.js\": [\n\t\t\"04ef\",\n\t\t\"chunk-2d0a429b\"\n\t],\n\t\"./prism-properties.min\": [\n\t\t\"bc87\",\n\t\t\"chunk-2d21a7f6\"\n\t],\n\t\"./prism-properties.min.js\": [\n\t\t\"bc87\",\n\t\t\"chunk-2d21a7f6\"\n\t],\n\t\"./prism-protobuf\": [\n\t\t\"2058\",\n\t\t\"chunk-2d0b1657\"\n\t],\n\t\"./prism-protobuf.js\": [\n\t\t\"2058\",\n\t\t\"chunk-2d0b1657\"\n\t],\n\t\"./prism-protobuf.min\": [\n\t\t\"6005\",\n\t\t\"chunk-2d0ce735\"\n\t],\n\t\"./prism-protobuf.min.js\": [\n\t\t\"6005\",\n\t\t\"chunk-2d0ce735\"\n\t],\n\t\"./prism-pug\": [\n\t\t\"2701\",\n\t\t\"chunk-2d0b2ffc\"\n\t],\n\t\"./prism-pug.js\": [\n\t\t\"2701\",\n\t\t\"chunk-2d0b2ffc\"\n\t],\n\t\"./prism-pug.min\": [\n\t\t\"acae\",\n\t\t\"chunk-2d2138bc\"\n\t],\n\t\"./prism-pug.min.js\": [\n\t\t\"acae\",\n\t\t\"chunk-2d2138bc\"\n\t],\n\t\"./prism-puppet\": [\n\t\t\"836f\",\n\t\t\"chunk-2d0ddc21\"\n\t],\n\t\"./prism-puppet.js\": [\n\t\t\"836f\",\n\t\t\"chunk-2d0ddc21\"\n\t],\n\t\"./prism-puppet.min\": [\n\t\t\"beb0\",\n\t\t\"chunk-2d21b487\"\n\t],\n\t\"./prism-puppet.min.js\": [\n\t\t\"beb0\",\n\t\t\"chunk-2d21b487\"\n\t],\n\t\"./prism-pure\": [\n\t\t\"edaa\",\n\t\t\"chunk-2d230df5\"\n\t],\n\t\"./prism-pure.js\": [\n\t\t\"edaa\",\n\t\t\"chunk-2d230df5\"\n\t],\n\t\"./prism-pure.min\": [\n\t\t\"8908\",\n\t\t\"chunk-2d0df1bf\"\n\t],\n\t\"./prism-pure.min.js\": [\n\t\t\"8908\",\n\t\t\"chunk-2d0df1bf\"\n\t],\n\t\"./prism-python\": [\n\t\t\"2b35\",\n\t\t\"chunk-2d0bd1c8\"\n\t],\n\t\"./prism-python.js\": [\n\t\t\"2b35\",\n\t\t\"chunk-2d0bd1c8\"\n\t],\n\t\"./prism-python.min\": [\n\t\t\"5e01\",\n\t\t\"chunk-2d0d39c7\"\n\t],\n\t\"./prism-python.min.js\": [\n\t\t\"5e01\",\n\t\t\"chunk-2d0d39c7\"\n\t],\n\t\"./prism-q\": [\n\t\t\"6e47\",\n\t\t\"chunk-2d0daea8\"\n\t],\n\t\"./prism-q.js\": [\n\t\t\"6e47\",\n\t\t\"chunk-2d0daea8\"\n\t],\n\t\"./prism-q.min\": [\n\t\t\"1bcc\",\n\t\t\"chunk-2d0b6367\"\n\t],\n\t\"./prism-q.min.js\": [\n\t\t\"1bcc\",\n\t\t\"chunk-2d0b6367\"\n\t],\n\t\"./prism-qore\": [\n\t\t\"d331\",\n\t\t\"chunk-2d21dbe3\"\n\t],\n\t\"./prism-qore.js\": [\n\t\t\"d331\",\n\t\t\"chunk-2d21dbe3\"\n\t],\n\t\"./prism-qore.min\": [\n\t\t\"c8e2\",\n\t\t\"chunk-2d218058\"\n\t],\n\t\"./prism-qore.min.js\": [\n\t\t\"c8e2\",\n\t\t\"chunk-2d218058\"\n\t],\n\t\"./prism-r\": [\n\t\t\"bb26\",\n\t\t\"chunk-2d21a37a\"\n\t],\n\t\"./prism-r.js\": [\n\t\t\"bb26\",\n\t\t\"chunk-2d21a37a\"\n\t],\n\t\"./prism-r.min\": [\n\t\t\"35bc\",\n\t\t\"chunk-2d0ba319\"\n\t],\n\t\"./prism-r.min.js\": [\n\t\t\"35bc\",\n\t\t\"chunk-2d0ba319\"\n\t],\n\t\"./prism-reason\": [\n\t\t\"4567\",\n\t\t\"chunk-2d0c11f8\"\n\t],\n\t\"./prism-reason.js\": [\n\t\t\"4567\",\n\t\t\"chunk-2d0c11f8\"\n\t],\n\t\"./prism-reason.min\": [\n\t\t\"8829\",\n\t\t\"chunk-2d0dee3d\"\n\t],\n\t\"./prism-reason.min.js\": [\n\t\t\"8829\",\n\t\t\"chunk-2d0dee3d\"\n\t],\n\t\"./prism-renpy\": [\n\t\t\"7f5a\",\n\t\t\"chunk-2d0e2711\"\n\t],\n\t\"./prism-renpy.js\": [\n\t\t\"7f5a\",\n\t\t\"chunk-2d0e2711\"\n\t],\n\t\"./prism-renpy.min\": [\n\t\t\"1aef\",\n\t\t\"chunk-2d0b5fe7\"\n\t],\n\t\"./prism-renpy.min.js\": [\n\t\t\"1aef\",\n\t\t\"chunk-2d0b5fe7\"\n\t],\n\t\"./prism-rest\": [\n\t\t\"b6ce\",\n\t\t\"chunk-2d21046c\"\n\t],\n\t\"./prism-rest.js\": [\n\t\t\"b6ce\",\n\t\t\"chunk-2d21046c\"\n\t],\n\t\"./prism-rest.min\": [\n\t\t\"7bbc\",\n\t\t\"chunk-2d0e1d82\"\n\t],\n\t\"./prism-rest.min.js\": [\n\t\t\"7bbc\",\n\t\t\"chunk-2d0e1d82\"\n\t],\n\t\"./prism-rip\": [\n\t\t\"15df\",\n\t\t\"chunk-2d0aba9c\"\n\t],\n\t\"./prism-rip.js\": [\n\t\t\"15df\",\n\t\t\"chunk-2d0aba9c\"\n\t],\n\t\"./prism-rip.min\": [\n\t\t\"3ef5\",\n\t\t\"chunk-2d0c5797\"\n\t],\n\t\"./prism-rip.min.js\": [\n\t\t\"3ef5\",\n\t\t\"chunk-2d0c5797\"\n\t],\n\t\"./prism-roboconf\": [\n\t\t\"3205\",\n\t\t\"chunk-2d0b919a\"\n\t],\n\t\"./prism-roboconf.js\": [\n\t\t\"3205\",\n\t\t\"chunk-2d0b919a\"\n\t],\n\t\"./prism-roboconf.min\": [\n\t\t\"a49f\",\n\t\t\"chunk-2d208376\"\n\t],\n\t\"./prism-roboconf.min.js\": [\n\t\t\"a49f\",\n\t\t\"chunk-2d208376\"\n\t],\n\t\"./prism-ruby\": [\n\t\t\"8115\",\n\t\t\"chunk-2d0dd3d3\"\n\t],\n\t\"./prism-ruby.js\": [\n\t\t\"8115\",\n\t\t\"chunk-2d0dd3d3\"\n\t],\n\t\"./prism-ruby.min\": [\n\t\t\"78e9\",\n\t\t\"chunk-2d0d800b\"\n\t],\n\t\"./prism-ruby.min.js\": [\n\t\t\"78e9\",\n\t\t\"chunk-2d0d800b\"\n\t],\n\t\"./prism-rust\": [\n\t\t\"5318\",\n\t\t\"chunk-2d0c7e3b\"\n\t],\n\t\"./prism-rust.js\": [\n\t\t\"5318\",\n\t\t\"chunk-2d0c7e3b\"\n\t],\n\t\"./prism-rust.min\": [\n\t\t\"0d99\",\n\t\t\"chunk-2d0af14a\"\n\t],\n\t\"./prism-rust.min.js\": [\n\t\t\"0d99\",\n\t\t\"chunk-2d0af14a\"\n\t],\n\t\"./prism-sas\": [\n\t\t\"a902\",\n\t\t\"chunk-2d2094f0\"\n\t],\n\t\"./prism-sas.js\": [\n\t\t\"a902\",\n\t\t\"chunk-2d2094f0\"\n\t],\n\t\"./prism-sas.min\": [\n\t\t\"60fb\",\n\t\t\"chunk-2d0cedec\"\n\t],\n\t\"./prism-sas.min.js\": [\n\t\t\"60fb\",\n\t\t\"chunk-2d0cedec\"\n\t],\n\t\"./prism-sass\": [\n\t\t\"ae4d\",\n\t\t\"chunk-2d213aca\"\n\t],\n\t\"./prism-sass.js\": [\n\t\t\"ae4d\",\n\t\t\"chunk-2d213aca\"\n\t],\n\t\"./prism-sass.min\": [\n\t\t\"8d79\",\n\t\t\"chunk-2d0e9404\"\n\t],\n\t\"./prism-sass.min.js\": [\n\t\t\"8d79\",\n\t\t\"chunk-2d0e9404\"\n\t],\n\t\"./prism-scala\": [\n\t\t\"e3a6\",\n\t\t\"chunk-2d2255d9\"\n\t],\n\t\"./prism-scala.js\": [\n\t\t\"e3a6\",\n\t\t\"chunk-2d2255d9\"\n\t],\n\t\"./prism-scala.min\": [\n\t\t\"851b\",\n\t\t\"chunk-2d0de304\"\n\t],\n\t\"./prism-scala.min.js\": [\n\t\t\"851b\",\n\t\t\"chunk-2d0de304\"\n\t],\n\t\"./prism-scheme\": [\n\t\t\"8c43\",\n\t\t\"chunk-2d0e8fe0\"\n\t],\n\t\"./prism-scheme.js\": [\n\t\t\"8c43\",\n\t\t\"chunk-2d0e8fe0\"\n\t],\n\t\"./prism-scheme.min\": [\n\t\t\"7500\",\n\t\t\"chunk-2d0d6e54\"\n\t],\n\t\"./prism-scheme.min.js\": [\n\t\t\"7500\",\n\t\t\"chunk-2d0d6e54\"\n\t],\n\t\"./prism-scss\": [\n\t\t\"f1bc\",\n\t\t\"chunk-2d22c302\"\n\t],\n\t\"./prism-scss.js\": [\n\t\t\"f1bc\",\n\t\t\"chunk-2d22c302\"\n\t],\n\t\"./prism-scss.min\": [\n\t\t\"84d5\",\n\t\t\"chunk-2d0de543\"\n\t],\n\t\"./prism-scss.min.js\": [\n\t\t\"84d5\",\n\t\t\"chunk-2d0de543\"\n\t],\n\t\"./prism-smalltalk\": [\n\t\t\"1e5c\",\n\t\t\"chunk-2d0b6918\"\n\t],\n\t\"./prism-smalltalk.js\": [\n\t\t\"1e5c\",\n\t\t\"chunk-2d0b6918\"\n\t],\n\t\"./prism-smalltalk.min\": [\n\t\t\"0951\",\n\t\t\"chunk-2d0a4f5b\"\n\t],\n\t\"./prism-smalltalk.min.js\": [\n\t\t\"0951\",\n\t\t\"chunk-2d0a4f5b\"\n\t],\n\t\"./prism-smarty\": [\n\t\t\"4050\",\n\t\t\"chunk-2d0bff0d\"\n\t],\n\t\"./prism-smarty.js\": [\n\t\t\"4050\",\n\t\t\"chunk-2d0bff0d\"\n\t],\n\t\"./prism-smarty.min\": [\n\t\t\"96ef\",\n\t\t\"chunk-2d0e6174\"\n\t],\n\t\"./prism-smarty.min.js\": [\n\t\t\"96ef\",\n\t\t\"chunk-2d0e6174\"\n\t],\n\t\"./prism-soy\": [\n\t\t\"d2ae\",\n\t\t\"chunk-2d21dde8\"\n\t],\n\t\"./prism-soy.js\": [\n\t\t\"d2ae\",\n\t\t\"chunk-2d21dde8\"\n\t],\n\t\"./prism-soy.min\": [\n\t\t\"f02e\",\n\t\t\"chunk-2d22b973\"\n\t],\n\t\"./prism-soy.min.js\": [\n\t\t\"f02e\",\n\t\t\"chunk-2d22b973\"\n\t],\n\t\"./prism-sql\": [\n\t\t\"62aa\",\n\t\t\"chunk-2d0cf4d2\"\n\t],\n\t\"./prism-sql.js\": [\n\t\t\"62aa\",\n\t\t\"chunk-2d0cf4d2\"\n\t],\n\t\"./prism-sql.min\": [\n\t\t\"16c7\",\n\t\t\"chunk-2d0abe0f\"\n\t],\n\t\"./prism-sql.min.js\": [\n\t\t\"16c7\",\n\t\t\"chunk-2d0abe0f\"\n\t],\n\t\"./prism-stylus\": [\n\t\t\"ef91\",\n\t\t\"chunk-2d23106f\"\n\t],\n\t\"./prism-stylus.js\": [\n\t\t\"ef91\",\n\t\t\"chunk-2d23106f\"\n\t],\n\t\"./prism-stylus.min\": [\n\t\t\"82d9\",\n\t\t\"chunk-2d0dddc5\"\n\t],\n\t\"./prism-stylus.min.js\": [\n\t\t\"82d9\",\n\t\t\"chunk-2d0dddc5\"\n\t],\n\t\"./prism-swift\": [\n\t\t\"000f\",\n\t\t\"chunk-2d0a2d2c\"\n\t],\n\t\"./prism-swift.js\": [\n\t\t\"000f\",\n\t\t\"chunk-2d0a2d2c\"\n\t],\n\t\"./prism-swift.min\": [\n\t\t\"94e2\",\n\t\t\"chunk-2d0e59be\"\n\t],\n\t\"./prism-swift.min.js\": [\n\t\t\"94e2\",\n\t\t\"chunk-2d0e59be\"\n\t],\n\t\"./prism-tap\": [\n\t\t\"2881\",\n\t\t\"chunk-2d0b34b5\"\n\t],\n\t\"./prism-tap.js\": [\n\t\t\"2881\",\n\t\t\"chunk-2d0b34b5\"\n\t],\n\t\"./prism-tap.min\": [\n\t\t\"643e\",\n\t\t\"chunk-2d0cf6c6\"\n\t],\n\t\"./prism-tap.min.js\": [\n\t\t\"643e\",\n\t\t\"chunk-2d0cf6c6\"\n\t],\n\t\"./prism-tcl\": [\n\t\t\"d6c4\",\n\t\t\"chunk-2d21ecf9\"\n\t],\n\t\"./prism-tcl.js\": [\n\t\t\"d6c4\",\n\t\t\"chunk-2d21ecf9\"\n\t],\n\t\"./prism-tcl.min\": [\n\t\t\"c362\",\n\t\t\"chunk-2d2167e2\"\n\t],\n\t\"./prism-tcl.min.js\": [\n\t\t\"c362\",\n\t\t\"chunk-2d2167e2\"\n\t],\n\t\"./prism-textile\": [\n\t\t\"d6c3\",\n\t\t\"chunk-2d21ecf8\"\n\t],\n\t\"./prism-textile.js\": [\n\t\t\"d6c3\",\n\t\t\"chunk-2d21ecf8\"\n\t],\n\t\"./prism-textile.min\": [\n\t\t\"983a\",\n\t\t\"chunk-2d0e62e3\"\n\t],\n\t\"./prism-textile.min.js\": [\n\t\t\"983a\",\n\t\t\"chunk-2d0e62e3\"\n\t],\n\t\"./prism-tsx\": [\n\t\t\"1ec4\",\n\t\t\"chunk-2d0b6e7b\"\n\t],\n\t\"./prism-tsx.js\": [\n\t\t\"1ec4\",\n\t\t\"chunk-2d0b6e7b\"\n\t],\n\t\"./prism-tsx.min\": [\n\t\t\"1c1e\",\n\t\t\"chunk-2d0b611c\"\n\t],\n\t\"./prism-tsx.min.js\": [\n\t\t\"1c1e\",\n\t\t\"chunk-2d0b611c\"\n\t],\n\t\"./prism-tt2\": [\n\t\t\"bd03\",\n\t\t\"chunk-2d21aabb\"\n\t],\n\t\"./prism-tt2.js\": [\n\t\t\"bd03\",\n\t\t\"chunk-2d21aabb\"\n\t],\n\t\"./prism-tt2.min\": [\n\t\t\"843a\",\n\t\t\"chunk-2d0ddf80\"\n\t],\n\t\"./prism-tt2.min.js\": [\n\t\t\"843a\",\n\t\t\"chunk-2d0ddf80\"\n\t],\n\t\"./prism-twig\": [\n\t\t\"c4c9\",\n\t\t\"chunk-2d21711d\"\n\t],\n\t\"./prism-twig.js\": [\n\t\t\"c4c9\",\n\t\t\"chunk-2d21711d\"\n\t],\n\t\"./prism-twig.min\": [\n\t\t\"93ad\",\n\t\t\"chunk-2d0e55b3\"\n\t],\n\t\"./prism-twig.min.js\": [\n\t\t\"93ad\",\n\t\t\"chunk-2d0e55b3\"\n\t],\n\t\"./prism-typescript\": [\n\t\t\"2cb2\",\n\t\t\"chunk-2d0bdb37\"\n\t],\n\t\"./prism-typescript.js\": [\n\t\t\"2cb2\",\n\t\t\"chunk-2d0bdb37\"\n\t],\n\t\"./prism-typescript.min\": [\n\t\t\"dd78\",\n\t\t\"chunk-2d229457\"\n\t],\n\t\"./prism-typescript.min.js\": [\n\t\t\"dd78\",\n\t\t\"chunk-2d229457\"\n\t],\n\t\"./prism-vbnet\": [\n\t\t\"e563\",\n\t\t\"chunk-2d225823\"\n\t],\n\t\"./prism-vbnet.js\": [\n\t\t\"e563\",\n\t\t\"chunk-2d225823\"\n\t],\n\t\"./prism-vbnet.min\": [\n\t\t\"87b5e\",\n\t\t\"chunk-74b0191d\"\n\t],\n\t\"./prism-vbnet.min.js\": [\n\t\t\"87b5e\",\n\t\t\"chunk-74b0191d\"\n\t],\n\t\"./prism-velocity\": [\n\t\t\"fe73\",\n\t\t\"chunk-2d2380d1\"\n\t],\n\t\"./prism-velocity.js\": [\n\t\t\"fe73\",\n\t\t\"chunk-2d2380d1\"\n\t],\n\t\"./prism-velocity.min\": [\n\t\t\"cb8c\",\n\t\t\"chunk-2d2218c0\"\n\t],\n\t\"./prism-velocity.min.js\": [\n\t\t\"cb8c\",\n\t\t\"chunk-2d2218c0\"\n\t],\n\t\"./prism-verilog\": [\n\t\t\"f697\",\n\t\t\"chunk-2d22d0a4\"\n\t],\n\t\"./prism-verilog.js\": [\n\t\t\"f697\",\n\t\t\"chunk-2d22d0a4\"\n\t],\n\t\"./prism-verilog.min\": [\n\t\t\"9c95\",\n\t\t\"chunk-2d0f04dc\"\n\t],\n\t\"./prism-verilog.min.js\": [\n\t\t\"9c95\",\n\t\t\"chunk-2d0f04dc\"\n\t],\n\t\"./prism-vhdl\": [\n\t\t\"d99c\",\n\t\t\"chunk-2d21f355\"\n\t],\n\t\"./prism-vhdl.js\": [\n\t\t\"d99c\",\n\t\t\"chunk-2d21f355\"\n\t],\n\t\"./prism-vhdl.min\": [\n\t\t\"2950\",\n\t\t\"chunk-2d0b3818\"\n\t],\n\t\"./prism-vhdl.min.js\": [\n\t\t\"2950\",\n\t\t\"chunk-2d0b3818\"\n\t],\n\t\"./prism-vim\": [\n\t\t\"97c2\",\n\t\t\"chunk-2d0e64c3\"\n\t],\n\t\"./prism-vim.js\": [\n\t\t\"97c2\",\n\t\t\"chunk-2d0e64c3\"\n\t],\n\t\"./prism-vim.min\": [\n\t\t\"066a\",\n\t\t\"chunk-2d0a4467\"\n\t],\n\t\"./prism-vim.min.js\": [\n\t\t\"066a\",\n\t\t\"chunk-2d0a4467\"\n\t],\n\t\"./prism-visual-basic\": [\n\t\t\"23cd\",\n\t\t\"chunk-2d0b2758\"\n\t],\n\t\"./prism-visual-basic.js\": [\n\t\t\"23cd\",\n\t\t\"chunk-2d0b2758\"\n\t],\n\t\"./prism-visual-basic.min\": [\n\t\t\"3ca5\",\n\t\t\"chunk-2d0c4f7a\"\n\t],\n\t\"./prism-visual-basic.min.js\": [\n\t\t\"3ca5\",\n\t\t\"chunk-2d0c4f7a\"\n\t],\n\t\"./prism-wasm\": [\n\t\t\"3687\",\n\t\t\"chunk-2d0ba198\"\n\t],\n\t\"./prism-wasm.js\": [\n\t\t\"3687\",\n\t\t\"chunk-2d0ba198\"\n\t],\n\t\"./prism-wasm.min\": [\n\t\t\"4efb\",\n\t\t\"chunk-2d0ccc23\"\n\t],\n\t\"./prism-wasm.min.js\": [\n\t\t\"4efb\",\n\t\t\"chunk-2d0ccc23\"\n\t],\n\t\"./prism-wiki\": [\n\t\t\"008e\",\n\t\t\"chunk-2d0a2e23\"\n\t],\n\t\"./prism-wiki.js\": [\n\t\t\"008e\",\n\t\t\"chunk-2d0a2e23\"\n\t],\n\t\"./prism-wiki.min\": [\n\t\t\"46a9\",\n\t\t\"chunk-2d0c1af0\"\n\t],\n\t\"./prism-wiki.min.js\": [\n\t\t\"46a9\",\n\t\t\"chunk-2d0c1af0\"\n\t],\n\t\"./prism-xeora\": [\n\t\t\"b4e8\",\n\t\t\"chunk-2d20fcfb\"\n\t],\n\t\"./prism-xeora.js\": [\n\t\t\"b4e8\",\n\t\t\"chunk-2d20fcfb\"\n\t],\n\t\"./prism-xeora.min\": [\n\t\t\"bfbe\",\n\t\t\"chunk-2d21b87d\"\n\t],\n\t\"./prism-xeora.min.js\": [\n\t\t\"bfbe\",\n\t\t\"chunk-2d21b87d\"\n\t],\n\t\"./prism-xojo\": [\n\t\t\"24fd\",\n\t\t\"chunk-2d0b2b76\"\n\t],\n\t\"./prism-xojo.js\": [\n\t\t\"24fd\",\n\t\t\"chunk-2d0b2b76\"\n\t],\n\t\"./prism-xojo.min\": [\n\t\t\"b5e4\",\n\t\t\"chunk-2d2100b8\"\n\t],\n\t\"./prism-xojo.min.js\": [\n\t\t\"b5e4\",\n\t\t\"chunk-2d2100b8\"\n\t],\n\t\"./prism-xquery\": [\n\t\t\"f46f\",\n\t\t\"chunk-2d22c8f4\"\n\t],\n\t\"./prism-xquery.js\": [\n\t\t\"f46f\",\n\t\t\"chunk-2d22c8f4\"\n\t],\n\t\"./prism-xquery.min\": [\n\t\t\"c755\",\n\t\t\"chunk-2d2176ca\"\n\t],\n\t\"./prism-xquery.min.js\": [\n\t\t\"c755\",\n\t\t\"chunk-2d2176ca\"\n\t],\n\t\"./prism-yaml\": [\n\t\t\"2e75\",\n\t\t\"chunk-2d0bdd87\"\n\t],\n\t\"./prism-yaml.js\": [\n\t\t\"2e75\",\n\t\t\"chunk-2d0bdd87\"\n\t],\n\t\"./prism-yaml.min\": [\n\t\t\"b16b\",\n\t\t\"chunk-2d20ec31\"\n\t],\n\t\"./prism-yaml.min.js\": [\n\t\t\"b16b\",\n\t\t\"chunk-2d20ec31\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"3adb\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"73332\",\n\t\"./en-il.js\": \"73332\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"editor\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// DOTO: Don't use Node API in editor folder, remove `path` @jocs\n// todo@jocs: remove the use of `axios` in muya\nimport axios from 'axios'\nimport createDOMPurify from 'dompurify'\n\nconst ID_PREFIX = 'ag-'\nlet id = 0\nexport const getUniqueId = () => `${ID_PREFIX}${id++}`\n\nexport const getLongUniqueId = () => `${getUniqueId()}-${(+new Date()).toString(32)}`\n\nexport const isMetaKey = ({ key }) => key === 'Shift' || key === 'Control' || key === 'Alt' || key === 'Meta'\n\nexport const noop = () => {}\n\nexport const identity = i => i\n\nexport const isOdd = number => Math.abs(number) % 2 === 1\n\nexport const isEven = number => Math.abs(number) % 2 === 0\n\nexport const isLengthEven = (str = '') => str.length % 2 === 0\n\nexport const snakeToCamel = name => name.replace(/_([a-z])/g, (p0, p1) => p1.toUpperCase())\n/**\n *  Are two arrays have intersection\n */\nexport const conflict = (arr1, arr2) => {\n  return !(arr1[1] < arr2[0] || arr2[1] < arr1[0])\n}\n\nexport const union = ({ start: tStart, end: tEnd }, { start: lStart, end: lEnd, active }) => {\n  if (!(tEnd <= lStart || lEnd <= tStart)) {\n    if (lStart < tStart) {\n      return {\n        start: tStart,\n        end: tEnd < lEnd ? tEnd : lEnd,\n        active\n      }\n    } else {\n      return {\n        start: lStart,\n        end: tEnd < lEnd ? tEnd : lEnd,\n        active\n      }\n    }\n  }\n  return null\n}\n\n// https://github.com/jashkenas/underscore\nexport const throttle = (func, wait = 50) => {\n  let context\n  let args\n  let result\n  let timeout = null\n  let previous = 0\n  const later = () => {\n    previous = Date.now()\n    timeout = null\n    result = func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  return function () {\n    const now = Date.now()\n    const remaining = wait - (now - previous)\n\n    context = this\n    args = arguments\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      result = func.apply(context, args)\n      if (!timeout) {\n        context = args = null\n      }\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining)\n    }\n    return result\n  }\n}\n// simple implementation...\nexport const debounce = (func, wait = 50) => {\n  let timer = null\n  return function (...args) {\n    if (timer) clearTimeout(timer)\n    timer = setTimeout(() => {\n      func(...args)\n    }, wait)\n  }\n}\n\nexport const deepCopyArray = array => {\n  const result = []\n  const len = array.length\n  let i\n  for (i = 0; i < len; i++) {\n    if (typeof array[i] === 'object' && array[i] !== null) {\n      if (Array.isArray(array[i])) {\n        result.push(deepCopyArray(array[i]))\n      } else {\n        result.push(deepCopy(array[i]))\n      }\n    } else {\n      result.push(array[i])\n    }\n  }\n  return result\n}\n\n// TODO: @jocs rewrite deepCopy\nexport const deepCopy = object => {\n  const obj = {}\n  Object.keys(object).forEach(key => {\n    if (typeof object[key] === 'object' && object[key] !== null) {\n      if (Array.isArray(object[key])) {\n        obj[key] = deepCopyArray(object[key])\n      } else {\n        obj[key] = deepCopy(object[key])\n      }\n    } else {\n      obj[key] = object[key]\n    }\n  })\n  return obj\n}\n\nexport const loadImage = async (url, detectContentType) => {\n  if (detectContentType) {\n    const isImage = await checkImageContentType(url)\n    if (!isImage) throw new Error('not an image')\n  }\n  return new Promise((resolve, reject) => {\n    const image = new Image()\n    image.onload = () => {\n      resolve(url)\n    }\n    image.onerror = err => {\n      reject(err)\n    }\n    image.src = url\n  })\n}\n\nexport const checkImageContentType = async url => {\n  try {\n    const res = await axios.head(url)\n    const contentType = res.headers['content-type']\n    if (res.status === 200 && /^image\\/(?:jpeg|png|gif|svg\\+xml|webp)$/.test(contentType)) {\n      return true\n    }\n    return false\n  } catch (err) {\n    return false\n  }\n}\n\nexport const getImageInfo = src => {\n  const EXT_REG = /\\.(jpeg|jpg|png|gif|svg|webp)(?=\\?|$)/i\n  // http[s] (domain or IPv4 or localhost or IPv6) [port] /not-white-space\n  const URL_REG = /^http(s)?:\\/\\/([a-z0-9\\-._~]+\\.[a-z]{2,}|[0-9.]+|localhost|\\[[a-f0-9.:]+\\])(:[0-9]{1,5})?\\/[\\S]+/i\n  const DATA_URL_REG = /^data:image\\/[\\w+-]+(;[\\w-]+=[\\w-]+|;base64)*,[a-zA-Z0-9+/]+={0,2}$/\n  const imageExtension = EXT_REG.test(src)\n  const isUrl = URL_REG.test(src)\n  if (imageExtension) {\n    if (isUrl || !window.DIRNAME) {\n      return {\n        isUnknownType: false,\n        src\n      }\n    } else if (window && window.process && window.process.type === 'renderer') {\n      return {\n        isUnknownType: false,\n        src: 'file://' + require('path').resolve(window.DIRNAME, src)\n      }\n    }\n  } else if (isUrl && !imageExtension) {\n    return {\n      isUnknownType: true,\n      src\n    }\n  } else {\n    const isDataUrl = DATA_URL_REG.test(src)\n    if (isDataUrl) {\n      return {\n        isUnknownType: false,\n        src\n      }\n    } else {\n      return {\n        isUnknownType: false,\n        src: ''\n      }\n    }\n  }\n}\n\nexport const escapeHtml = html => {\n  return html\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;')\n}\n\nexport const unescapeHtml = text => {\n  return text\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&quot;/g, '\"')\n    .replace(/&#39;/g, `'`)\n}\n\nexport const escapeInBlockHtml = html => {\n  return html\n    .replace(/(<(style|script|title)[^<>]*>)([\\s\\S]*?)(<\\/\\2>)/g, (m, p1, p2, p3, p4) => {\n      return `${escapeHtml(p1)}${p3}${escapeHtml(p4)}`\n    })\n}\n\nexport const wordCount = markdown => {\n  const paragraph = markdown.split(/\\n{2,}/).filter(line => line).length\n  let word = 0\n  let character = 0\n  let all = 0\n\n  const removedChinese = markdown.replace(/[\\u4e00-\\u9fa5]/g, '')\n  const tokens = removedChinese.split(/[\\s\\n]+/).filter(t => t)\n  const chineseWordLength = markdown.length - removedChinese.length\n  word += chineseWordLength + tokens.length\n  character += tokens.reduce((acc, t) => acc + t.length, 0) + chineseWordLength\n  all += markdown.length\n\n  return { word, paragraph, character, all }\n}\n\n/**\n * [genUpper2LowerKeyHash generate constants map hash, the value is lowercase of the key,\n * also translate `_` to `-`]\n */\nexport const genUpper2LowerKeyHash = keys => {\n  return keys.reduce((acc, key) => {\n    const value = key.toLowerCase().replace(/_/g, '-')\n    return Object.assign(acc, { [key]: value })\n  }, {})\n}\n\n/**\n * generate constants map, the value is the key.\n */\nexport const generateKeyHash = keys => {\n  return keys.reduce((acc, key) => {\n    return Object.assign(acc, { [key]: key })\n  }, {})\n}\n\n// mixins\nexport const mixins = (constructor, ...object) => {\n  return Object.assign(constructor.prototype, ...object)\n}\n\nexport const sanitize = (html, options) => {\n  const DOMPurify = createDOMPurify(window)\n  return DOMPurify.sanitize(escapeInBlockHtml(html), options)\n}\n\nexport const getParagraphReference = (ele, id) => {\n  const { x, y, left, top, bottom, height } = ele.getBoundingClientRect()\n  return {\n    getBoundingClientRect () {\n      return { x, y, left, top, bottom, height, width: 0, right: left }\n    },\n    clientWidth: 0,\n    clientHeight: height,\n    id\n  }\n}\n","import { generateKeyHash, genUpper2LowerKeyHash, getLongUniqueId } from '../utils'\nimport htmlTags from 'html-tags'\nimport voidHtmlTags from 'html-tags/void'\n\n// [0.25, 0.5, 1, 2, 4, 8] <—?—> [256M, 500M/768M, 1G/1000M, 2G, 4G, 8G]\n// Electron 2.0.2 not support yet! So give a default value 4\nexport const DEVICE_MEMORY = navigator.deviceMemory || 4 // Get the divice memory number(Chrome >= 63)\nexport const UNDO_DEPTH = DEVICE_MEMORY >= 4 ? 100 : 50\nexport const HAS_TEXT_BLOCK_REG = /^(h\\d|span|th|td|hr)/i\nexport const VOID_HTML_TAGS = voidHtmlTags\nexport const HTML_TAGS = htmlTags\n// TYPE1 ~ TYPE7 according to https://github.github.com/gfm/#html-blocks\nexport const BLOCK_TYPE1 = [\n  'script', 'pre', 'style'\n]\n\nexport const BLOCK_TYPE2_REG = /^<!--(?=\\s).*\\s+-->$/\n\nexport const BLOCK_TYPE6 = [\n  'address', 'article', 'aside', 'base', 'basefont', 'blockquote', 'body', 'caption', 'center', 'col', 'colgroup', 'dd',\n  'details', 'dialog', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frame', 'frameset',\n  'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hr', 'html', 'iframe', 'legend', 'li', 'link', 'main', 'menu',\n  'menuitem', 'meta', 'nav', 'noframes', 'ol', 'optgroup', 'option', 'p', 'param', 'section', 'source', 'summary', 'table',\n  'tbody', 'td', 'tfoot', 'th', 'thead', 'title', 'tr', 'track', 'ul'\n]\n\nexport const BLOCK_TYPE7 = htmlTags.filter(tag => {\n  return !BLOCK_TYPE1.find(t => t === tag) && !BLOCK_TYPE6.find(t => t === tag)\n})\n\nexport const IMAGE_EXT_REG = /\\.(jpeg|jpg|png|gif|svg|webp)(?=\\?|$)/i\n\nexport const PARAGRAPH_TYPES = ['p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre', 'ul', 'ol', 'li', 'figure']\n\nexport const blockContainerElementNames = [\n  // elements our editor generates\n  ...PARAGRAPH_TYPES,\n  // all other known block elements\n  'address', 'article', 'aside', 'audio', 'canvas', 'dd', 'dl', 'dt', 'fieldset',\n  'figcaption', 'footer', 'form', 'header', 'hgroup', 'main', 'nav',\n  'noscript', 'output', 'section', 'video',\n  'table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td'\n]\n\nexport const emptyElementNames = ['br', 'col', 'colgroup', 'hr', 'img', 'input', 'source', 'wbr']\n\nexport const EVENT_KEYS = generateKeyHash([\n  'Enter',\n  'Backspace',\n  'Delete',\n  'ArrowUp',\n  'ArrowDown',\n  'ArrowLeft',\n  'ArrowRight',\n  'Tab',\n  'Escape'\n])\n\nexport const LOWERCASE_TAGS = generateKeyHash([\n  ...blockContainerElementNames, ...emptyElementNames, 'div'\n])\n\nexport const CLASS_OR_ID = genUpper2LowerKeyHash([\n  'AG_GRAY',\n  'AG_HIDE',\n  'AG_WARN',\n  'AG_PARAGRAPH', // => 'ag-paragraph'\n  'AG_LINE',\n  'AG_ACTIVE',\n  'AG_EDITOR_ID',\n  'AG_EMOJI_MARKED_TEXT',\n  'AG_FENCE_CODE',\n  'AG_INDENT_CODE',\n  'AG_HTML_BLOCK',\n  'AG_HTML_ESCAPE',\n  'AG_FRONT_MATTER',\n  'AG_CODE_LINE',\n  'AG_CODE_LINE_ADD',\n  'AG_CODE_LINE_MINUS',\n  'AG_SHOW_PREVIEW',\n  'AG_HTML_PREVIEW',\n  'AG_LANGUAGE',\n  'AG_LANGUAGE_INPUT',\n  'AG_TEMP',\n  'AG_FOCUS_MODE',\n  'AG_LINK_IN_BRACKET',\n  'AG_BACKLASH',\n  'AG_BUG', // for remove bug\n  'AG_IMAGE_MARKED_TEXT',\n  'AG_IMAGE_FAIL',\n  'AG_IMAGE_SRC',\n  'AG_REMOVE',\n  'AG_COPY_REMOVE',\n  'AG_OUTPUT_REMOVE',\n  'AG_EMOJI_MARKER',\n  'AG_NOTEXT_LINK',\n  'AG_LIST_ITEM',\n  'AG_ORDER_LIST',\n  'AG_ORDER_LIST_ITEM',\n  'AG_BULLET_LIST',\n  'AG_BULLET_LIST_ITEM',\n  'AG_TASK_LIST',\n  'AG_TASK_LIST_ITEM',\n  'AG_TASK_LIST_ITEM_CHECKBOX',\n  'AG_CHECKBOX_CHECKED',\n  'AG_TOOL_BAR',\n  'AG_SELECTION',\n  'AG_HIGHLIGHT',\n  'AG_MATH',\n  'AG_MATH_TEXT',\n  'AG_MATH_RENDER',\n  'AG_MATH_ERROR',\n  'AG_EMPTY',\n  'AG_MATH_MARKER',\n  'AG_CONTAINER_PREVIEW',\n  'AG_FLOWCHART',\n  'AG_SEQUENCE',\n  'AG_MERMAID',\n  'AG_VEGA_LITE',\n  'AG_CONTAINER_BLOCK',\n  'AG_MULTIPLE_MATH',\n  'AG_LOOSE_LIST_ITEM',\n  'AG_TIGHT_LIST_ITEM',\n  'AG_HTML_TAG',\n  'AG_LINK',\n  'AG_HARD_LINE_BREAK',\n  'AG_SOFT_LINE_BREAK',\n  'AG_INLINE_RULE',\n  'AG_REFERENCE_LABEL',\n  'AG_REFERENCE_TITLE',\n  'AG_REFERENCE_MARKER',\n  'AG_REFERENCE_LINK'\n])\n\nexport const DAED_REMOVE_SELECTOR = new Set([\n  '.ag-image-marked-text::before',\n  '.ag-image-marked-text.ag-image-fail::before',\n  '.ag-hide',\n  '.ag-gray',\n  '.ag-warn'\n])\n\nexport const CURSOR_DNA = getLongUniqueId()\n\nexport const DEFAULT_TURNDOWN_CONFIG = {\n  headingStyle: 'atx', // setext or atx\n  bulletListMarker: '-', // -, +, or *\n  codeBlockStyle: 'fenced', // fenced or indented\n  fence: '```', // ``` or ~~~\n  emDelimiter: '*', // _ or *\n  strongDelimiter: '**' // ** or __\n}\n\nexport const FORMAT_MARKER_MAP = {\n  'em': '*',\n  'inline_code': '`',\n  'strong': '**',\n  'del': '~~'\n}\n\nexport const FORMAT_TYPES = ['strong', 'em', 'del', 'inline_code', 'link', 'image']\n\nexport const punctuation = ['!', '\"', '#', '$', '%', '&', \"'\", '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', '\\\\', ']', '^', '_', '`', '{', '|', '}', '~']\n\nexport const TABLE_TOOLS = [{\n  label: 'table',\n  title: 'Resize Table',\n  icon: 'icon-table'\n}, {\n  label: 'left',\n  title: 'Align Left',\n  icon: 'icon-alignleft'\n}, {\n  label: 'center',\n  title: 'Align Center',\n  icon: 'icon-aligncenter'\n}, {\n  label: 'right',\n  title: 'Align Right',\n  icon: 'icon-alignright'\n}, {\n  label: 'delete',\n  title: 'Delete Table',\n  icon: 'icon-del'\n}]\n\nexport const HTML_TOOLS = [{\n  label: 'delete',\n  title: 'Delete HTML',\n  icon: 'icon-del'\n}]\n\nexport const LINE_BREAK = '\\n'\n\nexport const PREVIEW_DOMPURIFY_CONFIG = {\n  // do not forbit `class` because `code` element use class to present language\n  FORBID_ATTR: ['style', 'contenteditable'],\n  ALLOW_DATA_ATTR: false,\n  USE_PROFILES: {\n    html: true,\n    svg: true,\n    svgFilters: true,\n    mathMl: true\n  }\n}\n\nexport const EXPORT_DOMPURIFY_CONFIG = {\n  FORBID_ATTR: ['contenteditable'],\n  ALLOW_DATA_ATTR: false,\n  USE_PROFILES: {\n    html: true,\n    svg: true,\n    svgFilters: true,\n    mathMl: true\n  }\n}\n\nexport const MUYA_DEFAULT_OPTION = {\n  focusMode: false,\n  theme: 'light',\n  markdown: '',\n  preferLooseListItem: true,\n  autoPairBracket: true,\n  autoPairMarkdownSyntax: true,\n  autoPairQuote: true,\n  bulletListMarker: '-',\n  tabSize: 4,\n  sequenceTheme: 'hand', // hand or simple\n  mermaidTheme: 'forest' // dark or forest\n}\n\n// export const DIAGRAM_TEMPLATE = {\n//   'mermaid': `graph LR;\\nYou-->|Mark Text|Me;`\n// }\n\nexport const isInElectron = window && window.process && window.process.type === 'renderer'\nexport const isOsx = window && window.navigator && /Mac/.test(window.navigator.platform)\n","import {\n  LOWERCASE_TAGS, CLASS_OR_ID, blockContainerElementNames, emptyElementNames\n} from '../config'\nconst CHOP_TEXT_REG = /(\\*{1,3})([^*]+)(\\1)/g\n\nexport const getTextContent = (node, blackList) => {\n  if (!blackList) return node.textContent\n  let text = ''\n  if (blackList.some(className => node.classList && node.classList.contains(className))) {\n    return text\n  }\n  if (node.nodeType === 3) {\n    text += node.textContent\n  } else {\n    const childNodes = node.childNodes\n    for (const n of childNodes) {\n      text += getTextContent(n, blackList)\n    }\n  }\n  return text\n}\n\nexport const findNearestParagraph = node => {\n  do {\n    if (isAganippeParagraph(node)) return node\n    node = node.parentNode\n  } while (node)\n}\n\nexport const findOutMostParagraph = node => {\n  do {\n    let parentNode = node.parentNode\n    if (isAganippeEditorElement(parentNode) && isAganippeParagraph(node)) return node\n    node = parentNode\n  } while (node)\n}\n\nexport const isAganippeParagraph = element => {\n  return element && element.classList && element.classList.contains(CLASS_OR_ID['AG_PARAGRAPH'])\n}\n\nexport const isBlockContainer = element => {\n  return element && element.nodeType !== 3 &&\n  blockContainerElementNames.indexOf(element.nodeName.toLowerCase()) !== -1\n}\n\nexport const isAganippeEditorElement = element => {\n  return element && element.id === CLASS_OR_ID['AG_EDITOR_ID']\n}\n\nexport const traverseUp = (current, testElementFunction) => {\n  if (!current) {\n    return false\n  }\n\n  do {\n    if (current.nodeType === 1) {\n      if (testElementFunction(current)) {\n        return current\n      }\n      // do not traverse upwards past the nearest containing editor\n      if (isAganippeEditorElement(current)) {\n        return false\n      }\n    }\n\n    current = current.parentNode\n  } while (current)\n\n  return false\n}\n\nexport const getFirstSelectableLeafNode = element => {\n  while (element && element.firstChild) {\n    element = element.firstChild\n  }\n\n  // We don't want to set the selection to an element that can't have children, this messes up Gecko.\n  element = traverseUp(element, el => {\n    return emptyElementNames.indexOf(el.nodeName.toLowerCase()) === -1\n  })\n  // Selecting at the beginning of a table doesn't work in PhantomJS.\n  if (element.nodeName.toLowerCase() === LOWERCASE_TAGS.table) {\n    const firstCell = element.querySelector('th, td')\n    if (firstCell) {\n      element = firstCell\n    }\n  }\n  return element\n}\n\nexport const isElementAtBeginningOfBlock = node => {\n  let textVal\n  let sibling\n  while (!isBlockContainer(node) && !isAganippeEditorElement(node)) {\n    sibling = node.previousSibling\n    while (sibling) {\n      textVal = sibling.nodeType === 3 ? sibling.nodeValue : sibling.textContent\n      if (textVal.length > 0) {\n        return false\n      }\n      sibling = sibling.previousSibling\n    }\n    node = node.parentNode\n  }\n  return true\n}\n\nexport const findPreviousSibling = node => {\n  if (!node || isAganippeEditorElement(node)) {\n    return false\n  }\n\n  let previousSibling = node.previousSibling\n  while (!previousSibling && !isAganippeEditorElement(node.parentNode)) {\n    node = node.parentNode\n    previousSibling = node.previousSibling\n  }\n\n  return previousSibling\n}\n\nexport const getClosestBlockContainer = node => {\n  return traverseUp(node, node => {\n    return isBlockContainer(node) || isAganippeEditorElement(node)\n  })\n}\n\nexport const getCursorPositionWithinMarkedText = (markedText, cursorOffset) => {\n  const chunks = []\n  let match\n  let result = { type: 'OUT' }\n\n  do {\n    match = CHOP_TEXT_REG.exec(markedText)\n    if (match) {\n      chunks.push({\n        index: match.index + match[1].length,\n        leftSymbol: match[1],\n        rightSymbol: match[3],\n        lastIndex: CHOP_TEXT_REG.lastIndex - match[3].length\n      })\n    }\n  } while (match)\n\n  chunks.forEach(chunk => {\n    const { index, leftSymbol, rightSymbol, lastIndex } = chunk\n    if (cursorOffset > index && cursorOffset < lastIndex) {\n      result = { type: 'IN', info: leftSymbol } // rightSymbol is also ok\n    } else if (cursorOffset === index) {\n      result = { type: 'LEFT', info: leftSymbol.length }\n    } else if (cursorOffset === lastIndex) {\n      result = { type: 'RIGHT', info: rightSymbol.length }\n    }\n  })\n  return result\n}\n\nexport const compareParagraphsOrder = (paragraph1, paragraph2) => {\n  return paragraph1.compareDocumentPosition(paragraph2) & Node.DOCUMENT_POSITION_FOLLOWING\n}\n","/**\n * This file is copy from [medium-editor](https://github.com/yabwe/medium-editor)\n * and customize for specialized use.\n */\nimport {\n  isBlockContainer,\n  traverseUp,\n  isAganippeEditorElement,\n  getFirstSelectableLeafNode,\n  isElementAtBeginningOfBlock,\n  findPreviousSibling,\n  getClosestBlockContainer,\n  getCursorPositionWithinMarkedText,\n  compareParagraphsOrder,\n  findNearestParagraph,\n  getTextContent\n} from './dom'\n\nimport { CLASS_OR_ID } from '../config'\n\nconst filterOnlyParentElements = node => {\n  return isBlockContainer(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP\n}\n\nclass Selection {\n  constructor (doc) {\n    this.doc = doc // document\n  }\n\n  findMatchingSelectionParent (testElementFunction, contentWindow) {\n    const selection = contentWindow.getSelection()\n    let range\n    let current\n\n    if (selection.rangeCount === 0) {\n      return false\n    }\n\n    range = selection.getRangeAt(0)\n    current = range.commonAncestorContainer\n\n    return traverseUp(current, testElementFunction)\n  }\n\n  getSelectionElement (contentWindow) {\n    return this.findMatchingSelectionParent(el => {\n      return isAganippeEditorElement(el)\n    }, contentWindow)\n  }\n\n  // https://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n  // Tim Down\n  exportSelection (root) {\n    if (!root) {\n      return null\n    }\n\n    let selectionState = null\n    const selection = this.doc.getSelection()\n\n    if (selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0)\n      const preSelectionRange = range.cloneRange()\n\n      preSelectionRange.selectNodeContents(root)\n      preSelectionRange.setEnd(range.startContainer, range.startOffset)\n\n      const start = preSelectionRange.toString().length\n      selectionState = {\n        start,\n        end: start + range.toString().length\n      }\n\n      // Check to see if the selection starts with any images\n      // if so we need to make sure the the beginning of the selection is\n      // set correctly when importing selection\n      if (this.doesRangeStartWithImages(range)) {\n        selectionState.startsWithImage = true\n      }\n\n      // Check to see if the selection has any trailing images\n      // if so, this this means we need to look for them when we import selection\n      const trailingImageCount = this.getTrailingImageCount(root, selectionState, range.endContainer, range.endOffset)\n      if (trailingImageCount) {\n        selectionState.trailingImageCount = trailingImageCount\n      }\n\n      // If start = 0 there may still be an empty paragraph before it, but we don't care.\n      if (start !== 0) {\n        const emptyBlocksIndex = this.getIndexRelativeToAdjacentEmptyBlocks(root, range.startContainer, range.startOffset)\n        if (emptyBlocksIndex !== -1) {\n          selectionState.emptyBlocksIndex = emptyBlocksIndex\n        }\n      }\n    }\n    return selectionState\n  }\n\n  // https://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n  // Tim Down\n  //\n  // {object} selectionState - the selection to import\n  // {DOMElement} root - the root element the selection is being restored inside of\n  // {boolean} [favorLaterSelectionAnchor] - defaults to false. If true, import the cursor immediately\n  //      subsequent to an anchor tag if it would otherwise be placed right at the trailing edge inside the\n  //      anchor. This cursor positioning, even though visually equivalent to the user, can affect behavior\n  //      in MS IE.\n  importSelection (selectionState, root, favorLaterSelectionAnchor) {\n    if (!selectionState || !root) {\n      throw new Error('your must provide a [selectionState] and a [root] element')\n    }\n\n    let range = this.doc.createRange()\n    range.setStart(root, 0)\n    range.collapse(true)\n\n    let node = root\n    const nodeStack = []\n    let charIndex = 0\n    let foundStart = false\n    let foundEnd = false\n    let trailingImageCount = 0\n    let stop = false\n    let nextCharIndex\n    let allowRangeToStartAtEndOfNode = false\n    let lastTextNode = null\n\n    // When importing selection, the start of the selection may lie at the end of an element\n    // or at the beginning of an element.  Since visually there is no difference between these 2\n    // we will try to move the selection to the beginning of an element since this is generally\n    // what users will expect and it's a more predictable behavior.\n    //\n    // However, there are some specific cases when we don't want to do this:\n    //  1) We're attempting to move the cursor outside of the end of an anchor [favorLaterSelectionAnchor = true]\n    //  2) The selection starts with an image, which is special since an image doesn't have any 'content'\n    //     as far as selection and ranges are concerned\n    //  3) The selection starts after a specified number of empty block elements (selectionState.emptyBlocksIndex)\n    //\n    // For these cases, we want the selection to start at a very specific location, so we should NOT\n    // automatically move the cursor to the beginning of the first actual chunk of text\n    if (favorLaterSelectionAnchor || selectionState.startsWithImage || typeof selectionState.emptyBlocksIndex !== 'undefined') {\n      allowRangeToStartAtEndOfNode = true\n    }\n\n    while (!stop && node) {\n      // Only iterate over elements and text nodes\n      if (node.nodeType > 3) {\n        node = nodeStack.pop()\n        continue\n      }\n\n      // If we hit a text node, we need to add the amount of characters to the overall count\n      if (node.nodeType === 3 && !foundEnd) {\n        nextCharIndex = charIndex + node.length\n        // Check if we're at or beyond the start of the selection we're importing\n        if (!foundStart && selectionState.start >= charIndex && selectionState.start <= nextCharIndex) {\n          // NOTE: We only want to allow a selection to start at the END of an element if\n          //  allowRangeToStartAtEndOfNode is true\n          if (allowRangeToStartAtEndOfNode || selectionState.start < nextCharIndex) {\n            range.setStart(node, selectionState.start - charIndex)\n            foundStart = true\n          } else {\n            // We're at the end of a text node where the selection could start but we shouldn't\n            // make the selection start here because allowRangeToStartAtEndOfNode is false.\n            // However, we should keep a reference to this node in case there aren't any more\n            // text nodes after this, so that we have somewhere to import the selection to\n            lastTextNode = node\n          }\n        }\n        // We've found the start of the selection, check if we're at or beyond the end of the selection we're importing\n        if (foundStart && selectionState.end >= charIndex && selectionState.end <= nextCharIndex) {\n          if (!selectionState.trailingImageCount) {\n            range.setEnd(node, selectionState.end - charIndex)\n            stop = true\n          } else {\n            foundEnd = true\n          }\n        }\n        charIndex = nextCharIndex\n      } else {\n        if (selectionState.trailingImageCount && foundEnd) {\n          if (node.nodeName.toLowerCase() === 'img') {\n            trailingImageCount++\n          }\n          if (trailingImageCount === selectionState.trailingImageCount) {\n            // Find which index the image is in its parent's children\n            let endIndex = 0\n            while (node.parentNode.childNodes[endIndex] !== node) {\n              endIndex++\n            }\n            range.setEnd(node.parentNode, endIndex + 1)\n            stop = true\n          }\n        }\n\n        if (!stop && node.nodeType === 1) {\n          // this is an element\n          // add all its children to the stack\n          let i = node.childNodes.length - 1\n          while (i >= 0) {\n            nodeStack.push(node.childNodes[i])\n            i -= 1\n          }\n        }\n      }\n\n      if (!stop) {\n        node = nodeStack.pop()\n      }\n    }\n\n    // If we've gone through the entire text but didn't find the beginning of a text node\n    // to make the selection start at, we should fall back to starting the selection\n    // at the END of the last text node we found\n    if (!foundStart && lastTextNode) {\n      range.setStart(lastTextNode, lastTextNode.length)\n      range.setEnd(lastTextNode, lastTextNode.length)\n    }\n\n    if (typeof selectionState.emptyBlocksIndex !== 'undefined') {\n      range = this.importSelectionMoveCursorPastBlocks(root, selectionState.emptyBlocksIndex, range)\n    }\n\n    // If the selection is right at the ending edge of a link, put it outside the anchor tag instead of inside.\n    if (favorLaterSelectionAnchor) {\n      range = this.importSelectionMoveCursorPastAnchor(selectionState, range)\n    }\n\n    this.selectRange(range)\n  }\n\n  // Utility method called from importSelection only\n  importSelectionMoveCursorPastAnchor (selectionState, range) {\n    const nodeInsideAnchorTagFunction = function (node) {\n      return node.nodeName.toLowerCase() === 'a'\n    }\n    if (selectionState.start === selectionState.end &&\n      range.startContainer.nodeType === 3 &&\n      range.startOffset === range.startContainer.nodeValue.length &&\n      traverseUp(range.startContainer, nodeInsideAnchorTagFunction)) {\n      let prevNode = range.startContainer\n      let currentNode = range.startContainer.parentNode\n      while (currentNode !== null && currentNode.nodeName.toLowerCase() !== 'a') {\n        if (currentNode.childNodes[currentNode.childNodes.length - 1] !== prevNode) {\n          currentNode = null\n        } else {\n          prevNode = currentNode\n          currentNode = currentNode.parentNode\n        }\n      }\n      if (currentNode !== null && currentNode.nodeName.toLowerCase() === 'a') {\n        let currentNodeIndex = null\n        for (let i = 0; currentNodeIndex === null && i < currentNode.parentNode.childNodes.length; i++) {\n          if (currentNode.parentNode.childNodes[i] === currentNode) {\n            currentNodeIndex = i\n          }\n        }\n        range.setStart(currentNode.parentNode, currentNodeIndex + 1)\n        range.collapse(true)\n      }\n    }\n    return range\n  }\n\n  // Uses the emptyBlocksIndex calculated by getIndexRelativeToAdjacentEmptyBlocks\n  // to move the cursor back to the start of the correct paragraph\n  importSelectionMoveCursorPastBlocks (root, index = 1, range) {\n    const treeWalker = this.doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, filterOnlyParentElements, false)\n    let startContainer = range.startContainer\n    let startBlock\n    let targetNode\n    let currIndex = 0\n    // If index is 0, we still want to move to the next block\n\n    // Chrome counts newlines and spaces that separate block elements as actual elements.\n    // If the selection is inside one of these text nodes, and it has a previous sibling\n    // which is a block element, we want the treewalker to start at the previous sibling\n    // and NOT at the parent of the textnode\n    if (startContainer.nodeType === 3 && isBlockContainer(startContainer.previousSibling)) {\n      startBlock = startContainer.previousSibling\n    } else {\n      startBlock = getClosestBlockContainer(startContainer)\n    }\n\n    // Skip over empty blocks until we hit the block we want the selection to be in\n    while (treeWalker.nextNode()) {\n      if (!targetNode) {\n        // Loop through all blocks until we hit the starting block element\n        if (startBlock === treeWalker.currentNode) {\n          targetNode = treeWalker.currentNode\n        }\n      } else {\n        targetNode = treeWalker.currentNode\n        currIndex++\n        // We hit the target index, bail\n        if (currIndex === index) {\n          break\n        }\n        // If we find a non-empty block, ignore the emptyBlocksIndex and just put selection here\n        if (targetNode.textContent.length > 0) {\n          break\n        }\n      }\n    }\n\n    if (!targetNode) {\n      targetNode = startBlock\n    }\n\n    // We're selecting a high-level block node, so make sure the cursor gets moved into the deepest\n    // element at the beginning of the block\n    range.setStart(getFirstSelectableLeafNode(targetNode), 0)\n\n    return range\n  }\n\n  // Returns -1 unless the cursor is at the beginning of a paragraph/block\n  // If the paragraph/block is preceded by empty paragraphs/block (with no text)\n  // it will return the number of empty paragraphs before the cursor.\n  // Otherwise, it will return 0, which indicates the cursor is at the beginning\n  // of a paragraph/block, and not at the end of the paragraph/block before it\n  getIndexRelativeToAdjacentEmptyBlocks (root, cursorContainer, cursorOffset) {\n    // If there is text in front of the cursor, that means there isn't only empty blocks before it\n    if (cursorContainer.textContent.length > 0 && cursorOffset > 0) {\n      return -1\n    }\n\n    // Check if the block that contains the cursor has any other text in front of the cursor\n    let node = cursorContainer\n    if (node.nodeType !== 3) {\n      node = cursorContainer.childNodes[cursorOffset]\n    }\n    if (node) {\n      // The element isn't at the beginning of a block, so it has content before it\n      if (!isElementAtBeginningOfBlock(node)) {\n        return -1\n      }\n\n      const previousSibling = findPreviousSibling(node)\n      // If there is no previous sibling, this is the first text element in the editor\n      if (!previousSibling) {\n        return -1\n      } else if (previousSibling.nodeValue) {\n        // If the previous sibling has text, then there are no empty blocks before this\n        return -1\n      }\n    }\n\n    // Walk over block elements, counting number of empty blocks between last piece of text\n    // and the block the cursor is in\n    const closestBlock = getClosestBlockContainer(cursorContainer)\n    const treeWalker = this.doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, filterOnlyParentElements, false)\n    let emptyBlocksCount = 0\n    while (treeWalker.nextNode()) {\n      const blockIsEmpty = treeWalker.currentNode.textContent === ''\n      if (blockIsEmpty || emptyBlocksCount > 0) {\n        emptyBlocksCount += 1\n      }\n      if (treeWalker.currentNode === closestBlock) {\n        return emptyBlocksCount\n      }\n      if (!blockIsEmpty) {\n        emptyBlocksCount = 0\n      }\n    }\n\n    return emptyBlocksCount\n  }\n\n  // Returns true if the selection range begins with an image tag\n  // Returns false if the range starts with any non empty text nodes\n  doesRangeStartWithImages (range) {\n    if (range.startOffset !== 0 || range.startContainer.nodeType !== 1) {\n      return false\n    }\n\n    if (range.startContainer.nodeName.toLowerCase() === 'img') {\n      return true\n    }\n\n    const img = range.startContainer.querySelector('img')\n    if (!img) {\n      return false\n    }\n\n    const treeWalker = this.doc.createTreeWalker(range.startContainer, NodeFilter.SHOW_ALL, null, false)\n    while (treeWalker.nextNode()) {\n      const next = treeWalker.currentNode\n      // If we hit the image, then there isn't any text before the image so\n      // the image is at the beginning of the range\n      if (next === img) {\n        break\n      }\n      // If we haven't hit the iamge, but found text that contains content\n      // then the range doesn't start with an image\n      if (next.nodeValue) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  getTrailingImageCount (root, selectionState, endContainer, endOffset) {\n    // If the endOffset of a range is 0, the endContainer doesn't contain images\n    // If the endContainer is a text node, there are no trailing images\n    if (endOffset === 0 || endContainer.nodeType !== 1) {\n      return 0\n    }\n\n    // If the endContainer isn't an image, and doesn't have an image descendants\n    // there are no trailing images\n    if (endContainer.nodeName.toLowerCase() !== 'img' && !endContainer.querySelector('img')) {\n      return 0\n    }\n\n    let lastNode = endContainer.childNodes[endOffset - 1]\n    while (lastNode.hasChildNodes()) {\n      lastNode = lastNode.lastChild\n    }\n\n    let node = root\n    const nodeStack = []\n    let charIndex = 0\n    let foundStart = false\n    let foundEnd = false\n    let stop = false\n    let nextCharIndex\n    let trailingImages = 0\n\n    while (!stop && node) {\n      // Only iterate over elements and text nodes\n      if (node.nodeType > 3) {\n        node = nodeStack.pop()\n        continue\n      }\n\n      if (node.nodeType === 3 && !foundEnd) {\n        trailingImages = 0\n        nextCharIndex = charIndex + node.length\n        if (!foundStart && selectionState.start >= charIndex && selectionState.start <= nextCharIndex) {\n          foundStart = true\n        }\n        if (foundStart && selectionState.end >= charIndex && selectionState.end <= nextCharIndex) {\n          foundEnd = true\n        }\n        charIndex = nextCharIndex\n      } else {\n        if (node.nodeName.toLowerCase() === 'img') {\n          trailingImages++\n        }\n\n        if (node === lastNode) {\n          stop = true\n        } else if (node.nodeType === 1) {\n          // this is an element\n          // add all its children to the stack\n          let i = node.childNodes.length - 1\n          while (i >= 0) {\n            nodeStack.push(node.childNodes[i])\n            i -= 1\n          }\n        }\n      }\n\n      if (!stop) {\n        node = nodeStack.pop()\n      }\n    }\n\n    return trailingImages\n  }\n\n  // determine if the current selection contains any 'content'\n  // content being any non-white space text or an image\n  selectionContainsContent () {\n    const sel = this.doc.getSelection()\n\n    // collapsed selection or selection withour range doesn't contain content\n    if (!sel || sel.isCollapsed || !sel.rangeCount) {\n      return false\n    }\n\n    // if toString() contains any text, the selection contains some content\n    if (sel.toString().trim() !== '') {\n      return true\n    }\n\n    // if selection contains only image(s), it will return empty for toString()\n    // so check for an image manually\n    const selectionNode = this.getSelectedParentElement(sel.getRangeAt(0))\n    if (selectionNode) {\n      if (selectionNode.nodeName.toLowerCase() === 'img' ||\n        (selectionNode.nodeType === 1 && selectionNode.querySelector('img'))) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  selectionInContentEditableFalse (contentWindow) {\n    // determine if the current selection is exclusively inside\n    // a contenteditable=\"false\", though treat the case of an\n    // explicit contenteditable=\"true\" inside a \"false\" as false.\n    let sawtrue\n    const sawfalse = this.findMatchingSelectionParent(function (el) {\n      const ce = el && el.getAttribute('contenteditable')\n      if (ce === 'true') {\n        sawtrue = true\n      }\n      return el.nodeName !== '#text' && ce === 'false'\n    }, contentWindow)\n\n    return !sawtrue && sawfalse\n  }\n\n  // https://stackoverflow.com/questions/4176923/html-of-selected-text\n  // by Tim Down\n  getSelectionHtml () {\n    const sel = this.doc.getSelection()\n    let i\n    let html = ''\n    let len\n    let container\n    if (sel.rangeCount) {\n      container = this.doc.createElement('div')\n      for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n        container.appendChild(sel.getRangeAt(i).cloneContents())\n      }\n      html = container.innerHTML\n    }\n    return html\n  }\n\n  chopHtmlByCursor (root) {\n    const { left } = this.getCaretOffsets(root)\n    const markedText = root.textContent\n    const { type, info } = getCursorPositionWithinMarkedText(markedText, left)\n    let pre = markedText.slice(0, left)\n    let post = markedText.slice(left)\n    switch (type) {\n      case 'OUT':\n        return {\n          pre,\n          post\n        }\n      case 'IN':\n        return {\n          pre: `${pre}${info}`,\n          post: `${info}${post}`\n        }\n      case 'LEFT':\n        return {\n          pre: markedText.slice(0, left - info),\n          post: markedText.slice(left - info)\n        }\n      case 'RIGHT':\n        return {\n          pre: markedText.slice(0, left + info),\n          post: markedText.slice(left + info)\n        }\n    }\n  }\n\n  /**\n   *  Find the caret position within an element irrespective of any inline tags it may contain.\n   *\n   *  @param {DOMElement} An element containing the cursor to find offsets relative to.\n   *  @param {Range} A Range representing cursor position. Will window.getSelection if none is passed.\n   *  @return {Object} 'left' and 'right' attributes contain offsets from beginning and end of Element\n   */\n  getCaretOffsets (element, range) {\n    let preCaretRange\n    let postCaretRange\n\n    if (!range) {\n      range = window.getSelection().getRangeAt(0)\n    }\n\n    preCaretRange = range.cloneRange()\n    postCaretRange = range.cloneRange()\n\n    preCaretRange.selectNodeContents(element)\n    preCaretRange.setEnd(range.endContainer, range.endOffset)\n\n    postCaretRange.selectNodeContents(element)\n    postCaretRange.setStart(range.endContainer, range.endOffset)\n\n    return {\n      left: preCaretRange.toString().length,\n      right: postCaretRange.toString().length\n    }\n  }\n\n  // https://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n  rangeSelectsSingleNode (range) {\n    const startNode = range.startContainer\n    return startNode === range.endContainer &&\n    startNode.hasChildNodes() &&\n    range.endOffset === range.startOffset + 1\n  }\n\n  getSelectedParentElement (range) {\n    if (!range) {\n      return null\n    }\n\n    // Selection encompasses a single element\n    if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n      return range.startContainer.childNodes[range.startOffset]\n    }\n\n    // Selection range starts inside a text node, so get its parent\n    if (range.startContainer.nodeType === 3) {\n      return range.startContainer.parentNode\n    }\n\n    // Selection starts inside an element\n    return range.startContainer\n  }\n\n  getSelectedElements () {\n    const selection = this.doc.getSelection()\n    let range\n    let toRet\n    let currNode\n\n    if (!selection.rangeCount || selection.isCollapsed || !selection.getRangeAt(0).commonAncestorContainer) {\n      return []\n    }\n\n    range = selection.getRangeAt(0)\n\n    if (range.commonAncestorContainer.nodeType === 3) {\n      toRet = []\n      currNode = range.commonAncestorContainer\n      while (currNode.parentNode && currNode.parentNode.childNodes.length === 1) {\n        toRet.push(currNode.parentNode)\n        currNode = currNode.parentNode\n      }\n\n      return toRet\n    }\n\n    return [].filter.call(range.commonAncestorContainer.getElementsByTagName('*'), function (el) {\n      return (typeof selection.containsNode === 'function') ? selection.containsNode(el, true) : true\n    })\n  }\n\n  selectNode (node) {\n    const range = this.doc.createRange()\n    range.selectNodeContents(node)\n    this.selectRange(range)\n  }\n\n  select (startNode, startOffset, endNode, endOffset) {\n    const range = this.doc.createRange()\n    range.setStart(startNode, startOffset)\n    if (endNode) {\n      range.setEnd(endNode, endOffset)\n    } else {\n      range.collapse(true)\n    }\n    this.selectRange(range)\n    return range\n  }\n\n  /**\n   *  Clear the current highlighted selection and set the caret to the start or the end of that prior selection, defaults to end.\n   *\n   *  @param {boolean} moveCursorToStart  A boolean representing whether or not to set the caret to the beginning of the prior selection.\n   */\n  clearSelection (moveCursorToStart) {\n    const { rangeCount } = this.doc.getSelection()\n    if (!rangeCount) return\n    if (moveCursorToStart) {\n      this.doc.getSelection().collapseToStart()\n    } else {\n      this.doc.getSelection().collapseToEnd()\n    }\n  }\n\n  /**\n   * Move cursor to the given node with the given offset.\n   *\n   * @param  {DomElement}  node    Element where to jump\n   * @param  {integer}     offset  Where in the element should we jump, 0 by default\n   */\n  moveCursor (node, offset) {\n    this.select(node, offset)\n  }\n\n  getSelectionRange () {\n    const selection = this.doc.getSelection()\n    if (selection.rangeCount === 0) {\n      return null\n    }\n    return selection.getRangeAt(0)\n  }\n\n  selectRange (range) {\n    const selection = this.doc.getSelection()\n\n    selection.removeAllRanges()\n    selection.addRange(range)\n  }\n\n  // https://stackoverflow.com/questions/1197401/\n  // how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contenteditable\n  // by You\n  getSelectionStart () {\n    const node = this.doc.getSelection().anchorNode\n    const startNode = (node && node.nodeType === 3 ? node.parentNode : node)\n\n    return startNode\n  }\n\n  setCursorRange (cursorRange) {\n    const { start, end } = cursorRange\n    const startParagraph = document.querySelector(`#${start.key}`)\n    const endParagraph = document.querySelector(`#${end.key}`)\n    const getNodeAndOffset = (node, offset) => {\n      if (node.nodeType === 3) {\n        return {\n          node,\n          offset\n        }\n      }\n      const childNodes = node.childNodes\n      const len = childNodes.length\n      let i\n      let count = 0\n      for (i = 0; i < len; i++) {\n        const child = childNodes[i]\n        if (count + getTextContent(child, [ CLASS_OR_ID['AG_MATH_RENDER'] ]).length >= offset) {\n          return getNodeAndOffset(child, offset - count)\n        } else {\n          count += getTextContent(child, [ CLASS_OR_ID['AG_MATH_RENDER'] ]).length\n        }\n      }\n      return { node, offset }\n    }\n\n    let { node: startNode, offset: startOffset } = getNodeAndOffset(startParagraph, start.offset)\n    let { node: endNode, offset: endOffset } = getNodeAndOffset(endParagraph, end.offset)\n    startOffset = Math.min(startOffset, startNode.textContent.length)\n    endOffset = Math.min(endOffset, endNode.textContent.length)\n\n    this.select(startNode, startOffset, endNode, endOffset)\n  }\n\n  getCursorRange () {\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = this.doc.getSelection()\n\n    // when the first paragraph is task list, press ctrl + a, then press backspace will cause bug\n    // use code bellow to fix the bug\n    const findFirstTextNode = anchor => {\n      if (anchor.nodeType === 3) return anchor\n      const children = anchor.childNodes\n      for (const node of children) {\n        if (node.nodeName !== 'INPUT') {\n          return findFirstTextNode(node)\n        }\n      }\n    }\n    if (anchorNode.nodeName === 'LI') {\n      anchorNode = findFirstTextNode(anchorNode)\n    }\n\n    let startParagraph = findNearestParagraph(anchorNode)\n    let endParagraph = findNearestParagraph(focusNode)\n\n    const getOffsetOfParagraph = (node, paragraph) => {\n      let offset = 0\n      let preSibling = node\n\n      if (node === paragraph) return offset\n\n      do {\n        preSibling = preSibling.previousSibling\n        if (preSibling) {\n          offset += getTextContent(preSibling, [ CLASS_OR_ID['AG_MATH_RENDER'] ]).length\n        }\n      } while (preSibling)\n      return (node === paragraph || node.parentNode === paragraph)\n        ? offset\n        : offset + getOffsetOfParagraph(node.parentNode, paragraph)\n    }\n\n    if (startParagraph === endParagraph) {\n      const key = startParagraph.id\n      const offset1 = getOffsetOfParagraph(anchorNode, startParagraph) + anchorOffset\n      const offset2 = getOffsetOfParagraph(focusNode, endParagraph) + focusOffset\n      return {\n        start: { key, offset: Math.min(offset1, offset2) },\n        end: { key, offset: Math.max(offset1, offset2) }\n      }\n    } else {\n      const order = compareParagraphsOrder(startParagraph, endParagraph)\n\n      const rawCursor = {\n        start: {\n          key: startParagraph.id,\n          offset: getOffsetOfParagraph(anchorNode, startParagraph) + anchorOffset\n        },\n        end: {\n          key: endParagraph.id,\n          offset: getOffsetOfParagraph(focusNode, endParagraph) + focusOffset\n        }\n      }\n      if (order) {\n        return rawCursor\n      } else {\n        return { start: rawCursor.end, end: rawCursor.start }\n      }\n    }\n  }\n\n  // topOffset is the line counts above cursor, and bottomOffset is line counts bellow cursor.\n  getCursorYOffset (paragraph) {\n    const { y } = this.getCursorCoords()\n    const { height, top } = paragraph.getBoundingClientRect()\n    const lineHeight = parseFloat(getComputedStyle(paragraph).lineHeight)\n    const topOffset = Math.round((y - top) / lineHeight)\n    const bottomOffset = Math.round((top + height - lineHeight - y) / lineHeight)\n\n    return {\n      topOffset,\n      bottomOffset\n    }\n  }\n\n  getCursorCoords () {\n    const sel = this.doc.getSelection()\n    let range\n    let x = 0\n    let y = 0\n\n    if (sel.rangeCount) {\n      range = sel.getRangeAt(0).cloneRange()\n      if (range.getClientRects) {\n        range.collapse(true)\n        let rects = range.getClientRects()\n        if (rects.length === 0) {\n          rects = range.startContainer && range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer.getClientRects()\n            : []\n        }\n        if (rects.length) {\n          const { left, top, x: rectX, y: rectY } = rects[0]\n          x = rectX || left\n          y = rectY || top\n        }\n      }\n    }\n\n    return { x, y }\n  }\n\n  getSelectionEnd () {\n    const node = this.doc.getSelection().focusNode\n    const endNode = (node && node.nodeType === 3 ? node.parentNode : node)\n\n    return endNode\n  }\n}\n\nexport default new Selection(document)\n","\nimport Diagram from '../../assets/libs/sequence-diagram'\nimport '../../assets/styles/sequence-diagram.css'\n\nexport default Diagram\n","// import virtualize from 'snabbdom-virtualize/strings'\nconst snabbdom = require('snabbdom')\n\nexport const patch = snabbdom.init([ // Init patch function with chosen modules\n  require('snabbdom/modules/class').default, // makes it easy to toggle classes\n  require('snabbdom/modules/attributes').default,\n  require('snabbdom/modules/style').default, // handles styling on elements with support for animations\n  require('snabbdom/modules/props').default, // for setting properties on DOM elements\n  require('snabbdom/modules/dataset').default,\n  require('snabbdom/modules/eventlisteners').default // attaches event listeners\n])\nexport const h = require('snabbdom/h').default // helper function for creating vnodes\nexport const toHTML = require('snabbdom-to-html') // helper function for convert vnode to HTML string\nexport const toVNode = require('snabbdom/tovnode').default // helper function for convert DOM to vnode\nexport const htmlToVNode = html => { // helper function for convert html to vnode\n  const wrapper = document.createElement('div')\n  wrapper.innerHTML = html\n  return toVNode(wrapper).children\n}\n","// special character\nconst charachers = [\n  '\"', '&', '<', '>',\n  ' ', ' ', ' ', ' ',\n  '<', '>', '&', '\"',\n  '©', '®', '™', '×', '÷',\n  ' ', '¡', '¢', '£', '¤',\n  '¥', '¦', '§', '¨', '©',\n  'ª', '«', '¬', '­', '®',\n  '¯', '°', '±', '²', '³',\n  '´', 'µ', '¶', '·', '¸',\n  '¹', 'º', '»', '¼', '½',\n  '¾', '¿', 'À', 'Á', 'Â',\n  'Ã', 'Ä', 'Å', 'Æ', 'Ç',\n  'È', 'É', 'Ê', 'Ë', 'Ì',\n  'Í', 'Î', 'Ï', 'Ð', 'Ñ',\n  'Ò', 'Ó', 'Ô', 'Õ', 'Ö',\n  '×', 'Ø', 'Ù', 'Ú', 'Û',\n  'Ü', 'Ý', 'Þ', 'ß', 'à',\n  'á', 'â', 'ã', 'ä', 'å',\n  'æ', 'ç', 'è', 'é', 'ê',\n  'ë', 'ì', 'í', 'î', 'ï',\n  'ð', 'ñ', 'ò', 'ó', 'ô',\n  'õ', 'ö', '÷', 'ø', 'ù',\n  'ú', 'û', 'ü', 'ý', 'þ', 'ÿ',\n  'ƒ', 'Α', 'Β', 'Γ', 'Δ',\n  'Ε', 'Ζ', 'Η', 'Θ', 'Ι',\n  'Κ', 'Λ', 'Μ', 'Ν', 'Ξ',\n  'Ο', 'Π', 'Ρ', 'Σ', 'Τ',\n  'Υ', 'Φ', 'Χ', 'Ψ', 'Ω',\n  'α', 'β', 'γ', 'δ', 'ε',\n  'ζ', 'η', 'θ', 'ι', 'κ',\n  'λ', 'μ', 'ν', 'ξ', 'ο',\n  'π', 'ρ', 'ς', 'σ', 'τ',\n  'υ', 'φ', 'χ', 'ψ', 'ω',\n  'ϑ', 'ϒ', 'ϖ', '•', '…',\n  '′', '″', '‾', '⁄', '℘',\n  'ℑ', 'ℜ', '™', 'ℵ', '←',\n  '↑', '→', '↓', '↔', '↵',\n  '⇐', '⇑', '⇒', '⇓', '⇔',\n  '∀', '∂', '∃', '∅', '∇',\n  '∈', '∉', '∋', '∏', '∑',\n  '−', '∗', '√', '∝', '∞',\n  '∠', '∧', '∨', '∩', '∪',\n  '∫', '∴', '∼', '≅', '≈',\n  '≠', '≡', '≤', '≥', '⊂',\n  '⊃', '⊄', '⊆', '⊇', '⊕',\n  '⊗', '⊥', '⋅', '⌈', '⌉',\n  '⌊', '⌋', '⟨', '⟩', '◊',\n  '♠', '♣', '♥', '♦',\n  '\"', '&', '<', '>', 'Œ',\n  'œ', 'Š', 'š', 'Ÿ', 'ˆ',\n  '˜', ' ', ' ', ' ', '‌',\n  '‍', '‎', '‏', '–', '—',\n  '‘', '’', '‚', '“', '”',\n  '„', '†', '‡', '‰', '‹',\n  '›', '€'\n]\n\nexport const escapeCharacters = [\n  '&quot;', '&amp;', '&lt;', '&gt;',\n  '&nbsp;', '&ensp;', '&emsp;', '&nbsp;',\n  '&lt;', '&gt;', '&amp;', '&quot;',\n  '&copy;', '&reg;', '&trade;', '&times;', '&divide;',\n  '&nbsp;', '&iexcl;', '&cent;', '&pound;', '&curren;',\n  '&yen;', '&brvbar;', '&sect;', '&uml;', '&copy;',\n  '&ordf;', '&laquo;', '&not;', '&shy;', '&reg;',\n  '&macr;', '&deg;', '&plusmn;', '&sup2;', '&sup3;',\n  '&acute;', '&micro;', '&para;', '&middot;', '&cedil;',\n  '&sup1;', '&ordm;', '&raquo;', '&frac14;', '&frac12;',\n  '&frac34;', '&iquest;', '&Agrave;', '&Aacute;', '&Acirc;',\n  '&Atilde;', '&Auml;', '&Aring;', '&AElig;', '&Ccedil;',\n  '&Egrave;', '&Eacute;', '&Ecirc;', '&Euml;', '&Igrave;',\n  '&Iacute;', '&Icirc;', '&Iuml;', '&ETH;', '&Ntilde;',\n  '&Ograve;', '&Oacute;', '&Ocirc;', '&Otilde;', '&Ouml;',\n  '&times;', '&Oslash;', '&Ugrave;', '&Uacute;', '&Ucirc;',\n  '&Uuml;', '&Yacute;', '&THORN;', '&szlig;', '&agrave;',\n  '&aacute;', '&acirc;', '&atilde;', '&auml;', '&aring;',\n  '&aelig;', '&ccedil;', '&egrave;', '&eacute;', '&ecirc;',\n  '&euml;', '&igrave;', '&iacute;', '&icirc;', '&iuml;',\n  '&eth;', '&ntilde;', '&ograve;', '&oacute;', '&ocirc;',\n  '&otilde;', '&ouml;', '&divide;', '&oslash;', '&ugrave;',\n  '&uacute;', '&ucirc;', '&uuml;', '&yacute;', '&thorn;', '&yuml;',\n  '&fnof;', '&Alpha;', '&Beta;', '&Gamma;', '&Delta;',\n  '&Epsilon;', '&Zeta;', '&Eta;', '&Theta;', '&Iota;',\n  '&Kappa;', '&Lambda;', '&Mu;', '&Nu;', '&Xi;',\n  '&Omicron;', '&Pi;', '&Rho;', '&Sigma;', '&Tau;',\n  '&Upsilon;', '&Phi;', '&Chi;', '&Psi;', '&Omega;',\n  '&alpha;', '&beta;', '&gamma;', '&delta;', '&epsilon;',\n  '&zeta;', '&eta;', '&theta;', '&iota;', '&kappa;',\n  '&lambda;', '&mu;', '&nu;', '&xi;', '&omicron;',\n  '&pi;', '&rho;', '&sigmaf;', '&sigma;', '&tau;',\n  '&upsilon;', '&phi;', '&chi;', '&psi;', '&omega;',\n  '&thetasym;', '&upsih;', '&piv;', '&bull;', '&hellip;',\n  '&prime;', '&Prime;', '&oline;', '&frasl;', '&weierp;',\n  '&image;', '&real;', '&trade;', '&alefsym;', '&larr;',\n  '&uarr;', '&rarr;', '&darr;', '&harr;', '&crarr;',\n  '&lArr;', '&uArr;', '&rArr;', '&dArr;', '&hArr;',\n  '&forall;', '&part;', '&exist;', '&empty;', '&nabla;',\n  '&isin;', '&notin;', '&ni;', '&prod;', '&sum;',\n  '&minus;', '&lowast;', '&radic;', '&prop;', '&infin;',\n  '&ang;', '&and;', '&or;', '&cap;', '&cup;',\n  '&int;', '&there4;', '&sim;', '&cong;', '&asymp;',\n  '&ne;', '&equiv;', '&le;', '&ge;', '&sub;',\n  '&sup;', '&nsub;', '&sube;', '&supe;', '&oplus;',\n  '&otimes;', '&perp;', '&sdot;', '&lceil;', '&rceil;',\n  '&lfloor;', '&rfloor;', '&lang;', '&rang;', '&loz;',\n  '&spades;', '&clubs;', '&hearts;', '&diams;',\n  '&quot;', '&amp;', '&lt;', '&gt;', '&OElig;',\n  '&oelig;', '&Scaron;', '&scaron;', '&Yuml;', '&circ;',\n  '&tilde;', '&ensp;', '&emsp;', '&thinsp;', '&zwnj;',\n  '&zwj;', '&lrm;', '&rlm;', '&ndash;', '&mdash;',\n  '&lsquo;', '&rsquo;', '&sbquo;', '&ldquo;', '&rdquo;',\n  '&bdquo;', '&dagger;', '&Dagger;', '&permil;', '&lsaquo;',\n  '&rsaquo;', '&euro;'\n]\n\nconst escapeCharactersMap = escapeCharacters.reduce((acc, escapeCharacter, index) => {\n  return Object.assign(acc, { [escapeCharacter]: charachers[index] })\n}, {})\n\nexport default escapeCharactersMap\n","import { escapeCharacters } from './escapeCharacter'\n\n/* eslint-disable no-useless-escape */\nexport const beginRules = {\n  'hr': /^(\\*{3,}$|^\\-{3,}$|^\\_{3,}$)/,\n  'code_fense': /^(`{3,})([^`]*)$/,\n  'header': /(^\\s{0,3}#{1,6}(\\s{1,}|$))/,\n  'multiple_math': /^(\\$\\$)$/,\n  'reference_definition': /^( {0,3}\\[)([^\\]]+?)(\\\\*)(\\]: *)(<?)([^\\s>]+)(>?)(?:( +)([\"'(]?)([^\\n\"'\\(\\)]+)\\9)?( *)$/\n}\n\nexport const inlineRules = {\n  'backlash': /^(\\\\)([\\\\`*{}\\[\\]()#+\\-.!_>~:\\|\\<\\>]{1})/,\n  'strong': /^(\\*\\*|__)(?=\\S)([\\s\\S]*?[^\\s\\\\])(\\\\*)\\1(?!(\\*|_))/, // can nest\n  'em': /^(\\*|_)(?=\\S)([\\s\\S]*?[^\\s\\*\\\\])(\\\\*)\\1(?!\\1)/, // can nest\n  'inline_code': /^(`{1,3})([^`]+?|.{2,})\\1/,\n  'image': /^(\\!\\[)(.*?)(\\\\*)\\]\\((.*?)(\\\\*)\\)/,\n  'link': /^(\\[)((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*?)(\\\\*)\\]\\((.*?)(\\\\*)\\)/, // can nest\n  'emoji': /^(:)([a-z_]+?)\\1/,\n  'del': /^(~{2})(?=\\S)([\\s\\S]*?\\S)(\\\\*)\\1/, // can nest\n  'auto_link': /^(https?:\\/\\/[^\\s]+)(?=\\s|$)/,\n  'reference_link': /^\\[([^\\]]+?)(\\\\*)\\](?:\\[([^\\]]*?)(\\\\*)\\])?/,\n  'reference_image': /^\\!\\[([^\\]]+?)(\\\\*)\\](?:\\[([^\\]]*?)(\\\\*)\\])?/,\n  'inline_math': /^(\\$)([^\\$]*?[^\\$\\\\])(\\\\*)\\1(?!\\1)/,\n  'tail_header': /^(\\s{1,}#{1,})(\\s*)$/,\n  'a_link': /^(<a[\\s\\S]*href\\s*=\\s*(\"|')(.+?)\\2(?=\\s|>)[\\s\\S]*(?!\\\\)>)([\\s\\S]*)(<\\/a>)/, // can nest\n  'html_image': /^(<img\\s([\\s\\S]*?src[\\s\\S]+?)(?!\\\\)>)/,\n  'html_tag': /^(<!--[\\s\\S]*?-->|<\\/?[a-zA-Z\\d-]+[\\s\\S]*?(?!\\\\)>)/,\n  'html_escape': new RegExp(`^(${escapeCharacters.join('|')})`, 'i'),\n  'hard_line_break': /^(\\s{2,})$/\n}\n/* eslint-enable no-useless-escape */\n","import { union, isEven } from '../../../utils'\nimport { CLASS_OR_ID } from '../../../config'\n// TODO HIGHLIGHT\nexport default function backlashInToken (h, backlashes, outerClass, start, token) {\n  const { highlights = [] } = token\n  const chunks = backlashes.split('')\n  const len = chunks.length\n  const result = []\n  let i\n\n  for (i = 0; i < len; i++) {\n    const chunk = chunks[i]\n    const light = highlights.filter(light => union({ start: start + i, end: start + i + 1 }, light))\n    let selector = 'span'\n    if (light.length) {\n      const className = this.getHighlightClassName(light[0].active)\n      selector += `.${className}`\n    }\n    if (isEven(i)) {\n      result.push(\n        h(`${selector}.${outerClass}`, chunk)\n      )\n    } else {\n      result.push(\n        h(`${selector}.${CLASS_OR_ID['AG_BACKLASH']}`, chunk)\n      )\n    }\n  }\n\n  return result\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function backlash (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","import { union } from '../../../utils'\n\n// change text to highlight vdom\nexport default function highlight (h, block, rStart, rEnd, token) {\n  const { text } = block\n  const { highlights } = token\n  let result = []\n  let unions = []\n  let pos = rStart\n\n  if (highlights) {\n    for (const light of highlights) {\n      const un = union({ start: rStart, end: rEnd }, light)\n      if (un) unions.push(un)\n    }\n  }\n\n  if (unions.length) {\n    for (const u of unions) {\n      const { start, end, active } = u\n      const className = this.getHighlightClassName(active)\n\n      if (pos < start) {\n        result.push(text.substring(pos, start))\n      }\n\n      result.push(h(`span.${className}`, text.substring(start, end)))\n      pos = end\n    }\n    if (pos < rEnd) {\n      result.push(block.text.substring(pos, rEnd))\n    }\n  } else {\n    result = [text.substring(rStart, rEnd)]\n  }\n\n  return result\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function header (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { isLengthEven, snakeToCamel } from '../../../utils'\n\n// 'link': /^(\\[)((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*?)(\\\\*)\\]\\((.*?)(\\\\*)\\)/, // can nest\nexport default function link (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const linkClassName = className === CLASS_OR_ID['AG_HIDE'] ? className : CLASS_OR_ID['AG_LINK_IN_BRACKET']\n  const { start, end } = token.range\n  const firstMiddleBracket = this.highlight(h, block, start, start + 3, token)\n\n  const firstBracket = this.highlight(h, block, start, start + 1, token)\n  const middleBracket = this.highlight(\n    h, block,\n    start + 1 + token.anchor.length + token.backlash.first.length,\n    start + 1 + token.anchor.length + token.backlash.first.length + 2,\n    token\n  )\n  const hrefContent = this.highlight(\n    h, block,\n    start + 1 + token.anchor.length + token.backlash.first.length + 2,\n    start + 1 + token.anchor.length + token.backlash.first.length + 2 + token.href.length,\n    token\n  )\n  const middleHref = this.highlight(\n    h, block, start + 1 + token.anchor.length + token.backlash.first.length,\n    block, start + 1 + token.anchor.length + token.backlash.first.length + 2 + token.href.length,\n    token\n  )\n\n  const lastBracket = this.highlight(h, block, end - 1, end, token)\n\n  const firstBacklashStart = start + 1 + token.anchor.length\n  const secondBacklashStart = end - 1 - token.backlash.second.length\n\n  if (isLengthEven(token.backlash.first) && isLengthEven(token.backlash.second)) {\n    if (!token.children.length && !token.backlash.first) { // no-text-link\n      return [\n        h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, firstMiddleBracket),\n        h(`a.${CLASS_OR_ID['AG_NOTEXT_LINK']}.${CLASS_OR_ID['AG_INLINE_RULE']}`, {\n          props: {\n            href: token.href + encodeURI(token.backlash.second),\n            target: '_blank'\n          }\n        }, [\n          ...hrefContent,\n          ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token)\n        ]),\n        h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, lastBracket)\n      ]\n    } else { // has children\n      return [\n        h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, firstBracket),\n        h(`a.${CLASS_OR_ID['AG_INLINE_RULE']}`, {\n          props: {\n            href: token.href + encodeURI(token.backlash.second),\n            target: '_blank'\n          }\n        }, [\n          ...token.children.reduce((acc, to) => {\n            const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n            return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n          }, []),\n          ...this.backlashInToken(h, token.backlash.first, className, firstBacklashStart, token)\n        ]),\n        h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, middleBracket),\n        h(`span.${linkClassName}.${CLASS_OR_ID['AG_REMOVE']}`, [\n          ...hrefContent,\n          ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token)\n        ]),\n        h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, lastBracket)\n      ]\n    }\n  } else {\n    return [\n      ...firstBracket,\n      ...token.children.reduce((acc, to) => {\n        const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n        return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n      }, []),\n      ...this.backlashInToken(h, token.backlash.first, className, firstBacklashStart, token),\n      ...middleHref,\n      ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token),\n      ...lastBracket\n    ]\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function htmlTag (h, cursor, block, token, outerClass) {\n  const className = CLASS_OR_ID['AG_HTML_TAG']\n  const { start, end } = token.range\n  const tag = this.highlight(h, block, start, end, token)\n  const isBr = /<br(?=\\s|\\/|>)/.test(token.tag)\n  return [\n    h(`span.${className}`, isBr ? [...tag, h('br')] : tag)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function hr (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  return [\n    h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","export default function tailHeader (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  if (/^h\\d$/.test(block.type)) {\n    return [\n      h(`span.${className}`, content)\n    ]\n  } else {\n    return content\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function hardLineBreak (h, cursor, block, token, outerClass) {\n  const className = CLASS_OR_ID['AG_HARD_LINE_BREAK']\n  const content = [token.spaces]\n  if (block.type === 'span' && block.nextSibling) {\n    return [\n      h(`span.${className}`, content)\n    ]\n  } else {\n    return content\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function codeFense (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const { marker } = token\n\n  const markerContent = this.highlight(h, block, start, start + marker.length, token)\n  const content = this.highlight(h, block, start + marker.length, end, token)\n\n  return [\n    h(`span.${CLASS_OR_ID['AG_GRAY']}`, markerContent),\n    h(`span.${CLASS_OR_ID['AG_LANGUAGE']}`, content)\n  ]\n}\n","import katex from 'katex'\nimport { CLASS_OR_ID } from '../../../config'\nimport { htmlToVNode } from '../snabbdom'\n\nimport 'katex/dist/katex.min.css'\n\nexport default function displayMath (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { start, end } = token.range\n  const { marker } = token\n\n  const startMarker = this.highlight(h, block, start, start + marker.length, token)\n  const endMarker = this.highlight(h, block, end - marker.length, end, token)\n  const content = this.highlight(h, block, start + marker.length, end - marker.length, token)\n\n  const { content: math, type } = token\n\n  const { loadMathMap } = this\n\n  const displayMode = false\n  const key = `${math}_${type}`\n  let mathVnode = null\n  let previewSelector = `span.${CLASS_OR_ID['AG_MATH_RENDER']}`\n  if (loadMathMap.has(key)) {\n    mathVnode = loadMathMap.get(key)\n  } else {\n    try {\n      const html = katex.renderToString(math, {\n        displayMode\n      })\n      mathVnode = htmlToVNode(html)\n      loadMathMap.set(key, mathVnode)\n    } catch (err) {\n      mathVnode = '< Invalid Mathematical Formula >'\n      previewSelector += `.${CLASS_OR_ID['AG_MATH_ERROR']}`\n    }\n  }\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_MATH_MARKER']}`, startMarker),\n    h(`span.${className}.${CLASS_OR_ID['AG_MATH']}`, [\n      h(`span.${CLASS_OR_ID['AG_MATH_TEXT']}`, content),\n      h(previewSelector, {\n        attrs: { contenteditable: 'false' }\n      }, mathVnode)\n    ]),\n    h(`span.${className}.${CLASS_OR_ID['AG_MATH_MARKER']}`, endMarker)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { snakeToCamel } from '../../../utils'\n\n// `a_link`: `<a href=\"url\">anchor</a>`\nexport default function aLink (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const tagClassName = className === CLASS_OR_ID['AG_HIDE'] ? className : CLASS_OR_ID['AG_HTML_TAG']\n  const { start, end } = token.range\n  const openTag = this.highlight(h, block, start, start + token.openTag.length, token)\n  const anchor = token.children.reduce((acc, to) => {\n    const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n    return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n  }, [])\n  const closeTag = this.highlight(h, block, end - token.closeTag.length, end, token)\n\n  return [\n    h(`span.${tagClassName}.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`, openTag),\n    h(`a.${CLASS_OR_ID['AG_A_LINK']}`, {\n      dataset: {\n        href: token.href\n      }\n    }, anchor),\n    h(`span.${tagClassName}.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`, closeTag)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\n// render auto_link to vdom\nexport default function autoLink (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`a.${CLASS_OR_ID['AG_INLINE_RULE']}`, {\n      props: {\n        href: token.href,\n        target: '_blank'\n      }\n    }, content)\n  ]\n}\n","import {\n  CLASS_OR_ID\n} from '../config'\n\n/**\n * [description `add` or `remove` className of element\n */\nexport const operateClassName = (element, ctrl, className) => {\n  element.classList[ctrl](className)\n}\n\n// dom operation\nexport const createInputInCodeBlock = codeEle => {\n  const inputInCodeFence = document.createElement('input')\n  operateClassName(inputInCodeFence, 'add', CLASS_OR_ID['AG_LANGUAGE_INPUT'])\n  inputInCodeFence.setAttribute('placeholder', 'Select language...')\n  codeEle.appendChild(inputInCodeFence)\n\n  return inputInCodeFence\n}\n\nexport const insertBefore = (newNode, originNode) => {\n  const parentNode = originNode.parentNode\n  parentNode.insertBefore(newNode, originNode)\n}\n\n// DOM operations\nexport const insertAfter = (newNode, originNode) => {\n  const parentNode = originNode.parentNode\n\n  if (originNode.nextSibling) {\n    parentNode.insertBefore(newNode, originNode.nextSibling)\n  } else {\n    parentNode.appendChild(newNode)\n  }\n}\n","import { getUniqueId, loadImage } from '../../../utils'\nimport { insertAfter, operateClassName } from '../../../utils/domManipulate'\nimport { CLASS_OR_ID } from '../../../config'\n\nexport default function loadImageAsync (imageInfo, alt, className, imageClass) {\n  const { src, isUnknownType } = imageInfo\n  let id\n  let isSuccess\n\n  if (!this.loadImageMap.has(src)) {\n    id = getUniqueId()\n    loadImage(src, isUnknownType)\n      .then(url => {\n        const imageWrapper = document.querySelector(`#${id}`)\n        const img = document.createElement('img')\n        img.src = url\n        if (alt) img.alt = alt\n        if (imageClass) {\n          img.classList.add(imageClass)\n        }\n        if (imageWrapper) {\n          insertAfter(img, imageWrapper)\n          operateClassName(imageWrapper, 'add', className)\n        }\n        this.loadImageMap.set(src, {\n          id,\n          isSuccess: true\n        })\n      })\n      .catch(() => {\n        const imageWrapper = document.querySelector(`#${id}`)\n        if (imageWrapper) {\n          operateClassName(imageWrapper, 'add', CLASS_OR_ID['AG_IMAGE_FAIL'])\n        }\n        this.loadImageMap.set(src, {\n          id,\n          isSuccess: false\n        })\n      })\n  } else {\n    const imageInfo = this.loadImageMap.get(src)\n    id = imageInfo.id\n    isSuccess = imageInfo.isSuccess\n  }\n\n  return { id, isSuccess }\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { getImageInfo } from '../../../utils'\n\n// html_image\nexport default function htmlImage (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const imageClass = CLASS_OR_ID['AG_IMAGE_MARKED_TEXT']\n  const { start, end } = token.range\n  const tag = this.highlight(h, block, start, end, token)\n  const { src: rawSrc, alt } = token\n  const imageInfo = getImageInfo(rawSrc)\n  const { src } = imageInfo\n  let id\n  let isSuccess\n  let selector\n  if (src) {\n    ({ id, isSuccess } = this.loadImageAsync(imageInfo, alt, className, CLASS_OR_ID['AG_COPY_REMOVE']))\n  }\n  selector = id ? `span#${id}.${imageClass}.${CLASS_OR_ID['AG_HTML_TAG']}` : `span.${imageClass}.${CLASS_OR_ID['AG_HTML_TAG']}`\n  selector += `.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`\n  if (isSuccess) {\n    selector += `.${className}`\n  } else {\n    selector += `.${CLASS_OR_ID['AG_IMAGE_FAIL']}`\n  }\n\n  return isSuccess\n    ? [\n      h(selector, tag),\n      h(`img.${CLASS_OR_ID['AG_COPY_REMOVE']}`, { props: { alt, src } })\n    ]\n    : [h(selector, tag)]\n}\n","import { CLASS_OR_ID, IMAGE_EXT_REG, isInElectron } from '../../../config'\nimport { getImageInfo } from '../../../utils'\n\n// I dont want operate dom directly, is there any better method? need help!\nexport default function image (h, cursor, block, token, outerClass) {\n  const { eventCenter } = this\n  const { start: cursorStart, end: cursorEnd } = cursor\n  const { start, end } = token.range\n  if (\n    cursorStart.key === cursorEnd.key &&\n    cursorStart.offset === cursorEnd.offset &&\n    cursorStart.offset === end - 1 &&\n    !IMAGE_EXT_REG.test(token.src) &&\n    isInElectron\n  ) {\n    eventCenter.dispatch('image-path', token.src)\n  }\n\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const imageClass = CLASS_OR_ID['AG_IMAGE_MARKED_TEXT']\n  const titleContent = this.highlight(h, block, start, start + 2 + token.alt.length, token)\n  const srcContent = this.highlight(\n    h, block,\n    start + 2 + token.alt.length + token.backlash.first.length + 2,\n    start + 2 + token.alt.length + token.backlash.first.length + 2 + token.src.length,\n    token\n  )\n\n  const secondBracketContent = this.highlight(\n    h, block,\n    start + 2 + token.alt.length + token.backlash.first.length,\n    start + 2 + token.alt.length + token.backlash.first.length + 2,\n    token\n  )\n\n  const lastBracketContent = this.highlight(h, block, end - 1, end, token)\n\n  const firstBacklashStart = start + 2 + token.alt.length\n\n  const secondBacklashStart = end - 1 - token.backlash.second.length\n\n  let id\n  let isSuccess\n  let selector\n  const imageInfo = getImageInfo(token.src + encodeURI(token.backlash.second))\n  const { src } = imageInfo\n  const alt = token.alt + encodeURI(token.backlash.first)\n\n  if (src) {\n    ({ id, isSuccess } = this.loadImageAsync(imageInfo, alt, className))\n  }\n\n  selector = id ? `span#${id}.${imageClass}.${CLASS_OR_ID['AG_REMOVE']}` : `span.${imageClass}.${CLASS_OR_ID['AG_REMOVE']}`\n\n  if (isSuccess) {\n    selector += `.${className}`\n  } else {\n    selector += `.${CLASS_OR_ID['AG_IMAGE_FAIL']}`\n  }\n  const children = [\n    ...titleContent,\n    ...this.backlashInToken(h, token.backlash.first, className, firstBacklashStart, token),\n    ...secondBracketContent,\n    h(`span.${CLASS_OR_ID['AG_IMAGE_SRC']}`, srcContent),\n    ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token),\n    ...lastBracketContent\n  ]\n\n  return isSuccess\n    ? [\n      h(selector, children),\n      h('img', { props: { alt, src } })\n    ]\n    : [h(selector, children)]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { snakeToCamel } from '../../../utils'\n\n// render factory of `del`,`em`,`strong`\nexport default function delEmStrongFac (type, h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const COMMON_MARKER = `span.${className}.${CLASS_OR_ID['AG_REMOVE']}`\n  const { marker } = token\n  const { start, end } = token.range\n  const backlashStart = end - marker.length - token.backlash.length\n  const content = [\n    ...token.children.reduce((acc, to) => {\n      const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n      return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n    }, []),\n    ...this.backlashInToken(h, token.backlash, className, backlashStart, token)\n  ]\n  const startMarker = this.highlight(h, block, start, start + marker.length, token)\n  const endMarker = this.highlight(h, block, end - marker.length, end, token)\n\n  return [\n    h(COMMON_MARKER, startMarker),\n    h(`${type}.${CLASS_OR_ID['AG_INLINE_RULE']}`, content),\n    h(COMMON_MARKER, endMarker)\n  ]\n}\n","import { filter } from 'fuzzaldrin'\nimport emojis from './emojisJson'\nimport { CLASS_OR_ID } from '../../config'\nimport selection from '../../selection'\n\nconst emojisForSearch = {}\n\nfor (const emoji of emojis) {\n  if (emoji.emoji.length > 2) continue\n  const newEmoji = Object.assign({}, emoji, { search: [...emoji.aliases, ...emoji.tags].join(' ') })\n  if (emojisForSearch[newEmoji.category]) {\n    emojisForSearch[newEmoji.category].push(newEmoji)\n  } else {\n    emojisForSearch[newEmoji.category] = [ newEmoji ]\n  }\n}\n\n/**\n * check if one emoji code is in emojis, return undefined or found emoji\n */\nexport const validEmoji = text => {\n  return emojis.find(emoji => {\n    return emoji.aliases.includes(text)\n  })\n}\n\n/**\n * check edit emoji\n */\n\nexport const checkEditEmoji = node => {\n  if (node.classList.contains(CLASS_OR_ID['AG_EMOJI_MARKED_TEXT'])) {\n    return node\n  }\n  return false\n}\n\nexport const setInlineEmoji = (node, emoji) => {\n  node.textContent = `${emoji.aliases[0]}`\n  node.setAttribute('data-emoji', emoji.emoji)\n  selection.moveCursor(node.nextElementSibling, 1)\n}\n\nclass Emoji {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  search (text) {\n    const { cache } = this\n    if (cache.has(text)) return cache.get(text)\n    const result = {}\n\n    Object.keys(emojisForSearch).forEach(category => {\n      const list = filter(emojisForSearch[category], text, { key: 'search' })\n      if (list.length) {\n        result[category] = list\n      }\n    })\n    cache.set(text, result)\n    return result\n  }\n\n  destroy () {\n    return this.cache.clear()\n  }\n}\n\nexport default Emoji\n","import { CLASS_OR_ID } from '../../../config'\nimport { validEmoji } from '../../../ui/emojis'\n\n// render token of emoji to vdom\nexport default function emoji (h, cursor, block, token, outerClass) {\n  const { start: rStart, end: rEnd } = token.range\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const validation = validEmoji(token.content)\n  const finalClass = validation ? className : CLASS_OR_ID['AG_WARN']\n  const CONTENT_CLASSNAME = `span.${finalClass}.${CLASS_OR_ID['AG_EMOJI_MARKED_TEXT']}`\n  let startMarkerCN = `span.${finalClass}.${CLASS_OR_ID['AG_EMOJI_MARKER']}`\n  let endMarkerCN = startMarkerCN\n  let content = token.content\n  let pos = rStart + token.marker.length\n\n  if (token.highlights && token.highlights.length) {\n    content = []\n    for (const light of token.highlights) {\n      let { start, end, active } = light\n      const HIGHLIGHT_CLASSNAME = this.getHighlightClassName(active)\n      if (start === rStart) {\n        startMarkerCN += `.${HIGHLIGHT_CLASSNAME}`\n        start++\n      }\n      if (end === rEnd) {\n        endMarkerCN += `.${HIGHLIGHT_CLASSNAME}`\n        end--\n      }\n      if (pos < start) {\n        content.push(block.text.substring(pos, start))\n      }\n      if (start < end) {\n        content.push(h(`span.${HIGHLIGHT_CLASSNAME}`, block.text.substring(start, end)))\n      }\n      pos = end\n    }\n    if (pos < rEnd - token.marker.length) {\n      content.push(block.text.substring(pos, rEnd - 1))\n    }\n  }\n\n  const emojiVdom = validation\n    ? h(CONTENT_CLASSNAME, {\n      dataset: {\n        emoji: validation.emoji\n      }\n    }, content)\n    : h(CONTENT_CLASSNAME, content)\n\n  return [\n    h(startMarkerCN, token.marker),\n    emojiVdom,\n    h(endMarkerCN, token.marker)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function inlineCode (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { marker } = token\n  const { start, end } = token.range\n\n  const startMarker = this.highlight(h, block, start, start + marker.length, token)\n  const endMarker = this.highlight(h, block, end - marker.length, end, token)\n  const content = this.highlight(h, block, start + marker.length, end - marker.length, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, startMarker),\n    h(`code.${CLASS_OR_ID['AG_INLINE_RULE']}`, content),\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, endMarker)\n  ]\n}\n","// render token of text type to vdom.\nexport default function text (h, cursor, block, token) {\n  const { start, end } = token.range\n  return this.highlight(h, block, start, end, token)\n}\n","export default function del (h, cursor, block, token, outerClass) {\n  return this.delEmStrongFac('del', h, cursor, block, token, outerClass)\n}\n","export default function em (h, cursor, block, token, outerClass) {\n  return this.delEmStrongFac('em', h, cursor, block, token, outerClass)\n}\n","export default function strong (h, cursor, block, token, outerClass) {\n  return this.delEmStrongFac('strong', h, cursor, block, token, outerClass)\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport escapeCharactersMap from '../../escapeCharacter'\n\nexport default function htmlEscape (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { escapeCharacter } = token\n  const { start, end } = token.range\n\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_HTML_ESCAPE']}`, {\n      dataset: {\n        character: escapeCharactersMap[escapeCharacter]\n      }\n    }, content)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function multipleMath (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  return [\n    h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function referenceDefinition (h, cursor, block, token, outerClass) {\n  const className = CLASS_OR_ID['AG_REFERENCE_MARKER']\n  const {\n    leftBracket,\n    label,\n    backlash,\n    // rightBracket,\n    // leftHrefMarker,\n    // href,\n    // rightHrefMarker,\n    titleMarker,\n    title,\n    rightTitleSpace\n  } = token\n  const { start, end } = token.range\n  const leftBracketContent = this.highlight(h, block, start, start + leftBracket.length, token)\n  const labelContent = this.highlight(h, block, start + leftBracket.length, start + leftBracket.length + label.length, token)\n  const middleContent = this.highlight(\n    h,\n    block,\n    start + leftBracket.length + label.length + backlash.length,\n    end - rightTitleSpace.length - titleMarker.length - title.length,\n    token\n  )\n  const titleContent = this.highlight(\n    h,\n    block,\n    end - rightTitleSpace.length - titleMarker.length - title.length,\n    end - titleMarker.length - rightTitleSpace.length,\n    token\n  )\n  const rightContent = this.highlight(\n    h,\n    block,\n    end - titleMarker.length - rightTitleSpace.length,\n    end,\n    token\n  )\n  const backlashStart = start + leftBracket.length + label.length\n\n  return [\n    h(`span.${className}`, leftBracketContent),\n    h(`span.${CLASS_OR_ID['AG_REFERENCE_LABEL']}`, labelContent),\n    ...this.backlashInToken(h, backlash, CLASS_OR_ID['AG_GRAY'], backlashStart, token),\n    h(`span.${className}`, middleContent),\n    h(`span.${CLASS_OR_ID['AG_REFERENCE_TITLE']}`, titleContent),\n    h(`span.${className}`, rightContent)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { snakeToCamel } from '../../../utils'\n\nexport default function referenceLink (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const labelClass = className === CLASS_OR_ID['AG_GRAY']\n    ? CLASS_OR_ID['AG_REFERENCE_LABEL']\n    : className\n  const { start, end } = token.range\n  const {\n    anchor,\n    children,\n    backlash,\n    isFullLink,\n    label\n  } = token\n  const MARKER = '['\n  let href = ''\n  let title = ''\n  const key = (label + backlash.second).toLowerCase()\n  if (this.labels.has(key)) {\n    ({ href, title } = this.labels.get(key))\n  }\n  const backlashStart = start + MARKER.length + anchor.length\n  const startMarker = this.highlight(\n    h,\n    block,\n    start,\n    start + MARKER.length,\n    token\n  )\n  const content = [\n    ...children.reduce((acc, to) => {\n      const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n      return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n    }, []),\n    ...this.backlashInToken(h, backlash.first, className, backlashStart, token)\n  ]\n  const endMarker = this.highlight(\n    h,\n    block,\n    start + MARKER.length + anchor.length + backlash.first.length,\n    end,\n    token\n  )\n  const anchorSelector = href ? `a.${CLASS_OR_ID['AG_INLINE_RULE']}` : `span.${CLASS_OR_ID['AG_REFERENCE_LINK']}`\n  const dataSet = {\n    props: {\n      title\n    }\n  }\n  if (href) {\n    Object.assign(dataSet.props, { href })\n  }\n\n  if (isFullLink) {\n    const labelContent = this.highlight(\n      h,\n      block,\n      start + 3 * MARKER.length + anchor.length + backlash.first.length,\n      end - MARKER.length - backlash.second.length,\n      token\n    )\n    const middleMarker = this.highlight(\n      h,\n      block,\n      start + MARKER.length + anchor.length + backlash.first.length,\n      start + 3 * MARKER.length + anchor.length + backlash.first.length,\n      token\n    )\n    const lastMarker = this.highlight(\n      h,\n      block,\n      end - MARKER.length,\n      end,\n      token\n    )\n    const secondBacklashStart = end - MARKER.length - backlash.second.length\n\n    return [\n      h(`span.${className}`, startMarker),\n      h(anchorSelector, dataSet, content),\n      h(`span.${className}`, middleMarker),\n      h(`span.${labelClass}`, labelContent),\n      ...this.backlashInToken(h, backlash.second, className, secondBacklashStart, token),\n      h(`span.${className}`, lastMarker)\n    ]\n  } else {\n    return [\n      h(`span.${className}`, startMarker),\n      h(anchorSelector, dataSet, content),\n      h(`span.${className}`, endMarker)\n    ]\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { getImageInfo } from '../../../utils'\n\n// reference_image\nexport default function htmlImage (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const imageClass = CLASS_OR_ID['AG_IMAGE_MARKED_TEXT']\n  const { start, end } = token.range\n  const tag = this.highlight(h, block, start, end, token)\n  const { label, backlash, alt } = token\n  const rawSrc = label + backlash.second\n  let href = ''\n  let title = ''\n  if (this.labels.has((rawSrc).toLowerCase())) {\n    ({ href, title } = this.labels.get(rawSrc.toLowerCase()))\n  }\n  const imageInfo = getImageInfo(href)\n  const { src } = imageInfo\n  let id\n  let isSuccess\n  let selector\n  if (src) {\n    ({ id, isSuccess } = this.loadImageAsync(imageInfo, alt, className, CLASS_OR_ID['AG_COPY_REMOVE']))\n  }\n  selector = id ? `span#${id}.${imageClass}` : `span.${imageClass}`\n  selector += `.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`\n  if (isSuccess) {\n    selector += `.${className}`\n  } else {\n    selector += `.${CLASS_OR_ID['AG_IMAGE_FAIL']}`\n  }\n\n  return isSuccess\n    ? [\n      h(selector, tag),\n      h(`img.${CLASS_OR_ID['AG_COPY_REMOVE']}`, { props: { alt, src, title } })\n    ]\n    : [h(selector, tag)]\n}\n","import backlashInToken from './backlashInToken'\nimport backlash from './backlash'\nimport highlight from './highlight'\nimport header from './header'\nimport link from './link'\nimport htmlTag from './htmlTag'\nimport hr from './hr'\nimport tailHeader from './tailHeader'\nimport hardLineBreak from './hardLineBreak'\nimport codeFense from './codeFense'\nimport inlineMath from './inlineMath'\nimport aLink from './aLink'\nimport autoLink from './autoLink'\nimport loadImageAsync from './loadImageAsync'\nimport htmlImage from './htmlImage'\nimport image from './image'\nimport delEmStrongFac from './delEmStringFactory'\nimport emoji from './emoji'\nimport inlineCode from './inlineCode'\nimport text from './text'\nimport del from './del'\nimport em from './em'\nimport strong from './strong'\nimport htmlEscape from './htmlEscape'\nimport multipleMath from './multipleMath'\nimport referenceDefinition from './referenceDefinition'\nimport referenceLink from './referenceLink'\nimport referenceImage from './referenceImage'\n\nexport default {\n  backlashInToken,\n  backlash,\n  highlight,\n  header,\n  link,\n  htmlTag,\n  hr,\n  tailHeader,\n  hardLineBreak,\n  codeFense,\n  inlineMath,\n  aLink,\n  autoLink,\n  loadImageAsync,\n  htmlImage,\n  image,\n  delEmStrongFac,\n  emoji,\n  inlineCode,\n  text,\n  del,\n  em,\n  strong,\n  htmlEscape,\n  multipleMath,\n  referenceDefinition,\n  referenceLink,\n  referenceImage\n}\n","/**\n * [renderBlock render one block, no matter it is a container block or text block]\n */\nexport default function renderBlock (block, cursor, activeBlocks, matches, useCache = false) {\n  const method = block.children.length > 0\n    ? 'renderContainerBlock'\n    : 'renderLeafBlock'\n\n  return this[method](block, cursor, activeBlocks, matches, useCache)\n}\n","import languages from './languages'\nlet peerDependentsMap = null\nexport const loadedCache = new Set(['markup', 'css', 'clike', 'javascript'])\n\nfunction getPeerDependentsMap () {\n  const peerDependentsMap = {}\n  Object.keys(languages).forEach(function (language) {\n    if (language === 'meta') {\n      return false\n    }\n    if (languages[language].peerDependencies) {\n      let peerDependencies = languages[language].peerDependencies\n      if (!Array.isArray(peerDependencies)) {\n        peerDependencies = [peerDependencies]\n      }\n      peerDependencies.forEach(function (peerDependency) {\n        if (!peerDependentsMap[peerDependency]) {\n          peerDependentsMap[peerDependency] = []\n        }\n        peerDependentsMap[peerDependency].push(language)\n      })\n    }\n  })\n  return peerDependentsMap\n}\n\nfunction getPeerDependents (mainLanguage) {\n  if (!peerDependentsMap) {\n    peerDependentsMap = getPeerDependentsMap()\n  }\n  return peerDependentsMap[mainLanguage] || []\n}\n\nfunction initLoadLanguage (Prism) {\n  return function loadLanguages (arr, withoutDependencies) {\n    // If no argument is passed, load all components\n    if (!arr) {\n      arr = Object.keys(languages).filter(function (language) {\n        return language !== 'meta'\n      })\n    }\n    if (arr && !arr.length) {\n      return\n    }\n\n    if (!Array.isArray(arr)) {\n      arr = [arr]\n    }\n\n    arr.forEach(function (language) {\n      if (!languages[language]) {\n        console.warn('Language does not exist ' + language)\n        return\n      }\n      if (loadedCache.has(language)) {\n        return\n      }\n\n      // Load dependencies first\n      if (!withoutDependencies && languages[language].require) {\n        loadLanguages(languages[language].require)\n      }\n\n      delete Prism.languages[language]\n      import('prismjs2/components/prism-' + language)\n        .then(_ => {\n          loadedCache.add(language)\n        })\n\n      // Reload dependents\n      const dependents = getPeerDependents(language).filter(function (dependent) {\n        // If dependent language was already loaded,\n        // we want to reload it.\n        if (Prism.languages[dependent]) {\n          delete Prism.languages[dependent]\n          return true\n        }\n        return false\n      })\n      if (dependents.length) {\n        loadLanguages(dependents, true)\n      }\n    })\n  }\n}\n\nexport default initLoadLanguage\n","import Prism from 'prismjs2'\nimport { filter } from 'fuzzaldrin'\nimport initLoadLanguage, { loadedCache } from './loadLanguage'\nimport languages from './languages'\n\nconst prism = Prism\nwindow.Prism = Prism\nimport('prismjs2/plugins/keep-markup/prism-keep-markup')\nconst langs = Object.keys(languages).map(name => (languages[name]))\nconst loadLanguage = initLoadLanguage(Prism)\n\nconst search = text => {\n  return filter(langs, text, { key: 'name' })\n}\n\n// pre load latex and yaml and html for `math block` \\ `front matter` and `html block`\nloadLanguage('latex')\nloadLanguage('yaml')\n\nexport {\n  search,\n  loadLanguage,\n  loadedCache,\n  languages\n}\n\nexport default prism\n","import { beginRules, inlineRules } from './rules'\nimport { isLengthEven, union } from '../utils'\nimport { punctuation } from '../config'\n\nconst CAN_NEST_RULES = ['strong', 'em', 'link', 'del', 'image', 'a_link'] // image can not nest but it has children\n\nconst validateRules = Object.assign({}, inlineRules)\ndelete validateRules.em\ndelete validateRules.strong\ndelete validateRules['tail_header']\ndelete validateRules['backlash']\n\nconst getSrcAlt = text => {\n  const SRC_REG = /src\\s*=\\s*(\"|')([^\\1]+?)\\1/\n  const ALT_REG = /alt\\s*=\\s*(\"|')([^\\1]+?)\\1/\n  const srcMatch = SRC_REG.exec(text)\n  const src = srcMatch ? srcMatch[2] : ''\n  const altMatch = ALT_REG.exec(text)\n  const alt = altMatch ? altMatch[2] : ''\n\n  return { src, alt }\n}\n\nconst lowerPriority = (src, offset) => {\n  let i\n  for (i = 0; i < offset; i++) {\n    const text = src.substring(i)\n    for (const rule of Object.keys(validateRules)) {\n      const to = validateRules[rule].exec(text)\n      if (to && to[0].length > offset - i) {\n        return false\n      }\n    }\n  }\n  return true\n}\n\nconst validateEmphasize = (src, offset, marker, pending) => {\n  /**\n   * Intraword emphasis is disallowed for _\n   */\n  const lastChar = pending.charAt(pending.length - 1)\n  const followedChar = src[offset]\n  const ALPHA_REG = /[a-zA-Z]{1}/\n  if (/_/.test(marker)) {\n    if (ALPHA_REG.test(lastChar)) return false\n    if (followedChar && ALPHA_REG.test(followedChar)) return false\n  }\n  /**\n   * 1. This is not emphasis, because the second * is preceded by punctuation and followed by an alphanumeric\n   * (hence it is not part of a right-flanking delimiter run:\n   * 2. This is not emphasis, because the opening * is preceded by an alphanumeric and followed by punctuation,\n   * and hence not part of a left-flanking delimiter run:\n   */\n  if (ALPHA_REG.test(lastChar) && punctuation.indexOf(src[marker.length]) > -1) {\n    return false\n  }\n\n  if (followedChar && ALPHA_REG.test(followedChar) && punctuation.indexOf(src[offset - marker.length - 1]) > -1) {\n    return false\n  }\n  /**\n   * When there are two potential emphasis or strong emphasis spans with the same closing delimiter,\n   * the shorter one (the one that opens later) takes precedence. Thus, for example, **foo **bar baz**\n   * is parsed as **foo <strong>bar baz</strong> rather than <strong>foo **bar baz</strong>.\n   */\n  const mLen = marker.length\n  const emphasizeText = src.substring(mLen, offset - mLen)\n  const index = emphasizeText.indexOf(marker)\n  if (index > -1 && /\\S/.test(emphasizeText[index + mLen])) {\n    return false\n  }\n  /**\n   * Inline code spans, links, images, and HTML tags group more tightly than emphasis.\n   * So, when there is a choice between an interpretation that contains one of these elements\n   * and one that does not, the former always wins. Thus, for example, *[foo*](bar) is parsed\n   * as *<a href=\"bar\">foo*</a> rather than as <em>[foo</em>](bar).\n   */\n  return lowerPriority(src, offset)\n}\n\nconst tokenizerFac = (src, beginRules, inlineRules, pos = 0, top) => {\n  const tokens = []\n  let pending = ''\n  let pendingStartPos = pos\n\n  const pushPending = () => {\n    if (pending) {\n      tokens.push({\n        type: 'text',\n        raw: pending,\n        content: pending,\n        range: {\n          start: pendingStartPos,\n          end: pos\n        }\n      })\n    }\n\n    pendingStartPos = pos\n    pending = ''\n  }\n\n  if (beginRules && pos === 0) {\n    const beginRuleList = ['header', 'hr', 'code_fense', 'multiple_math']\n\n    for (const ruleName of beginRuleList) {\n      const to = beginRules[ruleName].exec(src)\n\n      if (to) {\n        const token = {\n          type: ruleName,\n          raw: to[0],\n          parent: tokens,\n          marker: to[1],\n          content: to[2] || '',\n          backlash: to[3] || '',\n          range: {\n            start: pos,\n            end: pos + to[0].length\n          }\n        }\n        tokens.push(token)\n        src = src.substring(to[0].length)\n        pos = pos + to[0].length\n        break\n      }\n    }\n    const def = beginRules['reference_definition'].exec(src)\n    if (def && isLengthEven(def[3])) {\n      const token = {\n        type: 'reference_definition',\n        parent: tokens,\n        leftBracket: def[1],\n        label: def[2],\n        backlash: def[3] || '',\n        rightBracket: def[4],\n        leftHrefMarker: def[5] || '',\n        href: def[6],\n        rightHrefMarker: def[7] || '',\n        leftTitlespace: def[8],\n        titleMarker: def[9] || '',\n        title: def[10] || '',\n        rightTitleSpace: def[11] || '',\n        raw: def[0],\n        range: {\n          start: pos,\n          end: pos + def[0].length\n        }\n      }\n      tokens.push(token)\n      src = src.substring(def[0].length)\n      pos = pos + def[0].length\n    }\n  }\n\n  while (src.length) {\n    // backlash\n    const backTo = inlineRules.backlash.exec(src)\n    if (backTo) {\n      pushPending()\n      tokens.push({\n        type: 'backlash',\n        raw: backTo[1],\n        marker: backTo[1],\n        parent: tokens,\n        content: '',\n        range: {\n          start: pos,\n          end: pos + backTo[1].length\n        }\n      })\n      pending += pending + backTo[2]\n      pendingStartPos = pos + backTo[1].length\n      src = src.substring(backTo[0].length)\n      pos = pos + backTo[0].length\n      continue\n    }\n    // strong | em\n    const emRules = ['strong', 'em']\n    let inChunk\n    for (const rule of emRules) {\n      const to = inlineRules[rule].exec(src)\n      if (to && isLengthEven(to[3])) {\n        const isValid = validateEmphasize(src, to[0].length, to[1], pending)\n        if (isValid) {\n          inChunk = true\n          pushPending()\n          const range = {\n            start: pos,\n            end: pos + to[0].length\n          }\n          const marker = to[1]\n          tokens.push({\n            type: rule,\n            raw: to[0],\n            range,\n            marker,\n            parent: tokens,\n            children: tokenizerFac(to[2], undefined, inlineRules, pos + to[1].length, false),\n            backlash: to[3]\n          })\n          src = src.substring(to[0].length)\n          pos = pos + to[0].length\n        }\n        break\n      }\n    }\n    if (inChunk) continue\n\n    // strong | em | emoji | inline_code | del | inline_math\n    const chunks = ['inline_code', 'del', 'emoji', 'inline_math']\n    for (const rule of chunks) {\n      const to = inlineRules[rule].exec(src)\n      if (to && isLengthEven(to[3])) {\n        if (rule === 'emoji' && !lowerPriority(src, to[0].length)) break\n        inChunk = true\n        pushPending()\n        const range = {\n          start: pos,\n          end: pos + to[0].length\n        }\n        const marker = to[1]\n        if (rule === 'inline_code' || rule === 'emoji' || rule === 'inline_math') {\n          tokens.push({\n            type: rule,\n            raw: to[0],\n            range,\n            marker,\n            parent: tokens,\n            content: to[2],\n            backlash: to[3]\n          })\n        } else {\n          tokens.push({\n            type: rule,\n            raw: to[0],\n            range,\n            marker,\n            parent: tokens,\n            children: tokenizerFac(to[2], undefined, inlineRules, pos + to[1].length, false),\n            backlash: to[3]\n          })\n        }\n        src = src.substring(to[0].length)\n        pos = pos + to[0].length\n        break\n      }\n    }\n    if (inChunk) continue\n    // image\n    const imageTo = inlineRules.image.exec(src)\n    if (imageTo && isLengthEven(imageTo[3]) && isLengthEven(imageTo[5])) {\n      pushPending()\n      tokens.push({\n        type: 'image',\n        raw: imageTo[0],\n        marker: imageTo[1],\n        src: imageTo[4],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + imageTo[0].length\n        },\n        alt: imageTo[2],\n        backlash: {\n          first: imageTo[3],\n          second: imageTo[5]\n        }\n      })\n      src = src.substring(imageTo[0].length)\n      pos = pos + imageTo[0].length\n      continue\n    }\n    // link\n    const linkTo = inlineRules.link.exec(src)\n    if (linkTo && isLengthEven(linkTo[3]) && isLengthEven(linkTo[5])) {\n      pushPending()\n      tokens.push({\n        type: 'link',\n        raw: linkTo[0],\n        marker: linkTo[1],\n        href: linkTo[4],\n        parent: tokens,\n        anchor: linkTo[2],\n        range: {\n          start: pos,\n          end: pos + linkTo[0].length\n        },\n        children: tokenizerFac(linkTo[2], undefined, inlineRules, pos + linkTo[1].length, false),\n        backlash: {\n          first: linkTo[3],\n          second: linkTo[5]\n        }\n      })\n\n      src = src.substring(linkTo[0].length)\n      pos = pos + linkTo[0].length\n      continue\n    }\n\n    const rLinkTo = inlineRules['reference_link'].exec(src)\n    if (rLinkTo && isLengthEven(rLinkTo[2]) && isLengthEven(rLinkTo[4])) {\n      pushPending()\n\n      tokens.push({\n        type: 'reference_link',\n        raw: rLinkTo[0],\n        isFullLink: !!rLinkTo[3],\n        parent: tokens,\n        anchor: rLinkTo[1],\n        backlash: {\n          first: rLinkTo[2],\n          second: rLinkTo[4] || ''\n        },\n        label: rLinkTo[3] || rLinkTo[1],\n        range: {\n          start: pos,\n          end: pos + rLinkTo[0].length\n        },\n        children: tokenizerFac(rLinkTo[1], undefined, inlineRules, pos + 1, false)\n      })\n\n      src = src.substring(rLinkTo[0].length)\n      pos = pos + rLinkTo[0].length\n      continue\n    }\n\n    const rImageTo = inlineRules['reference_image'].exec(src)\n    if (rImageTo && isLengthEven(rImageTo[2]) && isLengthEven(rImageTo[4])) {\n      pushPending()\n\n      tokens.push({\n        type: 'reference_image',\n        raw: rImageTo[0],\n        isFullLink: !!rImageTo[3],\n        parent: tokens,\n        alt: rImageTo[1],\n        backlash: {\n          first: rImageTo[2],\n          second: rImageTo[4] || ''\n        },\n        label: rImageTo[3] || rImageTo[1],\n        range: {\n          start: pos,\n          end: pos + rImageTo[0].length\n        }\n      })\n\n      src = src.substring(rImageTo[0].length)\n      pos = pos + rImageTo[0].length\n      continue\n    }\n\n    // a_link `<a href=\"url\">Anchor</a>`\n    const aLinkTo = inlineRules['a_link'].exec(src)\n    if (aLinkTo) {\n      pushPending()\n      tokens.push({\n        type: 'a_link',\n        raw: aLinkTo[0],\n        href: aLinkTo[3],\n        openTag: aLinkTo[1],\n        closeTag: aLinkTo[5],\n        anchor: aLinkTo[4],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + aLinkTo[0].length\n        },\n        children: tokenizerFac(aLinkTo[4], undefined, inlineRules, pos + aLinkTo[1].length, false)\n      })\n\n      src = src.substring(aLinkTo[0].length)\n      pos = pos + aLinkTo[0].length\n      continue\n    }\n\n    // html-image\n    const htmlImageTo = inlineRules['html_image'].exec(src)\n    if (htmlImageTo) {\n      const rawAttr = htmlImageTo[2]\n      const { src: imageSrc, alt } = getSrcAlt(rawAttr)\n      if (imageSrc) {\n        pushPending()\n        tokens.push({\n          type: 'html_image',\n          raw: htmlImageTo[0],\n          tag: htmlImageTo[1],\n          parent: tokens,\n          src: imageSrc,\n          alt,\n          range: {\n            start: pos,\n            end: pos + htmlImageTo[0].length\n          }\n        })\n        src = src.substring(htmlImageTo[0].length)\n        pos = pos + htmlImageTo[0].length\n        continue\n      }\n    }\n\n    // html escape\n    const htmlEscapeTo = inlineRules['html_escape'].exec(src)\n    if (htmlEscapeTo) {\n      const len = htmlEscapeTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'html_escape',\n        raw: htmlEscapeTo[0],\n        escapeCharacter: htmlEscapeTo[1],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos = pos + len\n      continue\n    }\n\n    // html-tag\n    const htmlTo = inlineRules['html_tag'].exec(src)\n    if (htmlTo) {\n      const len = htmlTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'html_tag',\n        raw: htmlTo[0],\n        tag: htmlTo[1],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos = pos + len\n      continue\n    }\n\n    // auto link\n    const autoLTo = inlineRules['auto_link'].exec(src)\n    if (autoLTo) {\n      pushPending()\n      tokens.push({\n        type: 'auto_link',\n        raw: autoLTo[0],\n        href: autoLTo[0],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + autoLTo[0].length\n        }\n      })\n      src = src.substring(autoLTo[0].length)\n      pos = pos + autoLTo[0].length\n      continue\n    }\n    // hard line break\n    const hardTo = inlineRules['hard_line_break'].exec(src)\n    if (hardTo && top) {\n      const len = hardTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'hard_line_break',\n        raw: hardTo[0],\n        spaces: hardTo[1],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos += len\n      continue\n    }\n\n    // tail header\n    const tailTo = inlineRules['tail_header'].exec(src)\n    if (tailTo && top) {\n      pushPending()\n      tokens.push({\n        type: 'tail_header',\n        raw: tailTo[1],\n        marker: tailTo[1],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + tailTo[1].length\n        }\n      })\n      src = src.substring(tailTo[1].length)\n      pos += tailTo[1].length\n      continue\n    }\n\n    if (!pending) pendingStartPos = pos\n    pending += src[0]\n    src = src.substring(1)\n    pos++\n  }\n\n  pushPending()\n  return tokens\n}\n\nexport const tokenizer = (src, highlights = [], hasBeginRules = true) => {\n  const tokens = tokenizerFac(src, hasBeginRules ? beginRules : null, inlineRules, 0, true)\n  const postTokenizer = tokens => {\n    for (const token of tokens) {\n      for (const light of highlights) {\n        const highlight = union(token.range, light)\n        if (highlight) {\n          if (token.highlights && Array.isArray(token.highlights)) {\n            token.highlights.push(highlight)\n          } else {\n            token.highlights = [highlight]\n          }\n        }\n      }\n      if (CAN_NEST_RULES.indexOf(token.type) > -1) {\n        postTokenizer(token.children)\n      }\n    }\n  }\n  if (highlights.length) {\n    postTokenizer(tokens)\n  }\n  return tokens\n}\n\n// transform `tokens` to text ignore the range of token\n// the opposite of tokenizer\nexport const generator = tokens => {\n  let result = ''\n  for (const token of tokens) {\n    result += token.raw\n  }\n  return result\n}\n","export default {\n      id: \"align_left-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#align_left-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"align_right-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#align_right-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"align_center-usage\",\n      viewBox: \"0 0 1088 1024\",\n      url: \"/\" + \"sprite.svg#align_center-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"table-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#table-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"delete-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#delete-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","import katex from 'katex'\nimport mermaid from 'mermaid'\nimport prism, { loadedCache } from '../../../prism/'\nimport { CLASS_OR_ID, DEVICE_MEMORY, isInElectron, PREVIEW_DOMPURIFY_CONFIG, HAS_TEXT_BLOCK_REG } from '../../../config'\nimport { tokenizer } from '../../parse'\nimport { snakeToCamel, sanitize, escapeHtml, getLongUniqueId } from '../../../utils'\nimport { h, htmlToVNode } from '../snabbdom'\nimport alignLeftIcon from '../../../assets/icons/align_left.svg'\nimport alignRightIcon from '../../../assets/icons/align_right.svg'\nimport alignCenterIcon from '../../../assets/icons/align_center.svg'\nimport tableIcon from '../../../assets/icons/table.svg'\nimport deleteIcon from '../../../assets/icons/delete.svg'\n\n// todo@jocs any better solutions?\nconst MARKER_HASK = {\n  '<': `%${getLongUniqueId()}%`,\n  '>': `%${getLongUniqueId()}%`,\n  '\"': `%${getLongUniqueId()}%`,\n  \"'\": `%${getLongUniqueId()}%`\n}\n\nconst ICON_MAP = {\n  'icon-alignright': alignRightIcon,\n  'icon-alignleft': alignLeftIcon,\n  'icon-del': deleteIcon,\n  'icon-table': tableIcon,\n  'icon-aligncenter': alignCenterIcon\n}\n\nconst getHighlightHtml = (text, highlights, escape = false) => {\n  let code = ''\n  let pos = 0\n  for (const highlight of highlights) {\n    const { start, end, active } = highlight\n    code += text.substring(pos, start)\n    const className = active ? 'ag-highlight' : 'ag-selection'\n    code += escape\n      ? `${MARKER_HASK['<']}span class=${MARKER_HASK['\"']}${className}${MARKER_HASK['\"']}${MARKER_HASK['>']}${text.substring(start, end)}${MARKER_HASK['<']}/span${MARKER_HASK['>']}`\n      : `<span class=\"${className}\">${text.substring(start, end)}</span>`\n    pos = end\n  }\n  if (pos !== text.length) {\n    code += text.substring(pos)\n  }\n  return code\n}\n\nexport default function renderLeafBlock (block, cursor, activeBlocks, matches, useCache = false) {\n  const { loadMathMap } = this\n  let selector = this.getSelector(block, cursor, activeBlocks)\n  // highlight search key in block\n  const highlights = matches.filter(m => m.key === block.key)\n  const {\n    text,\n    type,\n    headingStyle,\n    align,\n    icon,\n    checked,\n    key,\n    lang,\n    functionType,\n    editable\n  } = block\n  const data = {\n    props: {},\n    attrs: {},\n    dataset: {},\n    style: {}\n  }\n  let children = ''\n  if (text) {\n    let tokens = []\n    if (highlights.length === 0 && this.tokenCache.has(text)) {\n      tokens = this.tokenCache.get(text)\n    } else if (\n      HAS_TEXT_BLOCK_REG.test(type) &&\n      functionType !== 'codeLine' &&\n      functionType !== 'languageInput'\n    ) {\n      const hasBeginRules = /^(h\\d|span|hr)/.test(type)\n      tokens = tokenizer(text, highlights, hasBeginRules)\n      if (highlights.length === 0 && useCache && DEVICE_MEMORY >= 4) {\n        this.tokenCache.set(text, tokens)\n      }\n    }\n    children = tokens.reduce((acc, token) => [...acc, ...this[snakeToCamel(token.type)](h, cursor, block, token)], [])\n  }\n\n  if (editable === false) {\n    Object.assign(data.attrs, {\n      contenteditable: 'false'\n    })\n  }\n\n  if (/th|td/.test(type) && align) {\n    Object.assign(data.attrs, {\n      style: `text-align:${align}`\n    })\n  } else if (type === 'div') {\n    const code = this.muya.contentState.codeBlocks.get(block.preSibling)\n    switch (functionType) {\n      case 'preview': {\n        selector += `.${CLASS_OR_ID['AG_HTML_PREVIEW']}`\n        const htmlContent = sanitize(code, PREVIEW_DOMPURIFY_CONFIG)\n        // handle empty html bock\n        if (/<([a-z][a-z\\d]*).*>\\s*<\\/\\1>/.test(htmlContent)) {\n          children = htmlToVNode('<div class=\"ag-empty\">&lt;Empty HTML Block&gt;</div>')\n        } else {\n          children = htmlToVNode(htmlContent)\n        }\n        break\n      }\n      case 'multiplemath': {\n        const key = `${code}_display_math`\n        selector += `.${CLASS_OR_ID['AG_CONTAINER_PREVIEW']}`\n        if (code === '') {\n          children = '< Empty Mathematical Formula >'\n          selector += `.${CLASS_OR_ID['AG_EMPTY']}`\n        } else if (loadMathMap.has(key)) {\n          children = loadMathMap.get(key)\n        } else {\n          try {\n            const html = katex.renderToString(code, {\n              displayMode: true\n            })\n\n            children = htmlToVNode(html)\n            loadMathMap.set(key, children)\n          } catch (err) {\n            children = '< Invalid Mathematical Formula >'\n            selector += `.${CLASS_OR_ID['AG_MATH_ERROR']}`\n          }\n        }\n        break\n      }\n      case 'mermaid': {\n        selector += `.${CLASS_OR_ID['AG_CONTAINER_PREVIEW']}`\n        if (code === '') {\n          children = '< Empty Mermaid Block >'\n          selector += `.${CLASS_OR_ID['AG_EMPTY']}`\n        } else {\n          try {\n            mermaid.parse(code)\n            children = code\n            this.mermaidCache.add(`#${block.key}`)\n          } catch (err) {\n            children = '< Invalid Mermaid Codes >'\n            selector += `.${CLASS_OR_ID['AG_MATH_ERROR']}`\n          }\n        }\n        break\n      }\n      case 'flowchart':\n      case 'sequence':\n      case 'vega-lite': {\n        const code = this.muya.contentState.codeBlocks.get(block.preSibling)\n        selector += `.${CLASS_OR_ID['AG_CONTAINER_PREVIEW']}`\n        if (code === '') {\n          children = '< Empty Diagram Block >'\n          selector += `.${CLASS_OR_ID['AG_EMPTY']}`\n        } else {\n          children = ''\n          this.diagramCache.set(`#${block.key}`, {\n            code,\n            functionType\n          })\n        }\n        break\n      }\n    }\n  } else if (type === 'svg' && icon) {\n    selector += '.icon'\n    const iconSvg = ICON_MAP[icon]\n    Object.assign(data.attrs, {\n      'viewBox': iconSvg.viewBox,\n      'aria-hidden': 'true'\n    })\n\n    children = [\n      h('use', {\n        attrs: {\n          'xlink:href': `.${iconSvg.url}`\n        }\n      })\n    ]\n  } else if (/^h/.test(type)) {\n    if (/^h\\d$/.test(type)) {\n      Object.assign(data.dataset, {\n        head: type,\n        id: isInElectron ? require('markdown-toc').slugify(text.replace(/^#+\\s(.*)/, (_, p1) => p1)) : ''\n      })\n      selector += `.${headingStyle}`\n    }\n    Object.assign(data.dataset, {\n      role: type\n    })\n  } else if (type === 'input') {\n    Object.assign(data.attrs, {\n      type: 'checkbox'\n    })\n    selector = `${type}#${key}.${CLASS_OR_ID['AG_TASK_LIST_ITEM_CHECKBOX']}`\n    if (checked) {\n      Object.assign(data.attrs, {\n        checked: true\n      })\n      selector += `.${CLASS_OR_ID['AG_CHECKBOX_CHECKED']}`\n    }\n    children = ''\n  } else if (type === 'span' && functionType === 'codeLine') {\n    const code = escapeHtml(getHighlightHtml(text, highlights, true))\n      .replace(new RegExp(MARKER_HASK['<'], 'g'), '<')\n      .replace(new RegExp(MARKER_HASK['>'], 'g'), '>')\n      .replace(new RegExp(MARKER_HASK['\"'], 'g'), '\"')\n      .replace(new RegExp(MARKER_HASK[\"'\"], 'g'), \"'\")\n\n    selector += `.${CLASS_OR_ID['AG_CODE_LINE']}`\n\n    if (lang && /\\S/.test(code) && loadedCache.has(lang)) {\n      const wrapper = document.createElement('div')\n      wrapper.classList.add(`language-${lang}`)\n      wrapper.innerHTML = code\n      prism.highlightElement(wrapper, false, function () {\n        const highlightedCode = this.innerHTML\n        selector += `.language-${lang}`\n        children = htmlToVNode(highlightedCode)\n      })\n    } else {\n      children = htmlToVNode(code)\n    }\n  } else if (type === 'span' && functionType === 'languageInput') {\n    const html = getHighlightHtml(text, highlights)\n    selector += `.${CLASS_OR_ID['AG_LANGUAGE_INPUT']}`\n    children = htmlToVNode(html)\n  }\n\n  return h(selector, data, children)\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { h } from '../snabbdom'\n\nconst PRE_BLOCK_HASH = {\n  'fencecode': `.${CLASS_OR_ID['AG_FENCE_CODE']}`,\n  'indentcode': `.${CLASS_OR_ID['AG_INDENT_CODE']}`,\n  'html': `.${CLASS_OR_ID['AG_HTML_BLOCK']}`,\n  'frontmatter': `.${CLASS_OR_ID['AG_FRONT_MATTER']}`,\n  'multiplemath': `.${CLASS_OR_ID['AG_MULTIPLE_MATH']}`,\n  'flowchart': `.${CLASS_OR_ID['AG_FLOWCHART']}`,\n  'sequence': `.${CLASS_OR_ID['AG_SEQUENCE']}`,\n  'mermaid': `.${CLASS_OR_ID['AG_MERMAID']}`,\n  'vega-lite': `.${CLASS_OR_ID['AG_VEGA_LITE']}`\n}\n\nexport default function renderContainerBlock (block, cursor, activeBlocks, matches, useCache = false) {\n  let selector = this.getSelector(block, cursor, activeBlocks)\n  const data = {\n    attrs: {},\n    dataset: {}\n  }\n  // handle `div` block\n  if (/div/.test(block.type)) {\n    if (block.toolBarType) {\n      selector += `.${'ag-tool-' + block.toolBarType}.${CLASS_OR_ID['AG_TOOL_BAR']}`\n    }\n    if (block.functionType) {\n      selector += `.${'ag-function-' + block.functionType}`\n    }\n    if (block.editable !== undefined && !block.editable) {\n      Object.assign(data.attrs, { contenteditable: 'false' })\n    }\n  }\n  // handle `figure` block\n  if (block.type === 'figure') {\n    if (block.functionType) {\n      Object.assign(data.dataset, { role: block.functionType.toUpperCase() })\n    }\n\n    if (\n      /multiplemath|flowchart|mermaid|sequence|vega-lite/.test(block.functionType)\n    ) {\n      selector += `.${CLASS_OR_ID['AG_CONTAINER_BLOCK']}`\n    }\n  }\n  // hanle list block\n  if (/ul|ol/.test(block.type) && block.listType) {\n    switch (block.listType) {\n      case 'order':\n        selector += `.${CLASS_OR_ID['AG_ORDER_LIST']}`\n        break\n      case 'bullet':\n        selector += `.${CLASS_OR_ID['AG_BULLET_LIST']}`\n        break\n      case 'task':\n        selector += `.${CLASS_OR_ID['AG_TASK_LIST']}`\n        break\n      default:\n        break\n    }\n  }\n  if (block.type === 'li' && block.label) {\n    const { label, title: tooltip } = block\n    const { align } = activeBlocks[0]\n\n    if (align && block.label === align) {\n      selector += '.active'\n    }\n    Object.assign(data.dataset, { label, tooltip })\n  }\n  if (block.type === 'li' && block.listItemType) {\n    selector += `.${CLASS_OR_ID['AG_LIST_ITEM']}`\n    switch (block.listItemType) {\n      case 'order':\n        selector += `.${CLASS_OR_ID['AG_ORDER_LIST_ITEM']}`\n        break\n      case 'bullet':\n        selector += `.${CLASS_OR_ID['AG_BULLET_LIST_ITEM']}`\n        break\n      case 'task':\n        selector += `.${CLASS_OR_ID['AG_TASK_LIST_ITEM']}`\n        break\n      default:\n        break\n    }\n    if (block.bulletListItemMarker) {\n      Object.assign(data.dataset, { marker: block.bulletListItemMarker })\n    }\n    selector += block.isLooseListItem ? `.${CLASS_OR_ID['AG_LOOSE_LIST_ITEM']}` : `.${CLASS_OR_ID['AG_TIGHT_LIST_ITEM']}`\n  }\n  if (block.type === 'ol') {\n    Object.assign(data.attrs, { start: block.start })\n  }\n  if (block.type === 'code') {\n    const { lang } = block\n    if (lang) {\n      selector += `.language-${lang}`\n    }\n  }\n  if (block.type === 'pre') {\n    const { lang, functionType } = block\n    if (lang) {\n      selector += `.language-${lang}`\n    }\n    Object.assign(data.dataset, { role: functionType })\n    selector += PRE_BLOCK_HASH[block.functionType]\n  }\n\n  return h(selector, data, block.children.map(child => this.renderBlock(child, cursor, activeBlocks, matches, useCache)))\n}\n","import renderBlock from './renderBlock'\nimport renderLeafBlock from './renderLeafBlock'\nimport renderContainerBlock from './renderContainerBlock'\n\nexport default {\n  renderBlock,\n  renderLeafBlock,\n  renderContainerBlock\n}\n","import mermaid from 'mermaid'\nimport flowchart from 'flowchart.js'\nimport Diagram from './sequence'\n// import vegaEmbed from 'vega-embed'\nimport { CLASS_OR_ID } from '../../config'\nimport { conflict, mixins } from '../../utils'\nimport { patch, toVNode, toHTML, h } from './snabbdom'\nimport { beginRules } from '../rules'\nimport renderInlines from './renderInlines'\nimport renderBlock from './renderBlock'\n\nclass StateRender {\n  constructor (muya) {\n    this.muya = muya\n    this.eventCenter = muya.eventCenter\n    this.loadImageMap = new Map()\n    this.loadMathMap = new Map()\n    this.mermaidCache = new Set()\n    this.diagramCache = new Map()\n    this.tokenCache = new Map()\n    this.labels = new Map()\n    this.container = null\n  }\n\n  setContainer (container) {\n    this.container = container\n  }\n\n  collectLabels (blocks) {\n    this.labels.clear()\n\n    const travel = block => {\n      const { text, children } = block\n      if (children && children.length) {\n        children.forEach(c => travel(c))\n      } else if (text) {\n        const tokens = beginRules['reference_definition'].exec(text)\n        if (tokens) {\n          const key = (tokens[2] + tokens[3]).toLowerCase()\n          if (!this.labels.has(key)) {\n            this.labels.set(key, {\n              href: tokens[6],\n              title: tokens[10] || ''\n            })\n          }\n        }\n      }\n    }\n\n    blocks.forEach(b => travel(b))\n  }\n\n  checkConflicted (block, token, cursor) {\n    const { start, end } = cursor\n    const key = block.key\n    const { start: tokenStart, end: tokenEnd } = token.range\n\n    if (key !== start.key && key !== end.key) {\n      return false\n    } else if (key === start.key && key !== end.key) {\n      return conflict([tokenStart, tokenEnd], [start.offset, start.offset])\n    } else if (key !== start.key && key === end.key) {\n      return conflict([tokenStart, tokenEnd], [end.offset, end.offset])\n    } else {\n      return conflict([tokenStart, tokenEnd], [start.offset, start.offset]) ||\n        conflict([tokenStart, tokenEnd], [end.offset, end.offset])\n    }\n  }\n\n  getClassName (outerClass, block, token, cursor) {\n    return outerClass || (this.checkConflicted(block, token, cursor) ? CLASS_OR_ID['AG_GRAY'] : CLASS_OR_ID['AG_HIDE'])\n  }\n\n  getHighlightClassName (active) {\n    return active ? CLASS_OR_ID['AG_HIGHLIGHT'] : CLASS_OR_ID['AG_SELECTION']\n  }\n\n  getSelector (block, cursor, activeBlocks) {\n    const type = block.type === 'hr' ? 'p' : block.type\n    const isActive = activeBlocks.some(b => b.key === block.key) || block.key === cursor.start.key\n\n    let selector = `${type}#${block.key}.${CLASS_OR_ID['AG_PARAGRAPH']}`\n    if (isActive) {\n      selector += `.${CLASS_OR_ID['AG_ACTIVE']}`\n    }\n    if (type === 'span') {\n      selector += `.${CLASS_OR_ID['AG_LINE']}`\n    }\n    return selector\n  }\n\n  renderMermaid () {\n    if (this.mermaidCache.size) {\n      mermaid.init(undefined, document.querySelectorAll([...this.mermaidCache].join(', ')))\n      this.mermaidCache.clear()\n    }\n  }\n\n  async renderDiagram () {\n    const cache = this.diagramCache\n    const RENDER_MAP = {\n      'flowchart': flowchart,\n      'sequence': Diagram// ,\n      // 'vega-lite': vegaEmbed\n    }\n    if (cache.size) {\n      for (const [key, value] of cache.entries()) {\n        const target = document.querySelector(key)\n        const { code, functionType } = value\n        const render = RENDER_MAP[functionType]\n        const options = {}\n        if (functionType === 'sequence') {\n          Object.assign(options, { theme: this.muya.options.sequenceTheme })\n        } else if (functionType === 'vega-lite') {\n          Object.assign(options, { actions: false, tooltip: false, renderer: 'svg' })\n        }\n        try {\n          if (functionType === 'flowchart' || functionType === 'sequence') {\n            const diagram = render.parse(code)\n            target.innerHTML = ''\n            diagram.drawSVG(target, options)\n          } else if (functionType === 'vega-lite') {\n            await render(key, JSON.parse(code), options)\n          }\n        } catch (err) {\n          target.innerHTML = `< Invalid ${functionType === 'flowchart' ? 'Flow Chart' : 'Sequence'} Codes >`\n          target.classList.add(CLASS_OR_ID['AG_MATH_ERROR'])\n        }\n      }\n      this.diagramCache.clear()\n    }\n  }\n\n  render (blocks, cursor, activeBlocks, matches) {\n    const selector = `div#${CLASS_OR_ID['AG_EDITOR_ID']}`\n\n    const children = blocks.map(block => {\n      return this.renderBlock(block, cursor, activeBlocks, matches, true)\n    })\n\n    const newVdom = h(selector, children)\n    const rootDom = document.querySelector(selector) || this.container\n    const oldVdom = toVNode(rootDom)\n\n    patch(oldVdom, newVdom)\n    this.renderMermaid()\n    this.renderDiagram()\n  }\n\n  // Only render the blocks which you updated\n  partialRender (blocks, cursor, activeBlocks, matches, startKey, endKey) {\n    const cursorOutMostBlock = activeBlocks[activeBlocks.length - 1]\n    // If cursor is not in render blocks, need to render cursor block independently\n    const needRenderCursorBlock = blocks.indexOf(cursorOutMostBlock) === -1\n    const newVnode = h('section', blocks.map(block => this.renderBlock(block, cursor, activeBlocks, matches)))\n    const html = toHTML(newVnode).replace(/^<section>([\\s\\S]+?)<\\/section>$/, '$1')\n\n    const needToRemoved = []\n    const firstOldDom = startKey\n      ? document.querySelector(`#${startKey}`)\n      : document.querySelector(`div#${CLASS_OR_ID['AG_EDITOR_ID']}`).firstElementChild\n    if (!firstOldDom) {\n      // TODO@Jocs Just for fix #541, Because I'll rewrite block and render method, it will nolonger have this issue.\n      return\n    }\n    needToRemoved.push(firstOldDom)\n    let nextSibling = firstOldDom.nextElementSibling\n    while (nextSibling && nextSibling.id !== endKey) {\n      needToRemoved.push(nextSibling)\n      nextSibling = nextSibling.nextElementSibling\n    }\n    nextSibling && needToRemoved.push(nextSibling)\n\n    firstOldDom.insertAdjacentHTML('beforebegin', html)\n\n    Array.from(needToRemoved).forEach(dom => dom.remove())\n\n    // Render cursor block independently\n    if (needRenderCursorBlock) {\n      const { key } = cursorOutMostBlock\n      const cursorDom = document.querySelector(`#${key}`)\n      if (cursorDom) {\n        const oldCursorVnode = toVNode(cursorDom)\n        const newCursorVnode = this.renderBlock(cursorOutMostBlock, cursor, activeBlocks, matches)\n        patch(oldCursorVnode, newCursorVnode)\n      }\n    }\n    this.renderMermaid()\n    this.renderDiagram()\n  }\n}\n\nmixins(StateRender, renderInlines, renderBlock)\n\nexport default StateRender\n","import selection from '../selection'\nimport { isOsx } from '../config'\n\nconst checkAutoIndent = (text, offset) => {\n  const pairStr = text.substring(offset - 1, offset + 1)\n  return /^(\\{\\}|\\[\\]|\\(\\)|><)$/.test(pairStr)\n}\nconst getIndentSpace = text => {\n  const match = /^(\\s*)\\S/.exec(text)\n  return match ? match[1] : ''\n}\n\nconst enterCtrl = ContentState => {\n  ContentState.prototype.chopBlockByCursor = function (block, key, offset) {\n    const newBlock = this.createBlock('p')\n    const { children } = block\n    const index = children.findIndex(child => child.key === key)\n    const activeLine = this.getBlock(key)\n    const { text } = activeLine\n    newBlock.children = children.splice(index + 1)\n    newBlock.children.forEach(c => (c.parent = newBlock.key))\n    children[index].nextSibling = null\n    if (newBlock.children.length) {\n      newBlock.children[0].preSibling = null\n    }\n    if (offset === 0) {\n      this.removeBlock(activeLine, children)\n      this.prependChild(newBlock, activeLine)\n    } else if (offset < text.length) {\n      activeLine.text = text.substring(0, offset)\n      const newLine = this.createBlock('span', text.substring(offset))\n      this.prependChild(newBlock, newLine)\n    }\n    return newBlock\n  }\n\n  ContentState.prototype.chopBlock = function (block) {\n    const parent = this.getParent(block)\n    const type = parent.type\n    const container = this.createBlock(type)\n    const index = this.findIndex(parent.children, block)\n    const partChildren = parent.children.splice(index + 1)\n    block.nextSibling = null\n    partChildren.forEach(b => {\n      this.appendChild(container, b)\n    })\n    this.insertAfter(container, parent)\n    return container\n  }\n\n  ContentState.prototype.createRow = function (row) {\n    const trBlock = this.createBlock('tr')\n    const len = row.children.length\n    let i\n    for (i = 0; i < len; i++) {\n      const tdBlock = this.createBlock('td')\n      const preChild = row.children[i]\n      tdBlock.column = i\n      tdBlock.align = preChild.align\n      this.appendChild(trBlock, tdBlock)\n    }\n    return trBlock\n  }\n\n  ContentState.prototype.createBlockLi = function (paragraphInListItem) {\n    const liBlock = this.createBlock('li')\n    if (!paragraphInListItem) {\n      paragraphInListItem = this.createBlockP()\n    }\n    this.appendChild(liBlock, paragraphInListItem)\n    return liBlock\n  }\n\n  ContentState.prototype.createTaskItemBlock = function (paragraphInListItem, checked = false) {\n    const listItem = this.createBlock('li')\n    const checkboxInListItem = this.createBlock('input')\n\n    listItem.listItemType = 'task'\n    checkboxInListItem.checked = checked\n\n    if (!paragraphInListItem) {\n      paragraphInListItem = this.createBlockP()\n    }\n    this.appendChild(listItem, checkboxInListItem)\n    this.appendChild(listItem, paragraphInListItem)\n    return listItem\n  }\n\n  ContentState.prototype.enterInEmptyParagraph = function (block) {\n    if (block.type === 'span') block = this.getParent(block)\n    const parent = this.getParent(block)\n    let newBlock = null\n    if (parent && (/ul|ol|blockquote/.test(parent.type))) {\n      newBlock = this.createBlockP()\n      if (this.isOnlyChild(block)) {\n        this.insertAfter(newBlock, parent)\n        this.removeBlock(parent)\n      } else if (this.isFirstChild(block)) {\n        this.insertBefore(newBlock, parent)\n      } else if (this.isLastChild(block)) {\n        this.insertAfter(newBlock, parent)\n      } else {\n        this.chopBlock(block)\n        this.insertAfter(newBlock, parent)\n      }\n\n      this.removeBlock(block)\n    } else if (parent && parent.type === 'li') {\n      if (parent.listItemType === 'task') {\n        const { checked } = parent.children[0]\n        newBlock = this.createTaskItemBlock(null, checked)\n      } else {\n        newBlock = this.createBlockLi()\n        newBlock.listItemType = parent.listItemType\n        if (parent.listItemType === 'bullet') {\n          newBlock.bulletListItemMarker = parent.bulletListItemMarker\n        }\n      }\n      newBlock.isLooseListItem = parent.isLooseListItem\n      this.insertAfter(newBlock, parent)\n      const index = this.findIndex(parent.children, block)\n      const blocksInListItem = parent.children.splice(index + 1)\n      blocksInListItem.forEach(b => this.appendChild(newBlock, b))\n      this.removeBlock(block)\n\n      newBlock = newBlock.listItemType === 'task'\n        ? newBlock.children[1]\n        : newBlock.children[0]\n    } else {\n      newBlock = this.createBlockP()\n      if (block.type === 'li') {\n        this.insertAfter(newBlock, parent)\n        this.removeBlock(block)\n      } else {\n        this.insertAfter(newBlock, block)\n      }\n    }\n\n    const { key } = newBlock.children[0]\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    return this.partialRender()\n  }\n\n  ContentState.prototype.enterHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n    let block = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    let parent = this.getParent(block)\n\n    event.preventDefault()\n    // handle select multiple blocks\n    if (start.key !== end.key) {\n      const key = start.key\n      const offset = start.offset\n\n      const startRemainText = block.text.substring(0, start.offset)\n\n      const endRemainText = endBlock.text.substring(end.offset)\n\n      block.text = startRemainText + endRemainText\n\n      this.removeBlocks(block, endBlock)\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      this.partialRender()\n      return this.enterHandler(event)\n    }\n\n    // handle select multiple charactors\n    if (start.key === end.key && start.offset !== end.offset) {\n      const key = start.key\n      const offset = start.offset\n      block.text = block.text.substring(0, start.offset) + block.text.substring(end.offset)\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      this.partialRender()\n      return this.enterHandler(event)\n    }\n\n    // handle `shift + enter` insert `soft line break` or `hard line break`\n    // only cursor in `line block` can create `soft line break` and `hard line break`\n    // handle line in code block\n    if (\n      (event.shiftKey && block.type === 'span') ||\n      (block.type === 'span' && block.functionType === 'codeLine')\n    ) {\n      const { text } = block\n      const newLineText = text.substring(start.offset)\n      const autoIndent = checkAutoIndent(text, start.offset)\n      const indent = getIndentSpace(text)\n      block.text = text.substring(0, start.offset)\n      const newLine = this.createBlock('span', `${indent}${newLineText}`)\n      newLine.functionType = block.functionType\n      newLine.lang = block.lang\n      this.insertAfter(newLine, block)\n      let { key } = newLine\n      let offset = indent.length\n      if (autoIndent) {\n        const emptyLine = this.createBlock('span', indent + ' '.repeat(this.tabSize))\n        emptyLine.functionType = block.functionType\n        emptyLine.lang = block.lang\n        this.insertAfter(emptyLine, block)\n        key = emptyLine.key\n        offset = indent.length + this.tabSize\n      }\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n\n    // Insert `<br/>` in table cell if you want to open a new line.\n    // Why not use `soft line break` or `hard line break` ?\n    // Becasuse table cell only have one line.\n    if (event.shiftKey && /th|td/.test(block.type)) {\n      const { text, key } = block\n      const brTag = '<br/>'\n      block.text = text.substring(0, start.offset) + brTag + text.substring(start.offset)\n      const offset = start.offset + brTag.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender([ block ])\n    }\n\n    const getFirstBlockInNextRow = row => {\n      let nextSibling = this.getBlock(row.nextSibling)\n      if (!nextSibling) {\n        const rowContainer = this.getBlock(row.parent)\n        const table = this.getBlock(rowContainer.parent)\n        const figure = this.getBlock(table.parent)\n        if (rowContainer.type === 'thead') {\n          nextSibling = table.children[1]\n        } else if (figure.nextSibling) {\n          nextSibling = this.getBlock(figure.nextSibling)\n        } else {\n          nextSibling = this.createBlockP()\n          this.insertAfter(nextSibling, figure)\n        }\n      }\n      return this.firstInDescendant(nextSibling)\n    }\n\n    // handle enter in table\n    if (/th|td/.test(block.type)) {\n      const row = this.getBlock(block.parent)\n      const rowContainer = this.getBlock(row.parent)\n      const table = this.getBlock(rowContainer.parent)\n\n      if (\n        (isOsx && event.metaKey) ||\n        (!isOsx && event.ctrlKey)\n      ) {\n        const nextRow = this.createRow(row)\n        if (rowContainer.type === 'thead') {\n          const tBody = this.getBlock(rowContainer.nextSibling)\n          this.insertBefore(nextRow, tBody.children[0])\n        } else {\n          this.insertAfter(nextRow, row)\n        }\n        table.row++\n      }\n\n      const { key } = getFirstBlockInNextRow(row)\n      const offset = 0\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n\n    if (block.type === 'span') {\n      block = parent\n      parent = this.getParent(block)\n    }\n    const paragraph = document.querySelector(`#${block.key}`)\n    if (\n      (parent && parent.type === 'li' && this.isOnlyChild(block)) ||\n      (parent && parent.type === 'li' && parent.listItemType === 'task' && parent.children.length === 2) // one `input` and one `p`\n    ) {\n      block = parent\n      parent = this.getParent(block)\n    }\n    const { left, right } = selection.getCaretOffsets(paragraph)\n    const type = block.type\n    let newBlock\n\n    switch (true) {\n      case left !== 0 && right !== 0: // cursor in the middle\n        let { pre, post } = selection.chopHtmlByCursor(paragraph)\n\n        if (/^h\\d$/.test(block.type)) {\n          const PREFIX = /^#+/.exec(pre)[0]\n          post = `${PREFIX} ${post}`\n          block.text = pre\n          newBlock = this.createBlock(type, post)\n        } else if (block.type === 'p') {\n          newBlock = this.chopBlockByCursor(block, start.key, start.offset)\n        } else if (type === 'li') {\n          // handle task item\n          if (block.listItemType === 'task') {\n            const { checked } = block.children[0] // block.children[0] is input[type=checkbox]\n            newBlock = this.chopBlockByCursor(block.children[1], start.key, start.offset)\n            newBlock = this.createTaskItemBlock(newBlock, checked)\n          } else {\n            newBlock = this.chopBlockByCursor(block.children[0], start.key, start.offset)\n            newBlock = this.createBlockLi(newBlock)\n            newBlock.listItemType = block.listItemType\n            if (block.listItemType === 'bullet') {\n              newBlock.bulletListItemMarker = block.bulletListItemMarker\n            }\n          }\n          newBlock.isLooseListItem = block.isLooseListItem\n        }\n        this.insertAfter(newBlock, block)\n        break\n      case left === 0 && right === 0: // paragraph is empty\n        return this.enterInEmptyParagraph(block)\n      case left !== 0 && right === 0: // cursor at end of paragraph\n      case left === 0 && right !== 0: // cursor at begin of paragraph\n        if (type === 'li') {\n          if (block.listItemType === 'task') {\n            const { checked } = block.children[0]\n            newBlock = this.createTaskItemBlock(null, checked)\n          } else {\n            newBlock = this.createBlockLi()\n            newBlock.listItemType = block.listItemType\n            if (block.listItemType === 'bullet') {\n              newBlock.bulletListItemMarker = block.bulletListItemMarker\n            }\n          }\n          newBlock.isLooseListItem = block.isLooseListItem\n        } else {\n          newBlock = this.createBlockP()\n        }\n\n        if (left === 0 && right !== 0) {\n          this.insertBefore(newBlock, block)\n          newBlock = block\n        } else {\n          if (block.type === 'p') {\n            const lastLine = block.children[block.children.length - 1]\n            if (lastLine.text === '') {\n              this.removeBlock(lastLine)\n            }\n          }\n          this.insertAfter(newBlock, block)\n        }\n        break\n      default:\n        newBlock = this.createBlockP()\n        this.insertAfter(newBlock, block)\n        break\n    }\n\n    const getParagraphBlock = block => {\n      if (block.type === 'li') {\n        return block.listItemType === 'task' ? block.children[1] : block.children[0]\n      } else {\n        return block\n      }\n    }\n\n    this.codeBlockUpdate(getParagraphBlock(newBlock))\n    // If block is pre block when updated, need to focus it.\n    const preParagraphBlock = getParagraphBlock(block)\n    const blockNeedFocus = this.codeBlockUpdate(preParagraphBlock)\n    let tableNeedFocus = this.tableBlockUpdate(preParagraphBlock)\n    let htmlNeedFocus = this.updateHtmlBlock(preParagraphBlock)\n    let mathNeedFocus = this.updateMathBlock(preParagraphBlock)\n    let cursorBlock\n\n    switch (true) {\n      case !!blockNeedFocus:\n        cursorBlock = block\n        break\n      case !!tableNeedFocus:\n        cursorBlock = tableNeedFocus\n        break\n      case !!htmlNeedFocus:\n        cursorBlock = htmlNeedFocus.children[0].children[1] // the second line\n        break\n      case !!mathNeedFocus:\n        cursorBlock = mathNeedFocus\n        break\n      default:\n        cursorBlock = newBlock\n        break\n    }\n\n    cursorBlock = getParagraphBlock(cursorBlock)\n    const key = cursorBlock.type === 'p' ? cursorBlock.children[0].key : cursorBlock.key\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n  }\n}\n\nexport default enterCtrl\n","import { tokenizer } from '../parser/parse'\nimport { conflict } from '../utils'\nimport { CLASS_OR_ID, DEFAULT_TURNDOWN_CONFIG } from '../config'\n\nconst INLINE_UPDATE_FRAGMENTS = [\n  '^([*+-]\\\\s)', // Bullet list\n  '^(\\\\[[x\\\\s]{1}\\\\]\\\\s)', // Task list\n  '^(\\\\d+\\\\.\\\\s)', // Order list\n  '^\\\\s{0,3}(#{1,6})(?=\\\\s{1,}|$)', // ATX heading\n  '^(>).+', // Block quote\n  '^\\\\s{0,3}((?:\\\\*\\\\s*\\\\*\\\\s*\\\\*|-\\\\s*-\\\\s*-|_\\\\s*_\\\\s*_)[\\\\s\\\\*\\\\-\\\\_]*)$' // Thematic break\n]\n\nconst INLINE_UPDATE_REG = new RegExp(INLINE_UPDATE_FRAGMENTS.join('|'), 'i')\n\nconst updateCtrl = ContentState => {\n  // handle task list item checkbox click\n  ContentState.prototype.listItemCheckBoxClick = function (checkbox) {\n    const { checked, id } = checkbox\n    const block = this.getBlock(id)\n    block.checked = checked\n    checkbox.classList.toggle(CLASS_OR_ID['AG_CHECKBOX_CHECKED'])\n    // this.render()\n  }\n\n  ContentState.prototype.checkSameLooseType = function (list, isLooseType) {\n    return list.children[0].isLooseListItem === isLooseType\n  }\n\n  ContentState.prototype.checkNeedRender = function (cursor = this.cursor) {\n    const { start: cStart, end: cEnd } = cursor\n    const startBlock = this.getBlock(cStart.key)\n    const endBlock = this.getBlock(cEnd.key)\n    const startOffset = cStart.offset\n    const endOffset = cEnd.offset\n\n    for (const token of tokenizer(startBlock.text)) {\n      if (token.type === 'text') continue\n      const { start, end } = token.range\n      const textLen = startBlock.text.length\n      if (\n        conflict([Math.max(0, start - 1), Math.min(textLen, end + 1)], [startOffset, startOffset])\n      ) {\n        return true\n      }\n    }\n    for (const token of tokenizer(endBlock.text)) {\n      if (token.type === 'text') continue\n      const { start, end } = token.range\n      const textLen = endBlock.text.length\n      if (\n        conflict([Math.max(0, start - 1), Math.min(textLen, end + 1)], [endOffset, endOffset])\n      ) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  ContentState.prototype.checkInlineUpdate = function (block) {\n    // table cell can not have blocks in it\n    if (/th|td|figure/.test(block.type)) return false\n    if (/codeLine|languageInput/.test(block.functionType)) return false\n    // only first line block can update to other block\n    if (block.type === 'span' && block.preSibling) return false\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const parent = this.getParent(block)\n    const text = block.type === 'p' ? block.children.map(child => child.text).join('\\n') : block.text\n    const [match, bullet, tasklist, order, header, blockquote, hr] = text.match(INLINE_UPDATE_REG) || []\n\n    switch (true) {\n      case (hr && new Set(hr.split('').filter(i => /\\S/.test(i))).size === 1):\n        return this.updateHr(block, hr)\n\n      case !!bullet:\n        return this.updateList(block, 'bullet', bullet)\n\n      // only `bullet` list item can be update to `task` list item\n      case !!tasklist && parent && parent.listItemType === 'bullet':\n        return this.updateTaskListItem(block, 'tasklist', tasklist)\n\n      case !!order:\n        return this.updateList(block, 'order', order)\n\n      case !!header:\n        return this.updateHeader(block, header, text)\n\n      case !!blockquote:\n        return this.updateBlockQuote(block)\n\n      case !match:\n      default:\n        return this.updateToParagraph(block)\n    }\n  }\n\n  // thematic break\n  ContentState.prototype.updateHr = function (block, marker) {\n    if (block.type !== 'hr') {\n      block.type = 'hr'\n      block.text = marker\n      block.children.length = 0\n      const { key } = block\n      this.cursor.start.key = this.cursor.end.key = key\n      return block\n    }\n    return null\n  }\n\n  ContentState.prototype.updateList = function (block, type, marker = '') {\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const { preferLooseListItem } = this\n    const parent = this.getParent(block)\n    const preSibling = this.getPreSibling(block)\n    const nextSibling = this.getNextSibling(block)\n    const wrapperTag = type === 'order' ? 'ol' : 'ul' // `bullet` => `ul` and `order` => `ol`\n    const { start, end } = this.cursor\n    const startOffset = start.offset\n    const endOffset = end.offset\n    const newBlock = this.createBlock('li')\n    block.children[0].text = block.children[0].text.substring(marker.length)\n    newBlock.listItemType = type\n    newBlock.isLooseListItem = preferLooseListItem\n\n    if (type === 'task' || type === 'bullet') {\n      const { bulletListMarker } = this\n      const bulletListItemMarker = marker ? marker.charAt(0) : bulletListMarker\n      newBlock.bulletListItemMarker = bulletListItemMarker\n    }\n\n    if (\n      preSibling && preSibling.listType === type && this.checkSameLooseType(preSibling, preferLooseListItem) &&\n      nextSibling && nextSibling.listType === type && this.checkSameLooseType(nextSibling, preferLooseListItem)\n    ) {\n      this.appendChild(preSibling, newBlock)\n      const partChildren = nextSibling.children.splice(0)\n      partChildren.forEach(b => this.appendChild(preSibling, b))\n      this.removeBlock(nextSibling)\n      this.removeBlock(block)\n    } else if (preSibling && preSibling.type === wrapperTag && this.checkSameLooseType(preSibling, preferLooseListItem)) {\n      this.appendChild(preSibling, newBlock)\n\n      this.removeBlock(block)\n    } else if (nextSibling && nextSibling.listType === type && this.checkSameLooseType(nextSibling, preferLooseListItem)) {\n      this.insertBefore(newBlock, nextSibling.children[0])\n\n      this.removeBlock(block)\n    } else if (parent && parent.listType === type && this.checkSameLooseType(parent, preferLooseListItem)) {\n      this.insertBefore(newBlock, block)\n\n      this.removeBlock(block)\n    } else {\n      const listBlock = this.createBlock(wrapperTag)\n      listBlock.listType = type\n      if (wrapperTag === 'ol') {\n        const start = marker.split('.')[0]\n        listBlock.start = /^\\d+$/.test(start) ? start : 1\n      }\n      this.appendChild(listBlock, newBlock)\n      this.insertBefore(listBlock, block)\n      this.removeBlock(block)\n    }\n\n    this.appendChild(newBlock, block)\n\n    const key = block.children[0].key\n    this.cursor = {\n      start: {\n        key,\n        offset: Math.max(0, startOffset - marker.length)\n      },\n      end: {\n        key,\n        offset: Math.max(0, endOffset - marker.length)\n      }\n    }\n    return block\n  }\n\n  ContentState.prototype.updateTaskListItem = function (block, type, marker = '') {\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n\n    const { preferLooseListItem } = this\n    const parent = this.getParent(block)\n    const grandpa = this.getParent(parent)\n    const checked = /\\[x\\]\\s/i.test(marker) // use `i` flag to ignore upper case or lower case\n    const checkbox = this.createBlock('input')\n    const { start, end } = this.cursor\n\n    checkbox.checked = checked\n    this.insertBefore(checkbox, block)\n    block.children[0].text = block.children[0].text.substring(marker.length)\n    parent.listItemType = 'task'\n    parent.isLooseListItem = preferLooseListItem\n\n    let taskListWrapper\n    if (this.isOnlyChild(parent)) {\n      grandpa.listType = 'task'\n    } else if (this.isFirstChild(parent) || this.isLastChild(parent)) {\n      taskListWrapper = this.createBlock('ul')\n      taskListWrapper.listType = 'task'\n      this.isFirstChild(parent) ? this.insertBefore(taskListWrapper, grandpa) : this.insertAfter(taskListWrapper, grandpa)\n      this.removeBlock(parent)\n      this.appendChild(taskListWrapper, parent)\n    } else {\n      taskListWrapper = this.createBlock('ul')\n      taskListWrapper.listType = 'task'\n      const bulletListWrapper = this.createBlock('ul')\n      bulletListWrapper.listType = 'bullet'\n\n      let preSibling = this.getPreSibling(parent)\n      while (preSibling) {\n        this.removeBlock(preSibling)\n        if (bulletListWrapper.children.length) {\n          const firstChild = bulletListWrapper.children[0]\n          this.insertBefore(preSibling, firstChild)\n        } else {\n          this.appendChild(bulletListWrapper, preSibling)\n        }\n        preSibling = this.getPreSibling(preSibling)\n      }\n\n      this.removeBlock(parent)\n      this.appendChild(taskListWrapper, parent)\n      this.insertBefore(taskListWrapper, grandpa)\n      this.insertBefore(bulletListWrapper, taskListWrapper)\n    }\n\n    this.cursor = {\n      start: {\n        key: start.key,\n        offset: Math.max(0, start.offset - marker.length)\n      },\n      end: {\n        key: end.key,\n        offset: Math.max(0, end.offset - marker.length)\n      }\n    }\n    return taskListWrapper || grandpa\n  }\n\n  ContentState.prototype.updateHeader = function (block, header, text) {\n    const newType = `h${header.length}`\n    if (block.type !== newType) {\n      block.headingStyle = DEFAULT_TURNDOWN_CONFIG.headingStyle\n      block.type = newType\n      block.text = text\n      block.children.length = 0\n      this.cursor.start.key = this.cursor.end.key = block.key\n      return block\n    }\n    return null\n  }\n\n  ContentState.prototype.updateBlockQuote = function (block) {\n    block.children[0].text = block.children[0].text.substring(1).trim()\n    const quoteBlock = this.createBlock('blockquote')\n    this.insertBefore(quoteBlock, block)\n    this.removeBlock(block)\n    this.appendChild(quoteBlock, block)\n\n    const { start, end } = this.cursor\n    this.cursor = {\n      start: {\n        key: start.key,\n        offset: start.offset - 1\n      },\n      end: {\n        key: end.key,\n        offset: end.offset - 1\n      }\n    }\n    return quoteBlock\n  }\n\n  ContentState.prototype.updateToParagraph = function (block) {\n    const newType = 'p'\n    if (block.type !== newType) {\n      block.type = newType // updateP\n      const newLine = this.createBlock('span', block.text)\n      this.appendChild(block, newLine)\n      block.text = ''\n      this.cursor.start.key = this.cursor.end.key = newLine.key\n      return block\n    }\n    return null\n  }\n\n  ContentState.prototype.updateCodeBlocks = function (block) {\n    const codeBlock = this.getParent(block)\n    const preBlock = this.getParent(codeBlock)\n    const code = codeBlock.children.map(line => line.text).join('\\n')\n    this.codeBlocks.set(preBlock.key, code)\n  }\n}\n\nexport default updateCtrl\n","import selection from '../selection'\nimport { findNearestParagraph, findOutMostParagraph } from '../selection/dom'\n\nconst backspaceCtrl = ContentState => {\n  ContentState.prototype.checkBackspaceCase = function () {\n    const node = selection.getSelectionStart()\n    const paragraph = findNearestParagraph(node)\n    const outMostParagraph = findOutMostParagraph(node)\n    let block = this.getBlock(paragraph.id)\n    if (block.type === 'span' && block.preSibling) {\n      return false\n    }\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const preBlock = this.getPreSibling(block)\n    const outBlock = this.findOutMostBlock(block)\n    const parent = this.getParent(block)\n\n    const { left: outLeft } = selection.getCaretOffsets(outMostParagraph)\n    const { left: inLeft } = selection.getCaretOffsets(paragraph)\n\n    if (\n      (parent && parent.type === 'li' && inLeft === 0 && this.isFirstChild(block)) ||\n      (parent && parent.type === 'li' && inLeft === 0 && parent.listItemType === 'task' && preBlock.type === 'input') // handle task item\n    ) {\n      if (this.isOnlyChild(parent)) {\n        /**\n         * <ul>\n         *   <li>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         * <ul>\n         * ===>\n         * <p>|text</p>\n         * <p>maybe has other paragraph</p>\n         */\n        return { type: 'LI', info: 'REPLACEMENT' }\n      } else if (this.isFirstChild(parent)) {\n        /**\n         * <ul>\n         *   <li>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         * ===>\n         * <p>|text</p>\n         * <p>maybe has other paragraph</p>\n         * <ul>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         */\n        return { type: 'LI', info: 'REMOVE_INSERT_BEFORE' }\n      } else {\n        /**\n         * <ul>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         *   <li>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         * ===>\n         * <ul>\n         *   <li>\n         *     <p>other list item</p>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         */\n        return { type: 'LI', info: 'INSERT_PRE_LIST_ITEM' }\n      }\n    }\n    if (parent && parent.type === 'blockquote' && inLeft === 0) {\n      if (this.isOnlyChild(block)) {\n        return { type: 'BLOCKQUOTE', info: 'REPLACEMENT' }\n      } else if (this.isFirstChild(block)) {\n        return { type: 'BLOCKQUOTE', info: 'INSERT_BEFORE' }\n      }\n    }\n    if (!outBlock.preSibling && outLeft === 0) {\n      return { type: 'STOP' }\n    }\n  }\n\n  ContentState.prototype.backspaceHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    // fix: #67 problem 1\n    if (startBlock.icon) return event.preventDefault()\n    // fix: unexpect remove all editor html. #67 problem 4\n    if (startBlock.type === 'figure' && !startBlock.preSibling) {\n      event.preventDefault()\n      this.removeBlock(startBlock)\n      if (start.key !== end.key) {\n        this.removeBlocks(startBlock, endBlock)\n      }\n      let newBlock = this.findNextBlockInLocation(startBlock)\n      if (!newBlock) {\n        this.blocks = [this.createBlockP()]\n        newBlock = this.blocks[0].children[0]\n      }\n      const key = newBlock.key\n      const offset = 0\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.render()\n    }\n\n    if (startBlock.functionType === 'languageInput' && start.offset === 0) {\n      return event.preventDefault()\n    }\n\n    // If select multiple paragraph or multiple characters in one paragraph, just let\n    // updateCtrl to handle this case.\n    if (start.key !== end.key || start.offset !== end.offset) {\n      return\n    }\n\n    const node = selection.getSelectionStart()\n    const paragraph = findNearestParagraph(node)\n    const id = paragraph.id\n    let block = this.getBlock(id)\n    let parent = this.getBlock(block.parent)\n    const preBlock = this.findPreBlockInLocation(block)\n    const { left } = selection.getCaretOffsets(paragraph)\n    const inlineDegrade = this.checkBackspaceCase()\n\n    const tableHasContent = table => {\n      const tHead = table.children[0]\n      const tBody = table.children[1]\n      const tHeadHasContent = tHead.children[0].children.some(th => th.text.trim())\n      const tBodyHasContent = tBody.children.some(row => row.children.some(td => td.text.trim()))\n      return tHeadHasContent || tBodyHasContent\n    }\n\n    if (\n      block.type === 'span' &&\n      block.functionType === 'codeLine' &&\n      left === 0 &&\n      !block.preSibling\n    ) {\n      event.preventDefault()\n      event.stopPropagation()\n      if (\n        !block.nextSibling\n      ) {\n        const preBlock = this.getParent(parent)\n        const pBlock = this.createBlock('p')\n        const lineBlock = this.createBlock('span', block.text)\n        const key = lineBlock.key\n        const offset = 0\n        this.appendChild(pBlock, lineBlock)\n        let referenceBlock = null\n        switch (preBlock.functionType) {\n          case 'fencecode':\n          case 'indentcode':\n          case 'frontmatter':\n            referenceBlock = preBlock\n            break\n          case 'multiplemath':\n          case 'flowchart':\n          case 'mermaid':\n          case 'sequence':\n          case 'vega-lite':\n            referenceBlock = this.getParent(preBlock)\n            break\n          case 'html':\n            referenceBlock = this.getParent(this.getParent(preBlock))\n            break\n        }\n        this.insertBefore(pBlock, referenceBlock)\n        this.removeBlock(referenceBlock)\n\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.partialRender()\n      }\n    } else if (left === 0 && /th|td/.test(block.type)) {\n      event.preventDefault()\n      event.stopPropagation()\n      const tHead = this.getBlock(parent.parent)\n      const table = this.getBlock(tHead.parent)\n      const figure = this.getBlock(table.parent)\n      const hasContent = tableHasContent(table)\n      let key\n      let offset\n\n      if ((!preBlock || !/th|td/.test(preBlock.type)) && !hasContent) {\n        const newLine = this.createBlock('span')\n        delete figure.functionType\n        figure.children = []\n        this.appendChild(figure, newLine)\n        figure.text = ''\n        figure.type = 'p'\n        key = newLine.key\n        offset = 0\n      } else if (preBlock) {\n        key = preBlock.key\n        offset = preBlock.text.length\n      }\n\n      if (key !== undefined && offset !== undefined) {\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n\n        this.partialRender()\n      }\n    } else if (inlineDegrade) {\n      event.preventDefault()\n      if (block.type === 'span') {\n        block = this.getParent(block)\n        parent = this.getParent(parent)\n      }\n\n      switch (inlineDegrade.type) {\n        case 'STOP': // Cursor at begin of article and nothing need to do\n          break\n        case 'LI': {\n          if (inlineDegrade.info === 'REPLACEMENT') {\n            const children = parent.children\n            const grandpa = this.getBlock(parent.parent)\n            if (children[0].type === 'input') {\n              this.removeBlock(children[0])\n            }\n            children.forEach(child => {\n              this.insertBefore(child, grandpa)\n            })\n            this.removeBlock(grandpa)\n          } else if (inlineDegrade.info === 'REMOVE_INSERT_BEFORE') {\n            const children = parent.children\n            const grandpa = this.getBlock(parent.parent)\n            if (children[0].type === 'input') {\n              this.removeBlock(children[0])\n            }\n            children.forEach(child => {\n              this.insertBefore(child, grandpa)\n            })\n            this.removeBlock(parent)\n          } else if (inlineDegrade.info === 'INSERT_PRE_LIST_ITEM') {\n            const parPre = this.getBlock(parent.preSibling)\n            const children = parent.children\n            if (children[0].type === 'input') {\n              this.removeBlock(children[0])\n            }\n            children.forEach(child => {\n              this.appendChild(parPre, child)\n            })\n            this.removeBlock(parent)\n          }\n          break\n        }\n        case 'BLOCKQUOTE':\n          if (inlineDegrade.info === 'REPLACEMENT') {\n            this.insertBefore(block, parent)\n            this.removeBlock(parent)\n          } else if (inlineDegrade.info === 'INSERT_BEFORE') {\n            this.removeBlock(block)\n            this.insertBefore(block, parent)\n          }\n          break\n      }\n\n      const key = block.type === 'p' ? block.children[0].key : block.key\n      const offset = 0\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      if (inlineDegrade.type !== 'STOP') {\n        this.partialRender()\n      }\n    } else if (left === 0 && preBlock) {\n      event.preventDefault()\n      const { text } = block\n      const key = preBlock.key\n      const offset = preBlock.text.length\n      preBlock.text += text\n      // If block is a line block and its parent paragraph only has one text line,\n      // also need to remove the paragrah\n      if (this.isOnlyChild(block) && block.type === 'span') {\n        this.removeBlock(parent)\n      } else {\n        this.removeBlock(block)\n      }\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      this.partialRender()\n    }\n  }\n}\n\nexport default backspaceCtrl\n","import selection from '../selection'\n\nconst deleteCtrl = ContentState => {\n  ContentState.prototype.deleteHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n    const startBlock = this.getBlock(start.key)\n    const nextBlock = this.findNextBlockInLocation(startBlock)\n\n    // TODO: @jocs It will delete all the editor and cause error in console when there is only one empty table. same as #67\n    if (startBlock.type === 'figure') event.preventDefault()\n    // If select multiple paragraph or multiple characters in one paragraph, just let\n    // updateCtrl to handle this case.\n    if (start.key !== end.key || start.offset !== end.offset) {\n      return\n    }\n    // Only handle h1~h6 span block\n    const { type, text, key } = startBlock\n    if (\n      /h\\d|span/.test(type) &&\n      start.offset === text.length\n    ) {\n      event.preventDefault()\n      if (nextBlock && /h\\d|span/.test(nextBlock.type)) {\n        if (nextBlock.functionType === 'codeLine' && nextBlock.nextSibling) {\n          // if code block more than one line, do nothing!\n          return\n        }\n        startBlock.text += nextBlock.text\n\n        const toBeRemoved = [ nextBlock ]\n\n        let parent = this.getParent(nextBlock)\n        let target = nextBlock\n\n        while (this.isOnlyRemoveableChild(target)) {\n          toBeRemoved.push(parent)\n          target = parent\n          parent = this.getParent(parent)\n        }\n\n        toBeRemoved.forEach(b => this.removeBlock(b))\n\n        const offset = start.offset\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.render()\n      }\n    }\n  }\n}\n\nexport default deleteCtrl\n","import { loadLanguage } from '../prism/index'\nimport selection from '../selection'\n\nconst CODE_UPDATE_REP = /^`{3,}(.*)/\n\nconst codeBlockCtrl = ContentState => {\n  /**\n  * check edit language\n  */\n  ContentState.prototype.checkEditLanguage = function () {\n    const { start } = selection.getCursorRange()\n    const startBlock = this.getBlock(start.key)\n    const paragraph = document.querySelector(`#${start.key}`)\n    let lang = ''\n    const { text } = startBlock\n    if (startBlock.type === 'span') {\n      if (startBlock.functionType === 'languageInput') {\n        lang = text.trim()\n      } else {\n        const token = text.match(/(^`{3,})([^`]+)/)\n        if (token) {\n          const len = token[1].length\n          if (start.offset >= len) {\n            lang = token[2].trim()\n          }\n        }\n      }\n    }\n    return { lang, paragraph }\n  }\n\n  ContentState.prototype.selectLanguage = function (paragraph, name) {\n    const block = this.getBlock(paragraph.id)\n    loadLanguage(name)\n    if (block.functionType === 'languageInput') {\n      block.text = name\n      const preBlock = this.getParent(block)\n      const nextSibling = this.getNextSibling(block)\n      preBlock.lang = name\n      preBlock.functionType = 'fencecode'\n      nextSibling.lang = name\n      nextSibling.children.forEach(c => (c.lang = name))\n      const { key } = nextSibling.children[0]\n      const offset = 0\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n    } else {\n      block.text = block.text.replace(/^(`+)([^`]+$)/g, `$1${name}`)\n      this.codeBlockUpdate(block)\n    }\n    this.partialRender()\n  }\n\n  /**\n   * [codeBlockUpdate if block updated to `pre` return true, else return false]\n   */\n  ContentState.prototype.codeBlockUpdate = function (block, code = '', lang) {\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    // if it's not a p block, no need to update\n    if (block.type !== 'p') return false\n    // if p block's children are more than one, no need to update\n    if (block.children.length !== 1) return false\n    const { text } = block.children[0]\n    const match = CODE_UPDATE_REP.exec(text)\n    if (match || lang) {\n      const codeBlock = this.createBlock('code')\n      const firstLine = this.createBlock('span', code)\n      const language = lang || (match ? match[1] : '')\n      const inputBlock = this.createBlock('span', language)\n      loadLanguage(language)\n      inputBlock.functionType = 'languageInput'\n      block.type = 'pre'\n      block.functionType = 'fencecode'\n      block.lang = language\n      block.text = ''\n      block.history = null\n      block.children = []\n      codeBlock.lang = language\n      firstLine.lang = language\n      firstLine.functionType = 'codeLine'\n      this.appendChild(codeBlock, firstLine)\n      this.appendChild(block, inputBlock)\n      this.appendChild(block, codeBlock)\n      const { key } = firstLine\n      const offset = code.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return true\n    }\n    return false\n  }\n}\n\nexport default codeBlockCtrl\n","import { isLengthEven, getParagraphReference } from '../utils'\nimport { TABLE_TOOLS } from '../config'\n\nconst TABLE_BLOCK_REG = /^\\|.*?(\\\\*)\\|.*?(\\\\*)\\|/\n\nconst tableBlockCtrl = ContentState => {\n  ContentState.prototype.createTableInFigure = function ({ rows, columns }, headerTexts) {\n    const table = this.createBlock('table')\n    const tHead = this.createBlock('thead')\n    const tBody = this.createBlock('tbody')\n\n    this.appendChild(table, tHead)\n    this.appendChild(table, tBody)\n    table.row = rows - 1 // zero base\n    table.column = columns - 1 // zero base\n    let i\n    let j\n    for (i = 0; i < rows; i++) {\n      const rowBlock = this.createBlock('tr')\n      i === 0 ? this.appendChild(tHead, rowBlock) : this.appendChild(tBody, rowBlock)\n      for (j = 0; j < columns; j++) {\n        const cell = this.createBlock(i === 0 ? 'th' : 'td', headerTexts && i === 0 ? headerTexts[j] : '')\n        this.appendChild(rowBlock, cell)\n        cell.align = ''\n        cell.column = j\n      }\n    }\n    return table\n  }\n\n  ContentState.prototype.createFigure = function ({ rows, columns }) {\n    const { start, end } = this.cursor\n    const toolBar = this.createToolBar(TABLE_TOOLS, 'table')\n    const table = this.createTableInFigure({ rows, columns })\n    let figureBlock\n    if (start.key === end.key) {\n      const startBlock = this.getBlock(start.key)\n      const anchor = startBlock.type === 'span' ? this.getParent(startBlock) : startBlock\n      if (startBlock.text) {\n        figureBlock = this.createBlock('figure')\n        this.insertAfter(figureBlock, anchor)\n      } else {\n        figureBlock = anchor\n        figureBlock.type = 'figure'\n        figureBlock.functionType = 'table'\n        figureBlock.text = ''\n        figureBlock.children = []\n      }\n      this.appendChild(figureBlock, toolBar)\n      this.appendChild(figureBlock, table)\n    }\n    const key = table.children[0].children[0].children[0].key // fist cell key in thead\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.muya.eventCenter.dispatch('stateChange')\n    this.partialRender()\n  }\n\n  ContentState.prototype.createTable = function (tableChecker) {\n    const { eventCenter } = this.muya\n\n    this.createFigure(tableChecker)\n    const selectionChanges = this.selectionChange()\n    eventCenter.dispatch('selectionChange', selectionChanges)\n  }\n\n  ContentState.prototype.initTable = function (block) {\n    const { text } = block.children[0]\n    const rowHeader = []\n    const len = text.length\n    let i\n    for (i = 0; i < len; i++) {\n      const char = text[i]\n      if (/^[^|]$/.test(char)) {\n        rowHeader[rowHeader.length - 1] += char\n      }\n      if (/\\\\/.test(char)) {\n        rowHeader[rowHeader.length - 1] += text[++i]\n      }\n      if (/\\|/.test(char) && i !== len - 1) {\n        rowHeader.push('')\n      }\n    }\n    const columns = rowHeader.length\n    const rows = 2\n\n    const table = this.createTableInFigure({ rows, columns }, rowHeader)\n    const toolBar = this.createToolBar(TABLE_TOOLS, 'table')\n\n    block.type = 'figure'\n    block.text = ''\n    block.children = []\n    block.functionType = 'table'\n    this.appendChild(block, toolBar)\n    this.appendChild(block, table)\n\n    return table.children[1].children[0].children[0] // first cell in tbody\n  }\n\n  ContentState.prototype.tableToolBarClick = function (type) {\n    const { start: { key } } = this.cursor\n    const block = this.getBlock(key)\n    if (!(/td|th/.test(block.type))) throw new Error('table is not active')\n    const { column, align } = block\n    const getTable = td => {\n      const row = this.getBlock(block.parent)\n      const rowContainer = this.getBlock(row.parent)\n      return this.getBlock(rowContainer.parent)\n    }\n    const table = getTable(block)\n    const figure = this.getBlock(table.parent)\n    switch (type) {\n      case 'left':\n      case 'center':\n      case 'right': {\n        const newAlign = align === type ? '' : type\n        table.children.forEach(rowContainer => {\n          rowContainer.children.forEach(row => {\n            row.children[column].align = newAlign\n          })\n        })\n        this.muya.eventCenter.dispatch('stateChange')\n        this.partialRender()\n        break\n      }\n      case 'delete': {\n        const newLine = this.createBlock('span')\n        figure.children = []\n        this.appendChild(figure, newLine)\n        figure.type = 'p'\n        figure.text = ''\n        const key = newLine.key\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.muya.eventCenter.dispatch('stateChange')\n        this.partialRender()\n        break\n      }\n      case 'table': {\n        const { eventCenter } = this.muya\n        const figureKey = figure.key\n        const tableLable = document.querySelector(`#${figureKey} [data-label=table]`)\n        const { row = 1, column = 1 } = table // zero base\n\n        const handler = (row, column) => {\n          const { row: oldRow, column: oldColumn } = table\n          const tBody = table.children[1]\n          const tHead = table.children[0]\n          const headerRow = tHead.children[0]\n          const bodyRows = tBody.children\n          let i\n          if (column > oldColumn) {\n            for (i = oldColumn + 1; i <= column; i++) {\n              const th = this.createBlock('th')\n              th.column = i\n              th.align = ''\n              this.appendChild(headerRow, th)\n              bodyRows.forEach(bodyRow => {\n                const td = this.createBlock('td')\n                td.column = i\n                td.align = ''\n                this.appendChild(bodyRow, td)\n              })\n            }\n          } else if (column < oldColumn) {\n            const rows = [headerRow, ...bodyRows]\n            rows.forEach(row => {\n              while (row.children.length > column + 1) {\n                const lastChild = row.children[row.children.length - 1]\n                this.removeBlock(lastChild)\n              }\n            })\n          }\n\n          if (row < oldRow) {\n            while (tBody.children.length > row) {\n              const lastRow = tBody.children[tBody.children.length - 1]\n              this.removeBlock(lastRow)\n            }\n          } else if (row > oldRow) {\n            const oneRowInBody = bodyRows[0]\n            for (i = oldRow + 1; i <= row; i++) {\n              const bodyRow = this.createRow(oneRowInBody)\n              this.appendChild(tBody, bodyRow)\n            }\n          }\n          Object.assign(table, { row, column })\n\n          const cursorBlock = headerRow.children[0]\n          const key = cursorBlock.key\n          const offset = cursorBlock.text.length\n          this.cursor = {\n            start: { key, offset },\n            end: { key, offset }\n          }\n          this.muya.eventCenter.dispatch('stateChange')\n          this.partialRender()\n        }\n        const reference = getParagraphReference(tableLable, tableLable.id)\n        eventCenter.dispatch('muya-table-picker', { row, column }, reference, handler.bind(this))\n      }\n    }\n  }\n\n  // insert/remove row/column\n  ContentState.prototype.editTable = function ({ location, action, target }) {\n    const { start, end } = this.cursor\n    const block = this.getBlock(start.key)\n    if (start.key !== end.key || !/th|td/.test(block.type)) {\n      throw new Error('Cursor is not in table block, so you can not insert/edit row/column')\n    }\n    const currentRow = this.getParent(block)\n    const rowContainer = this.getParent(currentRow) // tbody or thead\n    const table = this.getParent(rowContainer)\n    const thead = table.children[0]\n    const tbody = table.children[1]\n    const { column } = table\n    const columnIndex = currentRow.children.indexOf(block)\n    let cursorBlock\n\n    const createRow = (column, isHeader) => {\n      const tr = this.createBlock('tr')\n      let i\n      for (i = 0; i <= column; i++) {\n        const cell = this.createBlock(isHeader ? 'th' : 'td')\n        cell.align = currentRow.children[i].align\n        cell.column = i\n        this.appendChild(tr, cell)\n      }\n      return tr\n    }\n\n    if (target === 'row') {\n      if (action === 'insert') {\n        let newRow = (location === 'previous' && block.type === 'th')\n          ? createRow(column, true)\n          : createRow(column, false)\n        if (location === 'previous') {\n          this.insertBefore(newRow, currentRow)\n          if (block.type === 'th') {\n            this.removeBlock(currentRow)\n            currentRow.children.forEach(cell => (cell.type = 'td'))\n            const firstRow = tbody.children[0]\n            this.insertBefore(currentRow, firstRow)\n          }\n        } else {\n          if (block.type === 'th') {\n            const firstRow = tbody.children[0]\n            this.insertBefore(newRow, firstRow)\n          } else {\n            this.insertAfter(newRow, currentRow)\n          }\n        }\n        cursorBlock = newRow.children[columnIndex]\n        // handle remove row\n      } else {\n        if (location === 'previous') {\n          if (block.type === 'th') return\n          if (!currentRow.preSibling) {\n            const headRow = thead.children[0]\n            if (!currentRow.nextSibling) return\n            this.removeBlock(headRow)\n            this.removeBlock(currentRow)\n            currentRow.children.forEach(cell => (cell.type = 'th'))\n            this.appendChild(thead, currentRow)\n          } else {\n            const preRow = this.getPreSibling(currentRow)\n            this.removeBlock(preRow)\n          }\n        } else if (location === 'current') {\n          if (block.type === 'th' && tbody.children.length >= 2) {\n            const firstRow = tbody.children[0]\n            this.removeBlock(currentRow)\n            this.removeBlock(firstRow)\n            this.appendChild(thead, firstRow)\n            firstRow.children.forEach(cell => (cell.type = 'th'))\n            cursorBlock = firstRow.children[columnIndex]\n          }\n          if (block.type === 'td' && (currentRow.preSibling || currentRow.nextSibling)) {\n            cursorBlock = (this.getNextSibling(currentRow) || this.getPreSibling(currentRow)).children[columnIndex]\n            this.removeBlock(currentRow)\n          }\n        } else {\n          if (block.type === 'th') {\n            if (tbody.children.length >= 2) {\n              const firstRow = tbody.children[0]\n              this.removeBlock(firstRow)\n            } else {\n              return\n            }\n          } else {\n            const nextRow = this.getNextSibling(currentRow)\n            if (nextRow) this.removeBlock(nextRow)\n          }\n        }\n      }\n    } else if (target === 'column') {\n      if (action === 'insert') {\n        [...thead.children, ...tbody.children].forEach(tableRow => {\n          const targetCell = tableRow.children[columnIndex]\n          const cell = this.createBlock(targetCell.type)\n          cell.align = ''\n          if (location === 'left') {\n            this.insertBefore(cell, targetCell)\n          } else {\n            this.insertAfter(cell, targetCell)\n          }\n          tableRow.children.forEach((cell, i) => {\n            cell.column = i\n          })\n        })\n        cursorBlock = location === 'left' ? this.getPreSibling(block) : this.getNextSibling(block)\n        // handle remove column\n      } else {\n        if (currentRow.children.length <= 2) return\n        [...thead.children, ...tbody.children].forEach(tableRow => {\n          const targetCell = tableRow.children[columnIndex]\n          const removeCell = location === 'left'\n            ? this.getPreSibling(targetCell)\n            : (location === 'current' ? targetCell : this.getNextSibling(targetCell))\n          if (removeCell === block) {\n            cursorBlock = this.getNextSibling(block)\n          }\n          if (removeCell) this.removeBlock(removeCell)\n          tableRow.children.forEach((cell, i) => {\n            cell.column = i\n          })\n        })\n      }\n    }\n\n    const newColum = thead.children[0].children.length - 1\n    const newRow = thead.children.length + tbody.children.length - 1\n    Object.assign(table, { row: newRow, column: newColum })\n\n    if (cursorBlock) {\n      const { key } = cursorBlock\n      const offset = 0\n      this.cursor = { start: { key, offset }, end: { key, offset } }\n    } else {\n      this.cursor = { start, end }\n    }\n\n    this.partialRender()\n    this.muya.eventCenter.dispatch('stateChange')\n  }\n\n  ContentState.prototype.getTableBlock = function () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParents = this.getParents(startBlock)\n    const endParents = this.getParents(endBlock)\n    const affiliation = startParents\n      .filter(p => endParents.includes(p))\n\n    if (affiliation.length) {\n      const table = affiliation.find(p => p.type === 'figure')\n      return table\n    }\n  }\n\n  ContentState.prototype.tableBlockUpdate = function (block) {\n    const { type } = block\n    if (type !== 'p') return false\n    const { text } = block.children[0]\n    const match = TABLE_BLOCK_REG.exec(text)\n    return (match && isLengthEven(match[1]) && isLengthEven(match[2])) ? this.initTable(block) : false\n  }\n}\n\nexport default tableBlockCtrl\n","const selectionCtrl = ContentState => {\n  // Returns the table from the table cell:\n  //   table <-- thead or tbody <-- tr <-- th or td (cell)\n  ContentState.prototype.getTableFromTableCell = function (block) {\n    const table = this.getParent(this.getParent(this.getParent(block)))\n    if (table && table.type !== 'table') {\n      return null\n    }\n    return table\n  }\n\n  ContentState.prototype.tableCellHandler = function (event) {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const { type: startType } = startBlock\n    const { type: endType } = endBlock\n    if (/th|td/.test(startType) && /th|td/.test(endType)) {\n      if (start.key === end.key) {\n        const { text, key } = startBlock\n        this.cursor = {\n          start: { key, offset: 0 },\n          end: { key, offset: text.length }\n        }\n      } else {\n        const startTable = this.getTableFromTableCell(startBlock)\n        const endTable = this.getTableFromTableCell(endBlock)\n        // Check whether both blocks are in the same table.\n        if (!startTable || !endTable) {\n          console.error('No table found or invalid type.')\n          return\n        } else if (startTable.key !== endTable.key) {\n          // Select entire document\n          return\n        }\n        const firstTableCell = this.firstInDescendant(startTable)\n        const lastTableCell = this.lastInDescendant(startTable)\n        if (!firstTableCell || !/th|td/.test(firstTableCell.type) ||\n          !lastTableCell || !/th|td/.test(lastTableCell.type)) {\n          console.error('No table cell found or invalid type.')\n          return\n        }\n        const { key: startKey } = firstTableCell\n        const { key: endKey, text } = lastTableCell\n        this.cursor = {\n          start: { key: startKey, offset: 0 },\n          end: { key: endKey, offset: text.length }\n        }\n      }\n\n      event.preventDefault()\n      event.stopPropagation()\n      this.partialRender()\n    }\n  }\n}\n\nexport default selectionCtrl\n","import { deepCopy } from '../utils'\nimport { UNDO_DEPTH } from '../config'\n\nexport class History {\n  constructor (contentState) {\n    this.stack = []\n    this.index = -1\n    this.contentState = contentState\n  }\n\n  undo () {\n    if (this.index > 0) {\n      this.index = this.index - 1\n\n      const state = deepCopy(this.stack[this.index])\n      const { blocks, cursor, renderRange } = state\n      cursor.noHistory = true\n      this.contentState.blocks = blocks\n      this.contentState.renderRange = renderRange\n      this.contentState.cursor = cursor\n      this.contentState.render()\n    }\n  }\n\n  redo () {\n    const { index, stack } = this\n    const len = stack.length\n    if (index < len - 1) {\n      this.index = index + 1\n      const state = deepCopy(stack[this.index])\n      const { blocks, cursor, renderRange } = state\n      cursor.noHistory = true\n      this.contentState.blocks = blocks\n      this.contentState.renderRange = renderRange\n      this.contentState.cursor = cursor\n      this.contentState.render()\n    }\n  }\n\n  push (state) {\n    this.stack.splice(this.index + 1)\n    const copyState = deepCopy(state)\n    this.stack.push(copyState)\n    if (this.stack.length > UNDO_DEPTH) {\n      this.stack.shift()\n      this.index = this.index - 1\n    }\n    this.index = this.index + 1\n  }\n\n  clearHistory () {\n    this.stack = []\n    this.index = -1\n  }\n}\n\nexport default History\n","import { EVENT_KEYS, CLASS_OR_ID } from '../config'\nimport { findNearestParagraph } from '../selection/dom'\nimport selection from '../selection'\n\nconst arrowCtrl = ContentState => {\n  ContentState.prototype.findNextRowCell = function (cell) {\n    if (!/th|td/.test(cell.type)) {\n      throw new Error(`block with type ${cell && cell.type} is not a table cell`)\n    }\n    const row = this.getParent(cell)\n    const rowContainer = this.getParent(row) // thead or tbody\n    const column = row.children.indexOf(cell)\n    if (rowContainer.type === 'thead') {\n      const tbody = this.getNextSibling(rowContainer)\n      if (tbody && tbody.children.length) {\n        return tbody.children[0].children[column]\n      }\n    } else if (rowContainer.type === 'tbody') {\n      const nextRow = this.getNextSibling(row)\n      if (nextRow) {\n        return nextRow.children[column]\n      }\n    }\n    return null\n  }\n\n  ContentState.prototype.findPrevRowCell = function (cell) {\n    if (!/th|td/.test(cell.type)) throw new Error(`block with type ${cell && cell.type} is not a table cell`)\n    const row = this.getParent(cell)\n    const rowContainer = this.getParent(row) // thead or tbody\n    const rowIndex = rowContainer.children.indexOf(row)\n    const column = row.children.indexOf(cell)\n    if (rowContainer.type === 'tbody') {\n      if (rowIndex === 0 && rowContainer.preSibling) {\n        const thead = this.getPreSibling(rowContainer)\n        return thead.children[0].children[column]\n      } else if (rowIndex > 0) {\n        return this.getPreSibling(row).children[column]\n      }\n      return null\n    }\n    return null\n  }\n\n  ContentState.prototype.arrowHandler = function (event) {\n    const node = selection.getSelectionStart()\n    const paragraph = findNearestParagraph(node)\n    const id = paragraph.id\n    const block = this.getBlock(id)\n\n    const preBlock = this.findPreBlockInLocation(block)\n    const nextBlock = this.findNextBlockInLocation(block)\n\n    const { start, end } = selection.getCursorRange()\n    const { topOffset, bottomOffset } = selection.getCursorYOffset(paragraph)\n\n    // fix #101\n    if (event.key === EVENT_KEYS.ArrowRight && node && node.classList && node.classList.contains(CLASS_OR_ID['AG_MATH_TEXT'])) {\n      const { right } = selection.getCaretOffsets(node)\n      if (right === 0 && start.key === end.key && start.offset === end.offset) {\n        // It's not recommended to use such lower API, but it's work well.\n        return selection.select(node.parentNode.nextElementSibling, 0)\n      }\n    }\n\n    // Just do nothing if the cursor is not collapsed\n    if (\n      (start.key === end.key && start.offset !== end.offset) ||\n      start.key !== end.key\n    ) {\n      return\n    }\n\n    if (\n      (event.key === EVENT_KEYS.ArrowUp && topOffset > 0) ||\n      (event.key === EVENT_KEYS.ArrowDown && bottomOffset > 0)\n    ) {\n      if (!/pre|th|td/.test(block.type)) {\n        return\n      }\n    }\n\n    if (/th|td/.test(block.type)) {\n      let activeBlock\n      const cellInNextRow = this.findNextRowCell(block)\n      const cellInPrevRow = this.findPrevRowCell(block)\n\n      if (event.key === EVENT_KEYS.ArrowUp) {\n        if (cellInPrevRow) {\n          activeBlock = cellInPrevRow\n        } else {\n          activeBlock = this.findPreBlockInLocation(this.getTableBlock())\n        }\n      }\n\n      if (event.key === EVENT_KEYS.ArrowDown) {\n        if (cellInNextRow) {\n          activeBlock = cellInNextRow\n        } else {\n          activeBlock = this.findNextBlockInLocation(this.getTableBlock())\n        }\n      }\n\n      if (activeBlock) {\n        event.preventDefault()\n        event.stopPropagation()\n        const offset = activeBlock.type === 'p'\n          ? 0\n          : (event.key === EVENT_KEYS.ArrowUp\n            ? activeBlock.text.length\n            : 0)\n\n        const key = activeBlock.type === 'p'\n          ? activeBlock.children[0].key\n          : activeBlock.key\n\n        this.cursor = {\n          start: {\n            key,\n            offset\n          },\n          end: {\n            key,\n            offset\n          }\n        }\n\n        return this.partialRender()\n      }\n    }\n\n    if (\n      (event.key === EVENT_KEYS.ArrowUp) ||\n      (event.key === EVENT_KEYS.ArrowLeft && start.offset === 0)\n    ) {\n      event.preventDefault()\n      event.stopPropagation()\n      if (!preBlock) return\n      const key = preBlock.key\n      const offset = preBlock.text.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      return this.partialRender()\n    } else if (\n      (event.key === EVENT_KEYS.ArrowDown) ||\n      (event.key === EVENT_KEYS.ArrowRight && start.offset === block.text.length)\n    ) {\n      event.preventDefault()\n      event.stopPropagation()\n      let key\n      let newBlock\n      if (nextBlock) {\n        key = nextBlock.key\n      } else {\n        newBlock = this.createBlockP()\n        const lastBlock = this.blocks[this.blocks.length - 1]\n        this.insertAfter(newBlock, lastBlock)\n        key = newBlock.children[0].key\n      }\n      const offset = 0\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      return this.partialRender()\n    }\n  }\n}\n\nexport default arrowCtrl\n","import { sanitize } from '../utils'\nimport { PARAGRAPH_TYPES, PREVIEW_DOMPURIFY_CONFIG } from '../config'\n\nconst LIST_REG = /ul|ol/\nconst LINE_BREAKS_REG = /\\n/\n\nconst pasteCtrl = ContentState => {\n  // check paste type: `MERGE` or `NEWLINE`\n  ContentState.prototype.checkPasteType = function (start, fragment) {\n    const fragmentType = fragment.type\n    if (start.type === 'span') {\n      start = this.getParent(start)\n    }\n    if (fragmentType === 'p') return 'MERGE'\n    if (fragmentType === 'blockquote') return 'NEWLINE'\n    let parent = this.getParent(start)\n    if (parent && parent.type === 'li') parent = this.getParent(parent)\n    let startType = start.type\n    if (start.type === 'p') {\n      startType = parent ? parent.type : startType\n    }\n    if (LIST_REG.test(fragmentType) && LIST_REG.test(startType)) {\n      return 'MERGE'\n    } else {\n      return startType === fragmentType ? 'MERGE' : 'NEWLINE'\n    }\n  }\n\n  ContentState.prototype.checkCopyType = function (html, text) {\n    let type = 'normal'\n    if (!html && text) {\n      type = 'copyAsMarkdown'\n      const match = /^<([a-zA-Z\\d-]+)(?=\\s|>).*?>[\\s\\S]+?<\\/[a-zA-Z\\d-]+>$/.exec(text.trim())\n      if (match && match[1]) {\n        const tag = match[1]\n        type = PARAGRAPH_TYPES.find(type => type === tag) ? 'copyAsHtml' : type\n      }\n    }\n    return type\n  }\n\n  ContentState.prototype.standardizeHTML = function (html) {\n    const sanitizedHtml = sanitize(html, PREVIEW_DOMPURIFY_CONFIG)\n    const tempWrapper = document.createElement('div')\n    tempWrapper.innerHTML = sanitizedHtml\n    // special process for Number app in macOs\n    const tables = Array.from(tempWrapper.querySelectorAll('table'))\n    for (const table of tables) {\n      const row = table.querySelector('tr')\n      if (row.firstElementChild.tagName !== 'TH') {\n        [...row.children].forEach(cell => {\n          const th = document.createElement('th')\n          th.innerHTML = cell.innerHTML\n          cell.replaceWith(th)\n        })\n      }\n      const paragraphs = Array.from(table.querySelectorAll('p'))\n      for (const p of paragraphs) {\n        const span = document.createElement('span')\n        span.innerHTML = p.innerHTML\n        p.replaceWith(span)\n      }\n    }\n\n    return tempWrapper.innerHTML\n  }\n\n  // handle `normal` and `pasteAsPlainText` paste\n  ContentState.prototype.pasteHandler = function (event, type) {\n    event.preventDefault()\n    const text = event.clipboardData.getData('text/plain')\n    let html = event.clipboardData.getData('text/html')\n    html = this.standardizeHTML(html)\n    const copyType = this.checkCopyType(html, text)\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const parent = this.getParent(startBlock)\n    if (start.key !== end.key) {\n      this.cutHandler()\n      return this.pasteHandler(event, type)\n    }\n\n    const appendHtml = () => {\n      startBlock.text = startBlock.text.substring(0, start.offset) + text + startBlock.text.substring(start.offset)\n      const { key } = start\n      const offset = start.offset + text.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n    }\n\n    if (startBlock.type === 'span' && startBlock.functionType === 'codeLine') {\n      let referenceBlock = startBlock\n      const blockText = startBlock.text\n      const prePartText = blockText.substring(0, start.offset)\n      const postPartText = blockText.substring(end.offset)\n      const textList = text.split(LINE_BREAKS_REG)\n      if (textList.length > 1) {\n        textList.forEach((line, i) => {\n          if (i === 0) {\n            startBlock.text = prePartText + line\n          } else {\n            line = i === textList.length - 1 ? line + postPartText : line\n            const lineBlock = this.createBlock('span', line)\n            lineBlock.functionType = startBlock.functionType\n            lineBlock.lang = startBlock.lang\n            this.insertAfter(lineBlock, referenceBlock)\n            referenceBlock = lineBlock\n            if (i === textList.length - 1) {\n              const { key } = lineBlock\n              const offset = line.length\n              this.cursor = {\n                start: { key, offset },\n                end: { key, offset }\n              }\n            }\n          }\n        })\n      } else {\n        startBlock.text = prePartText + text + postPartText\n        const key = startBlock.key\n        const offset = start.offset + text.length\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n      }\n      this.updateCodeBlocks(startBlock)\n      return this.partialRender()\n    }\n\n    if (/th|td/.test(startBlock.type)) {\n      const pendingText = text.trim().replace(/\\n/g, '<br/>')\n      startBlock.text += pendingText\n      const { key } = startBlock\n      const offset = start.offset + pendingText.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n\n    // handle copyAsHtml\n    if (copyType === 'copyAsHtml') {\n      switch (type) {\n        case 'normal': {\n          if (startBlock.type === 'span' && this.isOnlyChild(startBlock) && !startBlock.text) {\n            this.codeBlockUpdate(startBlock, text.trim(), 'html')\n          } else {\n            appendHtml()\n          }\n          break\n        }\n        case 'pasteAsPlainText': {\n          if (startBlock.type === 'span') {\n            const lines = text.trim().split(LINE_BREAKS_REG).map(line => this.createBlock('span', line))\n            for (const line of lines) {\n              this.appendChild(parent, line)\n            }\n            const lastLine = lines[lines.length - 1]\n            const { key } = lastLine\n            const offset = lastLine.text.length\n            this.cursor = {\n              start: { key, offset },\n              end: { key, offset }\n            }\n          } else {\n            appendHtml()\n          }\n          break\n        }\n      }\n      return this.partialRender()\n    }\n\n    const stateFragments = type === 'pasteAsPlainText' || copyType === 'copyAsMarkdown'\n      ? this.markdownToState(text)\n      : this.html2State(html)\n\n    if (stateFragments.length <= 0) return\n    // step 1: if select content, cut the content, and chop the block text into two part by the cursor.\n    const cacheText = endBlock.text.substring(end.offset)\n    startBlock.text = startBlock.text.substring(0, start.offset)\n\n    // step 2: when insert the fragments, check begin a new block, or insert into pre block.\n    const firstFragment = stateFragments[0]\n    const tailFragments = stateFragments.slice(1)\n    const pasteType = this.checkPasteType(startBlock, firstFragment)\n\n    const getLastBlock = blocks => {\n      const len = blocks.length\n      const lastBlock = blocks[len - 1]\n\n      if (lastBlock.children.length === 0) {\n        return lastBlock\n      } else {\n        return getLastBlock(lastBlock.children)\n      }\n    }\n\n    const lastBlock = getLastBlock(stateFragments)\n\n    let key = lastBlock.key\n    let offset = lastBlock.text.length\n    lastBlock.text += cacheText\n\n    switch (pasteType) {\n      case 'MERGE':\n        if (LIST_REG.test(firstFragment.type)) {\n          const listItems = firstFragment.children\n          const firstListItem = listItems[0]\n          const liChildren = firstListItem.children\n          const originListItem = this.getParent(parent)\n          const originList = this.getParent(originListItem)\n          if (liChildren[0].type === 'p') {\n            // TODO @JOCS\n            startBlock.text += liChildren[0].children[0].text\n            liChildren[0].children.slice(1).forEach(c => this.appendChild(parent, c))\n            const tail = liChildren.slice(1)\n            if (tail.length) {\n              tail.forEach(t => {\n                this.appendChild(originListItem, t)\n              })\n            }\n            const firstFragmentTail = listItems.slice(1)\n            if (firstFragmentTail.length) {\n              firstFragmentTail.forEach(t => {\n                this.appendChild(originList, t)\n              })\n            }\n          } else {\n            listItems.forEach(c => {\n              this.appendChild(originList, c)\n            })\n          }\n          let target = originList\n          tailFragments.forEach(block => {\n            this.insertAfter(block, target)\n            target = block\n          })\n        } else {\n          if (firstFragment.type === 'p') {\n            startBlock.text += firstFragment.children[0].text\n            firstFragment.children.slice(1).forEach(line => {\n              if (startBlock.functionType) line.functionType = startBlock.functionType\n              if (startBlock.lang) line.lang = startBlock.lang\n              this.appendChild(parent, line)\n            })\n          } else if (/^h\\d$/.test(firstFragment.type)) {\n            startBlock.text += firstFragment.text.split(/\\s+/)[1]\n          } else {\n            startBlock.text += firstFragment.text\n          }\n\n          let target = parent\n          tailFragments.forEach(block => {\n            this.insertAfter(block, target)\n            target = block\n          })\n        }\n        break\n\n      case 'NEWLINE':\n        let target = startBlock.type === 'span' ? parent : startBlock\n        stateFragments.forEach(block => {\n          this.insertAfter(block, target)\n          target = block\n        })\n        if (startBlock.text.length === 0) {\n          this.removeBlock(startBlock)\n          if (this.isOnlyChild(startBlock) && startBlock.type === 'span') this.removeBlock(parent)\n        }\n        break\n      default:\n        throw new Error('unknown paste type')\n    }\n    // step 3: set cursor and render\n    let cursorBlock = this.getBlock(key)\n    if (!cursorBlock) {\n      key = startBlock.key\n      offset = startBlock.text.length - cacheText.length\n      cursorBlock = startBlock\n    }\n    // TODO @Jocs duplicate with codes in updateCtrl.js\n    if (cursorBlock && cursorBlock.type === 'span' && cursorBlock.functionType === 'codeLine') {\n      this.updateCodeBlocks(cursorBlock)\n    }\n    this.cursor = {\n      start: {\n        key, offset\n      },\n      end: {\n        key, offset\n      }\n    }\n    this.checkInlineUpdate(cursorBlock)\n    this.partialRender()\n  }\n}\n\nexport default pasteCtrl\n","/**\n * Helpers\n */\n\nexport const escape = function escape (html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;')\n}\n\nexport const unescape = function unescape (html) {\n  return html.replace(/&([#\\w]+);/g, function (_, n) {\n    n = n.toLowerCase()\n    if (n === 'colon') return ':'\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1))\n    }\n    return ''\n  })\n}\n\nexport const replace = function replace (regex, opt = '') {\n  regex = regex.source\n  return function self (name, val) {\n    if (!name) return new RegExp(regex, opt)\n    val = val.source || val\n    /* eslint-disable no-useless-escape */\n    val = val.replace(/(^|[^\\[])\\^/g, '$1')\n    /* eslint-ensable no-useless-escape */\n    regex = regex.replace(name, val)\n    return self\n  }\n}\n\nexport const noop = function noop () {}\nnoop.exec = noop\n\nexport const options = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  mathRenderer: null,\n  emojiRenderer: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: null,\n  xhtml: false,\n  disableInline: false\n}\n","import { escape, unescape } from './utils'\n/**\n * Renderer\n */\n\nfunction Renderer (options = {}) {\n  this.options = options\n}\n\nRenderer.prototype.frontmatter = function (text) {\n  return `<pre class=\"front-matter\">\\n${text}</pre>\\n`\n}\n\nRenderer.prototype.multiplemath = function (text) {\n  let output = ''\n  if (this.options.mathRenderer) {\n    const displayMode = true\n    output = this.options.mathRenderer(text, displayMode)\n  }\n  return output || `<pre class=\"multiple-math\">\\n${text}</pre>\\n`\n}\n\nRenderer.prototype.inlineMath = function (math) {\n  let output = ''\n  if (this.options.mathRenderer) {\n    const displayMode = false\n    output = this.options.mathRenderer(math, displayMode)\n  }\n  return output || math\n}\n\nRenderer.prototype.emoji = function (text, emoji) {\n  if (this.options.emojiRenderer) {\n    return this.options.emojiRenderer(emoji)\n  } else {\n    return text\n  }\n}\n\nRenderer.prototype.code = function (code, lang, escaped, codeBlockStyle) {\n  if (this.options.highlight) {\n    let out = this.options.highlight(code, lang)\n    if (out !== null && out !== code) {\n      escaped = true\n      code = out\n    }\n  }\n\n  let className = codeBlockStyle === 'fenced' ? 'fenced-code-block' : 'indented-code-block'\n  className = lang ? `${className} ${this.options.langPrefix}${escape(lang, true)}` : className\n\n  return '<pre><code class=\"' +\n    className +\n    '\">' +\n    (escaped ? code : escape(code, true)) +\n    '\\n</code></pre>\\n'\n}\n\nRenderer.prototype.blockquote = function (quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n'\n}\n\nRenderer.prototype.html = function (html) {\n  return html\n}\n\nRenderer.prototype.heading = function (text, level, raw, headingStyle) {\n  return '<h' +\n    level +\n    ' id=\"' +\n    this.options.headerPrefix +\n    raw.toLowerCase().replace(/[^\\w]+/g, '-') +\n    '\" class=\"' +\n    headingStyle +\n    '\">' +\n    text +\n    '</h' +\n    level +\n    '>\\n'\n}\n\nRenderer.prototype.hr = function () {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n'\n}\n\nRenderer.prototype.list = function (body, ordered, start, taskList) {\n  const type = ordered ? 'ol' : 'ul'\n  const classes = !ordered ? (taskList ? ' class=\"task-list\"' : ' class=\"bullet-list\"') : ' class=\"order-list\"'\n  const startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : ''\n  return '<' + type + classes + startatt + '>\\n' + body + '</' + type + '>\\n'\n}\n\nRenderer.prototype.listitem = function (text, checked, listItemType, bulletListItemMarker, loose) {\n  let classes\n  switch (listItemType) {\n    case 'order':\n      classes = ' class=\"order-list-item'\n      break\n    case 'task':\n      classes = ' class=\"task-list-item'\n      break\n    case 'bullet':\n      classes = ' class=\"bullet-list-item'\n      break\n    default:\n      throw new Error('Invalid state')\n  }\n\n  // \"tight-list-item\" is only used to remove <p> padding\n  classes += loose ? ` loose-list-item\"` : ` tight-list-item\"`\n\n  if (checked === undefined) {\n    return '<li ' + classes + ' data-marker=\"' + bulletListItemMarker + '\">' + text + '</li>\\n'\n  }\n\n  return '<li ' + classes + ' data-marker=\"' + bulletListItemMarker + '\">' +\n    '<input type=\"checkbox\" class=\"task-list-item-checkbox\"' +\n    (checked ? ' checked' : '') +\n    '> ' +\n    text +\n    '</li>\\n'\n}\n\nRenderer.prototype.paragraph = function (text) {\n  return '<p>' + text + '</p>\\n'\n}\n\nRenderer.prototype.table = function (header, body) {\n  return '<table>\\n' +\n    '<thead>\\n' +\n    header +\n    '</thead>\\n' +\n    '<tbody>\\n' +\n    body +\n    '</tbody>\\n' +\n    '</table>\\n'\n}\n\nRenderer.prototype.tablerow = function (content) {\n  return '<tr>\\n' + content + '</tr>\\n'\n}\n\nRenderer.prototype.tablecell = function (content, flags) {\n  const type = flags.header ? 'th' : 'td'\n  const tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>'\n  return tag + content + '</' + type + '>\\n'\n}\n\n// span level renderer\nRenderer.prototype.strong = function (text) {\n  return '<strong>' + text + '</strong>'\n}\n\nRenderer.prototype.em = function (text) {\n  return '<em>' + text + '</em>'\n}\n\nRenderer.prototype.codespan = function (text) {\n  return '<code>' + text + '</code>'\n}\n\nRenderer.prototype.br = function () {\n  return this.options.xhtml ? '<br/>' : '<br>'\n}\n\nRenderer.prototype.del = function (text) {\n  return '<del>' + text + '</del>'\n}\n\nRenderer.prototype.link = function (href, title, text) {\n  if (this.options.sanitize) {\n    let prot\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase()\n    } catch (e) {\n      return ''\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {\n      return ''\n    }\n  }\n  let out = '<a href=\"' + href + '\"'\n  if (title) {\n    out += ' title=\"' + title + '\"'\n  }\n  out += '>' + text + '</a>'\n  return out\n}\n\nRenderer.prototype.image = function (href, title, text) {\n  let out = '<img src=\"' + href + '\" alt=\"' + text + '\"'\n  if (title) {\n    out += ' title=\"' + title + '\"'\n  }\n  out += this.options.xhtml ? '/>' : '>'\n  return out\n}\n\nRenderer.prototype.text = function (text) {\n  return text\n}\n\nexport default Renderer\n","/**\n * Block-Level Rules\n */\n/* eslint-disable no-useless-escape */\nimport { replace, noop } from './utils'\n\nconst block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  // DOTO(@Jocs) need to support multiple line in setext heading?\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  tasklist: /^( *)([*+-] \\[(?:X|x|\\s)\\]) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1(?:[*+-] \\[(?:X|x|\\s)\\]))\\n*|\\s*$)/,\n  orderlist: /^( *)(\\d+\\.) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1\\d+\\. )\\n*|\\s*$)/,\n  bulletlist: /^( *)([*+-]) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1[*+-] )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ {0,3}\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/,\n  frontmatter: /^---\\n([\\s\\S]+?)---(?:\\n+|$)/,\n  multiplemath: /^\\$\\$\\n([\\s\\S]+?)\\n\\$\\$(?:\\n+|$)/\n}\n\nblock.checkbox = /^\\[([ x])\\] +/\nblock.bullet = /(?:[*+-] \\[(?:X|x|\\s)\\]|[*+-]|\\d+\\.)/\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/\nblock.item = replace(block.item, 'gm')(/bull/g, block.bullet)()\n\n;['tasklist', 'orderlist', 'bulletlist'].forEach(list => {\n  block[list] = replace(block[list])('hr', '\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))')('def', '\\\\n+(?=' + block.def.source + ')')()\n})\n\nblock.blockquote = replace(block.blockquote)('def', block.def)()\n\nblock._tag = '(?!(?:' +\n  'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code' +\n  '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo' +\n  '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b'\n\nblock.html = replace(block.html)('comment', /<!--[\\s\\S]*?-->/)('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)(/tag/g, block._tag)()\n\nblock.paragraph = replace(block.paragraph)('hr', block.hr)('heading', block.heading)('lheading', block.lheading)('blockquote', block.blockquote)('tag', '<' + block._tag)('def', block.def)()\n\n/**\n * Normal Block Grammar\n */\n\nexport const normal = Object.assign({}, block)\n\n/**\n * GFM Block Grammar\n */\n\nexport const gfm = Object.assign({}, normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]+?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n})\n\n// fix me @Jocs\ngfm.paragraph = replace(block.paragraph)('(?!', '(?!' +\n  gfm.fences.source.replace('\\\\1', '\\\\2') + '|' +\n  block.tasklist.source.replace('\\\\1', '\\\\5') + '|' +\n  block.orderlist.source.replace('\\\\1', '\\\\7') + '|' +\n  block.bulletlist.source.replace('\\\\1', '\\\\9') + '|')()\n\n/**\n * GFM + Tables Block Grammar\n */\n\nexport const tables = Object.assign({}, gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n})\n/* eslint-ensable no-useless-escape */\n","import { normal, gfm, tables } from './blockRules'\nimport { options } from './utils'\n/**\n * Block Lexer\n */\n\nfunction Lexer (opts) {\n  this.tokens = []\n  this.tokens.links = {}\n  this.options = Object.assign({}, options, opts)\n  this.rules = normal\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = tables\n    } else {\n      this.rules = gfm\n    }\n  }\n}\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function (src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n')\n  return this.token(src, true)\n}\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function (src, top, bq) {\n  src = src.replace(/^ +$/gm, '')\n  let loose\n  let cap\n  let bull\n  let b\n  let item\n  let space\n  let i\n  let l\n  let checked\n  // Only check front matter at the begining of markdown file\n  cap = this.rules.frontmatter.exec(src)\n  if (!bq && top && cap) {\n    src = src.substring(cap[0].length)\n    this.tokens.push({\n      type: 'frontmatter',\n      text: cap[1]\n    })\n  }\n\n  while (src) {\n    // newline\n    cap = this.rules.newline.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        })\n      }\n    }\n\n    // code\n    cap = this.rules.code.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      cap = cap[0].replace(/^ {4}/gm, '')\n      this.tokens.push({\n        type: 'code',\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic ? cap.replace(/\\n+$/, '') : cap\n      })\n      continue\n    }\n\n    // multiple line math\n    cap = this.rules.multiplemath.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'multiplemath',\n        text: cap[1]\n      })\n      continue\n    }\n\n    // fences (gfm)\n    cap = this.rules.fences.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'code',\n        codeBlockStyle: 'fenced',\n        lang: cap[2],\n        text: cap[3]\n      })\n      continue\n    }\n\n    // heading\n    cap = this.rules.heading.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'heading',\n        headingStyle: 'atx',\n        depth: cap[1].length,\n        text: cap[2]\n      })\n      continue\n    }\n\n    // table no leading pipe (gfm)\n    cap = this.rules.nptable.exec(src)\n    if (top && cap) {\n      src = src.substring(cap[0].length)\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      }\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right'\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center'\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left'\n        } else {\n          item.align[i] = null\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */)\n      }\n\n      this.tokens.push(item)\n\n      continue\n    }\n\n    // lheading\n    cap = this.rules.lheading.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'heading',\n        headingStyle: 'setext',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      })\n      continue\n    }\n\n    // hr\n    cap = this.rules.hr.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'hr'\n      })\n      continue\n    }\n\n    // blockquote\n    cap = this.rules.blockquote.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      })\n\n      cap = cap[0].replace(/^ *> ?/gm, '')\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true)\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      })\n\n      continue\n    }\n\n    // list\n    cap = this.rules.tasklist.exec(src) || this.rules.orderlist.exec(src) || this.rules.bulletlist.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      bull = cap[2]\n      const ordered = bull.length > 1 && /\\d/.test(bull)\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered,\n        listType: bull.length > 1 ? (/\\d/.test(bull) ? 'order' : 'task') : 'bullet',\n        start: ordered ? +bull : ''\n      })\n\n      let next = false\n      let prevNext = true\n      let listItemIndices = []\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item)\n      l = cap.length\n      i = 0\n\n      for (; i < l; i++) {\n        const itemWithBullet = cap[i]\n        item = itemWithBullet\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '')\n\n        if (this.options.gfm) {\n          checked = this.rules.checkbox.exec(item)\n          if (checked) {\n            checked = checked[1] === 'x'\n            item = item.replace(this.rules.checkbox, '')\n          } else {\n            checked = undefined\n          }\n        }\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '')\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = this.rules.bullet.exec(cap[i + 1])[0]\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src\n            i = l - 1\n          }\n        }\n\n        let prevItem = ''\n        if (i === 0) {\n          prevItem = item\n        } else {\n          prevItem = cap[i - 1]\n        }\n\n        // Determine whether item is loose or not. If previous item is loose\n        // this item is also loose.\n        loose = next = next || /^ *([*+-]|\\d+\\.) +\\S+\\n\\n(?!\\s*$)/.test(itemWithBullet)\n\n        // Check if previous line ends with a new line.\n        if (!loose && (i !== 0 || l > 1) && prevItem.length !== 0 && prevItem.charAt(prevItem.length - 1) === '\\n') {\n          loose = next = true\n        }\n\n        // A list is either loose or tight, so update previous list items.\n        if (next && prevNext !== next) {\n          for (const index of listItemIndices) {\n            this.tokens[index].type = 'loose_item_start'\n          }\n          listItemIndices = []\n        }\n        prevNext = next\n\n        if (!loose) {\n          listItemIndices.push(this.tokens.length)\n        }\n\n        this.tokens.push({\n          checked: checked,\n          listItemType: bull.length > 1 ? (/\\d/.test(bull) ? 'order' : 'task') : 'bullet',\n          bulletListItemMarker: /\\d/.test(bull) ? '' : bull.charAt(0),\n          type: loose ? 'loose_item_start' : 'list_item_start'\n        })\n\n        if (/^\\s*$/.test(item)) {\n          this.tokens.push({\n            type: 'text',\n            text: ''\n          })\n        } else {\n          // Recurse.\n          this.token(item, false, bq)\n        }\n\n        this.tokens.push({\n          type: 'list_item_end'\n        })\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      })\n\n      continue\n    }\n\n    // html\n    cap = this.rules.html.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: this.options.sanitize ? 'paragraph' : 'html',\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      })\n      continue\n    }\n\n    // def\n    cap = this.rules.def.exec(src)\n    if (!bq && top && cap) {\n      let text = ''\n      do {\n        src = src.substring(cap[0].length)\n        this.tokens.links[cap[1].toLowerCase()] = {\n          href: cap[2],\n          title: cap[3]\n        }\n        text += cap[0]\n        if (cap[0].endsWith('\\n\\n')) break\n        cap = this.rules.def.exec(src)\n      } while (cap)\n\n      if (this.options.disableInline) {\n        this.tokens.push({\n          type: 'paragraph',\n          text: text.replace(/\\n*$/, '')\n        })\n      }\n      continue\n    }\n\n    // table (gfm)\n    cap = this.rules.table.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      }\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right'\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center'\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left'\n        } else {\n          item.align[i] = null\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */)\n      }\n\n      this.tokens.push(item)\n\n      continue\n    }\n\n    // top-level paragraph\n    cap = this.rules.paragraph.exec(src)\n    if (top && cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      })\n      continue\n    }\n\n    // text\n    cap = this.rules.text.exec(src)\n    if (cap) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      })\n      continue\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0))\n    }\n  }\n\n  return this.tokens\n}\n\nexport default Lexer\n","import { replace, noop } from './utils'\n/**\n * Inline-Level Grammar\n */\n/* eslint-disable no-useless-escape */\nconst inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  math: /^\\$([\\s\\S]+?)\\$(?!\\$)/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`\\$]| {2,}\\n|$)/\n}\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/\n\ninline.link = replace(inline.link)('inside', inline._inside)('href', inline._href)()\n\ninline.reflink = replace(inline.reflink)('inside', inline._inside)()\n\n/**\n * Normal Inline Grammar\n */\n\nexport const normal = Object.assign({}, inline)\n\n/**\n * Pedantic Inline Grammar\n */\n\nexport const pedantic = Object.assign({}, normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n})\n\n/**\n * GFM Inline Grammar\n */\n\nexport const gfm = Object.assign({}, normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  emoji: /^(:)([a-z_]+?)\\1/,\n  text: replace(inline.text)(']|', '~]|')('|', '|https?://|')()\n})\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\nexport const breaks = Object.assign({}, gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(gfm.text)('{2,}', '*')()\n})\n/* eslint-ensable no-useless-escape */\n","import Renderer from './renderer'\nimport { normal, breaks, gfm, pedantic } from './inlineRules'\nimport { escape } from './utils'\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer (links, options) {\n  this.options = options\n  this.links = links\n  this.rules = normal\n  this.renderer = this.options.renderer || new Renderer()\n  this.renderer.options = this.options\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.')\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = breaks\n    } else {\n      this.rules = gfm\n    }\n  } else if (this.options.pedantic) {\n    this.rules = pedantic\n  }\n}\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function (src) {\n  const { disableInline } = this.options\n  if (disableInline) {\n    return escape(src)\n  }\n\n  let out = ''\n  let link\n  let text\n  let href\n  let cap\n\n  while (src) {\n    // escape\n    cap = this.rules.escape.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += cap[1]\n      continue\n    }\n\n    // autolink\n    cap = this.rules.autolink.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      if (cap[2] === '@') {\n        text = cap[1].charAt(6) === ':' ? this.mangle(cap[1].substring(7)) : this.mangle(cap[1])\n        href = this.mangle('mailto:') + text\n      } else {\n        text = escape(cap[1])\n        href = text\n      }\n      out += this.renderer.link(href, null, text)\n      continue\n    }\n\n    // math\n    cap = this.rules.math.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      text = cap[1]\n      out += this.renderer.inlineMath(text)\n    }\n\n    // emoji\n    cap = this.rules.emoji.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      text = cap[0]\n      out += this.renderer.emoji(text, cap[2])\n    }\n\n    // url (gfm)\n    cap = this.rules.url.exec(src)\n    if (!this.inLink && cap) {\n      src = src.substring(cap[0].length)\n      text = escape(cap[1])\n      href = text\n      out += this.renderer.link(href, null, text)\n      continue\n    }\n\n    // tag\n    cap = this.rules.tag.exec(src)\n    if (cap) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false\n      }\n      src = src.substring(cap[0].length)\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue\n    }\n\n    // link\n    cap = this.rules.link.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.inLink = true\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      })\n      this.inLink = false\n      continue\n    }\n\n    // reflink, nolink\n    cap = this.rules.reflink.exec(src) || this.rules.nolink.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ')\n      link = this.links[link.toLowerCase()]\n      if (!link || !link.href) {\n        out += cap[0].charAt(0)\n        src = cap[0].substring(1) + src\n        continue\n      }\n      this.inLink = true\n      out += this.outputLink(cap, link)\n      this.inLink = false\n      continue\n    }\n\n    // strong\n    cap = this.rules.strong.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += this.renderer.strong(this.output(cap[2] || cap[1]))\n      continue\n    }\n\n    // em\n    cap = this.rules.em.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += this.renderer.em(this.output(cap[2] || cap[1]))\n      continue\n    }\n\n    // code\n    cap = this.rules.code.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += this.renderer.codespan(escape(cap[2], true))\n      continue\n    }\n\n    // br\n    cap = this.rules.br.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += this.renderer.br()\n      continue\n    }\n\n    // del (gfm)\n    cap = this.rules.del.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += this.renderer.del(this.output(cap[1]))\n      continue\n    }\n\n    // text\n    cap = this.rules.text.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      out += this.renderer.text(escape(this.smartypants(cap[0])))\n      continue\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0))\n    }\n  }\n\n  return out\n}\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function (cap, link) {\n  const href = escape(link.href)\n  const title = link.title ? escape(link.title) : null\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]))\n}\n\n/**\n * Smartypants Transformations\n */\n/* eslint-disable no-useless-escape */\nInlineLexer.prototype.smartypants = function (text) {\n  if (!this.options.smartypants) return text\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026')\n}\n/* eslint-ensable no-useless-escape */\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function (text) {\n  if (!this.options.mangle) return text\n  const l = text.length\n  let out = ''\n  let i\n  let ch\n\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i)\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16)\n    }\n    out += '&#' + ch + ';'\n  }\n\n  return out\n}\n\nexport default InlineLexer\n","import Renderer from './renderer'\nimport InlineLexer from './inlineLexer'\n/**\n * Parsing & Compiling\n */\n\nfunction Parser (options) {\n  this.tokens = []\n  this.token = null\n  this.options = options\n  this.options.renderer = this.options.renderer || new Renderer()\n  this.renderer = this.options.renderer\n  this.renderer.options = this.options\n}\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function (src) {\n  this.inline = new InlineLexer(src.links, this.options)\n  this.tokens = src.reverse()\n\n  let out = ''\n  while (this.next()) {\n    out += this.tok()\n  }\n\n  return out\n}\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function () {\n  this.token = this.tokens.pop()\n  return this.token\n}\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function () {\n  return this.tokens[this.tokens.length - 1] || 0\n}\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function () {\n  let body = this.token.text\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text\n  }\n\n  return this.inline.output(body)\n}\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function () {\n  switch (this.token.type) {\n    case 'frontmatter': {\n      return this.renderer.frontmatter(this.token.text)\n    }\n    case 'space': {\n      return ''\n    }\n    case 'hr': {\n      return this.renderer.hr()\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text,\n        this.token.headingStyle\n      )\n    }\n    case 'multiplemath': {\n      const { text } = this.token\n      return this.renderer.multiplemath(text)\n    }\n    case 'code': {\n      const { codeBlockStyle, text, lang, escaped } = this.token\n      return this.renderer.code(text, lang, escaped, codeBlockStyle)\n    }\n    case 'table': {\n      let header = ''\n      let body = ''\n      let i\n      let row\n      let cell\n      // let flags\n      let j\n\n      // header\n      cell = ''\n      for (i = 0; i < this.token.header.length; i++) {\n        // flags = {\n        //   header: true,\n        //   align: this.token.align[i]\n        // }\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]), {\n            header: true,\n            align: this.token.align[i]\n          }\n        )\n      }\n      header += this.renderer.tablerow(cell)\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i]\n\n        cell = ''\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]), {\n              header: false,\n              align: this.token.align[j]\n            }\n          )\n        }\n\n        body += this.renderer.tablerow(cell)\n      }\n      return this.renderer.table(header, body)\n    }\n    case 'blockquote_start': {\n      let body = ''\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok()\n      }\n\n      return this.renderer.blockquote(body)\n    }\n    case 'list_start': {\n      let body = ''\n      let taskList = false\n      const { ordered, start } = this.token\n\n      while (this.next().type !== 'list_end') {\n        if (this.token.checked !== undefined) {\n          taskList = true\n        }\n\n        body += this.tok()\n      }\n\n      return this.renderer.list(body, ordered, start, taskList)\n    }\n    case 'list_item_start': {\n      let body = ''\n      const { checked, listItemType, bulletListItemMarker } = this.token\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text' ? this.parseText() : this.tok()\n      }\n\n      return this.renderer.listitem(body, checked, listItemType, bulletListItemMarker, false)\n    }\n    case 'loose_item_start': {\n      let body = ''\n      const { checked, listItemType, bulletListItemMarker } = this.token\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok()\n      }\n\n      return this.renderer.listitem(body, checked, listItemType, bulletListItemMarker, true)\n    }\n    case 'html': {\n      const html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text\n\n      return this.renderer.html(html)\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text))\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText())\n    }\n  }\n}\n\nexport default Parser\n","import Renderer from './renderer'\nimport Lexer from './lexer'\nimport Parser from './parser'\nimport { options } from './utils'\n\n/**\n * Marked\n */\n\nfunction marked (src, opt = {}) {\n  try {\n    opt = Object.assign({}, options, opt)\n    return new Parser(opt).parse(new Lexer(opt).lex(src))\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/marktext/marktext/issues.'\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' +\n        escape(e.message + '', true) +\n        '</pre>'\n    }\n    throw e\n  }\n}\n\nexport {\n  Renderer, Lexer, Parser\n}\n\nexport default marked\n","import marked from '../parser/marked'\nimport Prism from 'prismjs2'\nimport katex from 'katex'\nimport githubMarkdownCss from 'github-markdown-css/github-markdown.css'\nimport highlightCss from 'prismjs2/themes/prism.css'\nimport katexCss from 'katex/dist/katex.css'\nimport { EXPORT_DOMPURIFY_CONFIG } from '../config'\nimport { sanitize } from '../utils'\nimport { validEmoji } from '../ui/emojis'\n\nexport const getSanitizeHtml = markdown => {\n  const html = marked(markdown)\n  return sanitize(html, EXPORT_DOMPURIFY_CONFIG)\n}\n\nclass ExportHtml {\n  constructor (markdown) {\n    this.markdown = markdown\n  }\n  // render pure html by marked\n  renderHtml () {\n    return marked(this.markdown, {\n      highlight (code, lang) {\n        return Prism.highlight(code, Prism.languages[lang], lang)\n      },\n      emojiRenderer (emoji) {\n        const validate = validEmoji(emoji)\n        if (validate) {\n          return validate.emoji\n        } else {\n          return `:${emoji}:`\n        }\n      },\n      mathRenderer (math, displayMode) {\n        return katex.renderToString(math, {\n          displayMode\n        })\n      }\n    })\n  }\n  // get html with style\n  generate (filename = '') {\n    const html = this.renderHtml()\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <title>${filename}</title>\n  <style>\n  ${githubMarkdownCss}\n  </style>\n  <style>\n  ${highlightCss}\n  </style>\n  <style>\n  ${katexCss}\n  </style>\n  <style>\n    .markdown-body {\n      box-sizing: border-box;\n      min-width: 200px;\n      max-width: 980px;\n      margin: 0 auto;\n      padding: 45px;\n    }\n    .markdown-body table {\n      display: table;\n    }\n    .markdown-body input[type=\"checkbox\"] ~ p {\n      margin-top: 0;\n      display: inline-block;\n    }\n    @media (max-width: 767px) {\n      .markdown-body {\n        padding: 15px;\n      }\n    }\n  </style>\n</head>\n<body>\n  <article class=\"markdown-body\">\n  ${html}\n  </article>\n</body>\n</html>`\n  }\n}\n\nexport default ExportHtml\n","/**\n * Hi contributors!\n *\n * Before you edit or update codes in this file,\n * make sure you have read this bellow:\n * Commonmark Spec: https://spec.commonmark.org/0.28/\n * and GitHub Flavored Markdown Spec: https://github.github.com/gfm/\n * The output markdown needs to obey the standards of the two Spec.\n */\n// const LINE_BREAKS = /\\n/\n\nclass ExportMarkdown {\n  constructor (blocks) {\n    this.blocks = blocks\n    this.listType = [] // 'ul' or 'ol'\n    // helper to translate the first tight item in a nested list\n    this.isLooseParentList = true\n  }\n\n  generate () {\n    return this.translateBlocks2Markdown(this.blocks)\n  }\n\n  translateBlocks2Markdown (blocks, indent = '') {\n    const result = []\n\n    for (const block of blocks) {\n      switch (block.type) {\n        case 'p':\n          this.insertLineBreak(result, indent, true)\n          result.push(this.translateBlocks2Markdown(block.children, indent))\n          break\n\n        case 'span':\n          result.push(this.normalizeParagraphText(block, indent))\n          break\n\n        case 'hr':\n          this.insertLineBreak(result, indent, true)\n          result.push(this.normalizeParagraphText(block, indent))\n          break\n\n        case 'h1':\n        case 'h2':\n        case 'h3':\n        case 'h4':\n        case 'h5':\n        case 'h6':\n          this.insertLineBreak(result, indent, true)\n          result.push(this.normalizeHeaderText(block, indent))\n          break\n\n        case 'figure':\n          this.insertLineBreak(result, indent, true)\n          switch (block.functionType) {\n            case 'table':\n              const table = block.children[1]\n              result.push(this.normalizeTable(table, indent))\n              break\n            case 'html':\n              result.push(this.normalizeHTML(block, indent))\n              break\n            case 'multiplemath':\n              result.push(this.normalizeMultipleMath(block, indent))\n              break\n            case 'mermaid':\n            case 'flowchart':\n            case 'sequence':\n            case 'vega-lite':\n              result.push(this.normalizeContainer(block, indent))\n              break\n          }\n          break\n\n        case 'li': {\n          const insertNewLine = block.isLooseListItem\n\n          // helper variable to correct the first tight item in a nested list\n          this.isLooseParentList = insertNewLine\n\n          this.insertLineBreak(result, indent, insertNewLine)\n          result.push(this.normalizeListItem(block, indent))\n          this.isLooseParentList = true\n          break\n        }\n\n        case 'ul': {\n          const insertNewLine = this.isLooseParentList\n          this.isLooseParentList = true\n\n          this.insertLineBreak(result, indent, insertNewLine)\n          this.listType.push({ type: 'ul' })\n          result.push(this.normalizeList(block, indent))\n          this.listType.pop()\n          break\n        }\n\n        case 'ol': {\n          const insertNewLine = this.isLooseParentList\n          this.isLooseParentList = true\n\n          this.insertLineBreak(result, indent, insertNewLine)\n          const listCount = block.start !== undefined ? block.start : 1\n          this.listType.push({ type: 'ol', listCount })\n          result.push(this.normalizeList(block, indent))\n          this.listType.pop()\n          break\n        }\n\n        case 'pre':\n          this.insertLineBreak(result, indent, true)\n          if (block.functionType === 'frontmatter') {\n            result.push(this.normalizeFrontMatter(block, indent))\n          } else {\n            result.push(this.normalizeCodeBlock(block, indent))\n          }\n          break\n\n        case 'blockquote':\n          this.insertLineBreak(result, indent, true)\n          result.push(this.normalizeBlockquote(block, indent))\n          break\n        default:\n          console.log(block.type)\n          break\n      }\n    }\n    return result.join('')\n  }\n\n  insertLineBreak (result, indent, insertNewLine) {\n    if (!result.length) return\n    const newLine = insertNewLine ? '\\n' : ''\n    if (/\\S/.test(indent)) {\n      result.push(`${indent}${newLine}`)\n    } else if (insertNewLine) {\n      result.push(newLine)\n    }\n  }\n\n  normalizeParagraphText (block, indent) {\n    return `${indent}${block.text}\\n`\n  }\n\n  normalizeHeaderText (block, indent) {\n    const { headingStyle } = block\n    const match = block.text.match(/(#{1,6})(.*)/)\n    if (headingStyle === 'atx') {\n      const text = `${match[1]} ${match[2].trim()}`\n      return `${indent}${text}\\n`\n    } else if (headingStyle === 'setext') {\n      const level = match[1].length\n      if (level !== 1 && level !== 2) {\n        console.error(`setext heading only have h1 or h2 but we got a heading h${level}`)\n      }\n      return `${indent}${match[2].trim()}\\n${indent}${level === 1 ? '===' : '---'}\\n`\n    }\n  }\n\n  normalizeBlockquote (block, indent) {\n    const { children } = block\n    const newIndent = `${indent}> `\n    return this.translateBlocks2Markdown(children, newIndent)\n  }\n\n  normalizeFrontMatter (block, indent) { // preBlock\n    const result = []\n    result.push('---\\n')\n    for (const line of block.children[0].children) {\n      result.push(`${line.text}\\n`)\n    }\n    result.push('---\\n')\n    return result.join('')\n  }\n\n  normalizeMultipleMath (block, /* figure */ indent) {\n    const result = []\n    result.push('$$\\n')\n    for (const line of block.children[0].children[0].children) {\n      result.push(`${line.text}\\n`)\n    }\n    result.push('$$\\n')\n    return result.join('')\n  }\n\n  // `mermaid` `flowchart` `sequence` `vega-lite`\n  normalizeContainer (block, indent) {\n    const result = []\n    const diagramType = block.children[0].functionType\n    result.push('```' + diagramType + '\\n')\n    for (const line of block.children[0].children[0].children) {\n      result.push(`${line.text}\\n`)\n    }\n    result.push('```\\n')\n    return result.join('')\n  }\n\n  normalizeCodeBlock (block, indent) {\n    const result = []\n    const textList = block.children[1].children.map(codeLine => codeLine.text)\n    const { functionType } = block\n    if (functionType === 'fencecode') {\n      result.push(`${indent}${block.lang ? '```' + block.lang + '\\n' : '```\\n'}`)\n      textList.forEach(text => {\n        result.push(`${indent}${text}\\n`)\n      })\n      result.push(indent + '```\\n')\n    } else {\n      textList.forEach(text => {\n        result.push(`${indent}    ${text}\\n`)\n      })\n    }\n\n    return result.join('')\n  }\n\n  normalizeHTML (block, indent) { // figure\n    const result = []\n    const codeLines = block.children[1].children[0].children[0].children\n    for (const line of codeLines) {\n      result.push(`${indent}${line.text}\\n`)\n    }\n    return result.join('')\n  }\n\n  normalizeTable (table, indent) {\n    const result = []\n    const { row, column } = table\n    const tableData = []\n    const tHeader = table.children[0]\n\n    const tBody = table.children[1]\n    tableData.push(tHeader.children[0].children.map(th => th.text.trim()))\n    tBody.children.forEach(bodyRow => {\n      tableData.push(bodyRow.children.map(td => td.text.trim()))\n    })\n\n    const columnWidth = tHeader.children[0].children.map(th => ({ width: 5, align: th.align }))\n\n    let i\n    let j\n\n    for (i = 0; i <= row; i++) {\n      for (j = 0; j <= column; j++) {\n        columnWidth[j].width = Math.max(columnWidth[j].width, tableData[i][j].length + 2) // add 2, because have two space around text\n      }\n    }\n    tableData.forEach((r, i) => {\n      const rs = indent + '|' + r.map((cell, j) => {\n        const raw = ` ${cell + ' '.repeat(columnWidth[j].width)}`\n        return raw.substring(0, columnWidth[j].width)\n      }).join('|') + '|'\n      result.push(rs)\n      if (i === 0) {\n        const cutOff = indent + '|' + columnWidth.map(({ width, align }) => {\n          let raw = '-'.repeat(width - 2)\n          switch (align) {\n            case 'left':\n              raw = `:${raw} `\n              break\n            case 'center':\n              raw = `:${raw}:`\n              break\n            case 'right':\n              raw = ` ${raw}:`\n              break\n            default:\n              raw = ` ${raw} `\n              break\n          }\n          return raw\n        }).join('|') + '|'\n        result.push(cutOff)\n      }\n    })\n    return result.join('\\n') + '\\n'\n  }\n\n  normalizeList (block, indent) {\n    const { children } = block\n    return this.translateBlocks2Markdown(children, indent)\n  }\n\n  normalizeListItem (block, indent) {\n    const result = []\n    const listInfo = this.listType[this.listType.length - 1]\n    let { children, bulletListItemMarker } = block\n    let itemMarker\n\n    if (listInfo.type === 'ul') {\n      itemMarker = bulletListItemMarker ? `${bulletListItemMarker} ` : '- '\n      if (block.listItemType === 'task') {\n        const firstChild = children[0]\n        itemMarker += firstChild.checked ? '[x] ' : '[ ] '\n        children = children.slice(1)\n      }\n    } else {\n      itemMarker = `${listInfo.listCount++}. `\n    }\n\n    const newIndent = indent + ' '.repeat(itemMarker.length)\n    result.push(`${indent}${itemMarker}`)\n    result.push(this.translateBlocks2Markdown(children, newIndent).substring(newIndent.length))\n    return result.join('')\n  }\n}\n\nexport default ExportMarkdown\n","import selection from '../selection'\nimport { CLASS_OR_ID } from '../config'\nimport { getSanitizeHtml } from '../utils/exportHtml'\nimport ExportMarkdown from '../utils/exportMarkdown'\n\nconst copyCutCtrl = ContentState => {\n  ContentState.prototype.cutHandler = function () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    startBlock.text = startBlock.text.substring(0, start.offset) + endBlock.text.substring(end.offset)\n    if (start.key !== end.key) {\n      this.removeBlocks(startBlock, endBlock)\n    }\n    this.cursor = {\n      start,\n      end: start\n    }\n    this.partialRender()\n  }\n\n  ContentState.prototype.getClipBoradData = function () {\n    const html = selection.getSelectionHtml()\n    const wrapper = document.createElement('div')\n    wrapper.innerHTML = html\n    const removedElements = wrapper.querySelectorAll(\n      `.${CLASS_OR_ID['AG_TOOL_BAR']},\n      .${CLASS_OR_ID['AG_MATH_RENDER']},\n      .${CLASS_OR_ID['AG_HTML_PREVIEW']},\n      .${CLASS_OR_ID['AG_MATH_PREVIEW']},\n      .${CLASS_OR_ID['AG_COPY_REMOVE']},\n      .${CLASS_OR_ID['AG_LANGUAGE_INPUT']}`\n\n    )\n    ;[...removedElements].forEach(e => e.remove())\n\n    const hrs = wrapper.querySelectorAll(`[data-role=hr]`)\n    ;[...hrs].forEach(hr => hr.replaceWith(document.createElement('hr')))\n\n    const headers = wrapper.querySelectorAll(`[data-head]`)\n    ;[...headers].forEach(header => {\n      const p = document.createElement('p')\n      p.textContent = header.textContent\n      header.replaceWith(p)\n    })\n\n    // replace inline rule element: code, a, strong, em, del to span element\n    // in order to escape turndown translation\n\n    const inlineRuleElements = wrapper.querySelectorAll(\n      `a.${CLASS_OR_ID['AG_INLINE_RULE']},\n      code.${CLASS_OR_ID['AG_INLINE_RULE']},\n      strong.${CLASS_OR_ID['AG_INLINE_RULE']},\n      em.${CLASS_OR_ID['AG_INLINE_RULE']},\n      del.${CLASS_OR_ID['AG_INLINE_RULE']}`\n    )\n    ;[...inlineRuleElements].forEach(e => {\n      const span = document.createElement('span')\n      span.textContent = e.textContent\n      e.replaceWith(span)\n    })\n\n    const aLinks = wrapper.querySelectorAll(`.${CLASS_OR_ID['AG_A_LINK']}`)\n    ;[...aLinks].forEach(l => {\n      const span = document.createElement('span')\n      span.innerHTML = l.innerHTML\n      l.replaceWith(span)\n    })\n\n    const codefense = wrapper.querySelectorAll(`pre[data-role$='code']`)\n    ;[...codefense].forEach(cf => {\n      const id = cf.id\n      const block = this.getBlock(id)\n      const language = block.lang || ''\n      const selectedCodeLines = cf.querySelectorAll('.ag-code-line')\n      const value = [...selectedCodeLines].map(codeLine => codeLine.textContent).join('\\n')\n      cf.innerHTML = `<code class=\"language-${language}\">${value}</code>`\n    })\n\n    const htmlBlock = wrapper.querySelectorAll(`figure[data-role='HTML']`)\n    ;[...htmlBlock].forEach(hb => {\n      const selectedCodeLines = hb.querySelectorAll('span.ag-code-line')\n      const value = [...selectedCodeLines].map(codeLine => codeLine.textContent).join('\\n')\n      const pre = document.createElement('pre')\n      pre.textContent = value\n      hb.replaceWith(pre)\n    })\n\n    const mathBlock = wrapper.querySelectorAll(`figure.ag-container-block`)\n    ;[...mathBlock].forEach(mb => {\n      const preElement = mb.querySelector('pre[data-role]')\n      const functionType = preElement.getAttribute('data-role')\n      const selectedCodeLines = mb.querySelectorAll('span.ag-code-line')\n      const value = [...selectedCodeLines].map(codeLine => codeLine.textContent).join('\\n')\n      let pre\n      switch (functionType) {\n        case 'multiplemath':\n          pre = document.createElement('pre')\n          pre.classList.add('multiple-math')\n          pre.textContent = value\n          mb.replaceWith(pre)\n          break\n        case 'mermaid':\n        case 'flowchart':\n        case 'sequence':\n        case 'vega-lite':\n          pre = document.createElement('pre')\n          pre.innerHTML = `<code class=\"language-${functionType}\">${value}</code>`\n          mb.replaceWith(pre)\n          break\n      }\n    })\n\n    const htmlData = wrapper.innerHTML\n    const textData = this.htmlToMarkdown(htmlData)\n\n    return { html: htmlData, text: textData }\n  }\n\n  ContentState.prototype.copyHandler = function (event, type) {\n    event.preventDefault()\n\n    const { html, text } = this.getClipBoradData()\n\n    switch (type) {\n      case 'normal': {\n        event.clipboardData.setData('text/html', html)\n        event.clipboardData.setData('text/plain', text)\n        break\n      }\n      case 'copyAsMarkdown': {\n        event.clipboardData.setData('text/html', '')\n        event.clipboardData.setData('text/plain', text)\n        break\n      }\n      case 'copyAsHtml': {\n        event.clipboardData.setData('text/html', '')\n        event.clipboardData.setData('text/plain', getSanitizeHtml(text))\n        break\n      }\n      case 'copyTable': {\n        const table = this.getTableBlock()\n        if (!table) return\n        const markdown = new ExportMarkdown([ table ]).generate()\n        event.clipboardData.setData('text/html', '')\n        event.clipboardData.setData('text/plain', markdown)\n        break\n      }\n    }\n  }\n}\n\nexport default copyCutCtrl\n","import selection from '../selection'\nimport { PARAGRAPH_TYPES, DEFAULT_TURNDOWN_CONFIG } from '../config'\nimport ExportMarkdown from '../utils/exportMarkdown'\n\nconst LINE_BREAKS_REG = /\\n/\n\n// get header level\n//  eg: h1 => 1\n//      h2 => 2\nconst getCurrentLevel = type => {\n  if (/\\d/.test(type)) {\n    return Number(/\\d/.exec(type)[0])\n  } else {\n    return 0\n  }\n}\n\nconst paragraphCtrl = ContentState => {\n  ContentState.prototype.selectionChange = function (cursor) {\n    const { start, end } = cursor || selection.getCursorRange()\n    const cursorCoords = selection.getCursorCoords()\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParents = this.getParents(startBlock)\n    const endParents = this.getParents(endBlock)\n    const affiliation = startParents\n      .filter(p => endParents.includes(p))\n      .filter(p => PARAGRAPH_TYPES.includes(p.type))\n\n    start.type = startBlock.type\n    start.block = startBlock\n    end.type = endBlock.type\n    end.block = endBlock\n\n    return {\n      start,\n      end,\n      affiliation,\n      cursorCoords\n    }\n  }\n\n  ContentState.prototype.getCommonParent = function () {\n    const { start, end, affiliation } = this.selectionChange()\n    const parent = affiliation.length ? affiliation[0] : null\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParentKeys = this.getParents(startBlock).map(b => b.key)\n    const endParentKeys = this.getParents(endBlock).map(b => b.key)\n    const children = parent ? parent.children : this.blocks\n    let startIndex\n    let endIndex\n    for (const child of children) {\n      if (startParentKeys.includes(child.key)) {\n        startIndex = children.indexOf(child)\n      }\n      if (endParentKeys.includes(child.key)) {\n        endIndex = children.indexOf(child)\n      }\n    }\n    return { parent, startIndex, endIndex }\n  }\n\n  ContentState.prototype.handleFrontMatter = function () {\n    const firstBlock = this.blocks[0]\n    if (firstBlock.type === 'pre' && firstBlock.functionType === 'frontmatter') return\n    const frontMatter = this.createBlock('pre')\n    const codeBlock = this.createBlock('code')\n    const emptyLine = this.createBlock('span')\n    frontMatter.lang = codeBlock.lang = emptyLine.lang = 'yaml'\n    emptyLine.functionType = 'codeLine'\n    frontMatter.functionType = 'frontmatter'\n    this.appendChild(codeBlock, emptyLine)\n    this.appendChild(frontMatter, codeBlock)\n    this.insertBefore(frontMatter, firstBlock)\n    const { key } = emptyLine\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  ContentState.prototype.handleListMenu = function (paraType, insertMode) {\n    const { start, end, affiliation } = this.selectionChange()\n    const [blockType, listType] = paraType.split('-')\n    const isListed = affiliation.slice(0, 3).filter(b => /ul|ol/.test(b.type))\n    const { preferLooseListItem } = this\n\n    if (isListed.length && !insertMode) {\n      const listBlock = isListed[0]\n      if (listType === isListed[0].listType) {\n        const listItems = listBlock.children\n        listItems.forEach(listItem => {\n          listItem.children.forEach(itemParagraph => {\n            if (itemParagraph.type !== 'input') {\n              this.insertBefore(itemParagraph, listBlock)\n            }\n          })\n        })\n        this.removeBlock(listBlock)\n        return\n      }\n      // if the old list block is task list, remove checkbox\n      if (listBlock.listType === 'task') {\n        const listItems = listBlock.children\n        listItems.forEach(item => {\n          const inputBlock = item.children[0]\n          inputBlock && this.removeBlock(inputBlock)\n        })\n      }\n      listBlock.type = blockType\n      listBlock.listType = listType\n      listBlock.children.forEach(b => (b.listItemType = listType))\n\n      if (listType === 'order') {\n        listBlock.start = listBlock.start || 1\n      }\n      // if the new block is task list, add checkbox\n      if (listType === 'task') {\n        const listItems = listBlock.children\n        listItems.forEach(item => {\n          const checkbox = this.createBlock('input')\n          checkbox.checked = false\n          this.insertBefore(checkbox, item.children[0])\n        })\n      }\n    } else {\n      if (start.key === end.key || (start.block.parent && start.block.parent === end.block.parent)) {\n        const block = this.getBlock(start.key)\n        if (listType === 'task') {\n          // 1. first update the block to bullet list\n          const listItemParagraph = this.updateList(block, 'bullet')\n          // 2. second update bullet list to task list\n          setTimeout(() => {\n            this.updateTaskListItem(listItemParagraph, listType)\n            this.partialRender()\n          })\n        } else {\n          this.updateList(block, listType)\n        }\n      } else {\n        const { parent, startIndex, endIndex } = this.getCommonParent()\n        const children = parent ? parent.children : this.blocks\n        const referBlock = children[endIndex]\n        const listWrapper = this.createBlock(listType === 'order' ? 'ol' : 'ul')\n        listWrapper.listType = listType\n        if (listType === 'order') listWrapper.start = 1\n\n        children.slice(startIndex, endIndex + 1).forEach(child => {\n          if (child !== referBlock) {\n            this.removeBlock(child, children)\n          } else {\n            this.insertAfter(listWrapper, child)\n            this.removeBlock(child, children)\n          }\n          const listItem = this.createBlock('li')\n          listItem.listItemType = listType\n          listItem.isLooseListItem = preferLooseListItem\n          this.appendChild(listWrapper, listItem)\n          if (listType === 'task') {\n            const checkbox = this.createBlock('input')\n            checkbox.checked = false\n            this.appendChild(listItem, checkbox)\n          }\n          this.appendChild(listItem, child)\n        })\n      }\n    }\n  }\n\n  ContentState.prototype.handleLooseListItem = function () {\n    const { affiliation } = this.selectionChange()\n    let listContainer = []\n    if (affiliation.length >= 1 && /ul|ol/.test(affiliation[0].type)) {\n      listContainer = affiliation[0].children\n    } else if (affiliation.length >= 3 && affiliation[1].type === 'li') {\n      listContainer = affiliation[2].children\n    }\n    if (listContainer.length > 0) {\n      for (const block of listContainer) {\n        block.isLooseListItem = !block.isLooseListItem\n      }\n      this.partialRender()\n    }\n  }\n\n  ContentState.prototype.handleCodeBlockMenu = function () {\n    const { start, end, affiliation } = this.selectionChange()\n    let startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParents = this.getParents(startBlock)\n    const endParents = this.getParents(endBlock)\n    const hasFencedCodeBlockParent = () => {\n      return startParents.some(b => b.type === 'pre' && /code/.test(b.functionType)) ||\n        endParents.some(b => b.type === 'pre' && /code/.test(b.functionType))\n    }\n    // change fenced code block to p paragraph\n    if (affiliation.length && affiliation[0].type === 'pre' && /code/.test(affiliation[0].functionType)) {\n      const preBlock = affiliation[0]\n      const codeLines = preBlock.children[1].children\n      this.codeBlocks.delete(preBlock.key)\n      preBlock.type = 'p'\n      preBlock.children = []\n\n      for (const line of codeLines) {\n        delete line.lang\n        delete line.functionType\n        this.appendChild(preBlock, line)\n      }\n\n      delete preBlock.lang\n      delete preBlock.functionType\n      this.cursor = {\n        start: this.cursor.start,\n        end: this.cursor.end\n      }\n    } else {\n      if (start.key === end.key) {\n        if (startBlock.type === 'span') {\n          startBlock = this.getParent(startBlock)\n          startBlock.type = 'pre'\n          const codeBlock = this.createBlock('code')\n          const inputBlock = this.createBlock('span', '')\n          inputBlock.functionType = 'languageInput'\n          startBlock.functionType = 'fencecode'\n          startBlock.lang = codeBlock.lang = ''\n          const codeLines = startBlock.children\n          startBlock.children = []\n          codeLines.forEach(line => {\n            line.functionType = 'codeLine'\n            line.lang = ''\n            this.appendChild(codeBlock, line)\n          })\n          this.appendChild(startBlock, inputBlock)\n          this.appendChild(startBlock, codeBlock)\n        }\n\n        this.cursor = {\n          start: this.cursor.start,\n          end: this.cursor.end\n        }\n      } else if (!hasFencedCodeBlockParent()) {\n        const { parent, startIndex, endIndex } = this.getCommonParent()\n        const children = parent ? parent.children : this.blocks\n        const referBlock = children[endIndex]\n        const preBlock = this.createBlock('pre')\n        const codeBlock = this.createBlock('code')\n        preBlock.functionType = 'fencecode'\n        preBlock.lang = codeBlock.lang = ''\n        const markdown = new ExportMarkdown(children.slice(startIndex, endIndex + 1)).generate()\n\n        markdown.split(LINE_BREAKS_REG).forEach(text => {\n          const codeLine = this.createBlock('span', text)\n          codeLine.lang = ''\n          codeLine.functionType = 'codeLine'\n          this.appendChild(codeBlock, codeLine)\n        })\n        const inputBlock = this.createBlock('span', '')\n        inputBlock.functionType = 'languageInput'\n        this.appendChild(preBlock, inputBlock)\n        this.appendChild(preBlock, codeBlock)\n        this.insertAfter(preBlock, referBlock)\n        let i\n        const removeCache = []\n        for (i = startIndex; i <= endIndex; i++) {\n          const child = children[i]\n          removeCache.push(child)\n        }\n        removeCache.forEach(b => this.removeBlock(b))\n        const key = codeBlock.children[0].key\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n      }\n    }\n  }\n\n  ContentState.prototype.handleQuoteMenu = function (insertMode) {\n    const { start, end, affiliation } = this.selectionChange()\n    let startBlock = this.getBlock(start.key)\n    const isBlockQuote = affiliation.slice(0, 2).filter(b => /blockquote/.test(b.type))\n    // change blockquote to paragraph\n    if (isBlockQuote.length && !insertMode) {\n      const quoteBlock = isBlockQuote[0]\n      const children = quoteBlock.children\n      for (const child of children) {\n        this.insertBefore(child, quoteBlock)\n      }\n      this.removeBlock(quoteBlock)\n    // change paragraph to blockquote\n    } else {\n      if (start.key === end.key) {\n        if (startBlock.type === 'span') {\n          startBlock = this.getParent(startBlock)\n        }\n        const quoteBlock = this.createBlock('blockquote')\n        this.insertAfter(quoteBlock, startBlock)\n        this.removeBlock(startBlock)\n        this.appendChild(quoteBlock, startBlock)\n      } else {\n        const { parent, startIndex, endIndex } = this.getCommonParent()\n        const children = parent ? parent.children : this.blocks\n        const referBlock = children[endIndex]\n        const quoteBlock = this.createBlock('blockquote')\n\n        children.slice(startIndex, endIndex + 1).forEach(child => {\n          if (child !== referBlock) {\n            this.removeBlock(child, children)\n          } else {\n            this.insertAfter(quoteBlock, child)\n            this.removeBlock(child, children)\n          }\n          this.appendChild(quoteBlock, child)\n        })\n      }\n    }\n  }\n\n  ContentState.prototype.insertContainerBlock = function (functionType, value = '') {\n    const { start, end } = selection.getCursorRange()\n    if (start.key !== end.key) return\n    let block = this.getBlock(start.key)\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const mathBlock = this.createContainerBlock(functionType, value)\n    this.insertAfter(mathBlock, block)\n    if (block.type === 'p' && block.children.length === 1 && !block.children[0].text) {\n      this.removeBlock(block)\n    }\n    const cursorBlock = mathBlock.children[0].children[0].children[0]\n    const { key } = cursorBlock\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  ContentState.prototype.showTablePicker = function () {\n    const { eventCenter } = this.muya\n    const reference = this.getPositionReference()\n\n    const handler = (rows, columns) => {\n      this.createTable({ rows: rows + 1, columns: columns + 1 })\n    }\n    eventCenter.dispatch('muya-table-picker', { row: -1, column: -1 }, reference, handler.bind(this))\n  }\n\n  ContentState.prototype.insertHtmlBlock = function (block) {\n    const parentBlock = this.getParent(block)\n    block.text = '<div>'\n    const preBlock = this.initHtmlBlock(parentBlock, 'div')\n    const key = preBlock.children[0].children[1].key\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  ContentState.prototype.updateParagraph = function (paraType, insertMode = false) {\n    const { start, end } = this.cursor\n    const block = this.getBlock(start.key)\n    const { type, text } = block\n\n    switch (paraType) {\n      case 'front-matter': {\n        this.handleFrontMatter()\n        break\n      }\n      case 'ul-bullet':\n      case 'ul-task':\n      case 'ol-order': {\n        this.handleListMenu(paraType, insertMode)\n        break\n      }\n      case 'loose-list-item': {\n        this.handleLooseListItem()\n        break\n      }\n      case 'pre': {\n        this.handleCodeBlockMenu()\n        break\n      }\n      case 'blockquote': {\n        this.handleQuoteMenu(insertMode)\n        break\n      }\n      case 'mathblock': {\n        this.insertContainerBlock('multiplemath')\n        break\n      }\n      case 'table': {\n        this.showTablePicker()\n        break\n      }\n      case 'html': {\n        this.insertHtmlBlock(block)\n        break\n      }\n      case 'flowchart':\n      case 'sequence':\n      case 'mermaid':\n      case 'vega-lite':\n        this.insertContainerBlock(paraType)\n        break\n      case 'heading 1':\n      case 'heading 2':\n      case 'heading 3':\n      case 'heading 4':\n      case 'heading 5':\n      case 'heading 6':\n      case 'upgrade heading':\n      case 'degrade heading':\n      case 'paragraph': {\n        if (start.key !== end.key) return\n        const [, hash, partText] = /(^#*)(.*)/.exec(text)\n        let newLevel = 0 // 1, 2, 3, 4, 5, 6\n        let newType = 'p'\n        let key\n        if (/\\d/.test(paraType)) {\n          newLevel = Number(paraType.split(/\\s/)[1])\n          newType = `h${newLevel}`\n        } else if (paraType === 'upgrade heading' || paraType === 'degrade heading') {\n          const currentLevel = getCurrentLevel(type)\n          newLevel = currentLevel\n          if (paraType === 'upgrade heading' && currentLevel !== 1) {\n            if (currentLevel === 0) newLevel = 6\n            else newLevel = currentLevel - 1\n          } else if (paraType === 'degrade heading' && currentLevel !== 0) {\n            if (currentLevel === 6) newLevel = 0\n            else newLevel = currentLevel + 1\n          }\n          newType = newLevel === 0 ? 'p' : `h${newLevel}`\n        }\n\n        const startOffset = start.offset + newLevel - hash.length + 1\n        const endOffset = end.offset + newLevel - hash.length + 1\n        const newText = '#'.repeat(newLevel) + `${String.fromCharCode(160)}${partText}` // &nbsp; code: 160\n\n        if (block.type === 'span' && newType !== 'p') {\n          const header = this.createBlock(newType, newText)\n          header.headingStyle = DEFAULT_TURNDOWN_CONFIG.headingStyle\n          key = header.key\n          const parent = this.getParent(block)\n          if (this.isOnlyChild(block)) {\n            this.insertBefore(header, parent)\n            this.removeBlock(parent)\n          } else if (this.isFirstChild(block)) {\n            this.insertBefore(header, parent)\n            this.removeBlock(block)\n          } else if (this.isLastChild(block)) {\n            this.insertAfter(header, parent)\n            this.removeBlock(block)\n          } else {\n            const pBlock = this.createBlock('p')\n            let nextSibling = this.getNextSibling(block)\n            while (nextSibling) {\n              this.appendChild(pBlock, nextSibling)\n              const oldNextSibling = nextSibling\n              nextSibling = this.getNextSibling(nextSibling)\n              this.removeBlock(oldNextSibling)\n            }\n            this.removeBlock(block)\n            this.insertAfter(header, parent)\n            this.insertAfter(pBlock, header)\n          }\n        } else if (/^h/.test(block.type) && newType === 'p') {\n          const pBlock = this.createBlockP(newText)\n          key = pBlock.children[0].key\n          this.insertAfter(pBlock, block)\n          this.removeBlock(block)\n        } else {\n          const newHeader = this.createBlock(newType, newText)\n          newHeader.headingStyle = DEFAULT_TURNDOWN_CONFIG.headingStyle\n          key = newHeader.key\n          this.insertAfter(newHeader, block)\n          this.removeBlock(block)\n        }\n        this.cursor = {\n          start: { key, offset: startOffset },\n          end: { key, offset: endOffset }\n        }\n        break\n      }\n      case 'hr': {\n        const pBlock = this.createBlockP()\n        const archor = block.type === 'span' ? this.getParent(block) : block\n        const hrBlock = this.createBlock('hr')\n        hrBlock.text = '---'\n        this.insertAfter(hrBlock, archor)\n        this.insertAfter(pBlock, hrBlock)\n        if (!text) {\n          if (block.type === 'span' && this.isOnlyChild(block)) {\n            this.removeBlock(archor)\n          } else {\n            this.removeBlock(block)\n          }\n        }\n        const { key } = pBlock.children[0]\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        break\n      }\n    }\n    if (paraType === 'front-matter') {\n      this.render()\n    } else {\n      this.partialRender()\n    }\n    // update menu status\n    const selectionChanges = this.selectionChange()\n    this.muya.eventCenter.dispatch('selectionChange', selectionChanges)\n  }\n\n  ContentState.prototype.insertParagraph = function (location, text = '') {\n    const { start, end } = this.cursor\n    // if cursor is not in one line or paragraph, can not insert paragraph\n    if (start.key !== end.key) return\n    let block = this.getBlock(start.key)\n    if (block.type === 'span' && !block.functionType) {\n      block = this.getParent(block)\n    } else if (block.type === 'span' && block.functionType === 'codeLine') {\n      const preBlock = this.getParent(this.getParent(block))\n      switch (preBlock.functionType) {\n        case 'fencecode':\n        case 'indentcode':\n        case 'frontmatter': {\n          // You can not insert paragraph before frontmatter\n          if (preBlock.functionType === 'frontmatter' && location === 'before') {\n            return\n          }\n          block = preBlock\n          break\n        }\n        case 'html': {\n          block = this.getParent(this.getParent(preBlock))\n          break\n        }\n        case 'multiplemath': {\n          block = this.getParent(preBlock)\n          break\n        }\n      }\n    } else if (/th|td/.test(block.type)) {\n      // get figure block from table cell\n      block = this.getParent(this.getParent(this.getParent(this.getParent(block))))\n    }\n    const newBlock = this.createBlockP(text)\n    if (location === 'before') {\n      this.insertBefore(newBlock, block)\n    } else {\n      this.insertAfter(newBlock, block)\n    }\n    const { key } = newBlock.children[0]\n    const offset = text.length\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n  }\n}\n\nexport default paragraphCtrl\n","import selection from '../selection'\nimport { HTML_TAGS, VOID_HTML_TAGS } from '../config'\n\n/**\n * parseSelector\n * div#id.className => {tag: 'div', id: 'id', className: 'className', isVoid: false}\n */\n\nconst parseSelector = str => {\n  const REG_EXP = /(#|\\.)([^#.]+)/\n  let tag = ''\n  let id = ''\n  let className = ''\n  let isVoid = false\n  let cap\n  for (const tagName of HTML_TAGS) {\n    if (str.startsWith(tagName) && (!str[tagName.length] || /#|\\./.test(str[tagName.length]))) {\n      tag = tagName\n      if (VOID_HTML_TAGS.indexOf(tagName) > -1) isVoid = true\n      str = str.substring(tagName.length)\n    }\n  }\n  if (tag !== '') {\n    cap = REG_EXP.exec(str)\n    while (cap && str.length) {\n      if (cap[1] === '#') {\n        id = cap[2]\n      } else {\n        className = cap[2]\n      }\n      str = str.substring(cap[0].length)\n      cap = REG_EXP.exec(str)\n    }\n  }\n  return { tag, id, className, isVoid }\n}\n\nconst tabCtrl = ContentState => {\n  ContentState.prototype.findNextCell = function (block) {\n    if (!(/td|th/.test(block.type))) throw new Error('only th and td can have next cell')\n    const nextSibling = this.getBlock(block.nextSibling)\n    const parent = this.getBlock(block.parent)\n    const tbOrTh = this.getBlock(parent.parent)\n    if (nextSibling) {\n      return nextSibling\n    } else {\n      if (parent.nextSibling) {\n        const nextRow = this.getBlock(parent.nextSibling)\n        return nextRow.children[0]\n      } else if (tbOrTh.type === 'thead') {\n        const tBody = this.getBlock(tbOrTh.nextSibling)\n        if (tBody.children.length) {\n          return tBody.children[0].children[0]\n        }\n      }\n    }\n    return false\n  }\n\n  ContentState.prototype.isUnindentableListItem = function (block) {\n    const parent = this.getParent(block)\n    const listItem = this.getParent(parent)\n    const list = this.getParent(listItem)\n    const listParent = this.getParent(list)\n    if (!this.isCollapse()) return false\n    if (listParent && listParent.type === 'li') {\n      return !list.preSibling ? 'REPLACEMENT' : 'INDENT'\n    }\n    return false\n  }\n\n  ContentState.prototype.isIndentableListItem = function () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const parent = this.getParent(startBlock)\n    if (parent.type !== 'p' || !parent.parent) {\n      return false\n    }\n\n    const listItem = this.getParent(parent)\n    if (listItem.type !== 'li' || start.key !== end.key || start.offset !== end.offset) {\n      return false\n    }\n\n    // Now we know it's a list item. Check whether we can indent the list item.\n    const list = this.getParent(listItem)\n    return list && /ol|ul/.test(list.type) && listItem.preSibling\n  }\n\n  ContentState.prototype.unindentListItem = function (block, type) {\n    const pBlock = this.getParent(block)\n    const listItem = this.getParent(pBlock)\n    const list = this.getParent(listItem)\n    const listParent = this.getParent(list)\n    if (type === 'REPLACEMENT') {\n      this.insertBefore(pBlock, list)\n      if (this.isOnlyChild(listItem)) {\n        this.removeBlock(list)\n      } else {\n        this.removeBlock(listItem)\n      }\n    } else if (type === 'INDENT') {\n      if (list.children.length === 1) {\n        this.removeBlock(list)\n      } else {\n        const newList = this.createBlock(list.type)\n        let target = this.getNextSibling(listItem)\n        while (target) {\n          this.appendChild(newList, target)\n          let temp = target\n          target = this.getNextSibling(target)\n          this.removeBlock(temp, list)\n        }\n\n        if (newList.children.length) this.appendChild(listItem, newList)\n        this.removeBlock(listItem, list)\n        if (!list.children.length) {\n          this.removeBlock(list)\n        }\n      }\n      this.insertAfter(listItem, listParent)\n      let target = this.getNextSibling(list)\n      while (target) {\n        this.appendChild(listItem, target)\n        this.removeBlock(target, listParent)\n        target = this.getNextSibling(target)\n      }\n    }\n\n    return this.partialRender()\n  }\n\n  ContentState.prototype.indentListItem = function () {\n    const { start } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const parent = this.getParent(startBlock)\n    const listItem = this.getParent(parent)\n    const list = this.getParent(listItem)\n    const prevListItem = this.getPreSibling(listItem)\n\n    this.removeBlock(listItem)\n\n    // Search for a list in previous block\n    let newList = this.getLastChild(prevListItem)\n    if (!newList || !/ol|ul/.test(newList.type)) {\n      newList = this.createBlock(list.type)\n      this.appendChild(prevListItem, newList)\n    }\n\n    // Update item type only if we insert into an existing list\n    if (newList.children.length !== 0) {\n      listItem.isLooseListItem = newList.children[0].isLooseListItem\n    }\n\n    this.appendChild(newList, listItem)\n    return this.partialRender()\n  }\n\n  ContentState.prototype.insertTab = function () {\n    const tabSize = this.tabSize\n    const tabCharacter = String.fromCharCode(160).repeat(tabSize)\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    if (start.key === end.key && start.offset === end.offset) {\n      startBlock.text = startBlock.text.substring(0, start.offset) +\n        tabCharacter + endBlock.text.substring(end.offset)\n      const key = start.key\n      const offset = start.offset + tabCharacter.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n  }\n\n  ContentState.prototype.tabHandler = function (event) {\n    // disable tab focus\n    event.preventDefault()\n\n    const { start, end } = selection.getCursorRange()\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n\n    if (event.shiftKey) {\n      const unindentType = this.isUnindentableListItem(startBlock)\n      if (unindentType) {\n        this.unindentListItem(startBlock, unindentType)\n      }\n      return\n    }\n\n    if (\n      start.key === end.key &&\n      start.offset === end.offset &&\n      startBlock.type === 'span' &&\n      startBlock.functionType === 'codeLine' &&\n      startBlock.lang === 'markup'\n    ) {\n      const { text } = startBlock\n      const lastWord = text.split(/\\s+/).pop()\n      const preText = text.substring(0, text.length - lastWord.length)\n      if (lastWord !== '') {\n        const { tag, isVoid, id, className } = parseSelector(lastWord)\n        if (!tag) return\n        let html = `<${tag}`\n        const key = startBlock.key\n        let startOffset = 0\n        let endOffset = 0\n        switch (tag) {\n          case 'img':\n            html += ` alt=\"\" src=\"\"`\n            startOffset = endOffset = html.length - 1\n            break\n          case 'input':\n            html += ` type=\"text\"`\n            startOffset = html.length - 5\n            endOffset = html.length - 1\n            break\n          case 'a':\n            html += ` href=\"\"`\n            startOffset = endOffset = html.length - 1\n            break\n          case 'link':\n            html += ` rel=\"stylesheet\" href=\"\"`\n            startOffset = endOffset = html.length - 1\n            break\n        }\n        if (id) {\n          html += ` id=\"${id}\"`\n        }\n        if (className) {\n          html += ` class=\"${className}\"`\n        }\n        html += '>'\n        if (startOffset === 0 && endOffset === 0) {\n          startOffset = endOffset = html.length\n        }\n        if (!isVoid) {\n          html += `</${tag}>`\n        }\n        startBlock.text = preText + html\n        this.cursor = {\n          start: { key, offset: startOffset + preText.length },\n          end: { key, offset: endOffset + preText.length }\n        }\n        return this.partialRender()\n      }\n    }\n\n    let nextCell\n    if (start.key === end.key && /th|td/.test(startBlock.type)) {\n      nextCell = this.findNextCell(startBlock)\n    } else if (/th|td/.test(endBlock.type)) {\n      nextCell = endBlock\n    }\n    if (nextCell) {\n      const key = nextCell.key\n      const textLength = nextCell.text.length\n      this.cursor = {\n        start: { key, offset: 0 },\n        end: { key, offset: textLength }\n      }\n\n      return this.partialRender()\n    }\n\n    if (this.isIndentableListItem()) {\n      return this.indentListItem()\n    }\n    return this.insertTab()\n  }\n}\n\nexport default tabCtrl\n","import selection from '../selection'\nimport { tokenizer, generator } from '../parser/parse'\nimport { FORMAT_MARKER_MAP, FORMAT_TYPES } from '../config'\n\nconst getOffset = (offset, { range: { start, end }, type, anchor, alt }) => {\n  const dis = offset - start\n  const len = end - start\n  switch (type) {\n    case 'strong':\n    case 'del':\n    case 'em':\n    case 'inline_code': {\n      const MARKER_LEN = (type === 'strong' || type === 'del') ? 2 : 1\n      if (dis < 0) return 0\n      if (dis >= 0 && dis < MARKER_LEN) return -dis\n      if (dis >= MARKER_LEN && dis <= len - MARKER_LEN) return -MARKER_LEN\n      if (dis > len - MARKER_LEN && dis <= len) return len - dis - 2 * MARKER_LEN\n      if (dis > len) return -2 * MARKER_LEN\n      break\n    }\n    case 'link': {\n      const MARKER_LEN = 1\n      if (dis < MARKER_LEN) return 0\n      if (dis >= MARKER_LEN && dis <= MARKER_LEN + anchor.length) return -1\n      if (dis > MARKER_LEN + anchor.length) return anchor.length - dis\n      break\n    }\n    case 'image': {\n      const MARKER_LEN = 1\n      if (dis < MARKER_LEN) return 0\n      if (dis >= MARKER_LEN && dis < MARKER_LEN * 2) return -1\n      if (dis >= MARKER_LEN * 2 && dis <= MARKER_LEN * 2 + alt.length) return -2\n      if (dis > MARKER_LEN * 2 + alt.length) return alt.length - dis\n      break\n    }\n  }\n}\n\nconst clearFormat = (token, { start, end }) => {\n  if (start) {\n    const deltaStart = getOffset(start.offset, token)\n    start.delata += deltaStart\n  }\n  if (end) {\n    const delataEnd = getOffset(end.offset, token)\n    end.delata += delataEnd\n  }\n  switch (token.type) {\n    case 'strong':\n    case 'del':\n    case 'em':\n    case 'link':\n      const { parent } = token\n      const index = parent.indexOf(token)\n      parent.splice(index, 1, ...token.children)\n      break\n    case 'image':\n      token.type = 'text'\n      token.raw = token.alt\n      delete token.marker\n      delete token.src\n      break\n    case 'inline_code':\n      token.type = 'text'\n      token.raw = token.content\n      delete token.marker\n      break\n  }\n}\n\nconst addFormat = (type, block, { start, end }) => {\n  if (block.type === 'pre') return false\n  switch (type) {\n    case 'em':\n    case 'del':\n    case 'inline_code':\n    case 'strong': {\n      const MARKER = FORMAT_MARKER_MAP[type]\n      const oldText = block.text\n      block.text = oldText.substring(0, start.offset) +\n        MARKER + oldText.substring(start.offset, end.offset) +\n        MARKER + oldText.substring(end.offset)\n      start.offset += MARKER.length\n      end.offset += MARKER.length\n      break\n    }\n    case 'link':\n    case 'image': {\n      const oldText = block.text\n      block.text = oldText.substring(0, start.offset) +\n        (type === 'link' ? '[' : '![') +\n        oldText.substring(start.offset, end.offset) + ']()' +\n        oldText.substring(end.offset)\n      start.offset += type === 'link' ? 1 : 2\n      end.offset += type === 'link' ? 1 : 2\n      break\n    }\n  }\n}\n\nconst formatCtrl = ContentState => {\n  ContentState.prototype.selectionFormats = function ({ start, end } = selection.getCursorRange()) {\n    const startBlock = this.getBlock(start.key)\n    const formats = []\n    const neighbors = []\n    let tokens = []\n    if (start.key === end.key) {\n      const { text } = startBlock\n      tokens = tokenizer(text)\n      ;(function iterator (tks) {\n        for (const token of tks) {\n          if (\n            FORMAT_TYPES.includes(token.type) &&\n            start.offset >= token.range.start &&\n            end.offset <= token.range.end\n          ) {\n            formats.push(token)\n          }\n          if (\n            FORMAT_TYPES.includes(token.type) &&\n            ((start.offset >= token.range.start && start.offset <= token.range.end) ||\n            (end.offset >= token.range.start && end.offset <= token.range.end) ||\n            (start.offset <= token.range.start && token.range.end <= end.offset))\n          ) {\n            neighbors.push(token)\n          }\n          if (token.children && token.children.length) {\n            iterator(token.children)\n          }\n        }\n      })(tokens)\n    }\n\n    return { formats, tokens, neighbors }\n  }\n\n  ContentState.prototype.clearBlockFormat = function (block, { start, end } = selection.getCursorRange(), type) {\n    if (block.type === 'pre') return false\n    const { key } = block\n    let tokens\n    let neighbors\n    if (start.key === end.key && start.key === key) {\n      ({ tokens, neighbors } = this.selectionFormats({ start, end }))\n    } else if (start.key !== end.key && start.key === key) {\n      ({ tokens, neighbors } = this.selectionFormats({ start, end: { key: start.key, offset: block.text.length } }))\n    } else if (start.key !== end.key && end.key === key) {\n      ({ tokens, neighbors } = this.selectionFormats({\n        start: {\n          key: end.key,\n          offset: 0\n        },\n        end\n      }))\n    } else {\n      ({ tokens, neighbors } = this.selectionFormats({\n        start: {\n          key,\n          offset: 0\n        },\n        end: {\n          key,\n          offset: block.text.length\n        }\n      }))\n    }\n\n    neighbors = type ? neighbors.filter(n => n.type === type) : neighbors\n\n    for (const neighbor of neighbors) {\n      clearFormat(neighbor, { start, end })\n    }\n    start.offset += start.delata\n    end.offset += end.delata\n    block.text = generator(tokens)\n  }\n\n  ContentState.prototype.insertImage = function (url) {\n    const title = /\\/?([^./]+)\\.[a-z]+$/.exec(url)[1] || ''\n    const { start, end } = this.cursor\n    const { formats } = this.selectionFormats({ start, end })\n    const { key, offset: startOffset } = start\n    const { offset: endOffset } = end\n    const block = this.getBlock(key)\n    const { text } = block\n    const imageFormat = formats.filter(f => f.type === 'image')\n\n    if (imageFormat.length === 1) {\n      // replace pre image\n      const { start, end } = imageFormat[0].range\n      block.text = text.substring(0, start) +\n        `![${title}](${url})` +\n        text.substring(end)\n\n      this.cursor = {\n        start: { key, offset: start + 2 },\n        end: { key, offset: start + 2 + title.length }\n      }\n    } else if (key !== end.key) {\n      const endBlock = this.getBlock(end.key)\n      const { text } = endBlock\n      endBlock.text = text.substring(0, endOffset) + `![${title}](${url})` + text.substring(endOffset)\n      const offset = endOffset + 2\n      this.cursor = {\n        start: { key: end.key, offset },\n        end: { key: end.key, offset: offset + title.length }\n      }\n    } else {\n      const imageTitle = startOffset !== endOffset ? text.substring(startOffset, endOffset) : title\n      block.text = text.substring(0, start.offset) +\n        `![${imageTitle}](${url})` +\n        text.substring(end.offset)\n\n      this.cursor = {\n        start: {\n          key,\n          offset: startOffset + 2\n        },\n        end: {\n          key,\n          offset: startOffset + 2 + imageTitle.length\n        }\n      }\n    }\n    this.partialRender()\n  }\n\n  ContentState.prototype.format = function (type) {\n    const { start, end } = selection.getCursorRange()\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    start.delata = end.delata = 0\n    if (start.key === end.key) {\n      const { formats, tokens, neighbors } = this.selectionFormats()\n      const currentFormats = formats.filter(format => format.type === type).reverse()\n      const currentNeightbors = neighbors.filter(format => format.type === type).reverse()\n      // cache delata\n      if (type === 'clear') {\n        for (const neighbor of neighbors) {\n          clearFormat(neighbor, { start, end })\n        }\n        start.offset += start.delata\n        end.offset += end.delata\n        startBlock.text = generator(tokens)\n      } else if (currentFormats.length) {\n        for (const token of currentFormats) {\n          clearFormat(token, { start, end })\n        }\n        start.offset += start.delata\n        end.offset += end.delata\n        startBlock.text = generator(tokens)\n      } else {\n        if (currentNeightbors.length) {\n          for (const neighbor of currentNeightbors) {\n            clearFormat(neighbor, { start, end })\n          }\n        }\n        start.offset += start.delata\n        end.offset += end.delata\n        startBlock.text = generator(tokens)\n        addFormat(type, startBlock, { start, end })\n      }\n      this.cursor = { start, end }\n      this.partialRender()\n    } else {\n      let nextBlock = startBlock\n      const formatType = type !== 'clear' ? type : undefined\n      while (nextBlock && nextBlock !== endBlock) {\n        this.clearBlockFormat(nextBlock, { start, end }, formatType)\n        nextBlock = this.findNextBlockInLocation(nextBlock)\n      }\n      this.clearBlockFormat(endBlock, { start, end }, formatType)\n\n      if (type !== 'clear') {\n        addFormat(type, startBlock, {\n          start,\n          end: { offset: startBlock.text.length }\n        })\n        nextBlock = this.findNextBlockInLocation(startBlock)\n        while (nextBlock && nextBlock !== endBlock) {\n          addFormat(type, nextBlock, {\n            start: { offset: 0 },\n            end: { offset: nextBlock.text.length }\n          })\n          nextBlock = this.findNextBlockInLocation(nextBlock)\n        }\n        addFormat(type, endBlock, {\n          start: { offset: 0 },\n          end\n        })\n      }\n\n      this.cursor = { start, end }\n      this.partialRender()\n    }\n  }\n}\n\nexport default formatCtrl\n","const defaultSearchOption = {\n  caseSensitive: false,\n  selectHighlight: false,\n  highlightIndex: -1\n}\n\nconst searchCtrl = ContentState => {\n  ContentState.prototype.replaceOne = function (match, value) {\n    const {\n      start,\n      end,\n      key\n    } = match\n    const block = this.getBlock(key)\n    const {\n      text\n    } = block\n\n    block.text = text.substring(0, start) + value + text.substring(end)\n  }\n\n  ContentState.prototype.replace = function (replaceValue, opt = { isSingle: true }) {\n    const { isSingle, caseSensitive } = opt\n    const { matches, value, index } = this.searchMatches\n    if (matches.length) {\n      if (isSingle) {\n        this.replaceOne(matches[index], replaceValue)\n      } else {\n        // replace all\n        for (const match of matches) {\n          this.replaceOne(match, replaceValue)\n        }\n      }\n      const highlightIndex = index < matches.length - 1 ? index : index - 1\n      this.search(value, { caseSensitive, highlightIndex: isSingle ? highlightIndex : -1 })\n    }\n  }\n\n  ContentState.prototype.setCursorToHighlight = function () {\n    const { matches, index } = this.searchMatches\n    const match = matches[index]\n\n    if (!match) return\n    const { key, start, end } = match\n\n    this.cursor = {\n      noHistory: true,\n      start: {\n        key,\n        offset: start\n      },\n      end: {\n        key,\n        offset: end\n      }\n    }\n  }\n\n  ContentState.prototype.find = function (action/* prev next */) {\n    let { matches, index } = this.searchMatches\n    const len = matches.length\n    if (!len) return\n    index = action === 'next' ? index + 1 : index - 1\n    if (index < 0) index = len - 1\n    if (index >= len) index = 0\n    this.searchMatches.index = index\n\n    this.setCursorToHighlight()\n  }\n\n  ContentState.prototype.search = function (value, opt = {}) {\n    value = value.trim()\n    let matches = []\n    const { caseSensitive, highlightIndex } = Object.assign(defaultSearchOption, opt)\n    const { blocks } = this\n    const search = blocks => {\n      for (const block of blocks) {\n        let { text, key } = block\n        if (!caseSensitive) {\n          text = text.toLowerCase()\n          value = value.toLowerCase()\n        }\n        if (text) {\n          let i = text.indexOf(value)\n          while (i > -1) {\n            matches.push({\n              key,\n              start: i,\n              end: i + value.length\n            })\n            i = text.indexOf(value, i + value.length)\n          }\n        }\n        if (block.children.length) {\n          search(block.children)\n        }\n      }\n    }\n    if (value) search(blocks)\n    let index = -1\n    if (highlightIndex !== -1) {\n      index = highlightIndex // If set the highlight index, then highlight the highlighIndex\n    } else if (matches.length) {\n      index = 0 // highlight the first word that matches.\n    }\n    Object.assign(this.searchMatches, { value, matches, index })\n    if (value) this.setCursorToHighlight()\n    return matches\n  }\n}\n\nexport default searchCtrl\n","const LINE_BREAKS_REG = /\\n/\nconst FUNCTION_TYPE_LANG = {\n  'multiplemath': 'latex',\n  'flowchart': 'yaml',\n  'mermaid': 'yaml',\n  'sequence': 'yaml',\n  'vega-lite': 'yaml'\n}\n\nconst containerCtrl = ContentState => {\n  ContentState.prototype.createContainerBlock = function (functionType, value = '') {\n    const figureBlock = this.createBlock('figure')\n    figureBlock.functionType = functionType\n    const { preBlock, preview } = this.createPreAndPreview(functionType, value)\n    this.appendChild(figureBlock, preBlock)\n    this.appendChild(figureBlock, preview)\n    this.codeBlocks.set(preBlock.key, value)\n    return figureBlock\n  }\n\n  ContentState.prototype.createPreAndPreview = function (functionType, value = '') {\n    const preBlock = this.createBlock('pre')\n    const codeBlock = this.createBlock('code')\n    preBlock.functionType = functionType\n    preBlock.lang = codeBlock.lang = FUNCTION_TYPE_LANG[functionType]\n    this.appendChild(preBlock, codeBlock)\n\n    if (typeof value === 'string' && value) {\n      value.replace(/^\\s+/, '').split(LINE_BREAKS_REG).forEach(line => {\n        const codeLine = this.createBlock('span', line)\n        codeLine.functionType = 'codeLine'\n        codeLine.lang = FUNCTION_TYPE_LANG[functionType]\n        this.appendChild(codeBlock, codeLine)\n      })\n    } else {\n      const emptyLine = this.createBlock('span')\n      emptyLine.functionType = 'codeLine'\n      emptyLine.lang = FUNCTION_TYPE_LANG[functionType]\n      this.appendChild(codeBlock, emptyLine)\n    }\n\n    const preview = this.createBlock('div', '', false)\n    this.codeBlocks.set(preBlock.key, '')\n    preview.functionType = functionType\n\n    return { preBlock, preview }\n  }\n\n  ContentState.prototype.initContainerBlock = function (functionType, block) { // p block\n    block.type = 'figure'\n    block.functionType = functionType\n    block.children = []\n\n    const { preBlock, preview } = this.createPreAndPreview(functionType)\n\n    this.appendChild(block, preBlock)\n    this.appendChild(block, preview)\n    return preBlock.children[0].children[0]\n  }\n\n  ContentState.prototype.handleContainerBlockClick = function (figure) {\n    const { id } = figure\n    const mathBlock = this.getBlock(id)\n    const preBlock = mathBlock.children[0]\n    const firstLine = preBlock.children[0].children[0]\n\n    const { key } = firstLine\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n  }\n\n  ContentState.prototype.updateMathBlock = function (block) {\n    const { type } = block\n    if (type !== 'p') return false\n    const { text } = block.children[0]\n    const functionType = 'multiplemath'\n    return text.trim() === '$$' ? this.initContainerBlock(functionType, block) : false\n  }\n}\n\nexport default containerCtrl\n","import selection from '../selection'\nimport { findNearestParagraph } from '../selection/dom'\nimport { CLASS_OR_ID } from '../config'\nimport { getParagraphReference } from '../utils'\n\nconst imagePathCtrl = ContentState => {\n  ContentState.prototype.getImageTextNode = function () {\n    const node = selection.getSelectionStart()\n    const getNode = node => {\n      const parentNode = node && node.parentNode\n      if (node && node.classList && node.classList.contains(CLASS_OR_ID['AG_IMAGE_MARKED_TEXT'])) {\n        return node\n      } else if (parentNode) {\n        return getNode(parentNode)\n      }\n      return null\n    }\n\n    return getNode(node)\n  }\n\n  ContentState.prototype.showAutoImagePath = function (list) {\n    const { eventCenter } = this.muya\n    const node = this.getImageTextNode()\n\n    if (!node) {\n      return eventCenter.dispatch('muya-image-picker', { list: [] })\n    }\n\n    const cb = item => {\n      const { text } = item\n      const { start: { key, offset } } = this.cursor\n      const block = this.getBlock(key)\n      const { text: oldText } = block\n      let chop = ''\n      block.text = oldText.substring(0, offset).replace(/(\\/)([^/]+)$/, (m, p1, p2) => {\n        chop = p2\n        return p1\n      }) + text + oldText.substring(offset)\n      this.cursor = {\n        start: { key, offset: offset + (text.length - chop.length) },\n        end: { key, offset: offset + (text.length - chop.length) }\n      }\n      this.partialRender()\n    }\n    const paragraph = findNearestParagraph(node)\n    const reference = getParagraphReference(node, paragraph.id)\n\n    eventCenter.dispatch('muya-image-picker', { reference, list, cb })\n  }\n\n  ContentState.prototype.listenForPathChange = function () {\n    const { eventCenter } = this.muya\n\n    eventCenter.subscribe('image-path', src => {\n      const node = this.getImageTextNode()\n\n      if (!node) {\n        return eventCenter.dispatch('muya-image-picker', { list: [] })\n      }\n      if (src === '') {\n        const cb = item => {\n          const type = item.text === 'Absolute Path' ? 'absolute' : (item.text === 'Upload Image' ? 'upload' : 'relative')\n          eventCenter.dispatch('insert-image', type)\n        }\n\n        const list = [{\n          text: 'Absolute Path',\n          iconClass: 'icon-folder'\n        }, {\n          text: 'Relative Path',\n          iconClass: 'icon-folder'\n        }, {\n          text: 'Upload Image',\n          iconClass: 'icon-upload'\n        }]\n\n        const paragraph = findNearestParagraph(node)\n        const reference = getParagraphReference(node, paragraph.id)\n        eventCenter.dispatch('muya-image-picker', {\n          reference,\n          list,\n          cb\n        })\n      } else if (src && typeof src === 'string' && src.length) {\n        eventCenter.dispatch('muya-image-picker', {\n          list: []\n        })\n        eventCenter.dispatch('image-path-autocomplement', src)\n      }\n    })\n  }\n}\n\nexport default imagePathCtrl\n","import { VOID_HTML_TAGS, HTML_TAGS, HTML_TOOLS } from '../config'\n\nconst HTML_BLOCK_REG = /^<([a-zA-Z\\d-]+)(?=\\s|>)[^<>]*?>$/\nconst LINE_BREAKS = /\\n/\n\nconst htmlBlock = ContentState => {\n  ContentState.prototype.createToolBar = function (tools, toolBarType) {\n    const toolBar = this.createBlock('div', '', false)\n    toolBar.toolBarType = toolBarType\n    const ul = this.createBlock('ul')\n\n    tools.forEach(tool => {\n      const toolBlock = this.createBlock('li')\n      const svgBlock = this.createBlock('svg')\n      svgBlock.icon = tool.icon\n      toolBlock.label = tool.label\n      toolBlock.title = tool.title\n      this.appendChild(toolBlock, svgBlock)\n      this.appendChild(ul, toolBlock)\n    })\n    this.appendChild(toolBar, ul)\n    return toolBar\n  }\n\n  ContentState.prototype.createCodeInHtml = function (code) {\n    const codeContainer = this.createBlock('div')\n    codeContainer.functionType = 'html'\n    const preview = this.createBlock('div', '', false)\n    preview.functionType = 'preview'\n    const preBlock = this.createBlock('pre')\n    const codeBlock = this.createBlock('code')\n    code.split(LINE_BREAKS).forEach(line => {\n      const codeLine = this.createBlock('span', line)\n      codeLine.functionType = 'codeLine'\n      codeLine.lang = 'markup'\n      this.appendChild(codeBlock, codeLine)\n    })\n    this.codeBlocks.set(preBlock.key, code)\n    preBlock.lang = 'markup'\n    codeBlock.lang = 'markup'\n    preBlock.functionType = 'html'\n    this.codeBlocks.set(preBlock.key, code)\n    this.appendChild(preBlock, codeBlock)\n    this.appendChild(codeContainer, preBlock)\n    this.appendChild(codeContainer, preview)\n    return codeContainer\n  }\n\n  ContentState.prototype.htmlToolBarClick = function (type) {\n    const { start: { key } } = this.cursor\n    const codeLine = this.getBlock(key)\n    const codeBlock = this.getParent(codeLine)\n    const preBlock = this.getParent(codeBlock)\n    const codeBlockContainer = this.getParent(preBlock)\n    const htmlBlock = this.getParent(codeBlockContainer)\n\n    switch (type) {\n      case 'delete':\n        htmlBlock.type = 'p'\n        htmlBlock.text = ''\n        htmlBlock.children = []\n        const emptyLine = this.createBlock('span')\n        this.appendChild(htmlBlock, emptyLine)\n        const key = emptyLine.key\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.partialRender()\n        break\n    }\n  }\n\n  ContentState.prototype.handleHtmlBlockClick = function (codeWrapper) {\n    const id = codeWrapper.id\n    const codeBlock = this.getBlock(id).children[0]\n    const key = codeBlock.key\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n  }\n\n  ContentState.prototype.createHtmlBlock = function (code) {\n    const block = this.createBlock('figure')\n    block.functionType = 'html'\n    const toolBar = this.createToolBar(HTML_TOOLS, 'html')\n    const htmlBlock = this.createCodeInHtml(code)\n    this.appendChild(block, toolBar)\n    this.appendChild(block, htmlBlock)\n    return block\n  }\n\n  ContentState.prototype.initHtmlBlock = function (block, tagName) {\n    const isVoidTag = VOID_HTML_TAGS.indexOf(tagName) > -1\n    const { text } = block.children[0]\n    const htmlContent = isVoidTag ? text : `${text}\\n\\n</${tagName}>`\n    block.type = 'figure'\n    block.functionType = 'html'\n    block.text = htmlContent\n    block.children = []\n    const toolBar = this.createToolBar(HTML_TOOLS, 'html')\n    const codeContainer = this.createCodeInHtml(htmlContent)\n    this.appendChild(block, toolBar)\n    this.appendChild(block, codeContainer)\n    return codeContainer.children[0] // preBlock\n  }\n\n  ContentState.prototype.updateHtmlBlock = function (block) {\n    const { type } = block\n    if (type !== 'li' && type !== 'p') return false\n    const { text } = block.children[0]\n    const match = HTML_BLOCK_REG.exec(text)\n    const tagName = match && match[1] && HTML_TAGS.find(t => t === match[1])\n    return VOID_HTML_TAGS.indexOf(tagName) === -1 && tagName ? this.initHtmlBlock(block, tagName) : false\n  }\n}\n\nexport default htmlBlock\n","import selection from '../selection'\nimport { HAS_TEXT_BLOCK_REG } from '../config'\n\nconst clickCtrl = ContentState => {\n  ContentState.prototype.clickHandler = function (event) {\n    const { eventCenter } = this.muya\n    const { start, end } = selection.getCursorRange()\n    const block = this.getBlock(start.key)\n    let needRender = false\n    // is show format float box?\n    if (\n      start.key === end.key &&\n      start.offset !== end.offset &&\n      HAS_TEXT_BLOCK_REG.test(block.type) &&\n      block.functionType !== 'codeLine'\n    ) {\n      const reference = this.getPositionReference()\n      const { formats } = this.selectionFormats()\n      eventCenter.dispatch('muya-format-picker', { reference, formats })\n    }\n    // bugfix: #67 problem 1\n    if (block && block.icon) return event.preventDefault()\n    // bugfix: figure block click\n    if (block.type === 'figure' && block.functionType === 'table') {\n      // first cell in thead\n      const cursorBlock = block.children[1].children[0].children[0].children[0]\n      const offset = cursorBlock.text.length\n      const key = cursorBlock.key\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      needRender = true\n    }\n\n    // update '```xxx' to code block when you click other place or use press arrow key.\n    if (block && start.key !== this.cursor.start.key) {\n      const oldBlock = this.getBlock(this.cursor.start.key)\n      if (oldBlock) {\n        needRender = needRender || this.codeBlockUpdate(oldBlock)\n      }\n    }\n\n    // change active status when paragraph changed\n    if (\n      start.key !== this.cursor.start.key ||\n      end.key !== this.cursor.end.key\n    ) {\n      needRender = true\n    }\n\n    const needMarkedUpdate = this.checkNeedRender(this.cursor) || this.checkNeedRender({ start, end })\n    this.cursor = { start, end }\n    if (needMarkedUpdate || needRender) {\n      return this.partialRender()\n    }\n  }\n}\n\nexport default clickCtrl\n","import selection from '../selection'\nimport { getTextContent } from '../selection/dom'\nimport { beginRules } from '../parser/rules'\nimport { CLASS_OR_ID } from '../config'\n\nconst BRACKET_HASH = {\n  '{': '}',\n  '[': ']',\n  '(': ')',\n  '*': '*',\n  '_': '_',\n  '\"': '\"',\n  '\\'': '\\''\n}\n\nconst inputCtrl = ContentState => {\n  // Input @ to quick insert paragraph\n  ContentState.prototype.checkQuickInsert = function (block) {\n    const { type, text, functionType } = block\n    if (type !== 'span' || functionType) return false\n    return /^@[a-zA-Z\\d]*$/.test(text)\n  }\n\n  ContentState.prototype.inputHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n    const { start: oldStart, end: oldEnd } = this.cursor\n    const key = start.key\n    const block = this.getBlock(key)\n    const paragraph = document.querySelector(`#${key}`)\n    let text = getTextContent(paragraph, [ CLASS_OR_ID['AG_MATH_RENDER'] ])\n    let needRender = false\n    let needRenderAll = false\n\n    if (oldStart.key !== oldEnd.key) {\n      const startBlock = this.getBlock(oldStart.key)\n      const endBlock = this.getBlock(oldEnd.key)\n      this.removeBlocks(startBlock, endBlock)\n      needRender = true\n    }\n\n    // auto pair (not need to auto pair in math block)\n    if (block && block.text !== text) {\n      if (\n        start.key === end.key &&\n        start.offset === end.offset &&\n        event.type === 'input'\n      ) {\n        const { offset } = start\n        const { autoPairBracket, autoPairMarkdownSyntax, autoPairQuote } = this\n        const inputChar = text.charAt(+offset - 1)\n        const preInputChar = text.charAt(+offset - 2)\n        const postInputChar = text.charAt(+offset)\n        /* eslint-disable no-useless-escape */\n        if (\n          (event.inputType.indexOf('delete') === -1) &&\n          (inputChar === postInputChar) &&\n          (\n            (autoPairQuote && /[']{1}/.test(inputChar)) ||\n            (autoPairQuote && /[\"]{1}/.test(inputChar)) ||\n            (autoPairBracket && /[\\}\\]\\)]{1}/.test(inputChar)) ||\n            (autoPairMarkdownSyntax && /[*_]{1}/.test(inputChar))\n          )\n        ) {\n          text = text.substring(0, offset) + text.substring(offset + 1)\n        } else {\n          /* eslint-disable no-useless-escape */\n          // Not Unicode aware, since things like \\p{Alphabetic} or \\p{L} are not supported yet\n          if (\n            (autoPairQuote && /[']{1}/.test(inputChar) && !(/[a-zA-Z\\d]{1}/.test(preInputChar))) ||\n            (autoPairQuote && /[\"]{1}/.test(inputChar)) ||\n            (autoPairBracket && /[\\{\\[\\(]{1}/.test(inputChar)) ||\n            (block.functionType !== 'codeLine' && autoPairMarkdownSyntax && /[*_]{1}/.test(inputChar))\n          ) {\n            needRender = true\n            text = BRACKET_HASH[event.data]\n              ? text.substring(0, offset) + BRACKET_HASH[inputChar] + text.substring(offset)\n              : text\n          }\n          /* eslint-enable no-useless-escape */\n          if (/\\s/.test(event.data) && preInputChar === '*' && postInputChar === '*') {\n            text = text.substring(0, offset) + text.substring(offset + 1)\n          }\n        }\n      }\n      block.text = text\n      if (beginRules['reference_definition'].test(text)) {\n        needRenderAll = true\n      }\n    }\n\n    // show quick insert\n    const rect = paragraph.getBoundingClientRect()\n    const checkQuickInsert = this.checkQuickInsert(block)\n    const reference = this.getPositionReference()\n    reference.getBoundingClientRect = function () {\n      const { x, y, left, top, height, bottom } = rect\n\n      return Object.assign({}, {\n        left,\n        x,\n        top,\n        y,\n        bottom,\n        height,\n        width: 0,\n        right: left\n      })\n    }\n\n    this.muya.eventCenter.dispatch('muya-quick-insert', reference, block, checkQuickInsert)\n\n    // Update preview content of math block\n    if (block && block.type === 'span' && block.functionType === 'codeLine') {\n      needRender = true\n      this.updateCodeBlocks(block)\n    }\n\n    this.cursor = { start, end }\n    const checkMarkedUpdate = this.checkNeedRender()\n    const inlineUpdatedBlock = this.isCollapse() && this.checkInlineUpdate(block)\n    if (checkMarkedUpdate || inlineUpdatedBlock || needRender) {\n      return needRenderAll ? this.render() : this.partialRender()\n    }\n  }\n}\n\nexport default inputCtrl\n","import TurndownService from 'turndown'\nimport { CLASS_OR_ID, LINE_BREAK } from '../config'\nimport { identity } from './index'\n\nconst turndownPluginGfm = require('turndown-plugin-gfm')\n\nexport const usePluginAddRules = turndownService => {\n  // Use the gfm plugin\n  const { gfm } = turndownPluginGfm\n  turndownService.use(gfm)\n  // because the strikethrough rule in gfm is single `~`, So need rewrite the strikethrough rule.\n  turndownService.addRule('strikethrough', {\n    filter: ['del', 's', 'strike'],\n    replacement (content) {\n      return '~~' + content + '~~'\n    }\n  })\n\n  // handle multiple lines math\n  turndownService.addRule('multiplemath', {\n    filter (node, options) {\n      return node.nodeName === 'PRE' && node.classList.contains('multiple-math')\n    },\n    replacement (content, node, options) {\n      return `$$\\n${content}\\n$$`\n    }\n  })\n\n  // handle `soft line break` and `hard line break`\n  // add `LINE_BREAK` to the end of soft line break and hard line break.\n  turndownService.addRule('lineBreak', {\n    filter (node, options) {\n      return node.nodeName === 'SPAN' && node.classList.contains(CLASS_OR_ID['AG_LINE']) && node.nextElementSibling\n    },\n    replacement (content, node, options) {\n      return content + LINE_BREAK\n    }\n  })\n\n  turndownService.escape = identity\n}\n\nexport default TurndownService\n","/**\n * translate markdown format to content state used by Mark Text\n * there is some difference when parse loose list item and tight lsit item.\n * Both of them add a p block in li block, use the CSS style to distinguish loose and tight.\n */\nimport { Lexer } from '../parser/marked'\nimport ExportMarkdown from './exportMarkdown'\nimport TurndownService, { usePluginAddRules } from './turndownService'\nimport { loadLanguage } from '../prism/index'\n\n// To be disabled rules when parse markdown, Because content state don't need to parse inline rules\nimport { CURSOR_DNA, TABLE_TOOLS } from '../config'\n\nconst LINE_BREAKS_REG = /\\n/\n\nconst importRegister = ContentState => {\n  // turn markdown to blocks\n  ContentState.prototype.markdownToState = function (markdown) {\n    // mock a root block...\n    const rootState = {\n      key: null,\n      type: 'root',\n      text: '',\n      parent: null,\n      preSibling: null,\n      nextSibling: null,\n      children: []\n    }\n\n    const tokens = new Lexer({ disableInline: true }).lex(markdown)\n\n    let token\n    let block\n    let value\n    let parentList = [ rootState ]\n\n    while ((token = tokens.shift())) {\n      switch (token.type) {\n        case 'frontmatter': {\n          value = token.text\n          block = this.createBlock('pre')\n          const codeBlock = this.createBlock('code')\n          value\n            .replace(/^\\s+/, '')\n            .replace(/\\s$/, '')\n            .split(LINE_BREAKS_REG).forEach(line => {\n              const codeLine = this.createBlock('span', line)\n              codeLine.functionType = 'codeLine'\n              codeLine.lang = 'yaml'\n              this.appendChild(codeBlock, codeLine)\n            })\n\n          block.functionType = token.type\n          block.lang = codeBlock.lang = 'yaml'\n          this.codeBlocks.set(block.key, value)\n          this.appendChild(block, codeBlock)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'hr': {\n          value = '---'\n          block = this.createBlock('hr', value)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'heading': {\n          const { headingStyle, depth, text } = token\n          value = '#'.repeat(+depth) + ` ${text}`\n          block = this.createBlock(`h${depth}`, value)\n          block.headingStyle = headingStyle\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'multiplemath': {\n          value = token.text\n          block = this.createContainerBlock(token.type, value)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'code': {\n          const { codeBlockStyle, text, lang = '' } = token\n          value = text\n          if (value.endsWith('\\n')) {\n            value = value.replace(/\\n+$/, '')\n          }\n          if (/mermaid|flowchart|vega-lite|sequence/.test(lang)) {\n            block = this.createContainerBlock(lang, value)\n            this.appendChild(parentList[0], block)\n          } else {\n            block = this.createBlock('pre')\n            const codeBlock = this.createBlock('code')\n            value.split(LINE_BREAKS_REG).forEach(line => {\n              const codeLine = this.createBlock('span', line)\n              codeLine.lang = lang\n              codeLine.functionType = 'codeLine'\n              this.appendChild(codeBlock, codeLine)\n            })\n            const inputBlock = this.createBlock('span', lang)\n            if (lang) {\n              loadLanguage(lang)\n            }\n            inputBlock.functionType = 'languageInput'\n            this.codeBlocks.set(block.key, value)\n            block.functionType = codeBlockStyle === 'fenced' ? 'fencecode' : 'indentcode'\n            block.lang = codeBlock.lang = lang\n            this.appendChild(block, inputBlock)\n            this.appendChild(block, codeBlock)\n            this.appendChild(parentList[0], block)\n          }\n          break\n        }\n        case 'table': {\n          const { header, align, cells } = token\n          const toolBar = this.createToolBar(TABLE_TOOLS, 'table')\n          const table = this.createBlock('table')\n          const thead = this.createBlock('thead')\n          const tbody = this.createBlock('tbody')\n          const theadRow = this.createBlock('tr')\n          for (const headText of header) {\n            const i = header.indexOf(headText)\n            const th = this.createBlock('th', headText)\n            Object.assign(th, { align: align[i] || '', column: i })\n            this.appendChild(theadRow, th)\n          }\n          for (const row of cells) {\n            const rowBlock = this.createBlock('tr')\n            for (const cell of row) {\n              const i = row.indexOf(cell)\n              const td = this.createBlock('td', cell)\n              Object.assign(td, { align: align[i] || '', column: i })\n              this.appendChild(rowBlock, td)\n            }\n            this.appendChild(tbody, rowBlock)\n          }\n          Object.assign(table, { row: cells.length, column: header.length - 1 }) // set row and column\n          block = this.createBlock('figure')\n          block.functionType = 'table'\n          this.appendChild(thead, theadRow)\n          this.appendChild(block, toolBar)\n          this.appendChild(block, table)\n          this.appendChild(table, thead)\n          this.appendChild(table, tbody)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'html': {\n          const { text } = token\n          block = this.createHtmlBlock(text.trim())\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'text':\n        case 'paragraph': {\n          value = token.text\n          block = this.createBlock('p')\n          const lines = value.split(LINE_BREAKS_REG).map(line => this.createBlock('span', line))\n          for (const line of lines) {\n            this.appendChild(block, line)\n          }\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'blockquote_start': {\n          block = this.createBlock('blockquote')\n          this.appendChild(parentList[0], block)\n          parentList.unshift(block)\n          break\n        }\n        case 'blockquote_end': {\n          parentList.shift()\n          break\n        }\n        case 'list_start': {\n          const { ordered, listType, start } = token\n          block = this.createBlock(ordered === true ? 'ol' : 'ul')\n          block.listType = listType\n          if (listType === 'order') {\n            block.start = /^\\d+$/.test(start) ? start : 1\n          }\n          this.appendChild(parentList[0], block)\n          parentList.unshift(block)\n          break\n        }\n        case 'list_end': {\n          parentList.shift()\n          break\n        }\n        case 'loose_item_start':\n        case 'list_item_start': {\n          const { listItemType, bulletListItemMarker, checked, type } = token\n          block = this.createBlock('li')\n          block.listItemType = checked !== undefined ? 'task' : listItemType\n          block.bulletListItemMarker = bulletListItemMarker\n          block.isLooseListItem = type === 'loose_item_start'\n          if (checked !== undefined) {\n            const input = this.createBlock('input')\n            input.checked = checked\n            this.appendChild(block, input)\n          }\n          this.appendChild(parentList[0], block)\n          parentList.unshift(block)\n          break\n        }\n        case 'list_item_end': {\n          parentList.shift()\n          break\n        }\n        default:\n          console.warn(`Unknown type ${token.type}`)\n          break\n      }\n    }\n\n    return rootState.children.length ? rootState.children : [this.createBlockP()]\n  }\n\n  ContentState.prototype.htmlToMarkdown = function (html) {\n    // turn html to markdown\n    const { turndownConfig } = this\n    const turndownService = new TurndownService(turndownConfig)\n    usePluginAddRules(turndownService)\n    // remove double `\\\\` in Math but I dont know why there are two '\\' when paste. @jocs\n    const markdown = turndownService.turndown(html) // .replace(/(\\\\)\\\\/g, '$1')\n    return markdown\n  }\n\n  // turn html to blocks\n  ContentState.prototype.html2State = function (html) {\n    const markdown = this.htmlToMarkdown(html)\n    return this.markdownToState(markdown)\n  }\n\n  ContentState.prototype.addCursorToMarkdown = function (markdown, cursor) {\n    const { ch, line } = cursor\n    const lines = markdown.split('\\n')\n    const rawText = lines[line]\n    lines[line] = rawText.substring(0, ch) + CURSOR_DNA + rawText.substring(ch)\n    return lines.join('\\n')\n  }\n\n  ContentState.prototype.getCodeMirrorCursor = function () {\n    const blocks = this.getBlocks()\n    const { start: { key, offset } } = this.cursor\n    const block = this.getBlock(key)\n    const { text } = block\n    block.text = text.substring(0, offset) + CURSOR_DNA + text.substring(offset)\n    const markdown = new ExportMarkdown(blocks).generate()\n    const cursor = markdown.split('\\n').reduce((acc, line, index) => {\n      const ch = line.indexOf(CURSOR_DNA)\n      if (ch > -1) {\n        Object.assign(acc, { line: index, ch })\n      }\n      return acc\n    }, {\n      line: 0,\n      ch: 0\n    })\n    // remove CURSOR_DNA\n    block.text = text\n    return cursor\n  }\n\n  ContentState.prototype.importCursor = function (cursor) {\n    // set cursor\n    const travel = blocks => {\n      for (const block of blocks) {\n        const { key, text, children, editable, type, functionType } = block\n        if (text) {\n          const offset = text.indexOf(CURSOR_DNA)\n          if (offset > -1) {\n            block.text = text.substring(0, offset) + text.substring(offset + CURSOR_DNA.length)\n            if (editable) {\n              this.cursor = {\n                start: { key, offset },\n                end: { key, offset }\n              }\n              // handle cursor in Math block, need to remove `CURSOR_DNA` in preview block\n              if (type === 'span' && functionType === 'codeLine') {\n                const preBlock = this.getParent(this.getParent(block))\n                const code = this.codeBlocks.get(preBlock.key)\n                if (!code) return\n                const offset = code.indexOf(CURSOR_DNA)\n                if (offset > -1) {\n                  const newCode = code.substring(0, offset) + code.substring(offset + CURSOR_DNA.length)\n                  this.codeBlocks.set(preBlock.key, newCode)\n                }\n              }\n              return\n            }\n          }\n        } else if (children.length) {\n          travel(children)\n        }\n      }\n    }\n    if (cursor) {\n      travel(this.blocks)\n    } else {\n      const lastBlock = this.getLastBlock()\n      const key = lastBlock.key\n      const offset = lastBlock.text.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n    }\n  }\n\n  ContentState.prototype.importMarkdown = function (markdown) {\n    this.codeBlocks = new Map()\n    this.blocks = this.markdownToState(markdown)\n  }\n}\n\nexport default importRegister\n","import { HAS_TEXT_BLOCK_REG, DEFAULT_TURNDOWN_CONFIG } from '../config'\nimport { getUniqueId } from '../utils'\nimport selection from '../selection'\nimport StateRender from '../parser/render'\nimport enterCtrl from './enterCtrl'\nimport updateCtrl from './updateCtrl'\nimport backspaceCtrl from './backspaceCtrl'\nimport deleteCtrl from './deleteCtrl'\nimport codeBlockCtrl from './codeBlockCtrl'\nimport tableBlockCtrl from './tableBlockCtrl'\nimport selectionCtrl from './selectionCtrl'\nimport History from './history'\nimport arrowCtrl from './arrowCtrl'\nimport pasteCtrl from './pasteCtrl'\nimport copyCutCtrl from './copyCutCtrl'\nimport paragraphCtrl from './paragraphCtrl'\nimport tabCtrl from './tabCtrl'\nimport formatCtrl from './formatCtrl'\nimport searchCtrl from './searchCtrl'\nimport containerCtrl from './containerCtrl'\nimport imagePathCtrl from './imagePathCtrl'\nimport htmlBlockCtrl from './htmlBlock'\nimport clickCtrl from './clickCtrl'\nimport inputCtrl from './inputCtrl'\nimport importMarkdown from '../utils/importMarkdown'\n\nconst prototypes = [\n  tabCtrl,\n  enterCtrl,\n  selectionCtrl,\n  updateCtrl,\n  backspaceCtrl,\n  deleteCtrl,\n  codeBlockCtrl,\n  arrowCtrl,\n  pasteCtrl,\n  copyCutCtrl,\n  tableBlockCtrl,\n  paragraphCtrl,\n  formatCtrl,\n  searchCtrl,\n  containerCtrl,\n  imagePathCtrl,\n  htmlBlockCtrl,\n  clickCtrl,\n  inputCtrl,\n  importMarkdown\n]\n\nclass ContentState {\n  constructor (muya, options) {\n    const { bulletListMarker } = options\n\n    this.muya = muya\n    Object.assign(this, options)\n\n    // Use to cache the keys which you don't want to remove.\n    this.exemption = new Set()\n    this.blocks = [ this.createBlockP() ]\n    this.stateRender = new StateRender(muya)\n    this.codeBlocks = new Map()\n    this.renderRange = [ null, null ]\n    this.currentCursor = null\n    this.prevCursor = null\n    this.historyTimer = null\n    this.history = new History(this)\n    this.turndownConfig = Object.assign(DEFAULT_TURNDOWN_CONFIG, { bulletListMarker })\n    this.fontSize = 16\n    this.lineHeight = 1.6\n    this.init()\n  }\n\n  set cursor (cursor) {\n    const handler = () => {\n      const { blocks, renderRange, currentCursor } = this\n      this.history.push({\n        blocks,\n        renderRange,\n        cursor: currentCursor\n      })\n    }\n    this.prevCursor = this.currentCursor\n    this.currentCursor = cursor\n\n    if (!cursor.noHistory) {\n      if (\n        this.prevCursor &&\n        (\n          this.prevCursor.start.key !== cursor.start.key ||\n          this.prevCursor.end.key !== cursor.end.key\n        )\n      ) {\n        handler()\n      } else {\n        if (this.historyTimer) clearTimeout(this.historyTimer)\n        this.historyTimer = setTimeout(handler, 2000)\n      }\n    } else {\n      cursor.noHistory && delete cursor.noHistory\n    }\n  }\n\n  get cursor () {\n    return this.currentCursor\n  }\n\n  init () {\n    const lastBlock = this.getLastBlock()\n    const { key, text } = lastBlock\n    const offset = text.length\n    this.searchMatches = {\n      value: '', // the search value\n      matches: [], // matches\n      index: -1 // active match\n    }\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  getHistory () {\n    const { stack, index } = this.history\n    return { stack, index }\n  }\n\n  setHistory ({ stack, index }) {\n    Object.assign(this.history, { stack, index })\n  }\n\n  setCursor () {\n    selection.setCursorRange(this.cursor)\n  }\n\n  setNextRenderRange () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startOutMostBlock = this.findOutMostBlock(startBlock)\n    const endOutMostBlock = this.findOutMostBlock(endBlock)\n\n    this.renderRange = [ startOutMostBlock.preSibling, endOutMostBlock.nextSibling ]\n  }\n\n  render (isRenderCursor = true) {\n    const { blocks, cursor, searchMatches: { matches, index } } = this\n    const activeBlocks = this.getActiveBlocks()\n    matches.forEach((m, i) => {\n      m.active = i === index\n    })\n    this.setNextRenderRange()\n    this.stateRender.collectLabels(blocks)\n    this.stateRender.render(blocks, cursor, activeBlocks, matches)\n    if (isRenderCursor) this.setCursor()\n  }\n\n  partialRender () {\n    const { blocks, cursor, searchMatches: { matches, index } } = this\n    const activeBlocks = this.getActiveBlocks()\n    const [ startKey, endKey ] = this.renderRange\n    matches.forEach((m, i) => {\n      m.active = i === index\n    })\n    const startIndex = startKey ? blocks.findIndex(block => block.key === startKey) : 0\n    const endIndex = endKey ? blocks.findIndex(block => block.key === endKey) + 1 : blocks.length\n    const needRenderBlocks = blocks.slice(startIndex, endIndex)\n\n    this.setNextRenderRange()\n    this.stateRender.collectLabels(blocks)\n    this.stateRender.partialRender(needRenderBlocks, cursor, activeBlocks, matches, startKey, endKey)\n    this.setCursor()\n  }\n\n  /**\n   * A block in Aganippe present a paragraph(block syntax in GFM) or a line in paragraph.\n   * a line block must in a `p block` or `pre block(frontmatter)` and `p block`'s children must be line blocks.\n   */\n  createBlock (type = 'span', text = '', editable = true) { // span type means it is a line block.\n    const key = getUniqueId()\n    return {\n      key,\n      type,\n      text,\n      editable,\n      parent: null,\n      preSibling: null,\n      nextSibling: null,\n      children: []\n    }\n  }\n\n  createBlockP (text = '') {\n    const pBlock = this.createBlock('p')\n    const lineBlock = this.createBlock('span', text)\n    this.appendChild(pBlock, lineBlock)\n    return pBlock\n  }\n\n  isCollapse (cursor = this.cursor) {\n    const { start, end } = cursor\n    return start.key === end.key && start.offset === end.offset\n  }\n\n  // getBlocks\n  getBlocks () {\n    return this.blocks\n  }\n\n  getCursor () {\n    return this.cursor\n  }\n\n  getBlock (key) {\n    if (!key) return null\n    let result = null\n    const travel = blocks => {\n      for (const block of blocks) {\n        if (block.key === key) {\n          result = block\n          return\n        }\n        const { children } = block\n        if (children.length) {\n          travel(children)\n        }\n      }\n    }\n    travel(this.blocks)\n    return result\n  }\n\n  getParent (block) {\n    if (block && block.parent) {\n      return this.getBlock(block.parent)\n    }\n    return null\n  }\n  // return block and its parents\n  getParents (block) {\n    const result = []\n    result.push(block)\n    let parent = this.getParent(block)\n    while (parent) {\n      result.push(parent)\n      parent = this.getParent(parent)\n    }\n    return result\n  }\n\n  getPreSibling (block) {\n    return block.preSibling ? this.getBlock(block.preSibling) : null\n  }\n\n  getNextSibling (block) {\n    return block.nextSibling ? this.getBlock(block.nextSibling) : null\n  }\n\n  /**\n   * if target is descendant of parent return true, else return false\n   * @param  {[type]}  parent [description]\n   * @param  {[type]}  target [description]\n   * @return {Boolean}        [description]\n   */\n  isInclude (parent, target) {\n    const children = parent.children\n    if (children.length === 0) {\n      return false\n    } else {\n      if (children.some(child => child.key === target.key)) {\n        return true\n      } else {\n        return children.some(child => this.isInclude(child, target))\n      }\n    }\n  }\n\n  removeTextOrBlock (block) {\n    if (block.functionType === 'languageInput') return\n    const checkerIn = block => {\n      if (this.exemption.has(block.key)) {\n        return true\n      } else {\n        const parent = this.getBlock(block.parent)\n        return parent ? checkerIn(parent) : false\n      }\n    }\n\n    const checkerOut = block => {\n      const children = block.children\n      if (children.length) {\n        if (children.some(child => this.exemption.has(child.key))) {\n          return true\n        } else {\n          return children.some(child => checkerOut(child))\n        }\n      } else {\n        return false\n      }\n    }\n\n    if (checkerIn(block) || checkerOut(block)) {\n      block.text = ''\n      const { children } = block\n      if (children.length) {\n        children.forEach(child => this.removeTextOrBlock(child))\n      }\n    } else if (block.editable) {\n      this.removeBlock(block)\n    }\n  }\n  // help func in removeBlocks\n  findFigure (block) {\n    if (block.type === 'figure') {\n      return block.key\n    } else {\n      const parent = this.getBlock(block.parent)\n      return this.findFigure(parent)\n    }\n  }\n\n  /**\n   * remove blocks between before and after, and includes after block.\n   */\n  removeBlocks (before, after, isRemoveAfter = true, isRecursion = false) {\n    if (!isRecursion) {\n      if (/td|th/.test(before.type)) {\n        this.exemption.add(this.findFigure(before))\n      }\n      if (/td|th/.test(after.type)) {\n        this.exemption.add(this.findFigure(after))\n      }\n    }\n    let nextSibling = this.getBlock(before.nextSibling)\n    let beforeEnd = false\n    while (nextSibling) {\n      if (nextSibling.key === after.key || this.isInclude(nextSibling, after)) {\n        beforeEnd = true\n        break\n      }\n      this.removeTextOrBlock(nextSibling)\n      nextSibling = this.getBlock(nextSibling.nextSibling)\n    }\n    if (!beforeEnd) {\n      const parent = this.getParent(before)\n      if (parent) {\n        this.removeBlocks(parent, after, false, true)\n      }\n    }\n    let preSibling = this.getBlock(after.preSibling)\n    let afterEnd = false\n    while (preSibling) {\n      if (preSibling.key === before.key || this.isInclude(preSibling, before)) {\n        afterEnd = true\n        break\n      }\n      this.removeTextOrBlock(preSibling)\n      preSibling = this.getBlock(preSibling.preSibling)\n    }\n    if (!afterEnd) {\n      const parent = this.getParent(after)\n      if (parent) {\n        const removeAfter = isRemoveAfter && (this.isOnlyRemoveableChild(after))\n        this.removeBlocks(before, parent, removeAfter, true)\n      }\n    }\n    if (isRemoveAfter) {\n      this.removeTextOrBlock(after)\n    }\n    if (!isRecursion) {\n      this.exemption.clear()\n    }\n  }\n\n  removeBlock (block, fromBlocks = this.blocks) {\n    const remove = (blocks, block) => {\n      const len = blocks.length\n      let i\n      for (i = 0; i < len; i++) {\n        if (blocks[i].key === block.key) {\n          const preSibling = this.getBlock(block.preSibling)\n          const nextSibling = this.getBlock(block.nextSibling)\n\n          if (preSibling) {\n            preSibling.nextSibling = nextSibling ? nextSibling.key : null\n          }\n          if (nextSibling) {\n            nextSibling.preSibling = preSibling ? preSibling.key : null\n          }\n\n          return blocks.splice(i, 1)\n        } else {\n          if (blocks[i].children.length) {\n            remove(blocks[i].children, block)\n          }\n        }\n      }\n    }\n    remove(Array.isArray(fromBlocks) ? fromBlocks : fromBlocks.children, block)\n  }\n\n  getActiveBlocks () {\n    let result = []\n    let block = this.getBlock(this.cursor.start.key)\n    if (block) result.push(block)\n    while (block && block.parent) {\n      block = this.getBlock(block.parent)\n      result.push(block)\n    }\n    return result\n  }\n\n  insertAfter (newBlock, oldBlock) {\n    const siblings = oldBlock.parent ? this.getBlock(oldBlock.parent).children : this.blocks\n    const oldNextSibling = this.getBlock(oldBlock.nextSibling)\n    const index = this.findIndex(siblings, oldBlock)\n    siblings.splice(index + 1, 0, newBlock)\n    oldBlock.nextSibling = newBlock.key\n    newBlock.parent = oldBlock.parent\n    newBlock.preSibling = oldBlock.key\n    if (oldNextSibling) {\n      newBlock.nextSibling = oldNextSibling.key\n      oldNextSibling.preSibling = newBlock.key\n    }\n  }\n\n  insertBefore (newBlock, oldBlock) {\n    const siblings = oldBlock.parent ? this.getBlock(oldBlock.parent).children : this.blocks\n    const oldPreSibling = this.getBlock(oldBlock.preSibling)\n    const index = this.findIndex(siblings, oldBlock)\n    siblings.splice(index, 0, newBlock)\n    oldBlock.preSibling = newBlock.key\n    newBlock.parent = oldBlock.parent\n    newBlock.nextSibling = oldBlock.key\n    newBlock.preSibling = null\n\n    if (oldPreSibling) {\n      oldPreSibling.nextSibling = newBlock.key\n      newBlock.preSibling = oldPreSibling.key\n    }\n  }\n\n  findOutMostBlock (block) {\n    const parent = this.getBlock(block.parent)\n    return parent ? this.findOutMostBlock(parent) : block\n  }\n\n  findIndex (children, block) {\n    return children.findIndex(child => child === block)\n  }\n\n  prependChild (parent, block) {\n    block.parent = parent.key\n    block.preSibling = null\n    if (parent.children.length) {\n      block.nextSibling = parent.children[0].key\n    }\n    parent.children.unshift(block)\n  }\n\n  appendChild (parent, block) {\n    const len = parent.children.length\n    const lastChild = parent.children[len - 1]\n    parent.children.push(block)\n    block.parent = parent.key\n    if (lastChild) {\n      lastChild.nextSibling = block.key\n      block.preSibling = lastChild.key\n    } else {\n      block.preSibling = null\n    }\n    block.nextSibling = null\n  }\n\n  replaceBlock (newBlock, oldBlock) {\n    const blockList = oldBlock.parent ? this.getParent(oldBlock).children : this.blocks\n    const index = this.findIndex(blockList, oldBlock)\n\n    blockList.splice(index, 1, newBlock)\n    newBlock.parent = oldBlock.parent\n    newBlock.preSibling = oldBlock.preSibling\n    newBlock.nextSibling = oldBlock.nextSibling\n  }\n\n  canInserFrontMatter (block) {\n    if (!block) return true\n    const parent = this.getParent(block)\n    return block.type === 'span' &&\n      !block.preSibling &&\n      !parent.preSibling &&\n      !parent.parent\n  }\n\n  isFirstChild (block) {\n    return !block.preSibling\n  }\n\n  isLastChild (block) {\n    return !block.nextSibling\n  }\n\n  isOnlyChild (block) {\n    return !block.nextSibling && !block.preSibling\n  }\n\n  isOnlyRemoveableChild (block) {\n    if (block.editable === false) return false\n    const parent = this.getParent(block)\n    return (parent ? parent.children : this.blocks).filter(child => child.editable && child.functionType !== 'languageInput').length === 1\n  }\n\n  getLastChild (block) {\n    if (block) {\n      const len = block.children.length\n      if (len) {\n        return block.children[len - 1]\n      }\n    }\n    return null\n  }\n\n  firstInDescendant (block) {\n    const children = block.children\n    if (block.children.length === 0 && HAS_TEXT_BLOCK_REG.test(block.type)) {\n      return block\n    } else if (children.length) {\n      if (\n        children[0].type === 'input' ||\n        (children[0].type === 'div' && children[0].editable === false) ||\n        (children[0].type === 'span' && children[0].functionType === 'languageInput')\n      ) { // handle task item\n        return this.firstInDescendant(children[1])\n      } else {\n        return this.firstInDescendant(children[0])\n      }\n    }\n  }\n\n  lastInDescendant (block) {\n    if (block.children.length === 0 && HAS_TEXT_BLOCK_REG.test(block.type)) {\n      return block\n    } else if (block.children.length) {\n      const children = block.children\n      let lastChild = children[children.length - 1]\n      while (lastChild.editable === false) {\n        lastChild = this.getPreSibling(lastChild)\n      }\n      return this.lastInDescendant(lastChild)\n    }\n  }\n\n  findPreBlockInLocation (block) {\n    const parent = this.getParent(block)\n    const preBlock = this.getPreSibling(block)\n    if (\n      block.preSibling &&\n      preBlock.type !== 'input' &&\n      preBlock.type !== 'div' &&\n      preBlock.editable !== false &&\n      preBlock.functionType !== 'languageInput'\n    ) { // handle task item and table\n      return this.lastInDescendant(preBlock)\n    } else if (parent) {\n      return this.findPreBlockInLocation(parent)\n    } else {\n      return null\n    }\n  }\n\n  findNextBlockInLocation (block) {\n    const parent = this.getParent(block)\n    const nextBlock = this.getNextSibling(block)\n\n    if (\n      nextBlock && nextBlock.editable !== false\n    ) {\n      return this.firstInDescendant(nextBlock)\n    } else if (parent) {\n      return this.findNextBlockInLocation(parent)\n    } else {\n      return null\n    }\n  }\n\n  getPositionReference () {\n    const { fontSize, lineHeight } = this\n    const { start } = this.cursor\n    const block = this.getBlock(start.key)\n    const { x, y } = selection.getCursorCoords()\n    const height = fontSize * lineHeight\n    const width = 0\n    const bottom = y + height\n    const right = x + width\n    const left = x\n    const top = y\n    return {\n      getBoundingClientRect () {\n        return { x, y, top, left, right, bottom, height, width }\n      },\n      clientWidth: width,\n      clientHeight: height,\n      id: block ? block.key : null\n    }\n  }\n\n  getLastBlock () {\n    const { blocks } = this\n    const len = blocks.length\n    return this.lastInDescendant(blocks[len - 1])\n  }\n\n  clear () {\n    this.history.clearHistory()\n  }\n}\n\nprototypes.forEach(ctrl => ctrl(ContentState))\n\nexport default ContentState\n","import { getUniqueId } from '../utils'\n\nclass EventCenter {\n  constructor () {\n    this.events = []\n    this.listeners = {}\n  }\n  /**\n   * [attachDOMEvent] bind event listener to target, and return a unique ID,\n   * this ID\n   */\n  attachDOMEvent (target, event, listener, capture) {\n    if (this.checkHasBind(target, event, listener, capture)) return false\n    const eventId = getUniqueId()\n    target.addEventListener(event, listener, capture)\n    this.events.push({\n      eventId,\n      target,\n      event,\n      listener,\n      capture\n    })\n    return eventId\n  }\n  /**\n   * [detachDOMEvent removeEventListener]\n   * @param  {[type]} eventId [unique eventId]\n   */\n  detachDOMEvent (eventId) {\n    if (!eventId) return false\n    const removeEvent = this.events.filter(e => e.eventId === eventId)[0]\n    if (removeEvent) {\n      const { target, event, listener, capture } = removeEvent\n      target.removeEventListener(event, listener, capture)\n    }\n  }\n  /**\n   * [detachAllDomEvents remove all the DOM events handler]\n   */\n  detachAllDomEvents () {\n    this.events.forEach(event => this.detachDOMEvent(event.eventId))\n  }\n  /**\n   * inner method for subscribe and subscribeOnce\n   */\n  _subscribe (event, listener, once = false) {\n    const listeners = this.listeners[event]\n    const handler = { listener, once }\n    if (listeners && Array.isArray(listeners)) {\n      listeners.push(handler)\n    } else {\n      this.listeners[event] = [ handler ]\n    }\n  }\n  /**\n   * [subscribe] subscribe custom event\n   */\n  subscribe (event, listener) {\n    this._subscribe(event, listener)\n  }\n  /**\n   * [unsubscribe] unsubscribe custom event\n   */\n  unsubscribe (event, listener) {\n    const listeners = this.listeners[event]\n    if (Array.isArray(listeners) && listeners.find(l => l.listener === listener)) {\n      const index = listeners.findIndex(l => l.listener === listener)\n      listeners.splice(index, 1)\n    }\n  }\n  /**\n   * [subscribeOnce] usbscribe event and listen once\n   */\n  subscribeOnce (event, listener) {\n    this._subscribe(event, listener, true)\n  }\n  /**\n   * dispatch custom event\n   */\n  dispatch (event, ...data) {\n    const eventListener = this.listeners[event]\n    if (eventListener && Array.isArray(eventListener)) {\n      eventListener.forEach(({ listener, once }) => {\n        listener(...data)\n        if (once) {\n          this.unsubscribe(event, listener)\n        }\n      })\n    }\n  }\n  // Determine whether the event has been bind\n  checkHasBind (cTarget, cEvent, cListener, cCapture) {\n    for (const { target, event, listener, capture } of this.events) {\n      if (target === cTarget && event === cEvent && listener === cListener && capture === cCapture) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nexport default EventCenter\n","class Clipboard {\n  constructor (muya) {\n    this.muya = muya\n    this._copyType = 'normal' // `normal` or `copyAsMarkdown` or `copyAsHtml`\n    this._pasteType = 'normal' // `normal` or `pasteAsPlainText`\n    this.listen()\n  }\n\n  listen () {\n    const { container, eventCenter, contentState } = this.muya\n    const copyCutHandler = event => {\n      contentState.copyHandler(event, this._copyType)\n      if (event.type === 'cut') {\n        // when user use `cut` function, the dom has been deleted by default.\n        // But should update content state manually.\n        contentState.cutHandler()\n      }\n      this._copyType = 'normal'\n    }\n    const pasteHandler = event => {\n      contentState.pasteHandler(event, this._pasteType)\n      this._pasteType = 'normal'\n    }\n\n    eventCenter.attachDOMEvent(container, 'paste', pasteHandler)\n    eventCenter.attachDOMEvent(container, 'cut', copyCutHandler)\n    eventCenter.attachDOMEvent(container, 'copy', copyCutHandler)\n  }\n\n  copyAsMarkdown () {\n    this._copyType = 'copyAsMarkdown'\n    document.execCommand('copy')\n  }\n\n  copyAsHtml () {\n    this._copyType = 'copyAsHtml'\n    document.execCommand('copy')\n  }\n\n  pasteAsPlainText () {\n    this._pasteType = 'pasteAsPlainText'\n    document.execCommand('paste')\n  }\n\n  copy (name) {\n    switch (name) {\n      case 'table':\n        this._copyType = 'copyTable'\n        document.execCommand('copy')\n        break\n      default:\n        break\n    }\n  }\n}\n\nexport default Clipboard\n","import { EVENT_KEYS } from '../config'\nimport selection from '../selection'\nimport { findNearestParagraph } from '../selection/dom'\nimport { getParagraphReference } from '../utils'\nimport { checkEditEmoji } from '../ui/emojis'\n\nclass Keyboard {\n  constructor (muya) {\n    this.muya = muya\n    this.isComposed = false\n    this.shownFloat = new Set()\n    this.recordIsComposed()\n    this.dispatchEditorState()\n    this.keydownBinding()\n    this.keyupBinding()\n    this.inputBinding()\n    this.listen()\n  }\n\n  listen () {\n    // cache shown float box\n    this.muya.eventCenter.subscribe('muya-float', (name, status) => {\n      status ? this.shownFloat.add(name) : this.shownFloat.delete(name)\n    })\n  }\n\n  recordIsComposed () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      if (event.type === 'compositionstart') {\n        this.isComposed = true\n      } else if (event.type === 'compositionend') {\n        this.isComposed = false\n        // Because the compose event will not cause `input` event, So need call `inputHandler` by ourself\n        contentState.inputHandler(event)\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'compositionend', handler)\n    // eventCenter.attachDOMEvent(container, 'compositionupdate', handler)\n    eventCenter.attachDOMEvent(container, 'compositionstart', handler)\n  }\n\n  dispatchEditorState () {\n    const { container, eventCenter, contentState } = this.muya\n\n    let timer = null\n    const changeHandler = event => {\n      if (\n        event.type === 'keyup' &&\n        (event.key === EVENT_KEYS.ArrowUp || event.key === EVENT_KEYS.ArrowDown) &&\n        this.shownFloat.size > 0\n      ) {\n        return\n      }\n\n      if (timer) clearTimeout(timer)\n      timer = setTimeout(() => {\n        const selectionChanges = contentState.selectionChange()\n        const { formats } = contentState.selectionFormats()\n        eventCenter.dispatch('selectionChange', selectionChanges)\n        eventCenter.dispatch('selectionFormats', formats)\n        this.muya.dispatchChange()\n      })\n    }\n\n    eventCenter.attachDOMEvent(container, 'click', changeHandler)\n    eventCenter.attachDOMEvent(container, 'keyup', changeHandler)\n  }\n\n  keydownBinding () {\n    const { container, eventCenter, contentState } = this.muya\n\n    const handler = event => {\n      if (\n        this.shownFloat.size > 0 &&\n        (\n          event.key === EVENT_KEYS.Enter ||\n          event.key === EVENT_KEYS.Escape ||\n          event.key === EVENT_KEYS.Tab ||\n          event.key === EVENT_KEYS.ArrowUp ||\n          event.key === EVENT_KEYS.ArrowDown\n        )\n      ) {\n        event.stopPropagation()\n        event.preventDefault()\n        return\n      }\n      switch (event.key) {\n        case EVENT_KEYS.Backspace:\n          contentState.backspaceHandler(event)\n          break\n        case EVENT_KEYS.Delete:\n          contentState.deleteHandler(event)\n          break\n        case EVENT_KEYS.Enter:\n          if (!this.isComposed) {\n            contentState.enterHandler(event)\n          }\n          break\n        case 'a':\n          if (event.ctrlKey) {\n            contentState.tableCellHandler(event)\n          }\n          break\n        case EVENT_KEYS.ArrowUp: // fallthrough\n        case EVENT_KEYS.ArrowDown: // fallthrough\n        case EVENT_KEYS.ArrowLeft: // fallthrough\n        case EVENT_KEYS.ArrowRight: // fallthrough\n          if (!this.isComposed) {\n            contentState.arrowHandler(event)\n          }\n          break\n        case EVENT_KEYS.Tab:\n          contentState.tabHandler(event)\n          break\n        default:\n          break\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'keydown', handler)\n  }\n\n  inputBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const inputHandler = event => {\n      if (!this.isComposed) {\n        contentState.inputHandler(event)\n      }\n\n      const { lang, paragraph } = contentState.checkEditLanguage()\n      if (lang) {\n        eventCenter.dispatch('muya-code-picker', {\n          reference: getParagraphReference(paragraph, paragraph.id),\n          lang,\n          cb: item => {\n            contentState.selectLanguage(paragraph, item.name)\n          }\n        })\n      } else {\n        // hide code picker float box\n        eventCenter.dispatch('muya-code-picker', { reference: null })\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'input', inputHandler)\n  }\n\n  keyupBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      // check if edit emoji\n      const node = selection.getSelectionStart()\n      const paragraph = findNearestParagraph(node)\n      const emojiNode = checkEditEmoji(node)\n      if (\n        paragraph &&\n        emojiNode &&\n        event.key !== EVENT_KEYS.Enter &&\n        event.key !== EVENT_KEYS.ArrowDown &&\n        event.key !== EVENT_KEYS.ArrowUp &&\n        event.key !== EVENT_KEYS.Tab &&\n        event.key !== EVENT_KEYS.Escape\n      ) {\n        const reference = getParagraphReference(emojiNode, paragraph.id)\n        eventCenter.dispatch('muya-emoji-picker', {\n          reference,\n          emojiNode\n        })\n      }\n      if (!emojiNode) {\n        eventCenter.dispatch('muya-emoji-picker', {\n          emojiNode\n        })\n      }\n      // is show format float box?\n      const { start, end } = selection.getCursorRange()\n\n      if (\n        this.shownFloat.size === 0 &&\n        !this.isComposed\n      ) {\n        const { start: oldStart, end: oldEnd } = contentState.cursor\n        if (\n          start.key !== oldStart.key ||\n          start.offset !== oldStart.offset ||\n          end.key !== oldEnd.key ||\n          end.offset !== oldEnd.offset\n        ) {\n          const needRender = contentState.checkNeedRender(contentState.cursor) || contentState.checkNeedRender({ start, end })\n          contentState.cursor = { start, end }\n          if (needRender) {\n            return contentState.partialRender()\n          }\n        }\n      }\n\n      // hide image-path float box\n      const imageTextNode = contentState.getImageTextNode()\n      if (!imageTextNode) {\n        eventCenter.dispatch('muya-image-picker', { list: [] })\n      }\n\n      const block = contentState.getBlock(start.key)\n      if (start.key === end.key && start.offset !== end.offset && block.functionType !== 'codeLine') {\n        const reference = contentState.getPositionReference()\n        const { formats } = contentState.selectionFormats()\n        eventCenter.dispatch('muya-format-picker', { reference, formats })\n      } else {\n        eventCenter.dispatch('muya-format-picker', { reference: null })\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'keyup', handler) // temp use input event\n  }\n}\n\nexport default Keyboard\n","import { operateClassName } from '../utils/domManipulate'\nimport { CLASS_OR_ID } from '../config'\nimport selection from '../selection'\n\nclass ClickEvent {\n  constructor (muya) {\n    this.muya = muya\n    this.clickBinding()\n  }\n\n  clickBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      const { target } = event\n      // handler table | html toolbar click\n      const toolItem = getToolItem(target)\n      if (toolItem) {\n        event.preventDefault()\n        event.stopPropagation()\n        const type = toolItem.getAttribute('data-label')\n        const grandPa = toolItem.parentNode.parentNode\n        if (grandPa.classList.contains('ag-tool-table')) {\n          contentState.tableToolBarClick(type)\n        } else if (grandPa.classList.contains('ag-tool-html')) {\n          contentState.htmlToolBarClick(type)\n        }\n      }\n      // handler image and inline math preview click\n      const markedImageText = target.previousElementSibling\n      const mathRender = target.closest(`.${CLASS_OR_ID['AG_MATH_RENDER']}`)\n      const mathText = mathRender && mathRender.previousElementSibling\n      if (markedImageText && markedImageText.classList.contains(CLASS_OR_ID['AG_IMAGE_MARKED_TEXT'])) {\n        selectionText(markedImageText)\n      } else if (mathText) {\n        selectionText(mathText)\n      }\n      // handler html preview click\n      const htmlPreview = target.closest(`.ag-function-html`)\n      if (htmlPreview && !htmlPreview.classList.contains(CLASS_OR_ID['AG_ACTIVE'])) {\n        event.preventDefault()\n        event.stopPropagation()\n        contentState.handleHtmlBlockClick(htmlPreview)\n      }\n      // handler container block preview click\n      const container = target.closest('.ag-container-block')\n      if (container && !container.classList.contains(CLASS_OR_ID['AG_ACTIVE'])) {\n        event.preventDefault()\n        event.stopPropagation()\n        contentState.handleContainerBlockClick(container)\n      }\n      // handler to-do checkbox click\n      if (target.tagName === 'INPUT' && target.classList.contains(CLASS_OR_ID['AG_TASK_LIST_ITEM_CHECKBOX'])) {\n        contentState.listItemCheckBoxClick(target)\n      }\n      contentState.clickHandler(event)\n    }\n\n    eventCenter.attachDOMEvent(container, 'click', handler)\n  }\n}\n\nfunction getToolItem (target) {\n  return target.closest('[data-label]')\n}\n\nfunction selectionText (node) {\n  const textLen = node.textContent.length\n  operateClassName(node, 'remove', CLASS_OR_ID['AG_HIDE'])\n  operateClassName(node, 'add', CLASS_OR_ID['AG_GRAY'])\n  selection.importSelection({\n    start: textLen,\n    end: textLen\n  }, node)\n}\n\nexport default ClickEvent\n","import './index.css'\n\nconst position = (source, ele) => {\n  const rect = source.getBoundingClientRect()\n  const { top, right, height } = rect\n\n  Object.assign(ele.style, {\n    top: `${top + height + 10}px`,\n    left: `${right - ele.offsetWidth / 2 - 3}px`\n  })\n}\n\nclass Tooltip {\n  constructor (muya) {\n    this.muya = muya\n    this.cache = new WeakMap()\n    const { container, eventCenter } = this.muya\n\n    eventCenter.attachDOMEvent(container, 'mouseover', this.mouseOver.bind(this))\n  }\n\n  mouseOver (event) {\n    const { target } = event\n    const toolTipTarget = target.closest('[data-tooltip]')\n    const { eventCenter } = this.muya\n    if (toolTipTarget && !this.cache.has(toolTipTarget)) {\n      const tooltip = toolTipTarget.getAttribute('data-tooltip')\n      const tooltipEle = document.createElement('div')\n      tooltipEle.textContent = tooltip\n      tooltipEle.classList.add('ag-tooltip')\n      document.body.appendChild(tooltipEle)\n      position(toolTipTarget, tooltipEle)\n\n      this.cache.set(toolTipTarget, tooltipEle)\n\n      setTimeout(() => {\n        tooltipEle.classList.add('active')\n      })\n\n      const timer = setInterval(() => {\n        if (!document.body.contains(toolTipTarget)) {\n          this.mouseLeave({ target: toolTipTarget })\n          clearInterval(timer)\n        }\n      }, 300)\n\n      eventCenter.attachDOMEvent(toolTipTarget, 'mouseleave', this.mouseLeave.bind(this))\n    }\n  }\n\n  mouseLeave (event) {\n    const { target } = event\n    if (this.cache.has(target)) {\n      const tooltipEle = this.cache.get(target)\n      tooltipEle.remove()\n      this.cache.delete(target)\n    }\n  }\n}\n\nexport default Tooltip\n","import ContentState from './contentState'\nimport EventCenter from './eventHandler/event'\nimport Clipboard from './eventHandler/clipboard'\nimport Keyboard from './eventHandler/keyboard'\nimport ClickEvent from './eventHandler/clickEvent'\nimport { CLASS_OR_ID, MUYA_DEFAULT_OPTION } from './config'\nimport { wordCount } from './utils'\nimport ExportMarkdown from './utils/exportMarkdown'\nimport ExportHtml from './utils/exportHtml'\nimport ToolTip from './ui/tooltip'\nimport './assets/styles/index.css'\n\nclass Muya {\n  static plugins = []\n  static use (plugin) {\n    this.plugins.push(plugin)\n  }\n  constructor (container, options) {\n    this.options = Object.assign({}, MUYA_DEFAULT_OPTION, options)\n    const { focusMode, theme, markdown } = this.options\n    this.focusMode = focusMode\n    this.theme = theme\n    this.markdown = markdown\n    this.container = getContainer(container)\n    this.eventCenter = new EventCenter()\n    this.tooltip = new ToolTip(this)\n    // UI plugins\n    if (Muya.plugins.length) {\n      for (const Plugin of Muya.plugins) {\n        this[Plugin.pluginName] = new Plugin(this)\n      }\n    }\n\n    this.contentState = new ContentState(this, this.options)\n    this.clipboard = new Clipboard(this)\n    this.clickEvent = new ClickEvent(this)\n    this.keyboard = new Keyboard(this)\n    this.init()\n  }\n\n  init () {\n    const { container, contentState, eventCenter } = this\n    contentState.stateRender.setContainer(container.children[0])\n    eventCenter.subscribe('stateChange', this.dispatchChange.bind(this))\n    eventCenter.attachDOMEvent(container, 'contextmenu', event => {\n      event.preventDefault()\n      event.stopPropagation()\n      const sectionChanges = this.contentState.selectionChange(this.contentState.cursor)\n      eventCenter.dispatch('contextmenu', event, sectionChanges)\n    })\n    contentState.listenForPathChange()\n    const { theme, focusMode, markdown } = this\n    this.setTheme(theme)\n    this.setMarkdown(markdown)\n    this.setFocusMode(focusMode)\n  }\n\n  dispatchChange () {\n    const { eventCenter } = this\n    const markdown = this.markdown = this.getMarkdown()\n    const wordCount = this.getWordCount(markdown)\n    const cursor = this.getCursor()\n    const history = this.getHistory()\n    eventCenter.dispatch('change', { markdown, wordCount, cursor, history })\n  }\n\n  getMarkdown () {\n    const blocks = this.contentState.getBlocks()\n    return new ExportMarkdown(blocks).generate()\n  }\n\n  getHistory () {\n    return this.contentState.getHistory()\n  }\n\n  setHistory (history) {\n    return this.contentState.setHistory(history)\n  }\n\n  clearHistory () {\n    return this.contentState.history.clearHistory()\n  }\n\n  exportStyledHTML (filename) {\n    const { markdown } = this\n    return new ExportHtml(markdown).generate(filename)\n  }\n\n  exportHtml () {\n    const { markdown } = this\n    return new ExportHtml(markdown).renderHtml()\n  }\n\n  getWordCount (markdown) {\n    return wordCount(markdown)\n  }\n\n  getCursor () {\n    return this.contentState.getCodeMirrorCursor()\n  }\n\n  setMarkdown (markdown, cursor, isRenderCursor = true) {\n    let newMarkdown = markdown\n    if (cursor) {\n      newMarkdown = this.contentState.addCursorToMarkdown(markdown, cursor)\n    }\n    this.contentState.importMarkdown(newMarkdown)\n    this.contentState.importCursor(cursor)\n    this.contentState.render(isRenderCursor)\n    this.dispatchChange()\n  }\n\n  createTable (tableChecker) {\n    return this.contentState.createTable(tableChecker)\n  }\n\n  getSelection () {\n    return this.contentState.selectionChange()\n  }\n\n  setFocusMode (bool) {\n    const { container, focusMode } = this\n    if (bool && !focusMode) {\n      container.classList.add(CLASS_OR_ID['AG_FOCUS_MODE'])\n    } else {\n      container.classList.remove(CLASS_OR_ID['AG_FOCUS_MODE'])\n    }\n    this.focusMode = bool\n  }\n\n  setTheme (name) {\n    if (!name) return\n    const { eventCenter } = this\n    this.theme = name\n    // Render cursor and refresh code block\n    this.contentState.render(true)\n    // notice the ui components to change theme\n    eventCenter.dispatch('theme-change', name)\n  }\n\n  setFont ({ fontSize, lineHeight }) {\n    if (fontSize) this.contentState.fontSize = parseInt(fontSize, 10)\n    if (lineHeight) this.contentState.lineHeight = lineHeight\n  }\n\n  setListItemPreference (preferLooseListItem) {\n    this.contentState.preferLooseListItem = preferLooseListItem\n  }\n\n  setTabSize (tabSize) {\n    if (!tabSize || typeof tabSize !== 'number') {\n      tabSize = 4\n    } else if (tabSize < 1) {\n      tabSize = 1\n    }\n\n    this.contentState.tabSize = tabSize\n  }\n\n  updateParagraph (type) {\n    this.contentState.updateParagraph(type)\n  }\n\n  insertParagraph (location/* before or after */) {\n    this.contentState.insertParagraph(location)\n  }\n\n  editTable (data) {\n    this.contentState.editTable(data)\n  }\n\n  hasFocus () {\n    return document.activeElement === this.container\n  }\n\n  focus () {\n    this.contentState.setCursor()\n    this.container.focus()\n  }\n\n  blur () {\n    this.container.blur()\n  }\n\n  showAutoImagePath (files) {\n    const list = files.map(f => {\n      const iconClass = f.type === 'directory' ? 'icon-folder' : 'icon-image'\n      return Object.assign(f, { iconClass, text: f.file + (f.type === 'directory' ? '/' : '') })\n    })\n    this.contentState.showAutoImagePath(list)\n  }\n\n  format (type) {\n    this.contentState.format(type)\n  }\n\n  insertImage (url) {\n    this.contentState.insertImage(url)\n  }\n\n  search (value, opt) {\n    const { selectHighlight } = opt\n    this.contentState.search(value, opt)\n    this.contentState.render(!!selectHighlight)\n    return this.contentState.searchMatches\n  }\n\n  replace (value, opt) {\n    this.contentState.replace(value, opt)\n    this.contentState.render(false)\n    return this.contentState.searchMatches\n  }\n\n  find (action/* pre or next */) {\n    this.contentState.find(action)\n    this.contentState.render(false)\n    return this.contentState.searchMatches\n  }\n\n  on (event, listener) {\n    this.eventCenter.subscribe(event, listener)\n  }\n\n  off (event, listener) {\n    this.eventCenter.unsubscribe(event, listener)\n  }\n\n  once (event, listener) {\n    this.eventCenter.subscribeOnce(event, listener)\n  }\n\n  undo () {\n    this.contentState.history.undo()\n  }\n\n  redo () {\n    this.contentState.history.redo()\n  }\n\n  copyAsMarkdown () {\n    this.clipboard.copyAsMarkdown()\n  }\n\n  copyAsHtml () {\n    this.clipboard.copyAsHtml()\n  }\n\n  pasteAsPlainText () {\n    this.clipboard.pasteAsPlainText()\n  }\n\n  copy (name) {\n    this.clipboard.copy(name)\n  }\n\n  destroy () {\n    this.contentState.clear()\n    this.quickInsert.destroy()\n    this.codePicker.destroy()\n    this.tablePicker.destroy()\n    this.emojiPicker.destroy()\n    this.imagePathPicker.destroy()\n    this.eventCenter.detachAllDomEvents()\n  }\n}\n\n/**\n  * [ensureContainerDiv ensure container element is div]\n  */\nfunction getContainer (originContainer) {\n  const container = document.createElement('div')\n  const rootDom = document.createElement('div')\n  const attrs = originContainer.attributes\n  // copy attrs from origin container to new div element\n  Array.from(attrs).forEach(attr => {\n    container.setAttribute(attr.name, attr.value)\n  })\n\n  container.setAttribute('contenteditable', true)\n  container.setAttribute('autocorrect', false)\n  container.setAttribute('autocomplete', 'off')\n  container.setAttribute('spellcheck', false)\n  container.appendChild(rootDom)\n  originContainer.replaceWith(container)\n  return container\n}\n\nexport default Muya\n","import Popper from 'popper.js/dist/esm/popper'\nimport resezeDetector from 'element-resize-detector'\nimport { noop } from '../../utils'\nimport { EVENT_KEYS } from '../../config'\nimport './index.css'\n\nconst defaultOptions = {\n  placement: 'bottom-start',\n  modifiers: {\n    offset: {\n      offset: '0, 12'\n    }\n  },\n  showArrow: true\n}\n\nclass BaseFloat {\n  constructor (muya, name, options = {}) {\n    this.name = name\n    this.muya = muya\n    this.options = Object.assign({}, defaultOptions, options)\n    this.status = false\n    this.floatBox = null\n    this.container = null\n    this.popper = null\n    this.cb = noop\n    this.init()\n  }\n\n  init () {\n    const { showArrow } = this.options\n    const floatBox = document.createElement('div')\n    const container = document.createElement('div')\n    // Use to remember whick float container is shown.\n    container.classList.add(this.name)\n    container.classList.add('ag-float-container')\n    floatBox.classList.add('ag-float-wrapper')\n\n    if (showArrow) {\n      const arrow = document.createElement('div')\n      arrow.setAttribute('x-arrow', '')\n      arrow.classList.add('ag-popper-arrow')\n      floatBox.appendChild(arrow)\n    }\n\n    floatBox.appendChild(container)\n    document.body.appendChild(floatBox)\n    const erd = resezeDetector({\n      strategy: 'scroll'\n    })\n\n    // use polyfill\n    erd.listenTo(container, ele => {\n      const { offsetWidth, offsetHeight } = ele\n      Object.assign(floatBox.style, { width: `${offsetWidth + 2}px`, height: `${offsetHeight + 2}px` })\n      this.popper && this.popper.update()\n    })\n\n    // const ro = new ResizeObserver(entries => {\n    //   for (const entry of entries) {\n    //     const { offsetWidth, offsetHeight } = entry.target\n    //     Object.assign(floatBox.style, { width: `${offsetWidth + 2}px`, height: `${offsetHeight + 2}px` })\n    //     this.popper && this.popper.update()\n    //   }\n    // })\n    // ro.observe(container)\n    this.floatBox = floatBox\n    this.container = container\n  }\n\n  listen () {\n    const { eventCenter, container } = this.muya\n    const { floatBox } = this\n    const keydownHandler = event => {\n      if (event.key === EVENT_KEYS.Escape) {\n        this.hide()\n      }\n    }\n    const scrollHandler = _ => {\n      if (this.status) {\n        this.hide()\n      }\n    }\n\n    const themeChange = theme => {\n      const { container, floatBox } = this\n      ;[container, floatBox].forEach(ele => {\n        if (!ele.classList.contains(theme)) {\n          ele.classList.remove(theme === 'dark' ? 'light' : 'dark')\n          ele.classList.add(theme)\n        }\n      })\n    }\n\n    eventCenter.attachDOMEvent(document, 'click', this.hide.bind(this))\n    eventCenter.attachDOMEvent(floatBox, 'click', event => {\n      event.stopPropagation()\n      event.preventDefault()\n    })\n    eventCenter.attachDOMEvent(container, 'keydown', keydownHandler)\n    eventCenter.attachDOMEvent(container, 'scroll', scrollHandler)\n    eventCenter.subscribe('theme-change', themeChange)\n  }\n\n  hide () {\n    const { eventCenter } = this.muya\n    if (!this.status) return\n    this.status = false\n    if (this.popper && this.popper.destroy) {\n      this.popper.destroy()\n    }\n    this.cb = noop\n    eventCenter.dispatch('muya-float', this.name, false)\n  }\n\n  show (reference, cb = noop) {\n    const { floatBox } = this\n    const { eventCenter } = this.muya\n    const { placement, modifiers } = this.options\n    if (this.popper && this.popper.destroy) {\n      this.popper.destroy()\n    }\n    this.cb = cb\n    this.popper = new Popper(reference, floatBox, {\n      placement,\n      modifiers\n    })\n    this.status = true\n    eventCenter.dispatch('muya-float', this.name, true)\n  }\n\n  destroy () {\n    if (this.popper && this.popper.destroy) {\n      this.popper.destroy()\n    }\n    this.floatBox.remove()\n  }\n}\n\nexport default BaseFloat\n","import BaseFloat from '../baseFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport './index.css'\nimport { EVENT_KEYS } from '../../config'\n\nclass TablePicker extends BaseFloat {\n  static pluginName = 'tablePicker'\n  constructor (muya) {\n    const name = 'ag-table-picker'\n    super(muya, name)\n    this.checkerCount = {\n      row: 6,\n      column: 8\n    }\n    this.oldVnode = null\n    this.current = null\n    this.select = null\n    const tableContainer = this.tableContainer = document.createElement('div')\n    this.container.appendChild(tableContainer)\n    this.listen()\n  }\n\n  listen () {\n    const { eventCenter } = this.muya\n    super.listen()\n    eventCenter.subscribe('muya-table-picker', (data, reference, cb) => {\n      if (!this.status) {\n        this.show(data, reference, cb)\n        this.render()\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { row, column } = this.checkerCount\n    const { row: cRow, column: cColumn } = this.current\n    const { row: sRow, column: sColumn } = this.select\n    const { tableContainer, oldVnode } = this\n    const tableRows = []\n    let i\n    let j\n    for (i = 0; i < row; i++) {\n      let rowSelector = 'div.ag-table-picker-row'\n      if (i === 0) {\n        rowSelector += '.ag-table-picker-header'\n      }\n      const cells = []\n      for (j = 0; j < column; j++) {\n        let cellSelector = 'span.ag-table-picker-cell'\n        if (i <= cRow && j <= cColumn) {\n          cellSelector += '.current'\n        }\n        if (i <= sRow && j <= sColumn) {\n          cellSelector += '.selected'\n        }\n        cells.push(h(cellSelector, {\n          key: j.toString(),\n          dataset: {\n            row: i.toString(),\n            column: j.toString()\n          },\n          on: {\n            mouseenter: event => {\n              const { target } = event\n              const r = target.getAttribute('data-row')\n              const c = target.getAttribute('data-column')\n              this.select = { row: r, column: c }\n              this.render()\n            },\n            click: _ => {\n              this.selectItem()\n            }\n          }\n        }))\n      }\n\n      tableRows.push(h(rowSelector, cells))\n    }\n\n    const tableFooter = h('div.footer', [\n      h('input.row-input', {\n        props: {\n          type: 'text',\n          value: +this.select.row + 1\n        },\n        on: {\n          keyup: event => {\n            this.keyupHandler(event, 'row')\n          }\n        }\n      }),\n      'x',\n      h('input.column-input', {\n        props: {\n          type: 'text',\n          value: +this.select.column + 1\n        },\n        on: {\n          keyup: event => {\n            this.keyupHandler(event, 'column')\n          }\n        }\n      }),\n      h('button', {\n        on: {\n          click: _ => {\n            this.selectItem()\n          }\n        }\n      }, 'OK')\n    ])\n\n    const vnode = h('div', [h('div.checker', tableRows), tableFooter])\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(tableContainer, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  keyupHandler (event, type) {\n    let number = +this.select[type]\n    let value = +event.target.value\n    if (event.key === EVENT_KEYS.ArrowUp) {\n      number++\n    } else if (event.key === EVENT_KEYS.ArrowDown) {\n      number--\n    } else if (event.key === EVENT_KEYS.Enter) {\n      this.selectItem()\n    } else if (typeof value === 'number') {\n      number = value - 1\n    }\n    if (number !== +this.select[type]) {\n      this.select[type] = Math.max(number, 0)\n      this.render()\n    }\n  }\n\n  show (current, reference, cb) { // current { row, column } zero base\n    this.current = this.select = current\n    super.show(reference, cb)\n  }\n\n  selectItem () {\n    const { cb } = this\n    const { row, column } = this.select\n    cb(Math.max(row, 1), Math.max(column, 1))\n    this.hide()\n  }\n}\n\nexport default TablePicker\n","import BaseFloat from '../baseFloat'\nimport { EVENT_KEYS } from '../../config'\n\nclass BaseScrollFloat extends BaseFloat {\n  constructor (muya, name) {\n    super(muya, name)\n    this.scrollElement = null\n    this.reference = null\n    this.activeItem = null\n    this.createScrollElement()\n  }\n\n  createScrollElement () {\n    const { container } = this\n    const scrollElement = document.createElement('div')\n    container.appendChild(scrollElement)\n    this.scrollElement = scrollElement\n  }\n\n  activeEleScrollIntoView (ele) {\n    if (ele) {\n      ele.scrollIntoView({\n        behavior: 'auto'\n      })\n    }\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter, container } = this.muya\n    const handler = event => {\n      if (!this.status) return\n      switch (event.key) {\n        case EVENT_KEYS.ArrowUp:\n          this.step('previous')\n          break\n        case EVENT_KEYS.ArrowDown:\n        case EVENT_KEYS.Tab:\n          this.step('next')\n          break\n        case EVENT_KEYS.Enter:\n          this.selectItem(this.activeItem)\n          break\n        default:\n          break\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'keydown', handler)\n  }\n\n  hide () {\n    super.hide()\n    this.reference = null\n  }\n\n  show (reference, cb) {\n    this.cb = cb\n    if (reference instanceof HTMLElement) {\n      if (this.reference && this.reference === reference && this.status) return\n    } else {\n      if (this.reference && this.reference.id === reference.id && this.status) return\n    }\n\n    this.reference = reference\n    super.show(reference, cb)\n  }\n\n  step (direction) {\n    let index = this.renderArray.findIndex(item => {\n      return item === this.activeItem\n    })\n    index = direction === 'next' ? index + 1 : index - 1\n    if (index < 0 || index >= this.renderArray.length) {\n      return\n    }\n    this.activeItem = this.renderArray[index]\n    this.render()\n    const activeEle = this.getItemElement(this.activeItem)\n    this.activeEleScrollIntoView(activeEle)\n  }\n\n  selectItem (item) {\n    const { cb } = this\n    cb(item)\n    // delay hide to avoid dispatch enter hander\n    setTimeout(this.hide.bind(this))\n  }\n\n  getItemElement () {}\n}\n\nexport default BaseScrollFloat\n","// Because the sidebar also use the file icons, So I put this file out of floatBox directory.\nimport 'file-icons-js/css/style.css'\nimport fileIcons from 'file-icons-js'\n\nexport default fileIcons\n","import BaseScrollFloat from '../baseScrollFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport { search } from '../../prism/index'\nimport fileIcons from '../fileIcons'\n\nimport './index.css'\n\nclass CodePicker extends BaseScrollFloat {\n  static pluginName = 'codePicker'\n  constructor (muya) {\n    const name = 'ag-list-picker'\n    super(muya, name)\n    this.renderArray = []\n    this.oldVnode = null\n    this.activeItem = null\n    this.listen()\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-code-picker', ({ reference, lang, cb }) => {\n      const modes = search(lang)\n      if (modes.length && reference) {\n        this.show(reference, cb)\n        this.renderArray = modes\n        this.activeItem = modes[0]\n        this.render()\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { renderArray, oldVnode, scrollElement, activeItem } = this\n    let children = renderArray.map(item => {\n      let iconClassNames\n      if (item.ext && Array.isArray(item.ext)) {\n        for (const ext of item.ext) {\n          iconClassNames = fileIcons.getClassWithColor(`fackname.${ext}`)\n          if (iconClassNames) break\n        }\n      } else if (item.name) {\n        iconClassNames = fileIcons.getClassWithColor(item.name)\n      }\n\n      // Because `markdown mode in Codemirror` don't have extensions.\n      // if still can not get the className, add a common className 'atom-icon light-cyan'\n      if (!iconClassNames) {\n        iconClassNames = item.name === 'markdown' ? fileIcons.getClassWithColor('fackname.md') : 'atom-icon light-cyan'\n      }\n      const iconSelector = 'span' + iconClassNames.split(/\\s/).map(s => `.${s}`).join('')\n      const icon = h('div.icon-wrapper', h(iconSelector))\n      const text = h('div.language', item.name)\n      const selector = activeItem === item ? 'li.item.active' : 'li.item'\n      return h(selector, {\n        dataset: {\n          label: item.name\n        },\n        on: {\n          click: () => {\n            this.selectItem(item)\n          }\n        }\n      }, [icon, text])\n    })\n\n    if (children.length === 0) {\n      children = h('div.no-result', 'No result')\n    }\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  getItemElement (item) {\n    const { name } = item\n    return this.floatBox.querySelector(`[data-label=\"${name}\"]`)\n  }\n}\n\nexport default CodePicker\n","import BaseScrollFloat from '../baseScrollFloat'\nimport Emoji, { setInlineEmoji } from '../emojis'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport './index.css'\n\nclass EmojiPicker extends BaseScrollFloat {\n  static pluginName = 'emojiPicker'\n  constructor (muya) {\n    const name = 'ag-emoji-picker'\n    super(muya, name)\n    this._renderObj = null\n    this.renderArray = null\n    this.activeItem = null\n    this.oldVnode = null\n    this.emoji = new Emoji()\n    this.listen()\n  }\n\n  set renderObj (obj) {\n    this._renderObj = obj\n    const renderArray = []\n    Object.keys(obj).forEach(key => {\n      renderArray.push(...obj[key])\n    })\n    this.renderArray = renderArray\n    if (this.renderArray.length > 0) {\n      this.activeItem = this.renderArray[0]\n      const activeEle = this.getItemElement(this.activeItem)\n      this.activeEleScrollIntoView(activeEle)\n    }\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-emoji-picker', ({ reference, emojiNode }) => {\n      if (!emojiNode) return this.hide()\n      const text = emojiNode.textContent.trim()\n      if (text) {\n        const renderObj = this.emoji.search(text)\n        this.renderObj = renderObj\n        const cb = item => {\n          setInlineEmoji(emojiNode, item)\n        }\n        if (this.renderArray.length) {\n          this.show(reference, cb)\n          this.render()\n        } else {\n          this.hide()\n        }\n      }\n    })\n  }\n\n  render () {\n    const { scrollElement, _renderObj, activeItem, oldVnode } = this\n    const children = Object.keys(_renderObj).map(category => {\n      const title = h('div.title', category)\n      const emojis = _renderObj[category].map(e => {\n        const selector = activeItem === e ? 'div.item.active' : 'div.item'\n        return h(selector, {\n          dataset: { label: e.aliases[0] },\n          props: { title: e.description },\n          on: {\n            click: () => {\n              this.selectItem(e)\n            }\n          }\n        }, h('span', e.emoji))\n      })\n\n      return h('section', [title, h('div.emoji-wrapper', emojis)])\n    })\n\n    const vnode = h('div', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  getItemElement (item) {\n    const label = item.aliases[0]\n    return this.floatBox.querySelector(`[data-label=\"${label}\"]`)\n  }\n\n  destroy () {\n    super.destroy()\n    this.emoji.destroy()\n  }\n}\n\nexport default EmojiPicker\n","export default {\n      id: \"folder-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#folder-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"image-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#image-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"upload-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#upload-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","import BaseScrollFloat from '../baseScrollFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport FolderIcon from '../../assets/icons/folder.svg'\nimport ImageIcon from '../../assets/icons/image.svg'\nimport UploadIcon from '../../assets/icons/upload.svg'\n\nconst iconhash = {\n  'icon-image': ImageIcon,\n  'icon-folder': FolderIcon,\n  'icon-upload': UploadIcon\n}\n\nclass ImagePathPicker extends BaseScrollFloat {\n  static pluginName = 'imagePathPicker'\n  constructor (muya) {\n    const name = 'ag-list-picker'\n    super(muya, name)\n    this.renderArray = []\n    this.oldVnode = null\n    this.activeItem = null\n    this.listen()\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-image-picker', ({ reference, list, cb }) => {\n      if (list.length) {\n        this.show(reference, cb)\n        this.renderArray = list\n        this.activeItem = list[0]\n        this.render()\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { renderArray, oldVnode, scrollElement, activeItem } = this\n    let children = renderArray.map((item) => {\n      const { text, iconClass } = item\n      const icon = h('div.icon-wrapper', h('img', {\n        attrs: {\n          'src': `.${iconhash[iconClass].url}`\n        }\n      }))\n      const textEle = h('div.language', text)\n      const selector = activeItem === item ? 'li.item.active' : 'li.item'\n      return h(selector, {\n        dataset: {\n          label: item.text\n        },\n        on: {\n          click: () => {\n            this.selectItem(item)\n          }\n        }\n      }, [icon, textEle])\n    })\n\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  getItemElement (item) {\n    const { text } = item\n    return this.floatBox.querySelector(`[data-label=\"${text}\"]`)\n  }\n}\n\nexport default ImagePathPicker\n","export default {\n      id: \"format_strong-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#format_strong-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"format_emphasis-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#format_emphasis-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"format_code-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#format_code-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"format_image-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#format_image-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"format_link-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#format_link-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"format_strike-usage\",\n      viewBox: \"0 0 1147 1024\",\n      url: \"/\" + \"sprite.svg#format_strike-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"format_clear-usage\",\n      viewBox: \"0 0 1102 1024\",\n      url: \"/\" + \"sprite.svg#format_clear-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","import strongIcon from '../../assets/icons/format_strong.svg'\nimport emphasisIcon from '../../assets/icons/format_emphasis.svg'\nimport codeIcon from '../../assets/icons/format_code.svg'\nimport imageIcon from '../../assets/icons/format_image.svg'\nimport linkIcon from '../../assets/icons/format_link.svg'\nimport strikeIcon from '../../assets/icons/format_strike.svg'\nimport clearIcon from '../../assets/icons/format_clear.svg'\n\nconst icons = [\n  {\n    type: 'strong',\n    icon: strongIcon\n  }, {\n    type: 'em',\n    icon: emphasisIcon\n  }, {\n    type: 'del',\n    icon: strikeIcon\n  }, {\n    type: 'inline_code',\n    icon: codeIcon\n  }, {\n    type: 'link',\n    icon: linkIcon\n  }, {\n    type: 'image',\n    icon: imageIcon\n  }, {\n    type: 'clear',\n    icon: clearIcon\n  }\n]\n\nexport default icons\n","import BaseFloat from '../baseFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport icons from './config'\n\nimport './index.css'\n\nconst defaultOptions = {\n  placement: 'top',\n  modifiers: {\n    offset: {\n      offset: '20, 5'\n    }\n  },\n  showArrow: false\n}\n\nclass FormatPicker extends BaseFloat {\n  static pluginName = 'formatPicker'\n  constructor (muya, options = {}) {\n    const name = 'ag-format-picker'\n    const opts = Object.assign({}, defaultOptions, options)\n    super(muya, name, opts)\n    this.oldVnode = null\n    this.formats = null\n    this.options = opts\n    this.icons = icons\n    const formatContainer = this.formatContainer = document.createElement('div')\n    this.container.appendChild(formatContainer)\n    this.listen()\n  }\n\n  listen () {\n    const { eventCenter } = this.muya\n    super.listen()\n    eventCenter.subscribe('muya-format-picker', ({ reference, formats }) => {\n      if (reference) {\n        this.formats = formats\n        setTimeout(() => {\n          this.show(reference)\n          this.render()\n        }, 0)\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { icons, oldVnode, formatContainer, formats } = this\n    const children = icons.map(i => {\n      const icon = h('svg', {\n        attrs: {\n          'viewBox': i.icon.viewBox,\n          'aria-hidden': 'true'\n        }\n      }, [h('use', {\n        attrs: {\n          'xlink:href': `.${i.icon.url}`\n        }\n      })]\n      )\n      const iconWrapper = h('div.icon-wrapper', icon)\n      let itemSelector = `li.item.${i.type}`\n      if (formats.some(f => f.type === i.type)) {\n        itemSelector += '.active'\n      }\n      return h(itemSelector, {\n        on: {\n          click: event => {\n            this.selectItem(event, i)\n          }\n        }\n      }, iconWrapper)\n    })\n\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(formatContainer, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  selectItem (event, item) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { contentState } = this.muya\n    contentState.render()\n    contentState.format(item.type)\n    if (/link|image/.test(item.type)) {\n      this.hide()\n    } else {\n      const { formats } = contentState.selectionFormats()\n      this.formats = formats\n      this.render()\n    }\n  }\n}\n\nexport default FormatPicker\n","<template>\n  <div id=\"app\">\n    <div ref=\"editor\"></div>\n  </div>\n</template>\n\n<script>\n  import Muya from './muya/lib'\n  import TablePicker from './muya/lib/ui/tablePicker'\n  // import QuickInsert from './muya/lib/ui/quickInsert'\n  import CodePicker from './muya/lib/ui/codePicker'\n  import EmojiPicker from './muya/lib/ui/emojiPicker'\n  import ImagePathPicker from './muya/lib/ui/imagePicker'\n  import FormatPicker from './muya/lib/ui/formatPicker'\n  import './muya/themes/light.css'\n\n  export default {\n    name: 'app',\n    created () {\n      this.$nextTick(() => {\n        const ele = this.$refs.editor\n\n        Muya.use(TablePicker)\n        // Muya.use(QuickInsert)\n        Muya.use(CodePicker)\n        Muya.use(EmojiPicker)\n        Muya.use(ImagePathPicker)\n        Muya.use(FormatPicker)\n        const { container } = this.editor = new Muya(ele, {})\n      })\n    }\n  }\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=df99df0a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","/** js sequence diagrams 2.0.1\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  @license Simplified BSD license.\n */\nimport _ from 'underscore'\nimport './raphael'\nimport './webFontLoader'\n\nfunction Diagram() {\n  this.title   = undefined;\n  this.actors  = [];\n  this.signals = [];\n}\n/*\n * Return an existing actor with this alias, or creates a new one with alias and name.\n */\nDiagram.prototype.getActor = function(alias, name) {\n  alias = alias.trim();\n\n  var i;\n  var actors = this.actors;\n  for (i in actors) {\n    if (actors[i].alias == alias) {\n      return actors[i];\n    }\n  }\n  i = actors.push(new Diagram.Actor(alias, (name || alias), actors.length));\n  return actors[ i - 1 ];\n};\n\n/*\n * Parses the input as either a alias, or a \"name as alias\", and returns the corresponding actor.\n */\nDiagram.prototype.getActorWithAlias = function(input) {\n  input = input.trim();\n\n  // We are lazy and do some of the parsing in javascript :(. TODO move into the .jison file.\n  var s = /([\\s\\S]+) as (\\S+)$/im.exec(input);\n  var alias;\n  var name;\n  if (s) {\n    name  = s[1].trim();\n    alias = s[2].trim();\n  } else {\n    name = alias = input;\n  }\n  return this.getActor(alias, name);\n};\n\nDiagram.prototype.setTitle = function(title) {\n  this.title = title;\n};\n\nDiagram.prototype.addSignal = function(signal) {\n  this.signals.push(signal);\n};\n\nDiagram.Actor = function(alias, name, index) {\n  this.alias = alias;\n  this.name  = name;\n  this.index = index;\n};\n\nDiagram.Signal = function(actorA, signaltype, actorB, message) {\n  this.type       = 'Signal';\n  this.actorA     = actorA;\n  this.actorB     = actorB;\n  this.linetype   = signaltype & 3;\n  this.arrowtype  = (signaltype >> 2) & 3;\n  this.message    = message;\n};\n\nDiagram.Signal.prototype.isSelf = function() {\n  return this.actorA.index == this.actorB.index;\n};\n\nDiagram.Note = function(actor, placement, message) {\n  this.type      = 'Note';\n  this.actor     = actor;\n  this.placement = placement;\n  this.message   = message;\n\n  if (this.hasManyActors() && actor[0] == actor[1]) {\n    throw new Error('Note should be over two different actors');\n  }\n};\n\nDiagram.Note.prototype.hasManyActors = function() {\n  return _.isArray(this.actor);\n};\n\nDiagram.unescape = function(s) {\n  // Turn \"\\\\n\" into \"\\n\"\n  return s.trim().replace(/^\"(.*)\"$/m, '$1').replace(/\\\\n/gm, '\\n');\n};\n\nDiagram.LINETYPE = {\n  SOLID: 0,\n  DOTTED: 1\n};\n\nDiagram.ARROWTYPE = {\n  FILLED: 0,\n  OPEN: 1\n};\n\nDiagram.PLACEMENT = {\n  LEFTOF: 0,\n  RIGHTOF: 1,\n  OVER: 2\n};\n\n// Some older browsers don't have getPrototypeOf, thus we polyfill it\n// https://github.com/bramp/js-sequence-diagrams/issues/57\n// https://github.com/zaach/jison/issues/194\n// Taken from http://ejohn.org/blog/objectgetprototypeof/\nif (typeof Object.getPrototypeOf !== 'function') {\n  /* jshint -W103 */\n  if (typeof 'test'.__proto__ === 'object') {\n    Object.getPrototypeOf = function(object) {\n      return object.__proto__;\n    };\n  } else {\n    Object.getPrototypeOf = function(object) {\n      // May break if the constructor has been tampered with\n      return object.constructor.prototype;\n    };\n  }\n  /* jshint +W103 */\n}\n\n/** The following is included by preprocessor */\n/* parser generated by jison 0.4.15 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = function() {\n    function Parser() {\n        this.yy = {};\n    }\n    var o = function(k, v, o, l) {\n        for (o = o || {}, l = k.length; l--; o[k[l]] = v) ;\n        return o;\n    }, $V0 = [ 5, 8, 9, 13, 15, 24 ], $V1 = [ 1, 13 ], $V2 = [ 1, 17 ], $V3 = [ 24, 29, 30 ], parser = {\n        trace: function() {},\n        yy: {},\n        symbols_: {\n            error: 2,\n            start: 3,\n            document: 4,\n            EOF: 5,\n            line: 6,\n            statement: 7,\n            NL: 8,\n            participant: 9,\n            actor_alias: 10,\n            signal: 11,\n            note_statement: 12,\n            title: 13,\n            message: 14,\n            note: 15,\n            placement: 16,\n            actor: 17,\n            over: 18,\n            actor_pair: 19,\n            \",\": 20,\n            left_of: 21,\n            right_of: 22,\n            signaltype: 23,\n            ACTOR: 24,\n            linetype: 25,\n            arrowtype: 26,\n            LINE: 27,\n            DOTLINE: 28,\n            ARROW: 29,\n            OPENARROW: 30,\n            MESSAGE: 31,\n            $accept: 0,\n            $end: 1\n        },\n        terminals_: {\n            2: \"error\",\n            5: \"EOF\",\n            8: \"NL\",\n            9: \"participant\",\n            13: \"title\",\n            15: \"note\",\n            18: \"over\",\n            20: \",\",\n            21: \"left_of\",\n            22: \"right_of\",\n            24: \"ACTOR\",\n            27: \"LINE\",\n            28: \"DOTLINE\",\n            29: \"ARROW\",\n            30: \"OPENARROW\",\n            31: \"MESSAGE\"\n        },\n        productions_: [ 0, [ 3, 2 ], [ 4, 0 ], [ 4, 2 ], [ 6, 1 ], [ 6, 1 ], [ 7, 2 ], [ 7, 1 ], [ 7, 1 ], [ 7, 2 ], [ 12, 4 ], [ 12, 4 ], [ 19, 1 ], [ 19, 3 ], [ 16, 1 ], [ 16, 1 ], [ 11, 4 ], [ 17, 1 ], [ 10, 1 ], [ 23, 2 ], [ 23, 1 ], [ 25, 1 ], [ 25, 1 ], [ 26, 1 ], [ 26, 1 ], [ 14, 1 ] ],\n        performAction: function(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n            /* this == yyval */\n            var $0 = $$.length - 1;\n            switch (yystate) {\n              case 1:\n                return yy.parser.yy;\n\n              case 4:\n                break;\n\n              case 6:\n                $$[$0];\n                break;\n\n              case 7:\n              case 8:\n                yy.parser.yy.addSignal($$[$0]);\n                break;\n\n              case 9:\n                yy.parser.yy.setTitle($$[$0]);\n                break;\n\n              case 10:\n                this.$ = new Diagram.Note($$[$0 - 1], $$[$0 - 2], $$[$0]);\n                break;\n\n              case 11:\n                this.$ = new Diagram.Note($$[$0 - 1], Diagram.PLACEMENT.OVER, $$[$0]);\n                break;\n\n              case 12:\n              case 20:\n                this.$ = $$[$0];\n                break;\n\n              case 13:\n                this.$ = [ $$[$0 - 2], $$[$0] ];\n                break;\n\n              case 14:\n                this.$ = Diagram.PLACEMENT.LEFTOF;\n                break;\n\n              case 15:\n                this.$ = Diagram.PLACEMENT.RIGHTOF;\n                break;\n\n              case 16:\n                this.$ = new Diagram.Signal($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0]);\n                break;\n\n              case 17:\n                this.$ = yy.parser.yy.getActor(Diagram.unescape($$[$0]));\n                break;\n\n              case 18:\n                this.$ = yy.parser.yy.getActorWithAlias(Diagram.unescape($$[$0]));\n                break;\n\n              case 19:\n                this.$ = $$[$0 - 1] | $$[$0] << 2;\n                break;\n\n              case 21:\n                this.$ = Diagram.LINETYPE.SOLID;\n                break;\n\n              case 22:\n                this.$ = Diagram.LINETYPE.DOTTED;\n                break;\n\n              case 23:\n                this.$ = Diagram.ARROWTYPE.FILLED;\n                break;\n\n              case 24:\n                this.$ = Diagram.ARROWTYPE.OPEN;\n                break;\n\n              case 25:\n                this.$ = Diagram.unescape($$[$0].substring(1));\n            }\n        },\n        table: [ o($V0, [ 2, 2 ], {\n            3: 1,\n            4: 2\n        }), {\n            1: [ 3 ]\n        }, {\n            5: [ 1, 3 ],\n            6: 4,\n            7: 5,\n            8: [ 1, 6 ],\n            9: [ 1, 7 ],\n            11: 8,\n            12: 9,\n            13: [ 1, 10 ],\n            15: [ 1, 12 ],\n            17: 11,\n            24: $V1\n        }, {\n            1: [ 2, 1 ]\n        }, o($V0, [ 2, 3 ]), o($V0, [ 2, 4 ]), o($V0, [ 2, 5 ]), {\n            10: 14,\n            24: [ 1, 15 ]\n        }, o($V0, [ 2, 7 ]), o($V0, [ 2, 8 ]), {\n            14: 16,\n            31: $V2\n        }, {\n            23: 18,\n            25: 19,\n            27: [ 1, 20 ],\n            28: [ 1, 21 ]\n        }, {\n            16: 22,\n            18: [ 1, 23 ],\n            21: [ 1, 24 ],\n            22: [ 1, 25 ]\n        }, o([ 20, 27, 28, 31 ], [ 2, 17 ]), o($V0, [ 2, 6 ]), o($V0, [ 2, 18 ]), o($V0, [ 2, 9 ]), o($V0, [ 2, 25 ]), {\n            17: 26,\n            24: $V1\n        }, {\n            24: [ 2, 20 ],\n            26: 27,\n            29: [ 1, 28 ],\n            30: [ 1, 29 ]\n        }, o($V3, [ 2, 21 ]), o($V3, [ 2, 22 ]), {\n            17: 30,\n            24: $V1\n        }, {\n            17: 32,\n            19: 31,\n            24: $V1\n        }, {\n            24: [ 2, 14 ]\n        }, {\n            24: [ 2, 15 ]\n        }, {\n            14: 33,\n            31: $V2\n        }, {\n            24: [ 2, 19 ]\n        }, {\n            24: [ 2, 23 ]\n        }, {\n            24: [ 2, 24 ]\n        }, {\n            14: 34,\n            31: $V2\n        }, {\n            14: 35,\n            31: $V2\n        }, {\n            20: [ 1, 36 ],\n            31: [ 2, 12 ]\n        }, o($V0, [ 2, 16 ]), o($V0, [ 2, 10 ]), o($V0, [ 2, 11 ]), {\n            17: 37,\n            24: $V1\n        }, {\n            31: [ 2, 13 ]\n        } ],\n        defaultActions: {\n            3: [ 2, 1 ],\n            24: [ 2, 14 ],\n            25: [ 2, 15 ],\n            27: [ 2, 19 ],\n            28: [ 2, 23 ],\n            29: [ 2, 24 ],\n            37: [ 2, 13 ]\n        },\n        parseError: function(str, hash) {\n            if (!hash.recoverable) throw new Error(str);\n            this.trace(str);\n        },\n        parse: function(input) {\n            function lex() {\n                var token;\n                return token = lexer.lex() || EOF, \"number\" != typeof token && (token = self.symbols_[token] || token), \n                token;\n            }\n            var self = this, stack = [ 0 ], vstack = [ null ], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1, args = lstack.slice.call(arguments, 1), lexer = Object.create(this.lexer), sharedState = {\n                yy: {}\n            };\n            for (var k in this.yy) Object.prototype.hasOwnProperty.call(this.yy, k) && (sharedState.yy[k] = this.yy[k]);\n            lexer.setInput(input, sharedState.yy), sharedState.yy.lexer = lexer, sharedState.yy.parser = this, \n            \"undefined\" == typeof lexer.yylloc && (lexer.yylloc = {});\n            var yyloc = lexer.yylloc;\n            lstack.push(yyloc);\n            var ranges = lexer.options && lexer.options.ranges;\n            \"function\" == typeof sharedState.yy.parseError ? this.parseError = sharedState.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError;\n            for (var symbol, preErrorSymbol, state, action, r, p, len, newState, expected, yyval = {}; ;) {\n                if (state = stack[stack.length - 1], this.defaultActions[state] ? action = this.defaultActions[state] : (null !== symbol && \"undefined\" != typeof symbol || (symbol = lex()), \n                action = table[state] && table[state][symbol]), \"undefined\" == typeof action || !action.length || !action[0]) {\n                    var errStr = \"\";\n                    expected = [];\n                    for (p in table[state]) this.terminals_[p] && p > TERROR && expected.push(\"'\" + this.terminals_[p] + \"'\");\n                    errStr = lexer.showPosition ? \"Parse error on line \" + (yylineno + 1) + \":\\n\" + lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\" : \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\"), \n                    this.parseError(errStr, {\n                        text: lexer.match,\n                        token: this.terminals_[symbol] || symbol,\n                        line: lexer.yylineno,\n                        loc: yyloc,\n                        expected: expected\n                    });\n                }\n                if (action[0] instanceof Array && action.length > 1) throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol), vstack.push(lexer.yytext), lstack.push(lexer.yylloc), stack.push(action[1]), \n                    symbol = null, preErrorSymbol ? (symbol = preErrorSymbol, preErrorSymbol = null) : (yyleng = lexer.yyleng, \n                    yytext = lexer.yytext, yylineno = lexer.yylineno, yyloc = lexer.yylloc, recovering > 0 && recovering--);\n                    break;\n\n                  case 2:\n                    if (len = this.productions_[action[1]][1], yyval.$ = vstack[vstack.length - len], \n                    yyval._$ = {\n                        first_line: lstack[lstack.length - (len || 1)].first_line,\n                        last_line: lstack[lstack.length - 1].last_line,\n                        first_column: lstack[lstack.length - (len || 1)].first_column,\n                        last_column: lstack[lstack.length - 1].last_column\n                    }, ranges && (yyval._$.range = [ lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1] ]), \n                    r = this.performAction.apply(yyval, [ yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack ].concat(args)), \n                    \"undefined\" != typeof r) return r;\n                    len && (stack = stack.slice(0, -1 * len * 2), vstack = vstack.slice(0, -1 * len), \n                    lstack = lstack.slice(0, -1 * len)), stack.push(this.productions_[action[1]][0]), \n                    vstack.push(yyval.$), lstack.push(yyval._$), newState = table[stack[stack.length - 2]][stack[stack.length - 1]], \n                    stack.push(newState);\n                    break;\n\n                  case 3:\n                    return !0;\n                }\n            }\n            return !0;\n        }\n    }, lexer = function() {\n        var lexer = {\n            EOF: 1,\n            parseError: function(str, hash) {\n                if (!this.yy.parser) throw new Error(str);\n                this.yy.parser.parseError(str, hash);\n            },\n            // resets the lexer, sets new input\n            setInput: function(input, yy) {\n                return this.yy = yy || this.yy || {}, this._input = input, this._more = this._backtrack = this.done = !1, \n                this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = \"\", this.conditionStack = [ \"INITIAL\" ], \n                this.yylloc = {\n                    first_line: 1,\n                    first_column: 0,\n                    last_line: 1,\n                    last_column: 0\n                }, this.options.ranges && (this.yylloc.range = [ 0, 0 ]), this.offset = 0, this;\n            },\n            // consumes and returns one char from the input\n            input: function() {\n                var ch = this._input[0];\n                this.yytext += ch, this.yyleng++, this.offset++, this.match += ch, this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                return lines ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, \n                this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), \n                ch;\n            },\n            // unshifts one char (or a string) into the input\n            unput: function(ch) {\n                var len = ch.length, lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - len), \n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), \n                lines.length - 1 && (this.yylineno -= lines.length - 1);\n                var r = this.yylloc.range;\n                return this.yylloc = {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.yylineno + 1,\n                    first_column: this.yylloc.first_column,\n                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                }, this.options.ranges && (this.yylloc.range = [ r[0], r[0] + this.yyleng - len ]), \n                this.yyleng = this.yytext.length, this;\n            },\n            // When called from action, caches matched text and appends it on next action\n            more: function() {\n                return this._more = !0, this;\n            },\n            // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n            reject: function() {\n                return this.options.backtrack_lexer ? (this._backtrack = !0, this) : this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n\" + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                });\n            },\n            // retain first n characters of the match\n            less: function(n) {\n                this.unput(this.match.slice(n));\n            },\n            // displays already matched input, i.e. for error messages\n            pastInput: function() {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? \"...\" : \"\") + past.substr(-20).replace(/\\n/g, \"\");\n            },\n            // displays upcoming input, i.e. for error messages\n            upcomingInput: function() {\n                var next = this.match;\n                return next.length < 20 && (next += this._input.substr(0, 20 - next.length)), (next.substr(0, 20) + (next.length > 20 ? \"...\" : \"\")).replace(/\\n/g, \"\");\n            },\n            // displays the character position where the lexing error occurred, i.e. for error messages\n            showPosition: function() {\n                var pre = this.pastInput(), c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n            },\n            // test the lexed token: return FALSE when not a match, otherwise return token\n            test_match: function(match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer && (// save context\n                backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                        first_line: this.yylloc.first_line,\n                        last_line: this.last_line,\n                        first_column: this.yylloc.first_column,\n                        last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                }, this.options.ranges && (backup.yylloc.range = this.yylloc.range.slice(0))), lines = match[0].match(/(?:\\r\\n?|\\n).*/g), \n                lines && (this.yylineno += lines.length), this.yylloc = {\n                    first_line: this.yylloc.last_line,\n                    last_line: this.yylineno + 1,\n                    first_column: this.yylloc.last_column,\n                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                }, this.yytext += match[0], this.match += match[0], this.matches = match, this.yyleng = this.yytext.length, \n                this.options.ranges && (this.yylloc.range = [ this.offset, this.offset += this.yyleng ]), \n                this._more = !1, this._backtrack = !1, this._input = this._input.slice(match[0].length), \n                this.matched += match[0], token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]), \n                this.done && this._input && (this.done = !1), token) return token;\n                if (this._backtrack) {\n                    // recover context\n                    for (var k in backup) this[k] = backup[k];\n                    return !1;\n                }\n                return !1;\n            },\n            // return next match in input\n            next: function() {\n                if (this.done) return this.EOF;\n                this._input || (this.done = !0);\n                var token, match, tempMatch, index;\n                this._more || (this.yytext = \"\", this.match = \"\");\n                for (var rules = this._currentRules(), i = 0; i < rules.length; i++) if (tempMatch = this._input.match(this.rules[rules[i]]), \n                tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    if (match = tempMatch, index = i, this.options.backtrack_lexer) {\n                        if (token = this.test_match(tempMatch, rules[i]), token !== !1) return token;\n                        if (this._backtrack) {\n                            match = !1;\n                            continue;\n                        }\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return !1;\n                    }\n                    if (!this.options.flex) break;\n                }\n                return match ? (token = this.test_match(match, rules[index]), token !== !1 && token) : \"\" === this._input ? this.EOF : this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". Unrecognized text.\\n\" + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                });\n            },\n            // return next match that has a token\n            lex: function() {\n                var r = this.next();\n                return r ? r : this.lex();\n            },\n            // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n            begin: function(condition) {\n                this.conditionStack.push(condition);\n            },\n            // pop the previously active lexer condition state off the condition stack\n            popState: function() {\n                var n = this.conditionStack.length - 1;\n                return n > 0 ? this.conditionStack.pop() : this.conditionStack[0];\n            },\n            // produce the lexer rule set which is active for the currently active lexer condition state\n            _currentRules: function() {\n                return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;\n            },\n            // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n            topState: function(n) {\n                return n = this.conditionStack.length - 1 - Math.abs(n || 0), n >= 0 ? this.conditionStack[n] : \"INITIAL\";\n            },\n            // alias for begin(condition)\n            pushState: function(condition) {\n                this.begin(condition);\n            },\n            // return the number of states currently on the stack\n            stateStackSize: function() {\n                return this.conditionStack.length;\n            },\n            options: {\n                \"case-insensitive\": !0\n            },\n            performAction: function(yy, yy_, $avoiding_name_collisions, YY_START) {\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    return 8;\n\n                  case 1:\n                    /* skip whitespace */\n                    break;\n\n                  case 2:\n                    /* skip comments */\n                    break;\n\n                  case 3:\n                    return 9;\n\n                  case 4:\n                    return 21;\n\n                  case 5:\n                    return 22;\n\n                  case 6:\n                    return 18;\n\n                  case 7:\n                    return 15;\n\n                  case 8:\n                    return 13;\n\n                  case 9:\n                    return 20;\n\n                  case 10:\n                    return 24;\n\n                  case 11:\n                    return 24;\n\n                  case 12:\n                    return 28;\n\n                  case 13:\n                    return 27;\n\n                  case 14:\n                    return 30;\n\n                  case 15:\n                    return 29;\n\n                  case 16:\n                    return 31;\n\n                  case 17:\n                    return 5;\n\n                  case 18:\n                    return \"INVALID\";\n                }\n            },\n            rules: [ /^(?:[\\r\\n]+)/i, /^(?:\\s+)/i, /^(?:#[^\\r\\n]*)/i, /^(?:participant\\b)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:over\\b)/i, /^(?:note\\b)/i, /^(?:title\\b)/i, /^(?:,)/i, /^(?:[^\\->:,\\r\\n\"]+)/i, /^(?:\"[^\"]+\")/i, /^(?:--)/i, /^(?:-)/i, /^(?:>>)/i, /^(?:>)/i, /^(?:[^\\r\\n]+)/i, /^(?:$)/i, /^(?:.)/i ],\n            conditions: {\n                INITIAL: {\n                    rules: [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 ],\n                    inclusive: !0\n                }\n            }\n        };\n        return lexer;\n    }();\n    return parser.lexer = lexer, Parser.prototype = parser, parser.Parser = Parser, \n    new Parser();\n}();\n\n\"undefined\" != typeof require && \"undefined\" != typeof exports && (exports.parser = parser, \nexports.Parser = parser.Parser, exports.parse = function() {\n    return parser.parse.apply(parser, arguments);\n}, exports.main = function(args) {\n    args[1] || (console.log(\"Usage: \" + args[0] + \" FILE\"), process.exit(1));\n    var source = require(\"fs\").readFileSync(require(\"path\").normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n}, \"undefined\" != typeof module && require.main === module && exports.main(process.argv.slice(1)));\n/**\n * jison doesn't have a good exception, so we make one.\n * This is brittle as it depends on jison internals\n */\nfunction ParseError(message, hash) {\n  _.extend(this, hash);\n\n  this.name = 'ParseError';\n  this.message = (message || '');\n}\nParseError.prototype = new Error();\nDiagram.ParseError = ParseError;\n\nDiagram.parse = function(input) {\n  // TODO jison v0.4.17 changed their API slightly, so parser is no longer defined:\n\n  // Create the object to track state and deal with errors\n  parser.yy = new Diagram();\n  parser.yy.parseError = function(message, hash) {\n    throw new ParseError(message, hash);\n  };\n\n  // Parse\n  var diagram = parser.parse(input);\n\n  // Then clean up the parseError key that a user won't care about\n  delete diagram.parseError;\n  return diagram;\n};\n\n\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, _ */\n\n// Following the CSS convention\n// Margin is the gap outside the box\n// Padding is the gap inside the box\n// Each object has x/y/width/height properties\n// The x/y should be top left corner\n// width/height is with both margin and padding\n\n// TODO\n// Image width is wrong, when there is a note in the right hand col\n// Title box could look better\n// Note box could look better\n\nvar DIAGRAM_MARGIN = 10;\n\nvar ACTOR_MARGIN   = 10; // Margin around a actor\nvar ACTOR_PADDING  = 10; // Padding inside a actor\n\nvar SIGNAL_MARGIN  = 5; // Margin around a signal\nvar SIGNAL_PADDING = 5; // Padding inside a signal\n\nvar NOTE_MARGIN   = 10; // Margin around a note\nvar NOTE_PADDING  = 5; // Padding inside a note\nvar NOTE_OVERLAP  = 15; // Overlap when using a \"note over A,B\"\n\nvar TITLE_MARGIN   = 0;\nvar TITLE_PADDING  = 5;\n\nvar SELF_SIGNAL_WIDTH = 20; // How far out a self signal goes\n\nvar PLACEMENT = Diagram.PLACEMENT;\nvar LINETYPE  = Diagram.LINETYPE;\nvar ARROWTYPE = Diagram.ARROWTYPE;\n\nvar ALIGN_LEFT   = 0;\nvar ALIGN_CENTER = 1;\n\nfunction AssertException(message) { this.message = message; }\nAssertException.prototype.toString = function() {\n  return 'AssertException: ' + this.message;\n};\n\nfunction assert(exp, message) {\n  if (!exp) {\n    throw new AssertException(message);\n  }\n}\n\nif (!String.prototype.trim) {\n  String.prototype.trim = function() {\n    return this.replace(/^\\s+|\\s+$/g, '');\n  };\n}\n\nDiagram.themes = {};\nfunction registerTheme(name, theme) {\n  Diagram.themes[name] = theme;\n}\n\n/******************\n * Drawing extras\n ******************/\n\nfunction getCenterX(box) {\n  return box.x + box.width / 2;\n}\n\nfunction getCenterY(box) {\n  return box.y + box.height / 2;\n}\n\n/******************\n * SVG Path extras\n ******************/\n\nfunction clamp(x, min, max) {\n  if (x < min) {\n    return min;\n  }\n  if (x > max) {\n    return max;\n  }\n  return x;\n}\n\nfunction wobble(x1, y1, x2, y2) {\n  assert(_.every([x1,x2,y1,y2], _.isFinite), 'x1,x2,y1,y2 must be numeric');\n\n  // Wobble no more than 1/25 of the line length\n  var factor = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1)) / 25;\n\n  // Distance along line where the control points are\n  // Clamp between 20% and 80% so any arrow heads aren't angled too much\n  var r1 = clamp(Math.random(), 0.2, 0.8);\n  var r2 = clamp(Math.random(), 0.2, 0.8);\n\n  var xfactor = Math.random() > 0.5 ? factor : -factor;\n  var yfactor = Math.random() > 0.5 ? factor : -factor;\n\n  var p1 = {\n    x: (x2 - x1) * r1 + x1 + xfactor,\n    y: (y2 - y1) * r1 + y1 + yfactor\n  };\n\n  var p2 = {\n    x: (x2 - x1) * r2 + x1 - xfactor,\n    y: (y2 - y1) * r2 + y1 - yfactor\n  };\n\n  return 'C' + p1.x.toFixed(1) + ',' + p1.y.toFixed(1) + // start control point\n         ' ' + p2.x.toFixed(1) + ',' + p2.y.toFixed(1) + // end control point\n         ' ' + x2.toFixed(1) + ',' + y2.toFixed(1);      // end point\n}\n\n/**\n * Draws a wobbly (hand drawn) rect\n */\nfunction handRect(x, y, w, h) {\n  assert(_.every([x, y, w, h], _.isFinite), 'x, y, w, h must be numeric');\n  return 'M' + x + ',' + y +\n   wobble(x, y, x + w, y) +\n   wobble(x + w, y, x + w, y + h) +\n   wobble(x + w, y + h, x, y + h) +\n   wobble(x, y + h, x, y);\n}\n\n/**\n * Draws a wobbly (hand drawn) line\n */\nfunction handLine(x1, y1, x2, y2) {\n  assert(_.every([x1,x2,y1,y2], _.isFinite), 'x1,x2,y1,y2 must be numeric');\n  return 'M' + x1.toFixed(1) + ',' + y1.toFixed(1) + wobble(x1, y1, x2, y2);\n}\n\n/******************\n * BaseTheme\n ******************/\n\nvar BaseTheme = function(diagram, options) {\n  this.init(diagram, options);\n};\n\n_.extend(BaseTheme.prototype, {\n\n  // Init called while creating the Theme\n  init: function(diagram, options) {\n    this.diagram = diagram;\n\n    this.actorsHeight_  = 0;\n    this.signalsHeight_ = 0;\n    this.title_ = undefined; // hack - This should be somewhere better\n  },\n\n  setupPaper: function(container) {},\n\n  draw: function(container) {\n    this.setupPaper(container);\n\n    this.layout();\n\n    var titleHeight = this.title_ ? this.title_.height : 0;\n    var y = DIAGRAM_MARGIN + titleHeight;\n\n    this.drawTitle();\n    this.drawActors(y);\n    this.drawSignals(y + this.actorsHeight_);\n  },\n\n  layout: function() {\n    // Local copies\n    var diagram = this.diagram;\n    var font    = this.font_;\n    var actors  = diagram.actors;\n    var signals = diagram.signals;\n\n    diagram.width  = 0; // min width\n    diagram.height = 0; // min height\n\n    // Setup some layout stuff\n    if (diagram.title) {\n      var title = this.title_ = {};\n      var bb = this.textBBox(diagram.title, font);\n      title.textBB = bb;\n      title.message = diagram.title;\n\n      title.width  = bb.width  + (TITLE_PADDING + TITLE_MARGIN) * 2;\n      title.height = bb.height + (TITLE_PADDING + TITLE_MARGIN) * 2;\n      title.x = DIAGRAM_MARGIN;\n      title.y = DIAGRAM_MARGIN;\n\n      diagram.width  += title.width;\n      diagram.height += title.height;\n    }\n\n    _.each(actors, _.bind(function(a) {\n      var bb = this.textBBox(a.name, font);\n      a.textBB = bb;\n\n      a.x = 0; a.y = 0;\n      a.width  = bb.width  + (ACTOR_PADDING + ACTOR_MARGIN) * 2;\n      a.height = bb.height + (ACTOR_PADDING + ACTOR_MARGIN) * 2;\n\n      a.distances = [];\n      a.paddingRight = 0;\n      this.actorsHeight_ = Math.max(a.height, this.actorsHeight_);\n    }, this));\n\n    function actorEnsureDistance(a, b, d) {\n      assert(a < b, 'a must be less than or equal to b');\n\n      if (a < 0) {\n        // Ensure b has left margin\n        b = actors[b];\n        b.x = Math.max(d - b.width / 2, b.x);\n      } else if (b >= actors.length) {\n        // Ensure a has right margin\n        a = actors[a];\n        a.paddingRight = Math.max(d, a.paddingRight);\n      } else {\n        a = actors[a];\n        a.distances[b] = Math.max(d, a.distances[b] ? a.distances[b] : 0);\n      }\n    }\n\n    _.each(signals, _.bind(function(s) {\n      // Indexes of the left and right actors involved\n      var a;\n      var b;\n\n      var bb = this.textBBox(s.message, font);\n\n      s.textBB = bb;\n      s.width   = bb.width;\n      s.height  = bb.height;\n\n      var extraWidth = 0;\n\n      if (s.type == 'Signal') {\n\n        s.width  += (SIGNAL_MARGIN + SIGNAL_PADDING) * 2;\n        s.height += (SIGNAL_MARGIN + SIGNAL_PADDING) * 2;\n\n        if (s.isSelf()) {\n          // TODO Self signals need a min height\n          a = s.actorA.index;\n          b = a + 1;\n          s.width += SELF_SIGNAL_WIDTH;\n        } else {\n          a = Math.min(s.actorA.index, s.actorB.index);\n          b = Math.max(s.actorA.index, s.actorB.index);\n        }\n\n      } else if (s.type == 'Note') {\n        s.width  += (NOTE_MARGIN + NOTE_PADDING) * 2;\n        s.height += (NOTE_MARGIN + NOTE_PADDING) * 2;\n\n        // HACK lets include the actor's padding\n        extraWidth = 2 * ACTOR_MARGIN;\n\n        if (s.placement == PLACEMENT.LEFTOF) {\n          b = s.actor.index;\n          a = b - 1;\n        } else if (s.placement == PLACEMENT.RIGHTOF) {\n          a = s.actor.index;\n          b = a + 1;\n        } else if (s.placement == PLACEMENT.OVER && s.hasManyActors()) {\n          // Over multiple actors\n          a = Math.min(s.actor[0].index, s.actor[1].index);\n          b = Math.max(s.actor[0].index, s.actor[1].index);\n\n          // We don't need our padding, and we want to overlap\n          extraWidth = -(NOTE_PADDING * 2 + NOTE_OVERLAP * 2);\n\n        } else if (s.placement == PLACEMENT.OVER) {\n          // Over single actor\n          a = s.actor.index;\n          actorEnsureDistance(a - 1, a, s.width / 2);\n          actorEnsureDistance(a, a + 1, s.width / 2);\n          this.signalsHeight_ += s.height;\n\n          return; // Bail out early\n        }\n      } else {\n        throw new Error('Unhandled signal type:' + s.type);\n      }\n\n      actorEnsureDistance(a, b, s.width + extraWidth);\n      this.signalsHeight_ += s.height;\n    }, this));\n\n    // Re-jig the positions\n    var actorsX = 0;\n    _.each(actors, function(a) {\n      a.x = Math.max(actorsX, a.x);\n\n      // TODO This only works if we loop in sequence, 0, 1, 2, etc\n      _.each(a.distances, function(distance, b) {\n        // lodash (and possibly others) do not like sparse arrays\n        // so sometimes they return undefined\n        if (typeof distance == 'undefined') {\n          return;\n        }\n\n        b = actors[b];\n        distance = Math.max(distance, a.width / 2, b.width / 2);\n        b.x = Math.max(b.x, a.x + a.width / 2 + distance - b.width / 2);\n      });\n\n      actorsX = a.x + a.width + a.paddingRight;\n    });\n\n    diagram.width = Math.max(actorsX, diagram.width);\n\n    // TODO Refactor a little\n    diagram.width  += 2 * DIAGRAM_MARGIN;\n    diagram.height += 2 * DIAGRAM_MARGIN + 2 * this.actorsHeight_ + this.signalsHeight_;\n\n    return this;\n  },\n\n  // TODO Instead of one textBBox function, create a function for each element type, e.g\n  //      layout_title, layout_actor, etc that returns it's bounding box\n  textBBox: function(text, font) {},\n\n  drawTitle: function() {\n    var title = this.title_;\n    if (title) {\n      this.drawTextBox(title, title.message, TITLE_MARGIN, TITLE_PADDING, this.font_, ALIGN_LEFT);\n    }\n  },\n\n  drawActors: function(offsetY) {\n    var y = offsetY;\n    _.each(this.diagram.actors, _.bind(function(a) {\n      // Top box\n      this.drawActor(a, y, this.actorsHeight_);\n\n      // Bottom box\n      this.drawActor(a, y + this.actorsHeight_ + this.signalsHeight_, this.actorsHeight_);\n\n      // Veritical line\n      var aX = getCenterX(a);\n      this.drawLine(\n       aX, y + this.actorsHeight_ - ACTOR_MARGIN,\n       aX, y + this.actorsHeight_ + ACTOR_MARGIN + this.signalsHeight_);\n    }, this));\n  },\n\n  drawActor: function(actor, offsetY, height) {\n    actor.y      = offsetY;\n    actor.height = height;\n    this.drawTextBox(actor, actor.name, ACTOR_MARGIN, ACTOR_PADDING, this.font_, ALIGN_CENTER);\n  },\n\n  drawSignals: function(offsetY) {\n    var y = offsetY;\n    _.each(this.diagram.signals, _.bind(function(s) {\n      // TODO Add debug mode, that draws padding/margin box\n      if (s.type == 'Signal') {\n        if (s.isSelf()) {\n          this.drawSelfSignal(s, y);\n        } else {\n          this.drawSignal(s, y);\n        }\n\n      } else if (s.type == 'Note') {\n        this.drawNote(s, y);\n      }\n\n      y += s.height;\n    }, this));\n  },\n\n  drawSelfSignal: function(signal, offsetY) {\n      assert(signal.isSelf(), 'signal must be a self signal');\n\n      var textBB = signal.textBB;\n      var aX = getCenterX(signal.actorA);\n\n      var x = aX + SELF_SIGNAL_WIDTH + SIGNAL_PADDING;\n      var y = offsetY + SIGNAL_PADDING + signal.height / 2 + textBB.y;\n\n      this.drawText(x, y, signal.message, this.font_, ALIGN_LEFT);\n\n      var y1 = offsetY + SIGNAL_MARGIN + SIGNAL_PADDING;\n      var y2 = y1 + signal.height - 2 * SIGNAL_MARGIN - SIGNAL_PADDING;\n\n      // Draw three lines, the last one with a arrow\n      this.drawLine(aX, y1, aX + SELF_SIGNAL_WIDTH, y1, signal.linetype);\n      this.drawLine(aX + SELF_SIGNAL_WIDTH, y1, aX + SELF_SIGNAL_WIDTH, y2, signal.linetype);\n      this.drawLine(aX + SELF_SIGNAL_WIDTH, y2, aX, y2, signal.linetype, signal.arrowtype);\n    },\n\n  drawSignal: function(signal, offsetY) {\n    var aX = getCenterX(signal.actorA);\n    var bX = getCenterX(signal.actorB);\n\n    // Mid point between actors\n    var x = (bX - aX) / 2 + aX;\n    var y = offsetY + SIGNAL_MARGIN + 2 * SIGNAL_PADDING;\n\n    // Draw the text in the middle of the signal\n    this.drawText(x, y, signal.message, this.font_, ALIGN_CENTER);\n\n    // Draw the line along the bottom of the signal\n    y = offsetY + signal.height - SIGNAL_MARGIN - SIGNAL_PADDING;\n    this.drawLine(aX, y, bX, y, signal.linetype, signal.arrowtype);\n  },\n\n  drawNote: function(note, offsetY) {\n    note.y = offsetY;\n    var actorA = note.hasManyActors() ? note.actor[0] : note.actor;\n    var aX = getCenterX(actorA);\n    switch (note.placement) {\n    case PLACEMENT.RIGHTOF:\n      note.x = aX + ACTOR_MARGIN;\n    break;\n    case PLACEMENT.LEFTOF:\n      note.x = aX - ACTOR_MARGIN - note.width;\n    break;\n    case PLACEMENT.OVER:\n      if (note.hasManyActors()) {\n        var bX = getCenterX(note.actor[1]);\n        var overlap = NOTE_OVERLAP + NOTE_PADDING;\n        note.x = Math.min(aX, bX) - overlap;\n        note.width = (Math.max(aX, bX) + overlap) - note.x;\n      } else {\n        note.x = aX - note.width / 2;\n      }\n    break;\n    default:\n      throw new Error('Unhandled note placement: ' + note.placement);\n  }\n    return this.drawTextBox(note, note.message, NOTE_MARGIN, NOTE_PADDING, this.font_, ALIGN_LEFT);\n  },\n\n  /**\n   * Draw text surrounded by a box\n   */\n  drawTextBox: function(box, text, margin, padding, font, align) {\n    var x = box.x + margin;\n    var y = box.y + margin;\n    var w = box.width  - 2 * margin;\n    var h = box.height - 2 * margin;\n\n    // Draw inner box\n    this.drawRect(x, y, w, h);\n\n    // Draw text (in the center)\n    if (align == ALIGN_CENTER) {\n      x = getCenterX(box);\n      y = getCenterY(box);\n    } else {\n      x += padding;\n      y += padding;\n    }\n\n    return this.drawText(x, y, text, font, align);\n  }\n});\n\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, Snap, WebFont _ */\n// TODO Move defintion of font onto the <svg>, so it can easily be override at each level\nif (typeof Snap != 'undefined') {\n\n  var xmlns = 'http://www.w3.org/2000/svg';\n\n  var LINE = {\n    'stroke': '#000000',\n    'stroke-width': 2, // BUG TODO This gets set as a style, not as a attribute. Look at  eve.on(\"snap.util.attr\"...\n    'fill': 'none'\n  };\n\n  var RECT = {\n        'stroke': '#000000',\n        'stroke-width': 2,\n        'fill': '#fff'\n      };\n\n  var LOADED_FONTS = {};\n\n  /******************\n   * SnapTheme\n   ******************/\n\n  var SnapTheme = function(diagram, options, resume) {\n        _.defaults(options, {\n            'css-class': 'simple',\n            'font-size': 16,\n            'font-family': 'Andale Mono, monospace'\n          });\n\n        this.init(diagram, options, resume);\n      };\n\n  _.extend(SnapTheme.prototype, BaseTheme.prototype, {\n\n    init: function(diagram, options, resume) {\n            BaseTheme.prototype.init.call(this, diagram);\n\n            this.paper_  = undefined;\n            this.cssClass_ = options['css-class'] || undefined;\n            this.font_ = {\n                'font-size': options['font-size'],\n                'font-family': options['font-family']\n              };\n\n            var a = this.arrowTypes_ = {};\n            a[ARROWTYPE.FILLED] = 'Block';\n            a[ARROWTYPE.OPEN]   = 'Open';\n\n            var l = this.lineTypes_ = {};\n            l[LINETYPE.SOLID]  = '';\n            l[LINETYPE.DOTTED] = '6,2';\n\n            var that = this;\n            this.waitForFont(function() {\n              resume(that);\n            });\n          },\n\n    // Wait for loading of the font\n    waitForFont: function(callback) {\n      var fontFamily = this.font_['font-family'];\n\n      if (typeof WebFont == 'undefined') {\n        throw new Error('WebFont is required (https://github.com/typekit/webfontloader).');\n      }\n\n      if (LOADED_FONTS[fontFamily]) {\n        // If already loaded, just return instantly.\n        callback();\n        return;\n      }\n\n      WebFont.load({\n          custom: {\n              families: [fontFamily] // TODO replace this with something that reads the css\n            },\n          classes: false, // No need to place classes on the DOM, just use JS Events\n          active: function() {\n              LOADED_FONTS[fontFamily] = true;\n              callback();\n            },\n          inactive: function() {\n              // If we fail to fetch the font, still continue.\n              LOADED_FONTS[fontFamily] = true;\n              callback();\n            }\n        });\n    },\n\n    addDescription: function(svg, description) {\n          var desc = document.createElementNS(xmlns, 'desc');\n          desc.appendChild(document.createTextNode(description));\n          svg.appendChild(desc);\n        },\n\n    setupPaper: function(container) {\n      // Container must be a SVG element. We assume it's a div, so lets create a SVG and insert\n      var svg = document.createElementNS(xmlns, 'svg');\n      container.appendChild(svg);\n\n      this.addDescription(svg, this.diagram.title || '');\n\n      this.paper_ = Snap(svg);\n      this.paper_.addClass('sequence');\n\n      if (this.cssClass_) {\n        this.paper_.addClass(this.cssClass_);\n      }\n\n      this.beginGroup();\n\n      // TODO Perhaps only include the markers if we actually use them.\n      var a = this.arrowMarkers_ = {};\n      var arrow = this.paper_.path('M 0 0 L 5 2.5 L 0 5 z');\n      a[ARROWTYPE.FILLED] = arrow.marker(0, 0, 5, 5, 5, 2.5)\n       .attr({id: 'markerArrowBlock'});\n\n      arrow = this.paper_.path('M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z');\n      a[ARROWTYPE.OPEN] = arrow.marker(0, 0, 9.6, 16, 9.6, 8)\n       .attr({markerWidth: '4', id: 'markerArrowOpen'});\n    },\n\n    layout: function() {\n      BaseTheme.prototype.layout.call(this);\n      this.paper_.attr({\n        width:  this.diagram.width + 'px',\n        height: this.diagram.height + 'px'\n      });\n    },\n\n    textBBox: function(text, font) {\n      // TODO getBBox will return the bounds with any whitespace/kerning. This makes some of our aligments screwed up\n      var t = this.createText(text, font);\n      var bb = t.getBBox();\n      t.remove();\n      return bb;\n    },\n\n    // For each drawn element, push onto the stack, so it can be wrapped in a single outer element\n    pushToStack: function(element) {\n      this._stack.push(element);\n      return element;\n    },\n\n    // Begin a group of elements\n    beginGroup: function() {\n      this._stack = [];\n    },\n\n    // Finishes the group, and returns the <group> element\n    finishGroup: function() {\n      var g = this.paper_.group.apply(this.paper_, this._stack);\n      this.beginGroup(); // Reset the group\n      return g;\n    },\n\n    createText: function(text, font) {\n      text = text.split('\\n').map(function(x) {\n          return x.trim();\n      });\n      var t = this.paper_.text(0, 0, text);\n      t.attr(font || {});\n      if (text.length > 1) {\n        // Every row after the first, set tspan to be 1.2em below the previous line\n        t.selectAll('tspan:nth-child(n+2)').attr({\n          dy: '1.2em',\n          x: 0\n        });\n      }\n\n      return t;\n    },\n\n    drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n      var line = this.paper_.line(x1, y1, x2, y2).attr(LINE);\n      if (linetype !== undefined) {\n        line.attr('strokeDasharray', this.lineTypes_[linetype]);\n      }\n      if (arrowhead !== undefined) {\n        line.attr('markerEnd', this.arrowMarkers_[arrowhead]);\n      }\n      return this.pushToStack(line);\n    },\n\n    drawRect: function(x, y, w, h) {\n      var rect = this.paper_.rect(x, y, w, h).attr(RECT);\n      return this.pushToStack(rect);\n    },\n\n    /**\n     * Draws text with a optional white background\n     * x,y (int) x,y top left point of the text, or the center of the text (depending on align param)\n     * text (string) text to print\n     * font (Object)\n     * align (string) ALIGN_LEFT or ALIGN_CENTER\n     */\n    drawText: function(x, y, text, font, align) {\n      var t = this.createText(text, font);\n      var bb = t.getBBox();\n\n      if (align == ALIGN_CENTER) {\n        x = x - bb.width / 2;\n        y = y - bb.height / 2;\n      }\n\n      // Now move the text into place\n      // `y - bb.y` because text(..) is positioned from the baseline, so this moves it down.\n      t.attr({x: x - bb.x, y: y - bb.y});\n      t.selectAll('tspan').attr({x: x});\n\n      this.pushToStack(t);\n      return t;\n    },\n\n    drawTitle: function() {\n      this.beginGroup();\n      BaseTheme.prototype.drawTitle.call(this);\n      return this.finishGroup().addClass('title');\n    },\n\n    drawActor: function(actor, offsetY, height) {\n      this.beginGroup();\n      BaseTheme.prototype.drawActor.call(this, actor, offsetY, height);\n      return this.finishGroup().addClass('actor');\n    },\n\n    drawSignal: function(signal, offsetY) {\n      this.beginGroup();\n      BaseTheme.prototype.drawSignal.call(this, signal, offsetY);\n      return this.finishGroup().addClass('signal');\n    },\n\n    drawSelfSignal: function(signal, offsetY) {\n      this.beginGroup();\n      BaseTheme.prototype.drawSelfSignal.call(this, signal, offsetY);\n      return this.finishGroup().addClass('signal');\n    },\n\n    drawNote: function(note, offsetY) {\n      this.beginGroup();\n      BaseTheme.prototype.drawNote.call(this, note, offsetY);\n      return this.finishGroup().addClass('note');\n    },\n  });\n\n  /******************\n   * SnapHandTheme\n   ******************/\n\n  var SnapHandTheme = function(diagram, options, resume) {\n        _.defaults(options, {\n            'css-class': 'hand',\n            'font-size': 16,\n            'font-family': 'danielbd'\n          });\n\n        this.init(diagram, options, resume);\n      };\n\n  // Take the standard SnapTheme and make all the lines wobbly\n  _.extend(SnapHandTheme.prototype, SnapTheme.prototype, {\n    drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n      var line = this.paper_.path(handLine(x1, y1, x2, y2)).attr(LINE);\n      if (linetype !== undefined) {\n        line.attr('strokeDasharray', this.lineTypes_[linetype]);\n      }\n      if (arrowhead !== undefined) {\n        line.attr('markerEnd', this.arrowMarkers_[arrowhead]);\n      }\n      return this.pushToStack(line);\n    },\n\n    drawRect: function(x, y, w, h) {\n      var rect = this.paper_.path(handRect(x, y, w, h)).attr(RECT);\n      return this.pushToStack(rect);\n    }\n  });\n\n  registerTheme('snapSimple', SnapTheme);\n  registerTheme('snapHand',   SnapHandTheme);\n}\n\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, Raphael, _ */\n\nif (typeof Raphael != 'undefined') {\n\n  var LINE = {\n    'stroke': '#000000',\n    'stroke-width': 2,\n    'fill': 'none'\n  };\n\n  var RECT = {\n        'stroke': '#000000',\n        'stroke-width': 2,\n        'fill': '#fff'\n      };\n\n  /******************\n   * Raphaël extras\n   ******************/\n  Raphael.fn.line = function(x1, y1, x2, y2) {\n    assert(_.every([x1,x2,y1,y2], _.isFinite), 'x1,x2,y1,y2 must be numeric');\n    return this.path('M{0},{1} L{2},{3}', x1, y1, x2, y2);\n  };\n\n  /******************\n   * RaphaelTheme\n   ******************/\n\n  var RaphaelTheme = function(diagram, options, resume) {\n        this.init(diagram, _.defaults(options, {\n            'font-size': 16,\n            'font-family': 'Andale Mono, monospace'\n          }), resume);\n      };\n\n  _.extend(RaphaelTheme.prototype, BaseTheme.prototype, {\n\n    init: function(diagram, options, resume) {\n      BaseTheme.prototype.init.call(this, diagram);\n\n      this.paper_  = undefined;\n      this.font_   = {\n                  'font-size': options['font-size'],\n                  'font-family': options['font-family']\n                };\n\n      var a = this.arrowTypes_ = {};\n      a[ARROWTYPE.FILLED] = 'block';\n      a[ARROWTYPE.OPEN]   = 'open';\n\n      var l = this.lineTypes_ = {};\n      l[LINETYPE.SOLID]  = '';\n      l[LINETYPE.DOTTED] = '-';\n\n      resume(this);\n    },\n\n    setupPaper: function(container) {\n      this.paper_ = new Raphael(container, 320, 200);\n      this.paper_.setStart();\n    },\n\n    draw: function(container) {\n      BaseTheme.prototype.draw.call(this, container);\n      this.paper_.setFinish();\n    },\n\n    layout: function() {\n      BaseTheme.prototype.layout.call(this);\n      this.paper_.setSize(\n       this.diagram.width,\n       this.diagram.height\n      );\n    },\n\n    /**\n     * Strip whitespace from each newline\n     */\n    cleanText: function(text) {\n      return text.split('\\n').map(function(x) {\n        return x.trim();\n      }).join('\\n');\n    },\n\n    /**\n     * Returns the text's bounding box\n     */\n    textBBox: function(text, font) {\n      text = this.cleanText(text);\n      font = font || {};\n      var p;\n      if (font.obj_) {\n        p = this.paper_.print(0, 0, text, font.obj_, font['font-size']);\n      } else {\n        p = this.paper_.text(0, 0, text);\n        p.attr(font);\n      }\n\n      var bb = p.getBBox();\n      p.remove();\n\n      return bb;\n    },\n\n    drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n      var line = this.paper_.line(x1, y1, x2, y2).attr(LINE);\n      if (arrowhead !== undefined) {\n        line.attr('arrow-end', this.arrowTypes_[arrowhead] + '-wide-long');\n      }\n      if (arrowhead !== undefined) {\n        line.attr('stroke-dasharray', this.lineTypes_[linetype]);\n      }\n      return line;\n    },\n\n    drawRect: function(x, y, w, h) {\n      return this.paper_.rect(x, y, w, h).attr(RECT);\n    },\n\n    /**\n     * Draws text with a optional white background\n     * x,y (int) x,y top left point of the text, or the center of the text (depending on align param)\n     * text (string) text to print\n     * font (Object)\n     * align (string) ALIGN_LEFT or ALIGN_CENTER\n     */\n    drawText: function(x, y, text, font, align) {\n      text = this.cleanText(text);\n      font = font || {};\n      align = align || ALIGN_LEFT;\n\n      var paper = this.paper_;\n      var bb = this.textBBox(text, font);\n\n      if (align == ALIGN_CENTER) {\n        x = x - bb.width / 2;\n        y = y - bb.height / 2;\n      }\n\n      var t;\n      if (font.obj_) {\n        // When using a font, we have to use .print(..)\n        t = paper.print(x - bb.x, y - bb.y, text, font.obj_, font['font-size']);\n      } else {\n        t = paper.text(x - bb.x - bb.width / 2, y - bb.y, text);\n        t.attr(font);\n        t.attr({'text-anchor': 'start'});\n      }\n\n      return t;\n    }\n  });\n\n  /******************\n   * RaphaelHandTheme\n   ******************/\n\n  var RaphaelHandTheme = function(diagram, options, resume) {\n    this.init(diagram, _.defaults(options, {\n              'font-size': 16,\n              'font-family': 'daniel'\n            }), resume);\n  };\n\n  // Take the standard RaphaelTheme and make all the lines wobbly\n  _.extend(RaphaelHandTheme.prototype, RaphaelTheme.prototype, {\n        setupPaper: function(container) {\n            RaphaelTheme.prototype.setupPaper.call(this, container);\n            this.font_.obj_ = this.paper_.getFont('daniel');\n          },\n\n        drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n          var line = this.paper_.path(handLine(x1, y1, x2, y2)).attr(LINE);\n          if (arrowhead !== undefined) {\n            line.attr('arrow-end', this.arrowTypes_[arrowhead] + '-wide-long');\n          }\n          if (arrowhead !== undefined) {\n            line.attr('stroke-dasharray', this.lineTypes_[linetype]);\n          }\n          return line;\n        },\n\n        drawRect: function(x, y, w, h) {\n          return this.paper_.path(handRect(x, y, w, h)).attr(RECT);\n        }\n      });\n\n  registerTheme('raphaelSimple', RaphaelTheme);\n  registerTheme('raphaelHand',   RaphaelHandTheme);\n}\n/*!\n * The following copyright notice may not be removed under any circumstances.\n * \n * Copyright:\n * Copyright (c) 2011 by Daniel Midgley. All rights reserved.\n * \n * Trademark:\n * Please refer to the Copyright section for the font trademark attribution\n * notices.\n * \n * Full name:\n * Daniel-Bold\n * \n * Description:\n * Daniel Bold is a font by Daniel Midgley.\n * \n * Designer:\n * Daniel Midgley\n * \n * Vendor URL:\n * http://goodreasonblog.blogspot.com/p/fontery.html\n * \n * License information:\n * http://creativecommons.org/licenses/by-nd/3.0/\n */\nif (typeof Raphael != 'undefined') {\nRaphael.registerFont({\n    \"w\": 209,\n    \"face\": {\n        \"font-family\": \"Daniel\",\n        \"font-weight\": 700,\n        \"font-stretch\": \"normal\",\n        \"units-per-em\": \"360\",\n        \"panose-1\": \"2 11 8 0 0 0 0 0 0 0\",\n        \"ascent\": \"288\",\n        \"descent\": \"-72\",\n        \"x-height\": \"7\",\n        \"bbox\": \"-92.0373 -310.134 519 184.967\",\n        \"underline-thickness\": \"3.51562\",\n        \"underline-position\": \"-25.1367\",\n        \"unicode-range\": \"U+0009-U+F002\"\n    },\n    \"glyphs\": {\n        \" \": {\n            \"w\": 179\n        },\n        \"\\t\": {\n            \"w\": 179\n        },\n        \"\\r\": {\n            \"w\": 179\n        },\n        \"!\": {\n            \"d\": \"66,-306v9,3,18,11,19,24v-18,73,-20,111,-37,194v0,10,2,34,-12,34v-12,0,-18,-9,-18,-28v0,-85,23,-136,38,-214v1,-7,4,-10,10,-10xm25,-30v15,-1,28,34,5,35v-11,-1,-38,-36,-5,-35\",\n            \"w\": 115\n        },\n        \"\\\"\": {\n            \"d\": \"91,-214v-32,3,-25,-40,-20,-68v3,-16,7,-25,12,-27v35,13,14,56,8,95xm8,-231v4,-31,1,-40,18,-75v37,7,11,51,11,79v-3,3,-4,8,-5,13v-17,4,-16,-10,-24,-17\",\n            \"w\": 117\n        },\n        \"#\": {\n            \"d\": \"271,-64v-30,26,-96,-7,-102,51v-6,2,-13,2,-24,-2v-2,-11,10,-21,2,-28v-14,5,-48,0,-48,22v0,23,-11,14,-29,10v-7,-6,6,-19,-1,-24r-32,4v-19,-8,-15,-24,5,-28r33,-6v4,0,24,-23,11,-27v-26,0,-63,14,-74,-10v3,-1,9,-17,16,-10v15,-8,81,4,89,-30v8,-14,16,-34,24,-38v23,9,24,38,5,49v37,24,55,-38,72,-43v19,10,20,23,-1,45v2,8,23,1,29,4v3,3,6,6,10,11v-14,13,-20,12,-45,12v-17,0,-16,17,-19,29v18,-7,49,3,67,-2v4,0,8,4,12,11xm161,-104v-30,-1,-44,10,-44,37v14,1,24,0,40,-5v0,-1,3,-10,8,-26v0,-4,-1,-6,-4,-6\",\n            \"w\": 285\n        },\n        \"$\": {\n            \"d\": \"164,-257v29,4,1,42,-3,50v5,5,38,13,41,24v8,4,6,15,-2,21v-18,3,-36,-17,-49,-17v-17,1,-31,40,-28,48v5,4,8,8,9,10v13,1,35,37,28,44v-10,21,-36,20,-65,28v-10,10,-12,40,-17,51v-9,-3,-28,1,-18,-17v0,-13,5,-24,-1,-35v-18,1,-59,-10,-42,-29v21,0,56,16,55,-16v5,-4,9,-18,9,-26v-14,-15,-55,-41,-53,-65v2,-33,56,-19,98,-26v10,-14,31,-43,38,-45xm93,-152v11,-10,15,-15,14,-29v-17,-3,-37,1,-43,6v10,12,20,19,29,23xm111,-103v-8,1,-11,12,-10,22v10,0,28,2,27,-8v0,-4,-13,-15,-17,-14\",\n            \"w\": 225\n        },\n        \"%\": {\n            \"d\": \"181,-96v24,-7,67,-13,104,1v14,18,21,19,22,44v-13,43,-99,61,-146,36v-9,-9,-22,-11,-32,-29v0,-27,24,-53,52,-52xm139,-185v-9,68,-138,73,-131,-5v0,-3,3,-9,9,-17v13,1,27,1,17,-16v5,-39,63,0,93,-6v36,1,80,-9,102,11v15,32,12,32,-8,56v-16,21,-103,78,-152,125r-14,28v-23,11,-25,-7,-29,-20v34,-71,133,-98,171,-162v-13,-12,-52,-5,-61,1v0,1,1,3,3,5xm38,-190v0,34,55,29,70,8v0,-14,-20,-11,-32,-14v-14,-3,-24,-9,-40,-10v1,0,5,11,2,16xm172,-53v12,27,90,18,102,-5v-18,-7,-32,-10,-40,-10v-29,3,-57,-4,-62,15\",\n            \"w\": 308\n        },\n        \"&\": {\n            \"d\": \"145,-82v17,-8,47,-15,71,-26v13,2,25,12,9,23v-23,7,-40,16,-53,27r0,6v13,8,30,21,36,38v0,8,-4,12,-11,12v-19,0,-43,-39,-59,-44v-30,12,-65,29,-97,32v-32,3,-45,-41,-23,-63v21,-20,52,-26,70,-48v-4,-31,-12,-47,9,-73v13,-16,20,-29,23,-39v15,-15,32,-22,51,-22v30,9,62,64,32,96v-2,3,-47,42,-69,48v-15,8,-11,9,0,22v6,7,10,11,11,11xm114,-138v25,-13,62,-38,74,-62v0,-9,-10,-31,-20,-29v-28,7,-60,42,-60,75v0,10,2,15,6,16xm99,-91v-18,10,-54,18,-59,45v26,5,61,-12,77,-22v-1,-5,-13,-23,-18,-23\",\n            \"w\": 253\n        },\n        \"'\": {\n            \"d\": \"36,-182v-36,7,-34,-61,-17,-80v15,1,21,19,21,20r-1,-1v0,0,-1,12,-5,35v1,5,3,17,2,26\",\n            \"w\": 63\n        },\n        \"(\": {\n            \"d\": \"130,-306v13,2,23,43,-1,43v-49,43,-77,77,-90,148v5,49,27,67,64,101v4,14,5,6,2,19r-15,0v-35,-17,-79,-58,-79,-120v0,-58,66,-176,119,-191\",\n            \"w\": 120\n        },\n        \")\": {\n            \"d\": \"108,-138v-2,73,-48,120,-98,153v-17,-5,-16,-20,-6,-31v52,-64,73,-62,74,-135v1,-42,-40,-98,-58,-128v0,-5,-1,-12,-2,-22v18,-18,25,0,42,27v25,39,50,66,48,136\",\n            \"w\": 120\n        },\n        \"*\": {\n            \"d\": \"121,-271v15,-5,36,-8,40,9v-5,10,-31,19,-47,31v0,11,34,43,14,53v-18,8,-24,-24,-34,-20v-4,10,-4,19,-12,41v-25,7,-15,-30,-17,-47v-13,-1,-17,9,-46,30r-10,0v-20,-32,37,-43,54,-64v-10,-11,-36,-33,-16,-51v3,0,14,8,33,24v8,-10,26,-39,32,-42v14,7,15,23,9,36\",\n            \"w\": 177\n        },\n        \"+\": {\n            \"d\": \"163,-64v-7,22,-65,2,-77,21v-2,10,-6,21,-11,35v-20,4,-21,-12,-19,-29v3,-23,-44,6,-39,-27v-8,-22,36,-8,49,-18v8,-13,6,-36,24,-40v19,-4,14,32,11,39v18,3,19,2,54,8v2,1,5,5,8,11\",\n            \"w\": 170\n        },\n        \",\": {\n            \"d\": \"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102\",\n            \"w\": 97\n        },\n        \"-\": {\n            \"d\": \"57,-94v19,4,55,-5,54,17v-15,23,-54,20,-91,15v-4,2,-13,-10,-11,-16v-1,-22,28,-15,48,-16\",\n            \"w\": 124\n        },\n        \".\": {\n            \"d\": \"40,-48v21,20,21,44,-4,44v-33,0,-26,-24,-10,-44r14,0\",\n            \"w\": 67\n        },\n        \"\\/\": {\n            \"d\": \"21,20v-22,-45,21,-95,41,-126v38,-57,115,-158,193,-201v2,0,4,3,7,11v11,29,-15,34,-25,55v-81,56,-189,208,-197,261r-19,0\",\n            \"w\": 275\n        },\n        \"0\": {\n            \"d\": \"78,-237v70,-47,269,-41,270,59v0,34,-11,53,-29,76v-13,35,-30,32,-85,64v-6,2,-10,6,-7,8v-73,14,-98,38,-173,1v-7,-13,-52,-48,-46,-88v9,-57,27,-75,70,-120xm123,-38v100,0,202,-46,195,-153v-32,-55,-144,-73,-211,-35v-16,34,-68,54,-53,108v6,25,1,22,-3,39v6,24,41,41,72,41\",\n            \"w\": 353\n        },\n        \"1\": {\n            \"d\": \"39,-208v0,-14,6,-59,29,-39v3,4,6,13,10,24r-22,128r8,87v-4,6,-9,3,-16,2v-44,-38,-9,-137,-9,-202\",\n            \"w\": 93\n        },\n        \"2\": {\n            \"d\": \"88,-35v47,-10,119,-24,168,-9v0,12,-23,13,-35,16v1,1,3,1,5,1v-74,8,-118,23,-194,23v-14,0,-20,-13,-21,-28v55,-40,83,-61,123,-104v26,-13,65,-67,71,-102v-1,-9,-11,-16,-22,-16v-20,-1,-120,29,-156,49v-10,-2,-30,-20,-10,-28v50,-21,111,-51,178,-48v25,10,44,22,36,39v12,30,-19,64,-34,83v-39,48,-37,39,-115,109v0,5,-3,8,-8,11v4,3,8,4,14,4\",\n            \"w\": 265\n        },\n        \"3\": {\n            \"d\": \"188,-282v34,-10,74,25,47,51v-19,32,-55,50,-92,70v28,14,116,25,108,70v8,14,-49,40,-63,48v-29,9,-130,22,-168,42v-6,-5,-19,-7,-12,-22v56,-36,175,-21,210,-76v-9,-20,-88,-42,-97,-33v-20,-1,-41,2,-56,-7r5,-21v56,-25,103,-36,137,-78v1,-1,2,-5,4,-11v-15,-14,-56,7,-79,0v-10,9,-73,22,-92,31v-11,-4,-28,-23,-13,-30v50,-22,96,-26,154,-37v0,-1,8,3,7,3\",\n            \"w\": 260\n        },\n        \"4\": {\n            \"d\": \"79,-249v-7,17,-29,75,-33,96v0,6,3,8,8,8v43,-2,111,6,141,-6v17,-47,20,-100,63,-148v9,4,16,7,21,10v-17,31,-44,95,-51,141v7,4,24,-4,23,10v-1,16,-29,12,-31,23v-10,22,-9,69,-7,103v-3,2,-7,5,-10,9v-47,-11,-23,-74,-16,-114v0,-4,-2,-6,-7,-6v-65,2,-89,13,-162,4v-22,-22,-2,-53,5,-76v16,-15,17,-57,35,-70v6,-1,21,11,21,16\",\n            \"w\": 267\n        },\n        \"5\": {\n            \"d\": \"185,-272v30,7,45,-8,53,18v1,16,-17,18,-34,14v0,0,-95,-11,-129,1v-6,9,-24,33,-29,54v76,10,171,5,214,47v11,11,22,30,5,52v-14,12,-30,14,-34,27v-26,11,-141,63,-157,60v-16,-2,-25,-19,-4,-27v48,-18,128,-39,170,-86v4,-14,-65,-41,-85,-41r-92,0v-10,-4,-66,-1,-57,-23v0,-23,23,-51,35,-83v11,-28,133,-10,144,-13\",\n            \"w\": 284\n        },\n        \"6\": {\n            \"d\": \"70,-64v9,-51,63,-74,123,-71v43,2,109,3,111,41r-25,47v0,1,1,2,2,3v-5,0,-39,10,-41,20v-15,3,-22,4,-22,11v-39,1,-77,20,-119,13v-42,-7,-35,-9,-77,-46v-56,-118,94,-201,176,-229v7,0,21,8,20,15v-2,17,-23,15,-43,24v-69,31,-119,72,-134,145v-5,25,36,68,78,64v59,-6,128,-18,153,-61v-7,-14,-13,-9,-32,-21v-67,-15,-118,-5,-150,43r0,12v-13,4,-17,-3,-20,-10\",\n            \"w\": 310\n        },\n        \"7\": {\n            \"d\": \"37,-228v33,-14,173,-17,181,-19v28,-1,24,31,9,45v-17,15,-45,49,-59,69v-17,26,-55,67,-61,113v-10,13,-9,14,-14,20v-33,-13,-20,-25,-11,-53v16,-48,73,-115,109,-156v2,-7,5,-14,-10,-12v-26,4,-54,6,-76,13v-23,-5,-83,31,-94,-9v2,-8,18,-19,26,-11\",\n            \"w\": 245\n        },\n        \"8\": {\n            \"d\": \"57,-236v40,-50,166,-51,213,-10v22,28,10,63,-22,78r-35,17v8,5,54,24,53,44v-5,14,-4,33,-18,42v-13,13,-35,18,-44,34v-60,27,-190,49,-194,-42v7,-41,17,-54,59,-70r0,-4v-32,-9,-73,-62,-26,-85v4,0,8,-2,14,-4xm142,-160v24,-2,160,-31,99,-72v-28,-18,-108,-33,-146,-5v-16,12,-28,30,-33,59v24,12,37,20,80,18xm41,-62v30,65,189,6,199,-37v3,-14,-60,-30,-74,-30v-70,0,-118,10,-125,67\",\n            \"w\": 290\n        },\n        \"9\": {\n            \"d\": \"11,-192v15,-49,119,-61,161,-23v16,15,27,55,11,79v-20,62,-51,79,-96,118v-10,4,-45,27,-50,6v9,-15,66,-52,98,-99v-7,-7,-8,-3,-25,0v-49,-11,-96,-25,-99,-81xm145,-131v7,-5,13,-34,13,-41v-2,-51,-104,-38,-114,-6v-2,10,37,35,46,35v23,1,43,-1,55,12\",\n            \"w\": 198\n        },\n        \":\": {\n            \"d\": \"39,-125v15,-8,40,-1,40,15v0,15,-6,22,-19,22v-13,0,-29,-21,-21,-37xm66,-17v-8,27,-51,19,-46,-8v-1,-6,8,-22,14,-20v29,0,30,6,32,28\",\n            \"w\": 95\n        },\n        \";\": {\n            \"d\": \"56,-93v2,-30,37,-22,40,2v0,2,-1,7,-3,15v-13,8,-15,6,-27,4xm64,-44v11,-11,30,-4,32,14v-21,39,-63,71,-92,85v-5,0,-11,-2,-18,-8v11,-23,36,-36,50,-61v11,-7,19,-20,28,-30\",\n            \"w\": 107\n        },\n        \"<\": {\n            \"d\": \"166,-202v12,0,29,15,24,29v0,4,-119,64,-120,73v15,21,89,64,91,86v2,29,-18,12,-30,15v-27,-29,-59,-54,-95,-75v-18,-10,-25,-13,-24,-41\",\n            \"w\": 176\n        },\n        \"=\": {\n            \"d\": \"125,-121v18,7,55,-9,69,14v0,17,-45,26,-135,26v-18,0,-27,-7,-27,-21v-1,-37,60,-5,93,-19xm138,-71v20,0,48,-1,50,16v-13,24,-86,32,-131,29v-29,-2,-43,-10,-43,-24v-7,-23,36,-14,39,-17v27,6,57,-4,85,-4\",\n            \"w\": 196\n        },\n        \">\": {\n            \"d\": \"4,-14v20,-48,77,-59,118,-94v-16,-19,-58,-52,-81,-75v-11,-7,-15,-38,-1,-40v33,16,83,71,121,105v26,23,-6,35,-41,53v-29,16,-56,28,-73,54v-21,15,-16,20,-34,15v-3,0,-9,-16,-9,-18\",\n            \"w\": 174\n        },\n        \"?\": {\n            \"d\": \"105,-291v57,-13,107,-4,107,39v0,67,-136,85,-155,137v-1,6,10,23,-4,23v-23,1,-33,-35,-23,-57v31,-41,124,-60,149,-103v-8,-21,-72,-5,-88,-1v-23,6,-59,39,-71,8v0,0,-1,0,1,-17v10,-4,45,-20,84,-29xm80,-25v-6,4,-8,39,-24,22v-24,3,-22,-21,-13,-35v17,-7,29,5,37,13\",\n            \"w\": 216\n        },\n        \"@\": {\n            \"d\": \"218,-207v23,8,42,14,47,37v44,68,-27,137,-87,85r1,0v0,2,-59,19,-61,17v-35,0,-42,-47,-17,-68r0,-4v-19,-1,-45,37,-49,40v-37,76,58,72,121,62v11,-2,34,-13,36,3v-14,31,-69,31,-114,33v-51,2,-99,-41,-80,-92v2,-30,22,-40,42,-63v35,-20,91,-53,161,-50xm217,-101v23,0,35,-19,35,-41v0,-43,-75,-41,-102,-19v36,3,55,16,62,41v-6,5,-6,19,5,19xm127,-110v8,5,51,-15,28,-16v-4,0,-25,4,-28,16\",\n            \"w\": 291\n        },\n        \"A\": {\n            \"d\": \"97,-81v-23,-10,-39,38,-52,60v-8,6,-8,6,-22,18v-22,-7,-23,-37,-4,-49v7,-8,11,-15,15,-23r-1,1v-14,-26,23,-29,31,-40v1,-1,15,-29,26,-36v17,-31,39,-58,54,-92v16,-20,20,-51,41,-66v29,5,34,62,45,92v9,64,21,103,49,155v-3,25,-44,11,-54,0v-34,-12,-97,-29,-128,-20xm107,-118v20,6,80,10,111,17v6,-7,-4,-15,-7,-24v-11,-28,-9,-92,-30,-117v-9,9,-19,44,-34,55v-9,23,-27,40,-40,69\",\n            \"w\": 294\n        },\n        \"B\": {\n            \"d\": \"256,-179v41,10,115,34,91,91v-6,3,-14,12,-19,20v-37,19,-50,34,-63,25v-9,10,-12,11,-34,13r3,-3v-4,-4,-12,-4,-18,0v0,0,2,2,5,4v-21,14,-26,6,-44,15v-4,0,-7,-2,-8,-5v-6,11,-20,-5,-18,11v-36,4,-91,35,-114,4v-7,-62,-10,-138,4,-199v-1,-19,-37,2,-37,-27v0,-8,2,-13,6,-15v68,-31,231,-92,311,-39v8,12,12,20,12,25v-8,42,-32,49,-77,80xm79,-160v72,-17,135,-39,184,-70v20,-13,31,-23,31,-27v1,-6,-30,-13,-38,-12v-54,0,-116,13,-186,41v11,21,1,48,9,68xm262,-43v0,-4,3,-6,-4,-5v0,1,1,2,4,5xm211,-140v-34,7,-94,24,-139,15v-6,20,-4,56,-4,82v0,29,43,1,56,2v48,-11,108,-25,154,-48v20,-10,32,-17,32,-25v0,-18,-33,-26,-99,-26xm195,-20v6,1,6,-2,5,-7v-3,2,-7,2,-5,7\",\n            \"w\": 364\n        },\n        \"C\": {\n            \"d\": \"51,-114v-12,75,96,76,166,71r145,-10v9,2,9,5,9,18v-37,18,-85,28,-109,22v-18,10,-47,10,-71,10v-29,0,-68,1,-105,-11v-6,-1,-10,-3,-10,-8v-33,-13,-48,-33,-66,-59v-19,-114,146,-150,224,-177v35,0,88,-31,99,7v-1,29,-49,14,-76,28v-55,8,-115,35,-175,71v-13,8,-23,21,-31,38\",\n            \"w\": 376\n        },\n        \"D\": {\n            \"d\": \"312,-78v-2,1,-3,7,-10,5v6,-3,10,-4,10,-5xm4,-252v2,-27,83,-38,106,-39v130,-7,267,1,291,109v0,0,-2,8,-3,25v-5,9,-4,28,-23,34v-4,4,-2,5,-7,0v-3,3,-15,7,-5,10v0,0,-10,14,-13,2v-11,1,-8,5,-20,14v1,2,7,3,9,1v-4,13,-22,13,-11,4v0,-3,1,-6,-3,-5v-40,29,-103,38,-141,65v10,6,22,-7,34,-3v-41,20,-127,44,-171,46v-21,1,-47,-33,-11,-39v15,-2,43,-6,56,-11v-16,-101,-5,-130,9,-207v2,0,4,-1,6,-3v-16,-17,-91,38,-103,-3xm297,-69v-7,3,-17,8,-25,7v1,1,3,2,5,2v-4,2,-11,5,-23,9v4,-11,30,-21,43,-18xm240,-51v10,0,12,2,0,6r0,-6xm220,-36v-1,-3,4,-6,6,-3v0,1,-2,1,-6,3xm125,-48v16,6,137,-46,155,-53v29,-18,101,-44,82,-93v-21,-53,-84,-61,-168,-67v-20,7,-50,3,-77,8v33,54,-12,132,8,205xm159,-22v-4,-1,-15,-5,-15,2v7,-1,12,-2,15,-2\",\n            \"w\": 381\n        },\n        \"E\": {\n            \"d\": \"45,-219v-19,-36,34,-41,63,-36v44,-10,133,-8,194,-15v3,2,38,11,52,15v-73,19,-171,21,-246,38v-9,11,-16,32,-20,61v35,11,133,-6,183,3v1,6,2,7,3,14v-46,24,-118,16,-193,27v-15,13,-22,52,-22,66v60,1,121,-20,188,-20v22,10,53,-7,74,5v16,29,-23,26,-43,32v-73,4,-139,13,-216,27r-52,-10v-4,-22,23,-69,26,-98v-3,0,-10,-15,-12,-24v20,-12,34,-23,35,-67v2,-1,5,-5,5,-7v0,-4,-14,-11,-19,-11\",\n            \"w\": 353\n        },\n        \"F\": {\n            \"d\": \"270,-258v13,2,59,6,48,34v-78,-3,-143,1,-212,22v-10,16,-21,43,-24,69r145,-9v8,3,29,-3,16,21v-14,-1,-59,13,-60,7v-12,13,-67,18,-108,21v-2,1,-4,3,-7,6v-2,23,-8,43,-7,69v1,28,-30,11,-40,5r10,-80r-26,-14v5,-10,10,-33,28,-25v21,-3,15,-46,26,-59v-1,-3,-32,-13,-28,-24v2,-22,45,-16,59,-30v47,4,99,-14,151,-9v5,-3,25,-3,29,-4\",\n            \"w\": 236\n        },\n        \"G\": {\n            \"d\": \"311,-168v53,0,94,57,74,110v-31,37,-71,34,-136,52v-13,-7,-41,10,-57,7v-73,-1,-122,-17,-162,-59v-49,-51,-24,-80,5,-130v35,-61,138,-93,214,-106v16,4,42,-1,40,21v-5,40,-39,2,-73,21v-76,19,-162,65,-177,142v28,103,237,76,312,29v2,-3,3,-7,3,-13v-10,-35,-37,-43,-87,-45v-16,-13,-53,-9,-78,1v-4,-3,-5,-7,-5,-11v17,-29,73,-17,108,-24v12,4,18,5,19,5\",\n            \"w\": 391\n        },\n        \"H\": {\n            \"d\": \"300,-268v18,12,19,32,4,51v-35,44,-34,140,-46,217v-1,5,-5,13,-11,12v-6,1,-19,-14,-18,-27r7,-106v-28,7,-76,22,-116,14v-18,2,-36,6,-55,3v-43,-8,-14,53,-33,75v-29,1,-26,-67,-21,-97v5,-31,28,-73,43,-98v2,2,7,3,14,3v13,33,-11,48,-13,78v61,4,118,2,176,2v8,0,13,-6,15,-20v4,-47,21,-87,54,-107\",\n            \"w\": 288\n        },\n        \"I\": {\n            \"d\": \"63,-266v34,10,-4,105,-8,128r-24,126v-2,2,-3,1,-9,6v-12,-10,-12,-15,-12,-47v0,-93,9,-156,28,-188v10,-17,19,-25,25,-25\",\n            \"w\": 79\n        },\n        \"J\": {\n            \"d\": \"235,-291v26,11,31,104,31,142v0,37,-2,95,-32,126v-33,34,-121,26,-167,1v-18,-11,-54,-29,-59,-59v0,-3,5,-15,16,-14v31,36,90,57,162,51v63,-30,56,-148,32,-226v-1,-16,11,-13,17,-21\",\n            \"w\": 282\n        },\n        \"K\": {\n            \"d\": \"212,-219v17,-5,80,-60,80,-19v0,9,-2,14,-5,16r-132,78v-34,23,-54,32,-21,50v39,21,74,23,124,41v5,2,7,5,7,9v-4,24,-55,15,-79,8v-67,-19,-98,-36,-116,-83v9,-24,38,-35,66,-61v7,-4,49,-30,76,-39xm47,-194v11,-20,11,-45,31,-55v2,2,4,3,6,0v29,39,-21,96,-18,128v-17,24,-15,62,-29,113v-4,3,-10,7,-19,11v-12,-13,-10,-28,-8,-53v3,-31,17,-79,37,-144\",\n            \"w\": 270\n        },\n        \"L\": {\n            \"d\": \"84,-43v58,0,179,-27,242,-4v3,17,-29,24,-40,26v-85,-4,-202,46,-268,3v-24,-16,-2,-33,-4,-57v26,-76,38,-108,86,-191v14,-7,26,-50,45,-32v6,22,5,31,-12,46v-20,39,-50,82,-67,142v-7,6,-19,46,-19,54v0,9,12,13,37,13\",\n            \"w\": 331\n        },\n        \"M\": {\n            \"d\": \"174,-236v-1,52,-11,92,-7,143v10,5,15,-12,22,-18v42,-55,90,-130,136,-174r15,-18v42,2,32,53,11,80v-12,58,-54,143,-34,210v0,3,-3,12,-9,10v-31,-5,-32,-57,-27,-92v4,-27,12,-58,25,-93v-5,-10,5,-19,6,-30v-46,44,-66,110,-129,172v-11,10,-18,15,-22,15v-34,6,-28,-103,-28,-152v-28,22,-65,119,-96,170v-9,15,-34,3,-31,-19v30,-64,91,-177,139,-229v12,-1,29,13,29,25\",\n            \"w\": 343\n        },\n        \"N\": {\n            \"d\": \"248,-20v-3,17,-37,18,-43,3v-24,-35,-53,-145,-80,-203v-32,40,-55,120,-92,174v-13,3,-26,-13,-27,-22r87,-171v4,-13,20,-57,42,-32v42,48,46,139,82,198v29,-45,46,-88,65,-153v12,-19,23,-42,38,-60v27,-1,14,18,4,44v-6,46,-32,68,-37,121v-15,29,-33,69,-39,101\",\n            \"w\": 307\n        },\n        \"O\": {\n            \"d\": \"240,-268v85,1,163,29,150,125v13,7,-12,18,-5,26v-23,63,-133,112,-228,124v-80,-16,-171,-56,-148,-153v11,-47,20,-43,53,-83v17,-9,39,-22,73,-29v45,-10,81,-10,105,-10xm363,-156v16,-51,-62,-85,-111,-79v-25,-11,-50,8,-81,0v-15,10,-70,16,-85,31v6,20,-27,24,-39,45v-42,75,40,128,115,128v56,0,209,-71,201,-125\",\n            \"w\": 383\n        },\n        \"P\": {\n            \"d\": \"70,-225v-7,-12,-36,16,-49,19v-4,0,-9,-5,-14,-17v21,-47,114,-55,172,-59v41,-3,132,33,99,87v-21,34,-72,59,-144,80v-2,16,-79,3,-74,46v3,25,-5,47,-10,68v-22,-1,-23,-29,-22,-56v2,-25,-20,-32,-8,-50v21,-5,10,-35,25,-57v6,-28,14,-48,25,-61xm71,-229v47,14,-2,50,-1,99v41,-3,113,-37,173,-76v5,-9,8,-14,8,-15v-28,-47,-125,-29,-180,-8\",\n            \"w\": 252\n        },\n        \"Q\": {\n            \"d\": \"374,-217v20,59,-11,127,-48,156r30,38v-1,6,-8,16,-14,9v-3,0,-19,-9,-47,-26v-72,35,-173,75,-236,12v-70,-40,-67,-213,26,-217r8,5v24,-20,72,-48,112,-38v21,-4,22,-1,50,-2v66,-2,94,20,119,63xm296,-88v13,5,61,-49,63,-84v4,-62,-54,-78,-119,-76v-14,-6,-49,5,-71,3v-42,16,-89,41,-93,94v-9,11,1,25,-7,38v-12,-19,-7,-67,-1,-88v-56,30,-37,137,19,155v27,17,92,19,119,0v12,-2,29,-9,52,-20v2,-2,3,-3,3,-6v-11,-12,-46,-27,-54,-56v0,-13,3,-19,9,-19v18,1,60,52,80,59\",\n            \"w\": 379\n        },\n        \"R\": {\n            \"d\": \"100,-275v96,-23,196,-10,208,78v-3,18,-17,52,-49,62v-14,20,-54,23,-79,40v-2,0,-14,2,-36,6v-40,8,-30,14,-3,33v37,27,52,30,118,55v16,6,31,23,12,27v-58,-2,-104,-29,-143,-61v-14,-3,-16,-15,-39,-27v-23,-19,-28,-12,-15,-38v63,-19,111,-15,163,-53v27,-20,43,-36,43,-49v0,-64,-120,-62,-173,-38v-9,4,-38,9,-40,18v-10,32,-16,70,-13,116v-10,21,-8,47,-6,75v2,31,-9,29,-27,22v-9,-55,5,-140,15,-190v-8,-6,-24,10,-24,-11v0,-34,16,-34,42,-55v2,-1,17,-4,46,-10\",\n            \"w\": 297\n        },\n        \"S\": {\n            \"d\": \"13,-3v-7,-3,-22,-18,-5,-22v68,-15,119,-32,154,-45v51,-19,39,-34,3,-53v-46,-25,-82,-30,-121,-64v-33,-29,-50,-35,-25,-58v37,-20,119,-29,181,-29v29,0,44,6,44,18v-9,26,-62,6,-104,14v-17,2,-72,6,-92,16v37,53,132,58,180,111v8,9,11,20,11,30v-4,17,-23,35,-42,34v-21,16,-17,1,-49,17v-14,7,-41,9,-56,20v-25,-3,-49,10,-79,11\",\n            \"w\": 234\n        },\n        \"T\": {\n            \"d\": \"141,-3v-36,-6,1,-49,-3,-79v10,-19,6,-35,15,-64r26,-85v-51,-9,-100,10,-141,14v-16,2,-30,-26,-11,-32v26,-8,143,-8,179,-19r12,6v67,-2,142,-1,200,-1v8,0,14,3,19,10v-18,16,-74,3,-103,14v-48,-4,-60,4,-113,7v-42,22,-36,130,-58,187v1,12,-9,44,-22,42\",\n            \"w\": 277\n        },\n        \"U\": {\n            \"d\": \"365,-262v13,56,-22,104,-36,141v-19,22,-30,38,-57,56v-4,18,-60,35,-78,50v-53,28,-142,0,-161,-34v-31,-56,-37,-108,-11,-164v17,-33,29,-50,48,-29v-2,2,-3,7,-4,13v-44,36,-38,149,7,174v30,26,55,19,102,4v56,-17,66,-34,120,-76v12,-24,56,-68,46,-122r0,-16v0,1,-1,3,-1,6v4,-13,11,-10,25,-3\",\n            \"w\": 368\n        },\n        \"V\": {\n            \"d\": \"246,-258v21,-22,31,-26,44,-8v1,1,-12,22,-28,35v-15,25,-41,38,-56,69v-13,15,-20,31,-28,57v-15,13,-11,29,-27,72v3,21,-5,24,-27,27v-33,-45,-54,-118,-84,-167v-5,-26,-18,-50,-25,-76v-3,-12,24,-8,29,-5v8,13,18,52,26,70r52,115v9,-2,4,-9,10,-21r25,-47v25,-44,46,-76,89,-121\",\n            \"w\": 234\n        },\n        \"W\": {\n            \"d\": \"31,-213v16,46,17,106,41,151v31,-35,49,-89,76,-127v30,-15,39,27,52,56v10,22,21,48,35,67v2,0,4,-1,5,-3v16,-28,50,-76,79,-121v14,-21,40,-63,64,-83r5,8v-30,58,-76,110,-97,173v-18,28,-25,37,-33,63v-11,1,-16,25,-30,15v-21,-31,-44,-89,-62,-131v0,-2,-1,-3,-5,-5v-17,11,-16,36,-31,50v-20,33,-20,84,-68,94v-24,-19,-23,-81,-39,-111v-1,-15,-29,-94,-10,-108v9,2,12,5,18,12\",\n            \"w\": 331\n        },\n        \"X\": {\n            \"d\": \"143,-183v43,-25,69,-36,126,-62v22,-10,86,-10,56,21v-51,3,-158,61,-154,64v10,15,41,30,50,52v27,17,46,60,70,82v9,14,-6,30,-24,20v-35,-43,-75,-100,-116,-132v-48,13,-100,47,-118,94v-1,49,-26,34,-27,4v-1,-26,13,-27,17,-48v22,-27,68,-55,90,-77v-9,-12,-60,-39,-79,-57v-6,-10,-6,-25,12,-25\",\n            \"w\": 312\n        },\n        \"Y\": {\n            \"d\": \"216,-240v19,-14,42,10,22,26v-54,66,-121,109,-156,197v-8,21,-11,15,-30,4v3,-37,27,-61,33,-76v12,-12,15,-19,32,-42v-8,-6,-40,5,-45,5v-48,-6,-69,-65,-56,-113v14,0,13,-1,24,7v2,33,12,75,42,73v36,-2,102,-57,134,-81\",\n            \"w\": 189\n        },\n        \"Z\": {\n            \"d\": \"60,-255v66,12,200,-34,240,21v-13,42,-63,62,-98,89v-19,15,-47,33,-82,55v-25,16,-47,32,-66,47v58,24,129,-6,208,-6v23,0,36,12,13,19v-33,2,-53,5,-86,10v-32,18,-88,15,-135,15v-9,-1,-55,-1,-48,-29v1,-24,30,-24,40,-41v64,-50,151,-86,208,-147v-38,-17,-155,12,-198,-4v0,0,-11,-33,4,-29\",\n            \"w\": 310\n        },\n        \"[\": {\n            \"d\": \"72,-258r-15,250v30,4,55,-3,80,-6v7,-1,8,17,9,23v-28,15,-73,23,-121,21v-7,0,-10,-6,-10,-17v0,-60,25,-193,22,-288v0,-16,13,-20,33,-19v9,-3,34,-12,51,-12v16,0,15,16,19,29v-16,7,-48,10,-68,19\",\n            \"w\": 151\n        },\n        \"\\\\\": {\n            \"d\": \"236,38v20,-18,-8,-74,-13,-90v-44,-78,-112,-190,-200,-253v-2,0,-5,4,-7,12v-11,31,13,36,24,58v74,61,174,219,180,273r16,0\",\n            \"w\": 257\n        },\n        \"]\": {\n            \"d\": \"133,-258v-23,-13,-84,6,-85,-32v0,-10,5,-15,14,-15v0,0,30,2,90,7v10,1,15,13,15,36v2,7,-8,59,-13,112r-11,125v-9,48,9,90,-59,71v-20,-4,-39,-1,-59,-4v-5,-10,-25,-12,-14,-30v8,-3,61,-13,78,-8v14,1,8,-7,10,-17v15,-69,21,-166,34,-245\",\n            \"w\": 171\n        },\n        \"^\": {\n            \"d\": \"68,-306v20,15,47,36,58,60v-1,4,0,7,-9,7v-26,0,-47,-38,-49,-32v-15,9,-41,50,-54,30v-2,-31,17,-23,33,-51v8,-9,15,-14,21,-14\",\n            \"w\": 135\n        },\n        \"_\": {\n            \"d\": \"11,15v-8,33,18,45,50,34r205,2r197,-5v11,-5,14,-9,7,-28v-95,-21,-258,-10,-376,-10v-25,0,-72,-3,-83,7\",\n            \"w\": 485\n        },\n        \"`\": {\n            \"d\": \"75,-264v16,8,56,14,39,43v-30,-8,-65,-23,-105,-44v-1,-3,-3,-28,5,-25v16,5,44,17,61,26\",\n            \"w\": 129\n        },\n        \"a\": {\n            \"d\": \"124,-56v10,4,59,41,65,50v1,7,-6,17,-12,17r-60,-30v-22,2,-42,21,-65,19v-33,4,-68,-67,-15,-81v41,-27,96,-39,110,9v0,6,-4,12,-11,16v-33,-25,-67,-5,-88,12v10,16,61,-18,76,-12\",\n            \"w\": 196\n        },\n        \"b\": {\n            \"d\": \"80,-140v69,1,123,0,134,52v5,26,-71,71,-97,70v-11,11,-88,22,-94,22v-11,-3,-26,-18,-6,-24v19,-5,-2,-19,-1,-35v1,-18,11,-36,-5,-47v-6,-17,-6,-21,14,-32v6,-45,18,-89,28,-124v2,-7,8,-12,17,-15v5,3,10,11,16,28v-12,27,-13,63,-23,96v0,6,6,9,17,9xm87,-107v-40,-9,-31,31,-39,54v8,15,0,25,12,22v30,-8,60,-18,88,-32v39,-18,49,-33,-1,-42v-20,-4,-45,-7,-60,-2\",\n            \"w\": 217\n        },\n        \"c\": {\n            \"d\": \"128,-123v29,-7,37,29,12,33v-27,-4,-40,6,-79,25v-8,4,-13,11,-16,22v30,32,91,3,134,11v5,13,-8,26,-22,19v-51,25,-139,28,-150,-30v6,-50,69,-82,121,-80\",\n            \"w\": 194\n        },\n        \"d\": {\n            \"d\": \"224,-201v0,-35,-17,-111,24,-94v7,86,-2,119,0,197v-4,2,-8,21,-18,16v-62,-7,-154,-8,-185,29v6,17,28,26,51,26v16,0,100,-15,132,-18v7,5,-6,20,-10,22v-24,8,-122,42,-163,25v-32,-5,-62,-53,-36,-80v35,-37,118,-46,198,-43v1,-22,7,-49,7,-80\",\n            \"w\": 265\n        },\n        \"e\": {\n            \"d\": \"4,-57v0,-58,51,-71,110,-74v33,-1,45,16,59,35v1,14,2,39,-7,42v-24,-2,-73,13,-99,11v-2,2,-2,3,-2,3v0,3,12,8,37,15v21,0,69,9,31,22v-9,14,-34,6,-56,6v-27,-5,-73,-28,-73,-60xm123,-102v-22,2,-68,5,-65,26v24,-2,66,5,79,-6v-5,-13,-1,-13,-14,-20\",\n            \"w\": 182\n        },\n        \"f\": {\n            \"d\": \"6,-59v6,-29,53,-4,53,-43v0,-64,29,-118,84,-150v45,-25,167,-24,155,51v-1,2,-7,6,0,6r-10,2v-45,-58,-165,-39,-186,39v-7,26,-11,42,-9,62v44,8,95,-21,135,-7v-12,25,-39,21,-76,30v-19,5,-18,7,-54,19v-2,8,15,32,17,35v-6,25,-26,26,-40,-5r-15,-24v-41,10,-44,12,-54,-15\",\n            \"w\": 234\n        },\n        \"g\": {\n            \"d\": \"132,-97v30,27,21,75,30,117v-12,31,-11,66,-36,103v-32,46,-105,83,-167,39v-31,-21,-49,-29,-51,-75v-2,-37,77,-50,121,-57v37,-6,68,-10,95,-11v7,-6,3,-32,4,-46v0,0,-1,1,-1,2v0,-18,-5,-31,-14,-45v-44,5,-79,20,-94,-18v3,-54,73,-54,125,-50v12,7,12,13,4,25v-30,-11,-76,8,-90,20v23,3,50,-16,74,-4xm-34,121v60,53,168,1,159,-86v-47,-7,-93,24,-142,30v-12,7,-45,19,-42,29v0,10,8,19,25,27\",\n            \"w\": 188\n        },\n        \"h\": {\n            \"d\": \"100,-310v11,-2,10,19,11,20v-11,52,-40,133,-53,189v-6,30,-9,37,-9,47v27,0,113,-34,143,-34v42,0,31,47,39,79v0,4,-5,17,-16,16v4,2,11,3,4,6v-24,-1,-28,-34,-25,-64v-1,-1,-2,-3,-5,-5v-51,0,-110,38,-162,51v-9,1,-15,-15,-16,-23v17,-89,39,-141,71,-264v0,-9,6,-19,18,-18\",\n            \"w\": 251\n        },\n        \"i\": {\n            \"d\": \"62,-209v7,18,9,23,-5,38v-23,-6,-21,-18,-11,-36v2,0,8,-1,16,-2xm34,-7v-18,-21,-8,-73,-1,-106v7,-10,20,-8,23,6v-1,36,7,72,-2,104v-8,2,-8,0,-20,-4\",\n            \"w\": 80\n        },\n        \"j\": {\n            \"d\": \"88,-191v5,28,-18,40,-28,21v0,-20,12,-29,28,-21xm82,-99v28,-1,16,35,16,61v0,60,-19,150,-35,202v-12,8,-19,31,-35,16v-32,-7,-43,-19,-56,-44r2,-17v11,4,49,45,61,18v10,-55,27,-107,30,-171v0,-16,0,-59,17,-65\",\n            \"w\": 120\n        },\n        \"k\": {\n            \"d\": \"59,-66v33,26,114,37,155,62v8,-4,22,-2,19,-17v0,-4,-12,-11,-30,-24v-36,-25,-54,-22,-99,-33v14,-21,119,-13,103,-63r-16,-7r-123,47r25,-93v-3,-15,16,-49,18,-81v1,-15,-21,-14,-25,-3v-31,82,-49,168,-75,257v2,2,22,30,27,10v2,-5,4,-9,9,-11v4,-16,4,-15,12,-44\",\n            \"w\": 236\n        },\n        \"l\": {\n            \"d\": \"66,-300v21,-6,37,23,30,55v-10,51,-28,135,-28,208v0,11,6,36,-13,37v-29,-5,-30,-48,-25,-83r28,-177v-6,-17,1,-29,8,-40\",\n            \"w\": 102\n        },\n        \"m\": {\n            \"d\": \"348,-59v-2,21,0,57,3,73v-17,3,-30,-1,-32,-16v-8,-7,-5,-44,-13,-70v-35,3,-82,49,-111,70v-12,8,-40,4,-39,-15r2,-56v-1,-13,4,-28,-8,-29v-35,8,-79,72,-115,87v-6,2,-20,-18,-21,-22v1,-20,14,-105,39,-64r8,15v17,-14,72,-56,93,-54v27,3,49,40,43,80v24,-2,66,-55,124,-53v11,14,28,23,27,54\",\n            \"w\": 368\n        },\n        \"n\": {\n            \"d\": \"121,-136v37,6,62,54,62,111v0,32,-16,25,-31,17v-18,-30,-5,-45,-22,-85v-37,-13,-71,55,-92,65v-20,-3,-39,-39,-21,-62v2,-12,3,-15,11,-30v12,-8,20,11,29,12\",\n            \"w\": 194\n        },\n        \"o\": {\n            \"d\": \"108,-139v52,-24,104,18,104,63v0,59,-66,67,-114,83v-52,-2,-115,-50,-80,-105v23,-18,52,-35,90,-41xm45,-60v16,54,125,16,131,-23v-12,-59,-129,-8,-131,23\",\n            \"w\": 217\n        },\n        \"p\": {\n            \"d\": \"82,14v-10,12,-8,117,-24,142v-15,2,-19,0,-29,-13v0,-76,9,-113,22,-192v14,-27,35,-6,37,13v0,8,-3,21,-7,38v2,2,3,2,4,2v26,-9,116,-33,126,-72v-7,-17,-24,-33,-49,-31v-40,3,-116,13,-116,47v-5,7,-2,17,-16,20v-17,-12,-18,-20,-12,-38v8,-25,74,-61,110,-59v55,-15,113,15,118,70v-15,52,-84,79,-146,83v-5,0,-11,-4,-18,-10\",\n            \"w\": 251\n        },\n        \"q\": {\n            \"d\": \"144,-147v27,-8,89,-3,97,31v-9,29,-42,-4,-73,1v-32,6,-118,20,-111,49v0,7,13,13,21,13v21,0,78,-24,104,-34v2,0,9,8,22,21v1,1,1,2,1,5v-27,90,-22,70,-43,203v11,15,-15,54,-33,33v-6,-8,-10,-20,-3,-28v1,-72,5,-114,15,-172v-35,3,-35,10,-59,8v-41,-4,-98,-41,-56,-85v33,-34,59,-27,118,-45\",\n            \"w\": 248\n        },\n        \"r\": {\n            \"d\": \"242,-117v2,22,5,10,-14,23v-73,-7,-166,-23,-174,56v-8,6,-3,20,-8,36v-29,10,-40,-9,-33,-46v6,-31,7,-69,32,-55v58,-37,66,-42,175,-19v3,5,15,4,22,5\",\n            \"w\": 229\n        },\n        \"s\": {\n            \"d\": \"154,-151v19,1,27,24,13,32v-4,1,-22,4,-53,7v-16,8,-22,-2,-39,9v23,21,89,16,96,62v-13,24,-85,35,-124,42v-9,-3,-18,-3,-27,0v-6,-4,-21,-16,-8,-25v30,-6,83,-13,102,-24v-17,-16,-80,-33,-97,-48v-3,-2,-4,-7,-4,-15v-6,-6,3,-13,15,-18v22,-9,94,-23,126,-22\",\n            \"w\": 188\n        },\n        \"t\": {\n            \"d\": \"85,-150v10,-41,35,-126,65,-134v4,1,24,19,11,36v-17,22,-29,57,-36,104v26,8,50,-7,73,5v14,0,22,3,22,9v-1,19,-44,18,-57,23v-10,1,-46,0,-54,10v-10,24,-4,67,-20,98v-21,-3,-26,1,-26,-20v0,-9,2,-36,8,-81v-15,-13,-81,9,-77,-27v4,-38,71,6,91,-23\",\n            \"w\": 194\n        },\n        \"u\": {\n            \"d\": \"207,-136v-1,-2,11,-14,14,-13v6,0,10,7,10,22v-3,40,-23,56,-40,82v-13,19,-62,43,-93,43v-67,-2,-111,-75,-71,-133v26,-3,21,29,19,49v-1,27,26,44,57,42v41,-2,93,-55,104,-92\",\n            \"w\": 242\n        },\n        \"v\": {\n            \"d\": \"24,-127r52,71v42,-16,70,-54,124,-65v5,4,8,7,8,11v-8,19,-4,8,-33,32v0,1,-1,3,-1,5v-61,45,-93,68,-97,68v-40,-15,-50,-72,-68,-100v6,-14,10,-22,15,-22\",\n            \"w\": 214\n        },\n        \"w\": {\n            \"d\": \"15,-139v38,-2,27,57,45,86v30,2,67,-66,101,-78v26,6,36,69,60,78v47,-35,51,-54,119,-104v3,0,7,-2,15,-4v19,23,-9,28,-21,49v-33,28,-68,90,-107,109v-10,6,-52,-47,-72,-71v-20,17,-85,74,-97,73v-38,7,-41,-98,-52,-122v0,-1,3,-7,9,-16\",\n            \"w\": 325\n        },\n        \"x\": {\n            \"d\": \"95,-124v22,-13,78,-32,99,-31v16,0,23,6,23,18v0,22,-17,11,-49,21v-3,0,-45,20,-42,24v0,1,2,4,8,10v20,24,49,41,44,80v-35,3,-27,-9,-60,-44v-40,-43,-37,-26,-79,9v-1,1,-2,3,-3,8v-12,8,-28,10,-27,-11v-6,-8,45,-65,48,-65v-17,-21,-61,-52,-24,-68v9,0,48,37,62,49\",\n            \"w\": 223\n        },\n        \"y\": {\n            \"d\": \"44,-65v22,33,70,4,99,-8v5,-4,28,-15,41,-31r17,0v25,47,-26,70,-40,114v-5,4,-9,8,-10,21v-16,12,-11,33,-27,51v-5,18,-12,43,-23,71v-1,-1,-2,34,-18,29v-12,1,-22,-12,-22,-23v20,-70,24,-65,68,-177v-47,16,-111,8,-116,-39v-11,-13,-7,-62,8,-62v18,0,22,26,23,54\",\n            \"w\": 216\n        },\n        \"z\": {\n            \"d\": \"189,-43v9,-1,46,-6,41,12v0,7,-5,13,-15,14v-45,6,-148,24,-181,13v0,-3,-5,-8,-14,-15v5,-44,66,-46,90,-85v-15,-18,-84,21,-84,-14v0,-10,5,-17,14,-18v33,-3,79,-13,109,-3v4,-2,14,11,12,15v0,23,-26,51,-78,84v28,10,73,-3,106,-3\",\n            \"w\": 244\n        },\n        \"{\": {\n            \"d\": \"94,-303v27,-9,90,-14,79,26v-20,17,-55,-5,-87,13v-4,1,-6,4,-6,8v33,42,31,44,7,85v-6,10,-13,16,-13,13v5,6,17,17,15,31r-33,78v7,35,28,49,57,63r49,0v7,42,-51,41,-86,20v-43,-13,-51,-51,-56,-89v-2,-25,25,-54,27,-71v-3,-4,-46,-5,-41,-21v2,-10,-3,-29,11,-25v2,0,51,-17,52,-38v4,-3,-25,-23,-25,-49v0,-41,8,-30,50,-44\",\n            \"w\": 179\n        },\n        \"|\": {\n            \"d\": \"30,-308v26,5,14,50,15,80v5,78,-8,153,-3,225v-2,15,-1,31,-11,36v-8,-3,-25,-22,-25,-32r9,-183v0,-40,0,-78,1,-112v0,-4,9,-15,14,-14\",\n            \"w\": 63\n        },\n        \"}\": {\n            \"d\": \"47,-298v34,-17,118,-18,112,36v6,25,-76,98,-69,103v4,16,39,7,44,28v7,34,-34,17,-37,39v8,29,49,83,23,123v-15,23,-43,26,-73,46v-34,8,-43,11,-49,-17v1,-15,30,-15,33,-20v24,-12,70,-27,55,-61v-14,-33,-37,-68,-19,-103v-46,-50,46,-100,60,-141v-10,-16,-68,6,-77,-12\",\n            \"w\": 143\n        },\n        \"~\": {\n            \"d\": \"7,-254v2,-6,59,-50,67,-46v11,-1,35,19,46,26v5,0,27,-10,66,-31v21,8,-1,25,-7,38v-27,21,-48,31,-65,31v-24,-11,-37,-39,-65,-9v-7,7,-26,36,-42,11v3,-5,-3,-17,0,-20\",\n            \"w\": 199\n        },\n        \"\\u00a0\": {\n            \"w\": 179\n        },\n        \"\\u00a1\": {\n            \"d\": \"86,-197v8,16,-7,41,-24,25v-11,-11,-4,-16,-3,-29v13,0,15,-2,27,4xm46,-107v4,-8,11,-16,23,-7v19,26,-5,57,-6,87v-7,0,-5,18,-9,28v0,14,-17,52,-11,70v-2,7,-15,28,-25,12v-4,-6,-15,-7,-6,-16v2,-39,14,-96,34,-174\",\n            \"w\": 95\n        },\n        \"\\u00a2\": {\n            \"d\": \"105,-188v13,-12,14,-18,26,-15v7,23,7,15,-3,49v6,0,18,14,17,20v-3,5,-12,19,-26,13v-14,1,-14,5,-16,21v10,10,46,-13,38,18v-9,17,-23,16,-54,20v-17,16,-4,55,-29,60v-37,-10,19,-64,-24,-71v-20,-10,-37,-47,-6,-62v23,-20,73,-4,77,-53xm65,-101v4,-9,7,-8,3,-13v-14,4,-22,10,-3,13\",\n            \"w\": 154\n        },\n        \"\\u00a3\": {\n            \"d\": \"153,-170v3,22,62,0,49,39v-18,6,-31,12,-58,9v-12,-1,-17,30,-23,39v19,26,50,56,91,35v9,-2,27,-13,27,4v0,27,-27,39,-58,42v-32,-5,-59,-19,-78,-39v-6,1,-35,44,-57,39v-25,0,-37,-15,-37,-46v0,-41,43,-53,73,-50v4,1,12,-18,12,-21v-7,-15,-49,0,-44,-30v-2,-31,31,-16,60,-19v16,-30,25,-119,93,-113v16,2,75,16,50,44v-4,5,-7,7,-12,8v-18,-12,-32,-18,-41,-18v-35,-1,-38,52,-47,77xm43,-45v4,5,12,-2,11,-9v-1,2,-12,1,-11,9\",\n            \"w\": 242\n        },\n        \"\\u00a4\": {\n            \"d\": \"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30\",\n            \"w\": 312\n        },\n        \"\\u20ac\": {\n            \"d\": \"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30\",\n            \"w\": 312\n        },\n        \"\\u00a5\": {\n            \"d\": \"31,-248v30,-3,64,64,74,59v37,-22,77,-65,107,-82v20,-11,34,18,21,32v-28,19,-52,38,-70,57v-18,8,-40,21,-35,60v2,19,39,7,64,7v25,0,16,21,2,27v-36,16,-46,8,-68,18v6,11,101,-20,66,24v-21,11,-42,12,-75,20v-2,1,-5,6,-10,18v-8,3,-11,10,-24,8v-7,-17,-2,-18,-9,-26v-13,5,-39,3,-53,-2v-10,-17,-7,-27,0,-34v23,-1,45,1,64,-5v-11,-7,-28,-4,-64,-6v-13,-8,-15,-24,-6,-35v33,-2,102,9,76,-37v-14,-14,-33,-38,-60,-66v-10,-10,-8,-28,0,-37\",\n            \"w\": 219\n        },\n        \"\\u00a7\": {\n            \"d\": \"141,-115v12,10,29,36,28,56v-4,68,-129,69,-152,16v-1,-12,-10,-22,8,-23v17,3,47,21,67,23v16,1,40,-8,38,-21v-8,-49,-119,-30,-117,-85v1,-28,15,-45,-3,-64v-1,-53,55,-61,103,-62v15,-5,6,-5,20,-2v16,17,23,27,23,30v-1,26,-29,7,-45,7v-21,0,-51,2,-62,17v19,14,87,8,97,43v18,14,16,57,-5,65xm64,-147r57,17v10,-28,-22,-43,-47,-44v-25,-1,-35,19,-10,27\",\n            \"w\": 174\n        },\n        \"\\u00a8\": {\n            \"d\": \"124,-259v0,9,-4,13,-12,13v-18,0,-22,-21,-17,-35v19,-1,30,1,29,22xm23,-285v7,2,30,9,29,18v1,10,-9,19,-18,19v-19,0,-28,-26,-11,-37\",\n            \"w\": 136\n        },\n        \"\\u00a9\": {\n            \"d\": \"102,-29v-74,5,-124,-84,-70,-140v22,-22,53,-35,97,-38v46,-4,88,49,74,100v0,44,-51,75,-101,78xm96,-66v42,-3,75,-23,75,-69v0,-23,-4,-38,-44,-38v-16,0,-33,6,-49,20v36,-4,55,-12,62,20v-5,16,-49,1,-50,21v10,15,53,-14,54,11v0,18,-14,27,-42,27v-22,1,-46,-11,-46,-31v0,-25,7,-39,20,-44v-1,-1,-2,-2,-3,-2v-51,22,-32,89,23,85\",\n            \"w\": 217\n        },\n        \"\\u00aa\": {\n            \"d\": \"6,-265v1,-31,58,-53,80,-22v-11,14,25,28,25,36v-2,8,-15,12,-27,10v-22,-29,-68,19,-78,-24xm52,-281v-8,1,-24,10,-9,13v11,1,24,-10,9,-13\",\n            \"w\": 117\n        },\n        \"\\u00ab\": {\n            \"d\": \"191,-64v16,6,87,37,53,63v-39,-9,-71,-28,-107,-40v-14,-13,-13,-34,10,-47v27,-15,48,-55,84,-62v9,-2,21,10,21,18r-13,21v-16,5,-44,22,-51,41v0,4,1,6,3,6xm71,-65v17,6,87,35,55,62v-39,-8,-66,-27,-108,-40v-14,-13,-13,-36,10,-46v23,-18,50,-56,84,-63v9,-2,21,10,21,18r-13,22v-20,6,-32,17,-51,37v0,3,-1,11,2,10\",\n            \"w\": 265\n        },\n        \"\\u00ac\": {\n            \"d\": \"141,-99v47,7,103,-3,149,6v14,24,18,15,10,39v-10,34,-7,31,-26,76v-4,6,-15,8,-16,21v-4,2,-4,1,-13,5v-22,-33,-4,-33,16,-104v-5,-9,-28,-4,-38,-6r-183,4v-14,0,-41,-29,-17,-36v31,-9,82,5,118,-5\",\n            \"w\": 315\n        },\n        \"\\u00ae\": {\n            \"d\": \"75,-194v78,-29,116,9,130,84v-2,42,-22,47,-57,67v-74,20,-161,-19,-129,-110v6,-18,29,-34,57,-40xm46,-86v51,36,84,21,129,-15v7,-15,0,-39,-10,-49v-13,-37,-49,-26,-86,-18v-28,7,-49,46,-33,82xm72,-123v-5,-43,68,-57,75,-14v-17,26,-18,17,3,32v2,25,-25,18,-45,7r-4,-4v-1,8,-3,20,-12,24v-10,-3,-21,-34,-17,-45xm112,-135v-10,-1,-20,13,-9,14v6,-6,9,-11,9,-14\",\n            \"w\": 217\n        },\n        \"\\u00af\": {\n            \"d\": \"63,-295v28,-7,73,10,105,7v11,1,6,8,5,19v-37,21,-72,11,-136,11v-23,0,-31,-14,-27,-36v12,-15,40,0,53,-1\",\n            \"w\": 183\n        },\n        \"\\u00b0\": {\n            \"d\": \"106,-268v0,36,-35,38,-51,46v-48,5,-60,-58,-25,-78v33,-11,76,-9,76,32xm38,-257v16,7,39,2,38,-17v-13,-9,-28,-1,-32,11v-5,3,-7,0,-6,6\",\n            \"w\": 114\n        },\n        \"\\u00b1\": {\n            \"d\": \"93,-163v-7,46,76,-4,46,47v-14,6,-27,13,-38,8v-24,2,-14,28,-28,44r-14,0v-7,-12,-5,-15,-7,-33v-12,-7,-41,-1,-37,-24v2,-11,23,-17,36,-14r28,-38v4,0,9,4,14,10xm113,-27v-12,18,-58,27,-85,24v-16,2,-22,-23,-13,-36v28,-7,85,-11,98,12\",\n            \"w\": 151\n        },\n        \"\\u00b4\": {\n            \"d\": \"52,-284v29,-11,50,-34,62,-14v3,12,-86,54,-94,56v-14,0,-16,-12,-12,-23v11,-5,25,-11,44,-19\",\n            \"w\": 120\n        },\n        \"\\u00b6\": {\n            \"d\": \"121,-237v21,-9,44,-13,63,-1v-1,7,5,6,7,11r-4,190v-2,33,4,39,-15,40v-16,1,-10,-20,-10,-33r4,-161v0,-17,-1,-34,-16,-25v2,10,1,23,1,35v-9,46,-6,75,-15,156v-3,4,-7,5,-12,5v-17,-10,-3,-89,-10,-115v-43,14,-98,10,-101,-29v-4,-53,59,-63,104,-75v3,1,4,2,4,2xm95,-204v2,9,-30,50,1,50v35,0,23,-13,29,-43v0,-1,-2,-7,-4,-15v-12,-1,-14,2,-26,8\",\n            \"w\": 206\n        },\n        \"\\u00b8\": {\n            \"d\": \"74,16v32,2,49,14,55,36v-3,7,-14,31,-29,33v-28,4,-57,11,-88,14v-19,-6,-13,-31,8,-33v20,-1,59,-5,73,-14v-17,-14,-68,8,-53,-37v9,-10,2,-28,24,-30v8,8,13,17,10,31\",\n            \"w\": 129\n        },\n        \"\\u00ba\": {\n            \"d\": \"13,-273v1,-31,56,-41,83,-18v36,8,14,48,-9,52v-35,6,-64,-5,-74,-34xm81,-269v-7,-7,-20,-11,-29,-6v5,13,13,11,29,6\",\n            \"w\": 128\n        },\n        \"\\u00bb\": {\n            \"d\": \"120,-129v9,-33,48,-10,64,5v9,20,86,52,50,86v-36,11,-66,31,-107,40v-6,-7,-9,-13,-9,-17v-2,-13,50,-46,63,-46v11,-18,-33,-42,-48,-47xm1,-128v10,-33,46,-8,64,6v8,19,86,50,51,85v-40,13,-69,30,-108,40v-6,-7,-8,-12,-8,-16v-2,-14,50,-46,63,-47v7,-13,-9,-20,-19,-30v-10,-9,-20,-15,-30,-17\",\n            \"w\": 252\n        },\n        \"\\u00bf\": {\n            \"d\": \"181,-247v3,1,31,2,29,15v-4,22,-37,27,-41,4v1,-5,7,-20,12,-19xm161,-34v-45,-1,-105,19,-124,51v0,11,18,17,54,17v39,0,82,-13,112,4v-10,35,-58,31,-100,31v-47,0,-80,-10,-99,-31v-10,-56,22,-73,64,-90v8,-3,32,-9,74,-18v21,-15,7,-62,22,-92v-1,-5,-1,-11,4,-12v16,0,24,7,24,22v-8,30,-8,73,-17,111v-3,5,-7,7,-14,7\",\n            \"w\": 213\n        },\n        \"\\u00c0\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm150,-268v14,10,54,14,37,41v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,17,58,24\"\n        },\n        \"\\u00c1\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm84,-250v31,-5,83,-53,100,-31v0,5,-11,15,-35,28v-16,5,-51,28,-53,25v-14,1,-16,-11,-12,-22\"\n        },\n        \"\\u00c2\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm202,-219v-27,-6,-40,-26,-61,-37v-21,7,-39,46,-65,23v-2,-4,-3,-10,-4,-14v19,-4,43,-32,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-3,9,-11,9\"\n        },\n        \"\\u00c3\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm100,-285v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-9,22,-17,31,-12v3,11,-9,9,-7,21v-26,20,-46,30,-59,30v-3,3,-50,-26,-49,-29v-12,1,-31,35,-51,32v-3,-8,-5,-14,-5,-18v10,-9,16,-17,37,-33\"\n        },\n        \"\\u00c4\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm187,-259v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm90,-284v7,3,28,11,28,18v0,9,-9,18,-18,17v-17,0,-25,-24,-10,-35\"\n        },\n        \"\\u00c5\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm112,-239v-31,-17,-9,-61,29,-56v12,2,22,3,33,12v24,39,-30,62,-62,44xm119,-262v2,14,41,8,41,-4v0,-4,-8,-6,-24,-9v-10,-2,-17,10,-17,13\"\n        },\n        \"\\u00c6\": {\n            \"d\": \"335,-259v0,30,-102,12,-122,34v10,21,2,79,16,100v24,-6,59,-13,86,-16v23,-2,32,21,13,26r-103,29v-3,22,-4,38,8,43v28,-5,60,-6,86,-14v5,-1,14,7,14,11v6,16,-90,40,-107,40v-29,0,-39,-19,-32,-46v-2,-4,0,-26,-9,-28v-29,2,-58,6,-88,6v-31,0,-40,74,-82,73v-18,-23,4,-37,12,-50v40,-65,112,-126,165,-207v20,-17,69,-11,112,-13v21,0,31,4,31,12xm123,-111v28,1,44,-2,67,-10v-4,-22,5,-49,-7,-65v-3,6,-65,61,-60,75\",\n            \"w\": 348\n        },\n        \"\\u00c7\": {\n            \"d\": \"48,-108v-12,70,90,71,159,67r138,-9v9,-1,7,9,7,17v-37,16,-80,27,-103,21v-14,9,-40,3,-67,9v-30,0,-64,1,-100,-10v-6,-1,-10,-4,-10,-8v-32,-12,-46,-31,-63,-56v-16,-61,47,-103,83,-121v82,-42,118,-45,200,-60v21,-4,36,34,11,37v-90,11,-148,31,-225,77v-12,8,-23,20,-30,36xm172,18v29,4,47,14,53,35v-2,7,-14,31,-27,31v-28,7,-55,9,-84,14v-18,-5,-13,-32,7,-32v21,0,55,-5,69,-13v-16,-14,-63,10,-50,-35v9,-10,1,-27,23,-29v7,8,11,16,9,29\",\n            \"w\": 331\n        },\n        \"\\u00c8\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm184,-236v6,9,5,13,0,23v-28,-7,-62,-21,-100,-41v-3,-2,-3,-27,5,-23v34,11,60,25,95,41\",\n            \"w\": 252\n        },\n        \"\\u00c9\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm133,-248v27,-11,48,-32,59,-14v3,11,-79,52,-88,53v-14,1,-16,-11,-12,-21v10,-4,23,-11,41,-18\",\n            \"w\": 252\n        },\n        \"\\u00ca\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm199,-211v-27,-6,-39,-26,-60,-37v-21,7,-40,47,-65,22v-2,-7,-2,-7,-4,-13v18,-5,44,-31,61,-43v27,6,41,22,62,37v12,9,18,17,18,25v0,6,-4,9,-12,9\",\n            \"w\": 252\n        },\n        \"\\u00cb\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-17,41,-17,51v55,0,112,-21,169,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-3,-21,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm191,-236v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm95,-261v7,3,29,9,28,18v0,7,-9,17,-18,17v-18,0,-26,-25,-10,-35\",\n            \"w\": 252\n        },\n        \"\\u00cc\": {\n            \"d\": \"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm72,-247v7,6,55,15,36,40v-28,-7,-61,-21,-99,-41v-3,-2,-3,-27,5,-23v18,3,41,17,58,24\",\n            \"w\": 111\n        },\n        \"\\u00cd\": {\n            \"d\": \"26,-5v-9,-6,-9,-12,-9,-36v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76v-2,1,-2,0,-7,4xm6,-233v31,-6,83,-53,101,-31v2,11,-80,53,-89,53v-14,1,-14,-11,-12,-22\",\n            \"w\": 104\n        },\n        \"\\u00ce\": {\n            \"d\": \"53,-9v-15,7,-16,-3,-16,-32v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76xm137,-209v-27,-6,-40,-26,-61,-37v-8,0,-9,4,-13,10v-11,13,-50,37,-56,0v18,-5,43,-32,61,-43v28,5,40,21,62,36v12,9,18,17,18,25v0,6,-4,9,-11,9\",\n            \"w\": 144\n        },\n        \"\\u00cf\": {\n            \"d\": \"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm111,-222v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm15,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18\",\n            \"w\": 110\n        },\n        \"\\u00d1\": {\n            \"d\": \"224,-182v1,-17,15,-24,22,-38v20,0,13,10,3,33v-3,36,-25,52,-28,94v-10,24,-30,55,-29,82r-19,7v-32,-8,-36,-70,-58,-111v-2,-23,-7,-27,-19,-54v-28,36,-41,93,-71,133v-9,5,-20,-9,-20,-17r73,-149v9,-24,31,-5,36,7v19,41,31,98,53,139v22,-35,34,-69,50,-118v2,-3,3,-3,7,-8xm203,-257v22,-8,41,-24,65,-26v3,11,-8,9,-7,21v-26,20,-46,31,-59,31v-2,3,-49,-27,-49,-29v-11,0,-32,31,-46,32v-11,-2,-12,-21,-4,-23v4,-6,28,-30,48,-34v17,-4,43,28,52,28\",\n            \"w\": 219\n        },\n        \"\\u00d2\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm161,-262v14,10,52,13,37,41v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,17,58,24\",\n            \"w\": 273\n        },\n        \"\\u00d3\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm142,-250v27,-11,47,-32,59,-14v2,11,-80,53,-89,53v-13,1,-15,-11,-12,-21v10,-5,24,-11,42,-18\",\n            \"w\": 273\n        },\n        \"\\u00d4\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm157,-282v17,18,52,34,54,63v-24,12,-52,-36,-53,-29r-42,34v-23,-4,-6,-31,5,-34v1,1,27,-37,36,-34\",\n            \"w\": 273\n        },\n        \"\\u00d5\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm116,-270v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-10,22,-16,31,-12v3,11,-8,9,-7,21v-45,28,-47,42,-88,16v-29,-19,-12,-20,-43,2v-8,5,-12,18,-23,15v-13,-3,-12,-20,-4,-23v4,-6,14,-15,31,-28\",\n            \"w\": 273\n        },\n        \"\\u00d6\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm197,-229v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm101,-254v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35\",\n            \"w\": 273\n        },\n        \"\\u00d8\": {\n            \"d\": \"76,-211v41,-13,100,-22,140,-3v26,-19,40,-29,44,-29v10,0,15,7,15,20v0,15,-23,23,-30,35v23,39,29,114,-21,139v-36,19,-102,35,-147,18v-14,-5,-29,29,-46,35v-25,-13,-19,-24,3,-56v-9,-17,-28,-27,-28,-60v0,-38,23,-72,70,-99xm107,-66v55,15,125,-12,123,-70v0,-16,-5,-25,-13,-29r-110,95r0,4xm39,-108v-1,3,17,31,22,27v8,-6,109,-90,123,-106v-15,-11,-43,1,-63,2v-33,10,-80,35,-82,77\",\n            \"w\": 270\n        },\n        \"\\u00d9\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm151,-243v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-4,-25,4,-23v16,5,42,17,58,24\",\n            \"w\": 262\n        },\n        \"\\u00da\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm194,-265v3,-1,11,4,11,6v3,12,-81,52,-89,54v-14,0,-13,-9,-12,-22\",\n            \"w\": 262\n        },\n        \"\\u00db\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm150,-266v24,11,58,27,73,46v0,5,-3,6,-10,6v-28,2,-61,-30,-63,-25v-10,0,-57,40,-69,23v3,-10,-8,-15,8,-19v17,-1,34,-29,61,-31\",\n            \"w\": 262\n        },\n        \"\\u00dc\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-29,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm197,-227v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm101,-252v7,3,27,10,27,18v0,8,-9,18,-18,17v-18,-1,-24,-25,-9,-35\",\n            \"w\": 262\n        },\n        \"\\u00df\": {\n            \"d\": \"33,10v-29,4,-28,-32,-16,-70v18,-58,17,-137,56,-176v12,-24,46,-58,82,-43v20,8,47,24,47,54v0,30,-62,59,-67,90v33,23,56,33,63,63v-18,21,-22,36,-48,54v-24,17,-27,41,-53,16v-2,-19,7,-35,24,-42v15,-13,26,-22,34,-40v-13,-17,-78,-29,-56,-70v-3,-27,64,-54,66,-86v-8,-25,-41,-4,-52,8v-29,30,-47,83,-51,141v-17,25,-8,71,-29,101\"\n        },\n        \"\\u00e0\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm99,-137v7,6,56,14,37,40v-28,-7,-62,-21,-100,-41v-2,-3,-2,-26,5,-23v16,4,42,17,58,24\",\n            \"w\": 173\n        },\n        \"\\u00e1\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm32,-117v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-13,2,-14,-10,-12,-21\",\n            \"w\": 173\n        },\n        \"\\u00e2\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm147,-97v-27,-6,-39,-26,-60,-37v-21,7,-38,46,-65,23v-2,-5,-3,-10,-4,-14v18,-4,43,-31,61,-42v28,5,40,21,62,36v12,8,18,17,18,25v0,6,-4,9,-12,9\",\n            \"w\": 173\n        },\n        \"\\u00e3\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm114,-136v22,-8,41,-24,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-12,-32,8,-29,32,-51v24,-21,54,20,69,23\",\n            \"w\": 173\n        },\n        \"\\u00e4\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-32,5,-66,-64,-15,-77v39,-26,92,-36,104,9v0,6,-3,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm142,-119v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm46,-144v7,3,28,9,27,18v1,8,-9,18,-18,17v-18,-1,-25,-25,-9,-35\",\n            \"w\": 173\n        },\n        \"\\u00e5\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm54,-101v-37,-20,-9,-71,34,-65v13,1,25,3,38,13v27,45,-34,73,-72,52xm61,-128v4,20,48,7,49,-5v0,-5,-9,-7,-28,-10v-12,-2,-21,11,-21,15\",\n            \"w\": 173\n        },\n        \"\\u00e6\": {\n            \"d\": \"145,-44r33,7v2,42,-59,29,-85,16v-6,7,-35,24,-48,15v-19,2,-35,-21,-33,-37v2,-24,5,-19,28,-36v-6,-8,-45,3,-33,-21v21,-22,58,-12,85,-1v6,-5,35,-28,45,-15v20,-4,36,17,36,35v0,23,-4,21,-28,37xm111,-72v12,3,49,-16,19,-17v-5,0,-20,12,-19,17xm74,-50v-14,-4,-48,16,-19,17v4,1,19,-14,19,-17\",\n            \"w\": 184\n        },\n        \"\\u00e7\": {\n            \"d\": \"108,-118v30,-6,56,21,25,33v-24,-6,-39,5,-75,23v-7,4,-12,12,-15,22v31,28,86,3,128,9v3,28,-29,16,-44,28v-53,15,-106,10,-120,-37v0,-48,62,-70,101,-78xm92,18v23,4,45,12,48,32v-2,6,-12,28,-25,28v-24,6,-50,10,-77,13v-16,-4,-11,-28,7,-29v17,-1,51,-4,63,-12v-14,-15,-57,10,-46,-32v9,-8,0,-25,21,-26v6,6,12,14,9,26\",\n            \"w\": 171\n        },\n        \"\\u00e8\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm95,-166v7,6,54,14,37,40v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,18,58,25\",\n            \"w\": 161\n        },\n        \"\\u00e9\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm76,-169v26,-11,48,-32,59,-14v3,10,-80,53,-89,53v-14,1,-14,-10,-12,-21v15,-7,16,-7,42,-18\",\n            \"w\": 161\n        },\n        \"\\u00ea\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm145,-129v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-51,34,-56,0v17,-4,44,-32,61,-43v28,5,41,21,63,36v12,8,17,17,17,25v0,6,-3,9,-11,9\",\n            \"w\": 161\n        },\n        \"\\u00eb\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10r-3,3v0,3,12,7,36,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-67,-27,-71,-58v7,-52,48,-65,105,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm140,-144v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm44,-169v7,3,28,9,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35\",\n            \"w\": 161\n        },\n        \"\\u00ec\": {\n            \"d\": \"57,-98v22,5,13,50,11,95v-7,1,-11,2,-20,-4v1,-7,-12,-18,-10,-24v4,-22,-2,-64,19,-67xm70,-139v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-3,-25,5,-23v15,5,41,17,57,24\",\n            \"w\": 109\n        },\n        \"\\u00ed\": {\n            \"d\": \"59,-98v20,4,15,53,10,95v-6,1,-11,2,-19,-4v1,-7,-12,-18,-10,-24v4,-22,-4,-65,19,-67xm50,-139v27,-11,49,-32,59,-14v3,11,-80,53,-89,53v-14,1,-14,-12,-11,-22v15,-7,14,-6,41,-17\",\n            \"w\": 105\n        },\n        \"\\u00ee\": {\n            \"d\": \"72,-98v20,5,12,51,10,95v-6,2,-13,1,-20,-4v1,-8,-12,-18,-10,-24v4,-22,-3,-65,20,-67xm134,-94v-26,-7,-39,-25,-60,-37v-7,0,-9,4,-13,10v-14,15,-51,34,-56,-1v18,-4,45,-33,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-4,9,-12,9\",\n            \"w\": 143\n        },\n        \"\\u00ef\": {\n            \"d\": \"55,-97v19,5,15,53,10,95v-17,5,-26,-14,-30,-28v6,-20,-3,-65,20,-67xm110,-118v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm14,-143v6,3,28,8,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35\",\n            \"w\": 107\n        },\n        \"\\u00f1\": {\n            \"d\": \"115,-129v34,6,59,50,59,105v0,31,-15,24,-30,17v-15,-29,-5,-42,-20,-81v-35,-13,-68,52,-88,61v-20,-4,-38,-36,-19,-59v0,-12,3,-14,10,-28v11,-8,18,11,27,12xm117,-166v22,-7,41,-23,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-5,-12,-8,-16,0,-23v4,-6,28,-29,48,-33v17,-3,43,28,53,28\",\n            \"w\": 171\n        },\n        \"\\u00f2\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm115,-181v14,10,51,13,37,40v-28,-7,-62,-21,-100,-41v-3,-2,-3,-26,5,-23v16,5,42,17,58,24\",\n            \"w\": 191\n        },\n        \"\\u00f3\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm49,-154v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-14,0,-13,-8,-12,-21\",\n            \"w\": 191\n        },\n        \"\\u00f4\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm110,-177v-22,6,-38,45,-65,22v-2,-4,-3,-9,-4,-13v18,-4,43,-32,61,-43v27,6,40,21,62,36v12,9,18,17,18,25v1,11,-15,10,-23,7\",\n            \"w\": 191\n        },\n        \"\\u00f5\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm58,-199v26,-21,54,18,69,22v4,0,15,-5,34,-13v22,-9,21,-16,31,-13v3,11,-9,9,-7,22v-26,20,-46,30,-59,30v-2,4,-49,-28,-49,-29v-11,0,-32,31,-46,32v-12,-3,-13,-21,-4,-23v4,-6,14,-15,31,-28\",\n            \"w\": 191\n        },\n        \"\\u00f6\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm161,-160v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm65,-185v7,3,28,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35\",\n            \"w\": 191\n        },\n        \"\\u00f7\": {\n            \"d\": \"167,-158v-4,3,-7,9,-10,20v-23,4,-34,-8,-29,-31v14,-6,18,1,39,11xm78,-72v-53,11,-53,12,-69,-15v-1,-12,11,-17,22,-14v71,-13,151,-18,230,-24v11,1,21,16,23,28v-28,20,-90,11,-126,16v-36,5,-62,5,-80,9xm123,-40v19,-17,41,-1,41,17v0,13,-6,19,-17,19v-15,0,-29,-14,-24,-36\",\n            \"w\": 293\n        },\n        \"\\u00f8\": {\n            \"d\": \"76,-136v17,7,33,-8,51,0v9,-6,21,-13,36,-21v23,22,-13,31,3,50v11,13,4,21,14,35v-4,5,-1,14,-4,23v-14,23,-45,41,-84,39v-12,2,-29,28,-41,38v-2,-11,-34,-10,-15,-30v3,-7,5,-11,5,-11v-15,-24,-60,-54,-22,-89v23,-21,25,-32,57,-34xm102,-54v18,1,50,-19,30,-32v-12,7,-22,18,-30,32xm85,-92v-14,3,-26,8,-38,17v2,20,17,13,26,0v6,-8,12,-13,12,-17\",\n            \"w\": 188\n        },\n        \"\\u00f9\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm126,-166v7,6,56,14,37,40v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,18,58,25\",\n            \"w\": 213\n        },\n        \"\\u00fa\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm106,-174v26,-11,48,-32,59,-14v3,11,-81,53,-89,54v-13,1,-15,-12,-11,-22v15,-7,14,-7,41,-18\",\n            \"w\": 213\n        },\n        \"\\u00fb\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm172,-143v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-49,35,-56,0v17,-4,44,-32,61,-43v27,6,41,21,63,36v12,9,17,17,17,25v0,6,-3,9,-11,9\",\n            \"w\": 213\n        },\n        \"\\u00fc\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm168,-161v0,8,-3,13,-11,13v-17,0,-20,-19,-17,-34v18,-1,29,1,28,21xm72,-186v7,3,29,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35\",\n            \"w\": 213\n        },\n        \"\\u00ff\": {\n            \"d\": \"118,85v-11,11,-11,38,-22,61v-2,-1,-2,31,-17,27v-11,0,-21,-10,-21,-22v20,-66,23,-61,64,-168v-22,1,-38,16,-58,4v-22,4,-51,-16,-51,-42v-11,-13,-7,-59,7,-58v16,1,21,24,22,51v21,33,66,5,94,-7v4,-3,26,-14,38,-29r17,0v23,44,-23,59,-34,102v-6,9,-13,9,-13,26v-15,6,-12,33,-27,48v0,2,1,4,1,7xm158,-136v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,29,1,28,21xm62,-161v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35\",\n            \"w\": 190\n        },\n        \"\\u0131\": {\n            \"d\": \"43,-103v21,4,16,56,11,100v-7,2,-11,1,-20,-5v0,-7,-13,-18,-11,-25v4,-23,-3,-68,20,-70\",\n            \"w\": 80\n        },\n        \"\\u0152\": {\n            \"d\": \"247,-243v71,4,161,-7,245,-8v17,0,27,6,27,17v-8,27,-70,14,-104,23v-3,1,-52,0,-65,7r0,4v16,16,17,29,17,65v32,10,74,-14,99,16v-14,25,-76,17,-127,24v-17,18,-55,32,-75,51v85,0,128,-3,204,-11v15,-2,21,11,20,29v-78,24,-177,12,-270,24v-24,3,-24,-29,-48,-15v-46,7,-70,4,-105,-4v-19,-18,-42,-22,-52,-55v-10,-34,0,-47,12,-78v-18,-59,48,-78,105,-84v17,-18,103,-13,117,-5xm125,-45v76,-9,186,-43,209,-105v-26,-67,-137,-83,-217,-54v3,34,-45,25,-60,58v-41,48,5,108,68,101\",\n            \"w\": 492\n        },\n        \"\\u0153\": {\n            \"d\": \"185,-54v25,28,107,-17,104,33v-12,12,-60,14,-87,14v0,0,1,1,2,1v-11,1,-39,-9,-50,-17v-28,17,-75,32,-114,7v-22,-14,-34,-11,-34,-41v0,-36,33,-49,48,-75v29,-16,72,-3,95,11v12,-9,48,-27,59,-26v30,0,64,15,65,40v0,7,-6,20,-20,37v-29,1,-44,11,-68,16xm226,-106v-21,-7,-41,-2,-48,13v14,1,42,-7,48,-13xm132,-87v-21,-35,-94,11,-92,24v-2,14,43,21,61,21v25,0,36,-20,31,-45\",\n            \"w\": 295\n        },\n        \"\\u0178\": {\n            \"d\": \"176,-189v35,20,-25,54,-39,72v-26,34,-57,57,-74,104v-10,15,-4,14,-23,3r0,-10v19,-44,27,-46,50,-81v-9,-5,-24,4,-34,4v-38,0,-54,-50,-44,-87v21,-5,18,19,22,35v4,18,15,27,29,27v41,0,60,-39,113,-67xm153,-222v0,8,-3,12,-11,12v-18,0,-21,-19,-16,-33v18,-1,28,2,27,21xm57,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18\",\n            \"w\": 135\n        },\n        \"\\u0192\": {\n            \"d\": \"115,-262v-23,6,-39,63,-38,96v1,3,57,2,54,16v1,22,-45,15,-51,30v3,34,12,68,10,103v14,17,-18,53,-28,63v-48,8,-89,5,-95,-37v20,-5,77,21,83,-18v17,-29,-4,-61,0,-98v0,-5,-3,-10,-7,-17v-33,4,-43,-17,-25,-37v10,-4,27,5,27,-10v0,-43,15,-77,32,-109v12,-7,16,-22,38,-20v11,1,51,35,25,55v-9,1,-16,-17,-25,-17\",\n            \"w\": 145\n        },\n        \"\\u02c6\": {\n            \"d\": \"144,-220v-29,0,-41,-27,-63,-39v-8,0,-11,5,-15,11v-17,12,-32,31,-54,13v-2,-5,-3,-9,-4,-14v20,-5,45,-33,64,-45v28,6,43,23,65,38v12,9,19,19,19,27v0,6,-4,9,-12,9\",\n            \"w\": 165\n        },\n        \"\\u02c7\": {\n            \"d\": \"39,-286v33,46,63,-4,96,-16v6,0,9,6,9,19v0,24,-49,46,-77,46v-32,0,-52,-28,-59,-48v0,-25,23,-17,31,-1\",\n            \"w\": 153\n        },\n        \"\\u02d8\": {\n            \"d\": \"65,-269v20,-11,45,-31,74,-36v20,30,-42,40,-59,66v-5,6,-11,8,-18,8v-8,-3,-45,-32,-51,-54v5,-24,14,-13,34,1\",\n            \"w\": 158\n        },\n        \"\\u02d9\": {\n            \"d\": \"23,-302v15,-13,32,1,32,18v1,22,-36,29,-39,4v0,0,3,-7,7,-22\",\n            \"w\": 70\n        },\n        \"\\u02da\": {\n            \"d\": \"23,-225v-43,-24,-11,-85,41,-78v16,2,31,4,46,17v32,54,-41,86,-87,61xm33,-257v2,20,57,11,57,-6v0,-6,-11,-9,-33,-12v-14,-2,-24,13,-24,18\",\n            \"w\": 123\n        },\n        \"\\u02db\": {\n            \"d\": \"82,-5v-8,12,-16,55,-21,75v0,4,2,7,7,7v6,0,22,-7,50,-20v8,0,12,7,12,20v-2,22,-6,14,-27,30v-15,12,-26,16,-30,16v-47,-8,-59,-14,-56,-75v8,-27,12,-54,25,-77v19,-21,35,15,40,24\",\n            \"w\": 138\n        },\n        \"\\u02dc\": {\n            \"d\": \"47,-300v26,-21,57,19,72,23v4,0,16,-5,36,-14v24,-10,22,-16,32,-13v3,12,-7,11,-7,23v-27,21,-48,32,-62,32v-3,2,-52,-27,-51,-31v-12,-2,-34,40,-54,33v-4,-13,-8,-18,1,-24v5,-7,16,-15,33,-29\",\n            \"w\": 186\n        },\n        \"\\u02dd\": {\n            \"d\": \"91,-249v15,-11,38,-53,57,-29v0,9,0,14,-3,23v-2,3,-20,22,-54,55v-5,5,-10,8,-16,8v-17,2,-6,-22,-7,-31v-1,0,-2,0,-4,1v-17,21,-29,31,-50,27v-5,-18,-3,-15,3,-27v23,-27,40,-46,48,-59v7,-12,31,3,29,9v-1,14,-3,24,-13,31v4,4,9,-1,10,-8\",\n            \"w\": 151\n        },\n        \"\\u2013\": {\n            \"d\": \"6,-66v-8,-72,79,-21,146,-39v37,-10,79,7,111,0v9,8,14,13,14,17v2,26,-72,13,-99,21v-83,4,-124,21,-172,1\",\n            \"w\": 282\n        },\n        \"\\u2014\": {\n            \"d\": \"175,-106v86,-9,201,1,286,-1v11,6,13,11,6,30v-118,15,-246,10,-377,10v-25,0,-73,3,-82,-8r-2,-26v11,-13,32,-9,52,-7v38,3,84,-5,117,2\",\n            \"w\": 485\n        },\n        \"\\u2018\": {\n            \"d\": \"73,-262v-10,7,-41,39,-38,69v-15,13,-27,-16,-28,-28v-2,-20,51,-83,66,-83v20,0,25,41,0,42\",\n            \"w\": 95\n        },\n        \"\\u2019\": {\n            \"d\": \"74,-300v13,31,-1,99,-44,101v-13,0,-19,-5,-19,-15v6,-10,31,-34,35,-59v2,-11,1,-32,11,-32v6,0,11,2,17,5\",\n            \"w\": 90\n        },\n        \"\\u201a\": {\n            \"d\": \"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102\",\n            \"w\": 97\n        },\n        \"\\u201c\": {\n            \"d\": \"66,-261v-21,5,-37,51,-22,77v0,4,-2,6,-7,6v-31,-9,-38,-62,-12,-94v12,-15,21,-28,31,-34v16,-1,19,24,22,34v10,-11,22,-32,43,-23v-2,8,4,16,5,19v-6,11,-51,53,-29,74v-12,21,-30,5,-33,-17v-6,-13,9,-28,2,-42\",\n            \"w\": 118\n        },\n        \"\\u201d\": {\n            \"d\": \"120,-294v12,3,30,26,19,34v2,15,-40,70,-55,66v-40,-10,10,-51,14,-64v3,-3,8,-31,22,-36xm70,-306v14,3,26,34,16,49v-19,30,-31,45,-58,59v-12,-11,-33,-17,-7,-36v13,-19,36,-27,36,-59v0,-5,9,-13,13,-13\",\n            \"w\": 148\n        },\n        \"\\u201e\": {\n            \"d\": \"25,63v-26,21,-48,-2,-22,-24v11,-9,36,-41,35,-69v3,-2,4,-12,12,-9v36,14,5,89,-25,102xm84,64v-24,20,-45,-1,-21,-24v21,-20,32,-35,35,-69v3,-2,3,-11,12,-9v36,17,9,86,-26,102\",\n            \"w\": 135\n        },\n        \"\\u2020\": {\n            \"d\": \"22,-286v15,6,5,-20,19,-19v9,-3,15,21,17,22v6,1,12,3,20,6v3,10,5,16,-9,16v-34,-10,-6,51,-34,52v-20,-7,11,-47,-15,-49v-14,3,-25,-5,-17,-24v7,-2,14,-4,19,-4\",\n            \"w\": 77\n        },\n        \"\\u2021\": {\n            \"d\": \"102,-284v16,2,42,-2,33,18v-7,15,-42,1,-38,30v3,3,31,1,30,11v4,15,-29,19,-36,24v-2,18,-4,24,-16,29r-25,-26v-25,7,-53,3,-42,-25v4,-10,70,0,51,-22v-17,4,-41,12,-39,-15v-5,-16,39,-18,44,-20v4,-2,7,-10,10,-24v19,-3,23,6,28,20\",\n            \"w\": 145\n        },\n        \"\\u2022\": {\n            \"d\": \"130,-114v0,47,-124,54,-120,-8r6,-31v44,-28,64,-34,104,0v8,6,10,20,10,39\",\n            \"w\": 139\n        },\n        \"\\u2026\": {\n            \"d\": \"244,-24v-1,21,-38,32,-41,3v-2,-19,23,-22,34,-17v0,7,0,15,7,14xm113,-24v0,-22,28,-21,38,-8v5,34,-39,40,-38,8xm35,-2v-10,-2,-36,-17,-18,-29v-1,-15,17,-17,31,-6v7,17,6,33,-13,35\",\n            \"w\": 258\n        },\n        \"\\u2030\": {\n            \"d\": \"398,-131v58,-1,87,13,72,65v-1,30,-66,63,-99,65v-56,3,-99,-58,-62,-102v2,2,5,2,8,2v20,-16,51,-17,81,-30xm202,-279v33,0,94,-24,95,18v-7,31,-33,27,-54,55v-36,32,-71,74,-112,99v-18,18,-40,34,-51,58v-19,14,-25,37,-56,40v-17,2,-25,-29,-10,-40v15,-11,40,-37,52,-52r87,-72v-51,13,-100,6,-116,-27v1,-5,-6,-30,-9,-36v-3,-5,22,-41,27,-39v29,2,16,34,5,49v0,15,14,23,42,23v42,0,59,-31,28,-38v-17,-4,-53,3,-50,-23v0,-7,1,-12,4,-16v16,-9,36,4,49,5v0,0,23,-4,69,-4xm222,-118v33,-2,55,18,50,57v-29,36,-48,45,-96,50v-27,-5,-56,-17,-58,-51v13,-37,64,-43,104,-56xm335,-61v13,44,101,7,108,-31v-11,-3,-20,-4,-30,-4v-18,-1,-82,18,-78,35xm225,-244v-18,0,-29,-1,-46,3v7,15,6,28,0,43v15,-14,34,-30,46,-46xm164,-53v26,5,59,-10,76,-26v-17,-16,-49,2,-67,14v1,8,-8,6,-9,12\",\n            \"w\": 485\n        },\n        \"\\u2039\": {\n            \"d\": \"64,-107v9,17,86,17,87,43v0,11,-4,16,-13,16v-36,-11,-70,-22,-109,-31v-19,-4,-18,-14,-9,-36v59,-56,93,-84,101,-84v17,0,19,20,13,29\",\n            \"w\": 159\n        },\n        \"\\u203a\": {\n            \"d\": \"41,-181v26,27,112,44,70,91r-82,60v-20,3,-25,-23,-13,-32r70,-51r-66,-46v-5,-6,-4,-28,5,-29v4,2,9,4,16,7\",\n            \"w\": 137\n        },\n        \"\\u2044\": {\n            \"d\": \"193,-305v7,6,17,31,3,41v-10,7,-12,13,-21,25v-79,56,-190,209,-197,260r-18,0v-23,-19,9,-70,15,-85v52,-83,121,-179,218,-241\",\n            \"w\": 120\n        },\n        \"\\u2122\": {\n            \"d\": \"213,-307v28,9,11,49,7,75v-1,4,-4,6,-11,6v-7,1,-11,-14,-11,-34v-14,-6,-34,34,-46,28v-2,0,-10,-9,-24,-27v-10,7,-3,36,-27,31v-15,-24,-3,-27,1,-48v-6,-7,-27,-1,-31,3v-3,14,-7,30,-11,51v-5,10,-29,9,-24,-12v-5,-8,1,-18,3,-35v-13,6,-33,2,-29,-18v20,-17,64,-17,100,-19v28,-1,29,30,45,39v11,-6,35,-32,58,-40\",\n            \"w\": 239\n        },\n        \"\\u2206\": {\n            \"d\": \"18,-1v-24,-30,8,-48,25,-71v14,-19,34,-28,40,-56v20,-35,29,-14,57,4v9,39,43,62,57,102v0,16,-34,17,-50,14v-28,2,-72,4,-129,7xm139,-47r-22,-52v-12,-5,-12,15,-24,27v-7,6,-14,16,-23,28v23,1,36,-1,69,-3\",\n            \"w\": 199\n        },\n        \"\\u2219\": {\n            \"d\": \"57,-77v6,18,-7,21,-19,23v-34,6,-25,-40,-9,-43v18,-3,29,8,28,20\",\n            \"w\": 67\n        },\n        \"\\u221a\": {\n            \"d\": \"364,-218v43,-21,80,-51,104,-32v-3,19,-24,21,-44,40v-41,15,-78,53,-136,78r-137,98v-20,16,-79,66,-91,68v-3,1,-25,-11,-24,-13v-4,-28,-43,-61,-30,-85v26,-15,42,19,58,32r295,-188v0,1,2,2,5,2\",\n            \"w\": 474\n        },\n        \"\\u221e\": {\n            \"d\": \"322,-72v-4,22,-54,41,-76,41v-43,0,-83,-17,-114,-35v-46,19,-125,53,-128,-18v-1,-14,10,-22,13,-35v29,-10,62,-31,97,-4v37,28,47,5,75,-8v40,-19,73,-10,114,1v13,1,18,55,19,58xm228,-69v15,0,62,-12,61,-25v-19,-23,-89,-10,-105,11v0,2,1,4,2,4v28,6,42,10,42,10xm75,-102v-13,2,-41,4,-44,19v0,4,3,7,10,7v21,0,40,-6,54,-17v-9,-6,-16,-9,-20,-9\",\n            \"w\": 330\n        },\n        \"\\u222b\": {\n            \"d\": \"62,-151v-7,-70,20,-130,63,-150v28,1,39,10,70,23v20,8,6,33,-6,35v-29,-13,-45,-20,-49,-20v-20,-4,-45,51,-43,70v8,60,5,129,5,189v0,62,-27,93,-79,93v-37,-1,-71,-14,-63,-57v21,0,79,34,91,-2v16,-3,14,-64,21,-85v-2,-31,-1,-74,-10,-96\",\n            \"w\": 156\n        },\n        \"\\u2248\": {\n            \"d\": \"133,-112v21,15,48,-30,78,-17v3,3,5,7,5,9v-8,30,-47,45,-76,45v-19,0,-64,-48,-90,-21r-29,20v-6,-1,-17,-16,-15,-32v24,-17,70,-42,107,-21v4,4,10,9,20,17xm138,-57v28,2,48,-25,76,-26v13,30,-21,42,-40,53v-41,24,-77,-15,-114,-23v-15,14,-46,32,-49,-1v-3,-9,27,-28,54,-30\",\n            \"w\": 223\n        },\n        \"\\u2260\": {\n            \"d\": \"48,-130v29,11,49,-57,60,-50v25,6,7,27,-1,46v22,5,29,7,21,22v-18,2,-48,-1,-50,15v9,8,53,-7,54,10v-4,22,-46,20,-72,24v-7,13,-18,32,-34,57v-8,6,-15,-3,-13,-14v-1,-9,15,-39,14,-45v-30,5,-24,-17,-13,-25v12,-1,36,4,29,-13v-14,0,-47,6,-36,-12v0,-18,27,-13,41,-15\",\n            \"w\": 140\n        },\n        \"\\u2264\": {\n            \"d\": \"73,-109v10,15,87,16,87,42v0,11,-5,16,-13,16v-36,-11,-69,-24,-109,-31v-18,-8,-18,-13,-9,-36v59,-56,93,-83,101,-83v16,0,18,17,14,28v-27,24,-42,35,-71,64xm10,-29v35,-12,117,-26,148,-3v1,2,-5,19,-8,18r-124,15v-16,2,-26,-18,-16,-30\",\n            \"w\": 168\n        },\n        \"\\u2265\": {\n            \"d\": \"115,-174v20,7,53,36,20,57v-19,11,-91,68,-82,59v-18,3,-25,-22,-13,-31v15,-10,14,-10,70,-51r-50,-37v-5,-4,-5,-27,4,-28v16,7,40,17,51,31xm14,-32v33,-10,86,-14,127,-10v12,12,5,23,-11,27v-49,9,-82,13,-99,13v-22,0,-24,-16,-17,-30\",\n            \"w\": 163\n        },\n        \"\\u25ca\": {\n            \"d\": \"76,-158v48,-8,64,11,100,36v28,19,-5,39,-22,54v-15,13,-40,32,-48,49v-17,5,-12,0,-27,-16v-6,-6,-86,-31,-68,-53r2,-9v27,-23,48,-44,63,-61xm93,-65v12,-2,35,-31,41,-38v-5,-10,-16,-14,-34,-24v-12,12,-36,29,-40,44v19,11,30,18,33,18\",\n            \"w\": 199\n        }\n    }\n});\n}\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, _ */\n\nif (typeof Raphael == 'undefined' && typeof Snap == 'undefined') {\n  throw new Error('Raphael or Snap.svg is required to be included.');\n}\n\nif (_.isEmpty(Diagram.themes)) {\n  // If you are using stock js-sequence-diagrams you should never see this. This only\n  // happens if you have removed the built in themes.\n  throw new Error('No themes were registered. Please call registerTheme(...).');\n}\n\n// Set the default hand/simple based on which theme is available.\nDiagram.themes.hand = Diagram.themes.snapHand || Diagram.themes.raphaelHand;\nDiagram.themes.simple = Diagram.themes.snapSimple || Diagram.themes.raphaelSimple;\n\n/* Draws the diagram. Creates a SVG inside the container\n* container (HTMLElement|string) DOM element or its ID to draw on\n* options (Object)\n*/\nDiagram.prototype.drawSVG = function(container, options) {\n  var defaultOptions = {\n    theme: 'hand'\n  };\n\n  options = _.defaults(options || {}, defaultOptions);\n\n  if (!(options.theme in Diagram.themes)) {\n    throw new Error('Unsupported theme: ' + options.theme);\n  }\n\n  // TODO Write tests for this check\n  var div = _.isString(container) ? document.getElementById(container) : container;\n  if (div === null || !div.tagName) {\n    throw new Error('Invalid container: ' + container);\n  }\n\n  var Theme = Diagram.themes[options.theme];\n  new Theme(this, options, function(drawing) {\n      drawing.draw(div);\n    });\n}; // end of drawSVG\n\nexport default Diagram\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"94ee\";","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","// ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐ \\\\\n// │ Raphaël 2.2.0 - JavaScript Vector Library                                                             │ \\\\\n// ├───────────────────────────────────────────────────────────────────────────────────────────────────────┤ \\\\\n// │ Copyright © 2008-2016 Dmitry Baranovskiy (http://raphaeljs.com)                                       │ \\\\\n// │ Copyright © 2008-2016 Sencha Labs (http://sencha.com)                                                 │ \\\\\n// ├───────────────────────────────────────────────────────────────────────────────────────────────────────┤ \\\\\n// │ Licensed under the MIT (https://github.com/DmitryBaranovskiy/raphael/blob/master/license.txt) license.│ \\\\\n// └───────────────────────────────────────────────────────────────────────────────────────────────────────┘ \\\\\n\n(function webpackUniversalModuleDefinition(root, factory) {\n    root[\"Raphael\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./dev/raphael.amd.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./dev/raphael.amd.js\":\n/*!****************************!*\\\n  !*** ./dev/raphael.amd.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ \\\"./dev/raphael.core.js\\\"), __webpack_require__(/*! ./raphael.svg */ \\\"./dev/raphael.svg.js\\\"), __webpack_require__(/*! ./raphael.vml */ \\\"./dev/raphael.vml.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\\n\\n    return R;\\n\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5hbWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuYW1kLmpzPzM1NjQiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCIsIFwiLi9yYXBoYWVsLnN2Z1wiLCBcIi4vcmFwaGFlbC52bWxcIl0sIGZ1bmN0aW9uKFIpIHtcblxuICAgIHJldHVybiBSO1xuXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./dev/raphael.amd.js\\n\");\n\n/***/ }),\n\n/***/ \"./dev/raphael.core.js\":\n/*!*****************************!*\\\n  !*** ./dev/raphael.core.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! eve */ \\\"./node_modules/eve-raphael/eve.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(eve) {\\n\\n    /*\\\\\\n     * Raphael\\n     [ method ]\\n     **\\n     * Creates a canvas object on which to draw.\\n     * You must do this first, as all future calls to drawing methods\\n     * from this instance will be bound to this canvas.\\n     > Parameters\\n     **\\n     - container (HTMLElement|string) DOM element or its ID which is going to be a parent for drawing surface\\n     - width (number)\\n     - height (number)\\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\\n     * or\\n     - x (number)\\n     - y (number)\\n     - width (number)\\n     - height (number)\\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\\n     * or\\n     - all (array) (first 3 or 4 elements in the array are equal to [containerID, width, height] or [x, y, width, height]. The rest are element descriptions in format {type: type, <attributes>}). See @Paper.add.\\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\\n     * or\\n     - onReadyCallback (function) function that is going to be called on DOM ready event. You can also subscribe to this event via Eve’s “DOMLoad” event. In this case method returns `undefined`.\\n     = (object) @Paper\\n     > Usage\\n     | // Each of the following examples create a canvas\\n     | // that is 320px wide by 200px high.\\n     | // Canvas is created at the viewport’s 10,50 coordinate.\\n     | var paper = Raphael(10, 50, 320, 200);\\n     | // Canvas is created at the top left corner of the #notepad element\\n     | // (or its top right corner in dir=\\\"rtl\\\" elements)\\n     | var paper = Raphael(document.getElementById(\\\"notepad\\\"), 320, 200);\\n     | // Same as above\\n     | var paper = Raphael(\\\"notepad\\\", 320, 200);\\n     | // Image dump\\n     | var set = Raphael([\\\"notepad\\\", 320, 200, {\\n     |     type: \\\"rect\\\",\\n     |     x: 10,\\n     |     y: 10,\\n     |     width: 25,\\n     |     height: 25,\\n     |     stroke: \\\"#f00\\\"\\n     | }, {\\n     |     type: \\\"text\\\",\\n     |     x: 30,\\n     |     y: 40,\\n     |     text: \\\"Dump\\\"\\n     | }]);\\n    \\\\*/\\n    function R(first) {\\n        if (R.is(first, \\\"function\\\")) {\\n            return loaded ? first() : eve.on(\\\"raphael.DOMload\\\", first);\\n        } else if (R.is(first, array)) {\\n            return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);\\n        } else {\\n            var args = Array.prototype.slice.call(arguments, 0);\\n            if (R.is(args[args.length - 1], \\\"function\\\")) {\\n                var f = args.pop();\\n                return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on(\\\"raphael.DOMload\\\", function () {\\n                    f.call(R._engine.create[apply](R, args));\\n                });\\n            } else {\\n                return R._engine.create[apply](R, arguments);\\n            }\\n        }\\n    }\\n    R.version = \\\"2.2.0\\\";\\n    R.eve = eve;\\n    var loaded,\\n        separator = /[, ]+/,\\n        elements = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1},\\n        formatrg = /\\\\{(\\\\d+)\\\\}/g,\\n        proto = \\\"prototype\\\",\\n        has = \\\"hasOwnProperty\\\",\\n        g = {\\n            doc: document,\\n            win: window\\n        },\\n        oldRaphael = {\\n            was: Object.prototype[has].call(g.win, \\\"Raphael\\\"),\\n            is: g.win.Raphael\\n        },\\n        Paper = function () {\\n            /*\\\\\\n             * Paper.ca\\n             [ property (object) ]\\n             **\\n             * Shortcut for @Paper.customAttributes\\n            \\\\*/\\n            /*\\\\\\n             * Paper.customAttributes\\n             [ property (object) ]\\n             **\\n             * If you have a set of attributes that you would like to represent\\n             * as a function of some number you can do it easily with custom attributes:\\n             > Usage\\n             | paper.customAttributes.hue = function (num) {\\n             |     num = num % 1;\\n             |     return {fill: \\\"hsb(\\\" + num + \\\", 0.75, 1)\\\"};\\n             | };\\n             | // Custom attribute “hue” will change fill\\n             | // to be given hue with fixed saturation and brightness.\\n             | // Now you can use it like this:\\n             | var c = paper.circle(10, 10, 10).attr({hue: .45});\\n             | // or even like this:\\n             | c.animate({hue: 1}, 1e3);\\n             |\\n             | // You could also create custom attribute\\n             | // with multiple parameters:\\n             | paper.customAttributes.hsb = function (h, s, b) {\\n             |     return {fill: \\\"hsb(\\\" + [h, s, b].join(\\\",\\\") + \\\")\\\"};\\n             | };\\n             | c.attr({hsb: \\\"0.5 .8 1\\\"});\\n             | c.animate({hsb: [1, 0, 0.5]}, 1e3);\\n            \\\\*/\\n            this.ca = this.customAttributes = {};\\n        },\\n        paperproto,\\n        appendChild = \\\"appendChild\\\",\\n        apply = \\\"apply\\\",\\n        concat = \\\"concat\\\",\\n        supportsTouch = ('ontouchstart' in g.win) || g.win.DocumentTouch && g.doc instanceof DocumentTouch, //taken from Modernizr touch test\\n        E = \\\"\\\",\\n        S = \\\" \\\",\\n        Str = String,\\n        split = \\\"split\\\",\\n        events = \\\"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel\\\"[split](S),\\n        touchMap = {\\n            mousedown: \\\"touchstart\\\",\\n            mousemove: \\\"touchmove\\\",\\n            mouseup: \\\"touchend\\\"\\n        },\\n        lowerCase = Str.prototype.toLowerCase,\\n        math = Math,\\n        mmax = math.max,\\n        mmin = math.min,\\n        abs = math.abs,\\n        pow = math.pow,\\n        PI = math.PI,\\n        nu = \\\"number\\\",\\n        string = \\\"string\\\",\\n        array = \\\"array\\\",\\n        toString = \\\"toString\\\",\\n        fillString = \\\"fill\\\",\\n        objectToString = Object.prototype.toString,\\n        paper = {},\\n        push = \\\"push\\\",\\n        ISURL = R._ISURL = /^url\\\\(['\\\"]?(.+?)['\\\"]?\\\\)$/i,\\n        colourRegExp = /^\\\\s*((#[a-f\\\\d]{6})|(#[a-f\\\\d]{3})|rgba?\\\\(\\\\s*([\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+%?(?:\\\\s*,\\\\s*[\\\\d\\\\.]+%?)?)\\\\s*\\\\)|hsba?\\\\(\\\\s*([\\\\d\\\\.]+(?:deg|\\\\xb0|%)?\\\\s*,\\\\s*[\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+(?:%?\\\\s*,\\\\s*[\\\\d\\\\.]+)?)%?\\\\s*\\\\)|hsla?\\\\(\\\\s*([\\\\d\\\\.]+(?:deg|\\\\xb0|%)?\\\\s*,\\\\s*[\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+(?:%?\\\\s*,\\\\s*[\\\\d\\\\.]+)?)%?\\\\s*\\\\))\\\\s*$/i,\\n        isnan = {\\\"NaN\\\": 1, \\\"Infinity\\\": 1, \\\"-Infinity\\\": 1},\\n        bezierrg = /^(?:cubic-)?bezier\\\\(([^,]+),([^,]+),([^,]+),([^\\\\)]+)\\\\)/,\\n        round = math.round,\\n        setAttribute = \\\"setAttribute\\\",\\n        toFloat = parseFloat,\\n        toInt = parseInt,\\n        upperCase = Str.prototype.toUpperCase,\\n        availableAttrs = R._availableAttrs = {\\n            \\\"arrow-end\\\": \\\"none\\\",\\n            \\\"arrow-start\\\": \\\"none\\\",\\n            blur: 0,\\n            \\\"clip-rect\\\": \\\"0 0 1e9 1e9\\\",\\n            cursor: \\\"default\\\",\\n            cx: 0,\\n            cy: 0,\\n            fill: \\\"#fff\\\",\\n            \\\"fill-opacity\\\": 1,\\n            font: '10px \\\"Arial\\\"',\\n            \\\"font-family\\\": '\\\"Arial\\\"',\\n            \\\"font-size\\\": \\\"10\\\",\\n            \\\"font-style\\\": \\\"normal\\\",\\n            \\\"font-weight\\\": 400,\\n            gradient: 0,\\n            height: 0,\\n            href: \\\"http://raphaeljs.com/\\\",\\n            \\\"letter-spacing\\\": 0,\\n            opacity: 1,\\n            path: \\\"M0,0\\\",\\n            r: 0,\\n            rx: 0,\\n            ry: 0,\\n            src: \\\"\\\",\\n            stroke: \\\"#000\\\",\\n            \\\"stroke-dasharray\\\": \\\"\\\",\\n            \\\"stroke-linecap\\\": \\\"butt\\\",\\n            \\\"stroke-linejoin\\\": \\\"butt\\\",\\n            \\\"stroke-miterlimit\\\": 0,\\n            \\\"stroke-opacity\\\": 1,\\n            \\\"stroke-width\\\": 1,\\n            target: \\\"_blank\\\",\\n            \\\"text-anchor\\\": \\\"middle\\\",\\n            title: \\\"Raphael\\\",\\n            transform: \\\"\\\",\\n            width: 0,\\n            x: 0,\\n            y: 0,\\n            \\\"class\\\": \\\"\\\"\\n        },\\n        availableAnimAttrs = R._availableAnimAttrs = {\\n            blur: nu,\\n            \\\"clip-rect\\\": \\\"csv\\\",\\n            cx: nu,\\n            cy: nu,\\n            fill: \\\"colour\\\",\\n            \\\"fill-opacity\\\": nu,\\n            \\\"font-size\\\": nu,\\n            height: nu,\\n            opacity: nu,\\n            path: \\\"path\\\",\\n            r: nu,\\n            rx: nu,\\n            ry: nu,\\n            stroke: \\\"colour\\\",\\n            \\\"stroke-opacity\\\": nu,\\n            \\\"stroke-width\\\": nu,\\n            transform: \\\"transform\\\",\\n            width: nu,\\n            x: nu,\\n            y: nu\\n        },\\n        whitespace = /[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]/g,\\n        commaSpaces = /[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*/,\\n        hsrg = {hs: 1, rg: 1},\\n        p2s = /,?([achlmqrstvxz]),?/gi,\\n        pathCommand = /([achlmrqstvz])[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029,]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*)+)/ig,\\n        tCommand = /([rstm])[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029,]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*)+)/ig,\\n        pathValues = /(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*/ig,\\n        radial_gradient = R._radial_gradient = /^r(?:\\\\(([^,]+?)[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*([^\\\\)]+?)\\\\))?/,\\n        eldata = {},\\n        sortByKey = function (a, b) {\\n            return a.key - b.key;\\n        },\\n        sortByNumber = function (a, b) {\\n            return toFloat(a) - toFloat(b);\\n        },\\n        fun = function () {},\\n        pipe = function (x) {\\n            return x;\\n        },\\n        rectPath = R._rectPath = function (x, y, w, h, r) {\\n            if (r) {\\n                return [[\\\"M\\\", x + r, y], [\\\"l\\\", w - r * 2, 0], [\\\"a\\\", r, r, 0, 0, 1, r, r], [\\\"l\\\", 0, h - r * 2], [\\\"a\\\", r, r, 0, 0, 1, -r, r], [\\\"l\\\", r * 2 - w, 0], [\\\"a\\\", r, r, 0, 0, 1, -r, -r], [\\\"l\\\", 0, r * 2 - h], [\\\"a\\\", r, r, 0, 0, 1, r, -r], [\\\"z\\\"]];\\n            }\\n            return [[\\\"M\\\", x, y], [\\\"l\\\", w, 0], [\\\"l\\\", 0, h], [\\\"l\\\", -w, 0], [\\\"z\\\"]];\\n        },\\n        ellipsePath = function (x, y, rx, ry) {\\n            if (ry == null) {\\n                ry = rx;\\n            }\\n            return [[\\\"M\\\", x, y], [\\\"m\\\", 0, -ry], [\\\"a\\\", rx, ry, 0, 1, 1, 0, 2 * ry], [\\\"a\\\", rx, ry, 0, 1, 1, 0, -2 * ry], [\\\"z\\\"]];\\n        },\\n        getPath = R._getPath = {\\n            path: function (el) {\\n                return el.attr(\\\"path\\\");\\n            },\\n            circle: function (el) {\\n                var a = el.attrs;\\n                return ellipsePath(a.cx, a.cy, a.r);\\n            },\\n            ellipse: function (el) {\\n                var a = el.attrs;\\n                return ellipsePath(a.cx, a.cy, a.rx, a.ry);\\n            },\\n            rect: function (el) {\\n                var a = el.attrs;\\n                return rectPath(a.x, a.y, a.width, a.height, a.r);\\n            },\\n            image: function (el) {\\n                var a = el.attrs;\\n                return rectPath(a.x, a.y, a.width, a.height);\\n            },\\n            text: function (el) {\\n                var bbox = el._getBBox();\\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\\n            },\\n            set : function(el) {\\n                var bbox = el._getBBox();\\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\\n            }\\n        },\\n        /*\\\\\\n         * Raphael.mapPath\\n         [ method ]\\n         **\\n         * Transform the path string with given matrix.\\n         > Parameters\\n         - path (string) path string\\n         - matrix (object) see @Matrix\\n         = (string) transformed path string\\n        \\\\*/\\n        mapPath = R.mapPath = function (path, matrix) {\\n            if (!matrix) {\\n                return path;\\n            }\\n            var x, y, i, j, ii, jj, pathi;\\n            path = path2curve(path);\\n            for (i = 0, ii = path.length; i < ii; i++) {\\n                pathi = path[i];\\n                for (j = 1, jj = pathi.length; j < jj; j += 2) {\\n                    x = matrix.x(pathi[j], pathi[j + 1]);\\n                    y = matrix.y(pathi[j], pathi[j + 1]);\\n                    pathi[j] = x;\\n                    pathi[j + 1] = y;\\n                }\\n            }\\n            return path;\\n        };\\n\\n    R._g = g;\\n    /*\\\\\\n     * Raphael.type\\n     [ property (string) ]\\n     **\\n     * Can be “SVG”, “VML” or empty, depending on browser support.\\n    \\\\*/\\n    R.type = (g.win.SVGAngle || g.doc.implementation.hasFeature(\\\"http://www.w3.org/TR/SVG11/feature#BasicStructure\\\", \\\"1.1\\\") ? \\\"SVG\\\" : \\\"VML\\\");\\n    if (R.type == \\\"VML\\\") {\\n        var d = g.doc.createElement(\\\"div\\\"),\\n            b;\\n        d.innerHTML = '<v:shape adj=\\\"1\\\"/>';\\n        b = d.firstChild;\\n        b.style.behavior = \\\"url(#default#VML)\\\";\\n        if (!(b && typeof b.adj == \\\"object\\\")) {\\n            return (R.type = E);\\n        }\\n        d = null;\\n    }\\n    /*\\\\\\n     * Raphael.svg\\n     [ property (boolean) ]\\n     **\\n     * `true` if browser supports SVG.\\n    \\\\*/\\n    /*\\\\\\n     * Raphael.vml\\n     [ property (boolean) ]\\n     **\\n     * `true` if browser supports VML.\\n    \\\\*/\\n    R.svg = !(R.vml = R.type == \\\"VML\\\");\\n    R._Paper = Paper;\\n    /*\\\\\\n     * Raphael.fn\\n     [ property (object) ]\\n     **\\n     * You can add your own method to the canvas. For example if you want to draw a pie chart,\\n     * you can create your own pie chart function and ship it as a Raphaël plugin. To do this\\n     * you need to extend the `Raphael.fn` object. You should modify the `fn` object before a\\n     * Raphaël instance is created, otherwise it will take no effect. Please note that the\\n     * ability for namespaced plugins was removed in Raphael 2.0. It is up to the plugin to\\n     * ensure any namespacing ensures proper context.\\n     > Usage\\n     | Raphael.fn.arrow = function (x1, y1, x2, y2, size) {\\n     |     return this.path( ... );\\n     | };\\n     | // or create namespace\\n     | Raphael.fn.mystuff = {\\n     |     arrow: function () {…},\\n     |     star: function () {…},\\n     |     // etc…\\n     | };\\n     | var paper = Raphael(10, 10, 630, 480);\\n     | // then use it\\n     | paper.arrow(10, 10, 30, 30, 5).attr({fill: \\\"#f00\\\"});\\n     | paper.mystuff.arrow();\\n     | paper.mystuff.star();\\n    \\\\*/\\n    R.fn = paperproto = Paper.prototype = R.prototype;\\n    R._id = 0;\\n    /*\\\\\\n     * Raphael.is\\n     [ method ]\\n     **\\n     * Handful of replacements for `typeof` operator.\\n     > Parameters\\n     - o (…) any object or primitive\\n     - type (string) name of the type, i.e. “string”, “function”, “number”, etc.\\n     = (boolean) is given value is of given type\\n    \\\\*/\\n    R.is = function (o, type) {\\n        type = lowerCase.call(type);\\n        if (type == \\\"finite\\\") {\\n            return !isnan[has](+o);\\n        }\\n        if (type == \\\"array\\\") {\\n            return o instanceof Array;\\n        }\\n        return  (type == \\\"null\\\" && o === null) ||\\n                (type == typeof o && o !== null) ||\\n                (type == \\\"object\\\" && o === Object(o)) ||\\n                (type == \\\"array\\\" && Array.isArray && Array.isArray(o)) ||\\n                objectToString.call(o).slice(8, -1).toLowerCase() == type;\\n    };\\n\\n    function clone(obj) {\\n        if (typeof obj == \\\"function\\\" || Object(obj) !== obj) {\\n            return obj;\\n        }\\n        var res = new obj.constructor;\\n        for (var key in obj) if (obj[has](key)) {\\n            res[key] = clone(obj[key]);\\n        }\\n        return res;\\n    }\\n\\n    /*\\\\\\n     * Raphael.angle\\n     [ method ]\\n     **\\n     * Returns angle between two or three points\\n     > Parameters\\n     - x1 (number) x coord of first point\\n     - y1 (number) y coord of first point\\n     - x2 (number) x coord of second point\\n     - y2 (number) y coord of second point\\n     - x3 (number) #optional x coord of third point\\n     - y3 (number) #optional y coord of third point\\n     = (number) angle in degrees.\\n    \\\\*/\\n    R.angle = function (x1, y1, x2, y2, x3, y3) {\\n        if (x3 == null) {\\n            var x = x1 - x2,\\n                y = y1 - y2;\\n            if (!x && !y) {\\n                return 0;\\n            }\\n            return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\\n        } else {\\n            return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);\\n        }\\n    };\\n    /*\\\\\\n     * Raphael.rad\\n     [ method ]\\n     **\\n     * Transform angle to radians\\n     > Parameters\\n     - deg (number) angle in degrees\\n     = (number) angle in radians.\\n    \\\\*/\\n    R.rad = function (deg) {\\n        return deg % 360 * PI / 180;\\n    };\\n    /*\\\\\\n     * Raphael.deg\\n     [ method ]\\n     **\\n     * Transform angle to degrees\\n     > Parameters\\n     - rad (number) angle in radians\\n     = (number) angle in degrees.\\n    \\\\*/\\n    R.deg = function (rad) {\\n        return Math.round ((rad * 180 / PI% 360)* 1000) / 1000;\\n    };\\n    /*\\\\\\n     * Raphael.snapTo\\n     [ method ]\\n     **\\n     * Snaps given value to given grid.\\n     > Parameters\\n     - values (array|number) given array of values or step of the grid\\n     - value (number) value to adjust\\n     - tolerance (number) #optional tolerance for snapping. Default is `10`.\\n     = (number) adjusted value.\\n    \\\\*/\\n    R.snapTo = function (values, value, tolerance) {\\n        tolerance = R.is(tolerance, \\\"finite\\\") ? tolerance : 10;\\n        if (R.is(values, array)) {\\n            var i = values.length;\\n            while (i--) if (abs(values[i] - value) <= tolerance) {\\n                return values[i];\\n            }\\n        } else {\\n            values = +values;\\n            var rem = value % values;\\n            if (rem < tolerance) {\\n                return value - rem;\\n            }\\n            if (rem > values - tolerance) {\\n                return value - rem + values;\\n            }\\n        }\\n        return value;\\n    };\\n\\n    /*\\\\\\n     * Raphael.createUUID\\n     [ method ]\\n     **\\n     * Returns RFC4122, version 4 ID\\n    \\\\*/\\n    var createUUID = R.createUUID = (function (uuidRegEx, uuidReplacer) {\\n        return function () {\\n            return \\\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\\\".replace(uuidRegEx, uuidReplacer).toUpperCase();\\n        };\\n    })(/[xy]/g, function (c) {\\n        var r = math.random() * 16 | 0,\\n            v = c == \\\"x\\\" ? r : (r & 3 | 8);\\n        return v.toString(16);\\n    });\\n\\n    /*\\\\\\n     * Raphael.setWindow\\n     [ method ]\\n     **\\n     * Used when you need to draw in `&lt;iframe>`. Switched window to the iframe one.\\n     > Parameters\\n     - newwin (window) new window object\\n    \\\\*/\\n    R.setWindow = function (newwin) {\\n        eve(\\\"raphael.setWindow\\\", R, g.win, newwin);\\n        g.win = newwin;\\n        g.doc = g.win.document;\\n        if (R._engine.initWin) {\\n            R._engine.initWin(g.win);\\n        }\\n    };\\n    var toHex = function (color) {\\n        if (R.vml) {\\n            // http://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/\\n            var trim = /^\\\\s+|\\\\s+$/g;\\n            var bod;\\n            try {\\n                var docum = new ActiveXObject(\\\"htmlfile\\\");\\n                docum.write(\\\"<body>\\\");\\n                docum.close();\\n                bod = docum.body;\\n            } catch(e) {\\n                bod = createPopup().document.body;\\n            }\\n            var range = bod.createTextRange();\\n            toHex = cacher(function (color) {\\n                try {\\n                    bod.style.color = Str(color).replace(trim, E);\\n                    var value = range.queryCommandValue(\\\"ForeColor\\\");\\n                    value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);\\n                    return \\\"#\\\" + (\\\"000000\\\" + value.toString(16)).slice(-6);\\n                } catch(e) {\\n                    return \\\"none\\\";\\n                }\\n            });\\n        } else {\\n            var i = g.doc.createElement(\\\"i\\\");\\n            i.title = \\\"Rapha\\\\xebl Colour Picker\\\";\\n            i.style.display = \\\"none\\\";\\n            g.doc.body.appendChild(i);\\n            toHex = cacher(function (color) {\\n                i.style.color = color;\\n                return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\\\"color\\\");\\n            });\\n        }\\n        return toHex(color);\\n    },\\n    hsbtoString = function () {\\n        return \\\"hsb(\\\" + [this.h, this.s, this.b] + \\\")\\\";\\n    },\\n    hsltoString = function () {\\n        return \\\"hsl(\\\" + [this.h, this.s, this.l] + \\\")\\\";\\n    },\\n    rgbtoString = function () {\\n        return this.hex;\\n    },\\n    prepareRGB = function (r, g, b) {\\n        if (g == null && R.is(r, \\\"object\\\") && \\\"r\\\" in r && \\\"g\\\" in r && \\\"b\\\" in r) {\\n            b = r.b;\\n            g = r.g;\\n            r = r.r;\\n        }\\n        if (g == null && R.is(r, string)) {\\n            var clr = R.getRGB(r);\\n            r = clr.r;\\n            g = clr.g;\\n            b = clr.b;\\n        }\\n        if (r > 1 || g > 1 || b > 1) {\\n            r /= 255;\\n            g /= 255;\\n            b /= 255;\\n        }\\n\\n        return [r, g, b];\\n    },\\n    packageRGB = function (r, g, b, o) {\\n        r *= 255;\\n        g *= 255;\\n        b *= 255;\\n        var rgb = {\\n            r: r,\\n            g: g,\\n            b: b,\\n            hex: R.rgb(r, g, b),\\n            toString: rgbtoString\\n        };\\n        R.is(o, \\\"finite\\\") && (rgb.opacity = o);\\n        return rgb;\\n    };\\n\\n    /*\\\\\\n     * Raphael.color\\n     [ method ]\\n     **\\n     * Parses the color string and returns object with all values for the given color.\\n     > Parameters\\n     - clr (string) color string in one of the supported formats (see @Raphael.getRGB)\\n     = (object) Combined RGB & HSB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue,\\n     o     hex (string) color in HTML/CSS format: #••••••,\\n     o     error (boolean) `true` if string can’t be parsed,\\n     o     h (number) hue,\\n     o     s (number) saturation,\\n     o     v (number) value (brightness),\\n     o     l (number) lightness\\n     o }\\n    \\\\*/\\n    R.color = function (clr) {\\n        var rgb;\\n        if (R.is(clr, \\\"object\\\") && \\\"h\\\" in clr && \\\"s\\\" in clr && \\\"b\\\" in clr) {\\n            rgb = R.hsb2rgb(clr);\\n            clr.r = rgb.r;\\n            clr.g = rgb.g;\\n            clr.b = rgb.b;\\n            clr.hex = rgb.hex;\\n        } else if (R.is(clr, \\\"object\\\") && \\\"h\\\" in clr && \\\"s\\\" in clr && \\\"l\\\" in clr) {\\n            rgb = R.hsl2rgb(clr);\\n            clr.r = rgb.r;\\n            clr.g = rgb.g;\\n            clr.b = rgb.b;\\n            clr.hex = rgb.hex;\\n        } else {\\n            if (R.is(clr, \\\"string\\\")) {\\n                clr = R.getRGB(clr);\\n            }\\n            if (R.is(clr, \\\"object\\\") && \\\"r\\\" in clr && \\\"g\\\" in clr && \\\"b\\\" in clr) {\\n                rgb = R.rgb2hsl(clr);\\n                clr.h = rgb.h;\\n                clr.s = rgb.s;\\n                clr.l = rgb.l;\\n                rgb = R.rgb2hsb(clr);\\n                clr.v = rgb.b;\\n            } else {\\n                clr = {hex: \\\"none\\\"};\\n                clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\\n            }\\n        }\\n        clr.toString = rgbtoString;\\n        return clr;\\n    };\\n    /*\\\\\\n     * Raphael.hsb2rgb\\n     [ method ]\\n     **\\n     * Converts HSB values to RGB object.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - v (number) value or brightness\\n     = (object) RGB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue,\\n     o     hex (string) color in HTML/CSS format: #••••••\\n     o }\\n    \\\\*/\\n    R.hsb2rgb = function (h, s, v, o) {\\n        if (this.is(h, \\\"object\\\") && \\\"h\\\" in h && \\\"s\\\" in h && \\\"b\\\" in h) {\\n            v = h.b;\\n            s = h.s;\\n            o = h.o;\\n            h = h.h;\\n        }\\n        h *= 360;\\n        var R, G, B, X, C;\\n        h = (h % 360) / 60;\\n        C = v * s;\\n        X = C * (1 - abs(h % 2 - 1));\\n        R = G = B = v - C;\\n\\n        h = ~~h;\\n        R += [C, X, 0, 0, X, C][h];\\n        G += [X, C, C, X, 0, 0][h];\\n        B += [0, 0, X, C, C, X][h];\\n        return packageRGB(R, G, B, o);\\n    };\\n    /*\\\\\\n     * Raphael.hsl2rgb\\n     [ method ]\\n     **\\n     * Converts HSL values to RGB object.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - l (number) luminosity\\n     = (object) RGB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue,\\n     o     hex (string) color in HTML/CSS format: #••••••\\n     o }\\n    \\\\*/\\n    R.hsl2rgb = function (h, s, l, o) {\\n        if (this.is(h, \\\"object\\\") && \\\"h\\\" in h && \\\"s\\\" in h && \\\"l\\\" in h) {\\n            l = h.l;\\n            s = h.s;\\n            h = h.h;\\n        }\\n        if (h > 1 || s > 1 || l > 1) {\\n            h /= 360;\\n            s /= 100;\\n            l /= 100;\\n        }\\n        h *= 360;\\n        var R, G, B, X, C;\\n        h = (h % 360) / 60;\\n        C = 2 * s * (l < .5 ? l : 1 - l);\\n        X = C * (1 - abs(h % 2 - 1));\\n        R = G = B = l - C / 2;\\n\\n        h = ~~h;\\n        R += [C, X, 0, 0, X, C][h];\\n        G += [X, C, C, X, 0, 0][h];\\n        B += [0, 0, X, C, C, X][h];\\n        return packageRGB(R, G, B, o);\\n    };\\n    /*\\\\\\n     * Raphael.rgb2hsb\\n     [ method ]\\n     **\\n     * Converts RGB values to HSB object.\\n     > Parameters\\n     - r (number) red\\n     - g (number) green\\n     - b (number) blue\\n     = (object) HSB object in format:\\n     o {\\n     o     h (number) hue\\n     o     s (number) saturation\\n     o     b (number) brightness\\n     o }\\n    \\\\*/\\n    R.rgb2hsb = function (r, g, b) {\\n        b = prepareRGB(r, g, b);\\n        r = b[0];\\n        g = b[1];\\n        b = b[2];\\n\\n        var H, S, V, C;\\n        V = mmax(r, g, b);\\n        C = V - mmin(r, g, b);\\n        H = (C == 0 ? null :\\n             V == r ? (g - b) / C :\\n             V == g ? (b - r) / C + 2 :\\n                      (r - g) / C + 4\\n            );\\n        H = ((H + 360) % 6) * 60 / 360;\\n        S = C == 0 ? 0 : C / V;\\n        return {h: H, s: S, b: V, toString: hsbtoString};\\n    };\\n    /*\\\\\\n     * Raphael.rgb2hsl\\n     [ method ]\\n     **\\n     * Converts RGB values to HSL object.\\n     > Parameters\\n     - r (number) red\\n     - g (number) green\\n     - b (number) blue\\n     = (object) HSL object in format:\\n     o {\\n     o     h (number) hue\\n     o     s (number) saturation\\n     o     l (number) luminosity\\n     o }\\n    \\\\*/\\n    R.rgb2hsl = function (r, g, b) {\\n        b = prepareRGB(r, g, b);\\n        r = b[0];\\n        g = b[1];\\n        b = b[2];\\n\\n        var H, S, L, M, m, C;\\n        M = mmax(r, g, b);\\n        m = mmin(r, g, b);\\n        C = M - m;\\n        H = (C == 0 ? null :\\n             M == r ? (g - b) / C :\\n             M == g ? (b - r) / C + 2 :\\n                      (r - g) / C + 4);\\n        H = ((H + 360) % 6) * 60 / 360;\\n        L = (M + m) / 2;\\n        S = (C == 0 ? 0 :\\n             L < .5 ? C / (2 * L) :\\n                      C / (2 - 2 * L));\\n        return {h: H, s: S, l: L, toString: hsltoString};\\n    };\\n    R._path2string = function () {\\n        return this.join(\\\",\\\").replace(p2s, \\\"$1\\\");\\n    };\\n    function repush(array, item) {\\n        for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\\n            return array.push(array.splice(i, 1)[0]);\\n        }\\n    }\\n    function cacher(f, scope, postprocessor) {\\n        function newf() {\\n            var arg = Array.prototype.slice.call(arguments, 0),\\n                args = arg.join(\\\"\\\\u2400\\\"),\\n                cache = newf.cache = newf.cache || {},\\n                count = newf.count = newf.count || [];\\n            if (cache[has](args)) {\\n                repush(count, args);\\n                return postprocessor ? postprocessor(cache[args]) : cache[args];\\n            }\\n            count.length >= 1e3 && delete cache[count.shift()];\\n            count.push(args);\\n            cache[args] = f[apply](scope, arg);\\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\\n        }\\n        return newf;\\n    }\\n\\n    var preload = R._preload = function (src, f) {\\n        var img = g.doc.createElement(\\\"img\\\");\\n        img.style.cssText = \\\"position:absolute;left:-9999em;top:-9999em\\\";\\n        img.onload = function () {\\n            f.call(this);\\n            this.onload = null;\\n            g.doc.body.removeChild(this);\\n        };\\n        img.onerror = function () {\\n            g.doc.body.removeChild(this);\\n        };\\n        g.doc.body.appendChild(img);\\n        img.src = src;\\n    };\\n\\n    function clrToString() {\\n        return this.hex;\\n    }\\n\\n    /*\\\\\\n     * Raphael.getRGB\\n     [ method ]\\n     **\\n     * Parses colour string as RGB object\\n     > Parameters\\n     - colour (string) colour string in one of formats:\\n     # <ul>\\n     #     <li>Colour name (“<code>red</code>”, “<code>green</code>”, “<code>cornflowerblue</code>”, etc)</li>\\n     #     <li>#••• — shortened HTML colour: (“<code>#000</code>”, “<code>#fc0</code>”, etc)</li>\\n     #     <li>#•••••• — full length HTML colour: (“<code>#000000</code>”, “<code>#bd2300</code>”)</li>\\n     #     <li>rgb(•••, •••, •••) — red, green and blue channels’ values: (“<code>rgb(200,&nbsp;100,&nbsp;0)</code>”)</li>\\n     #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (“<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>”)</li>\\n     #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (“<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>”)</li>\\n     #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\\n     #     <li>hsl(•••, •••, •••) — same as hsb</li>\\n     #     <li>hsl(•••%, •••%, •••%) — same as hsb</li>\\n     # </ul>\\n     = (object) RGB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue\\n     o     hex (string) color in HTML/CSS format: #••••••,\\n     o     error (boolean) true if string can’t be parsed\\n     o }\\n    \\\\*/\\n    R.getRGB = cacher(function (colour) {\\n        if (!colour || !!((colour = Str(colour)).indexOf(\\\"-\\\") + 1)) {\\n            return {r: -1, g: -1, b: -1, hex: \\\"none\\\", error: 1, toString: clrToString};\\n        }\\n        if (colour == \\\"none\\\") {\\n            return {r: -1, g: -1, b: -1, hex: \\\"none\\\", toString: clrToString};\\n        }\\n        !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \\\"#\\\") && (colour = toHex(colour));\\n        var res,\\n            red,\\n            green,\\n            blue,\\n            opacity,\\n            t,\\n            values,\\n            rgb = colour.match(colourRegExp);\\n        if (rgb) {\\n            if (rgb[2]) {\\n                blue = toInt(rgb[2].substring(5), 16);\\n                green = toInt(rgb[2].substring(3, 5), 16);\\n                red = toInt(rgb[2].substring(1, 3), 16);\\n            }\\n            if (rgb[3]) {\\n                blue = toInt((t = rgb[3].charAt(3)) + t, 16);\\n                green = toInt((t = rgb[3].charAt(2)) + t, 16);\\n                red = toInt((t = rgb[3].charAt(1)) + t, 16);\\n            }\\n            if (rgb[4]) {\\n                values = rgb[4][split](commaSpaces);\\n                red = toFloat(values[0]);\\n                values[0].slice(-1) == \\\"%\\\" && (red *= 2.55);\\n                green = toFloat(values[1]);\\n                values[1].slice(-1) == \\\"%\\\" && (green *= 2.55);\\n                blue = toFloat(values[2]);\\n                values[2].slice(-1) == \\\"%\\\" && (blue *= 2.55);\\n                rgb[1].toLowerCase().slice(0, 4) == \\\"rgba\\\" && (opacity = toFloat(values[3]));\\n                values[3] && values[3].slice(-1) == \\\"%\\\" && (opacity /= 100);\\n            }\\n            if (rgb[5]) {\\n                values = rgb[5][split](commaSpaces);\\n                red = toFloat(values[0]);\\n                values[0].slice(-1) == \\\"%\\\" && (red *= 2.55);\\n                green = toFloat(values[1]);\\n                values[1].slice(-1) == \\\"%\\\" && (green *= 2.55);\\n                blue = toFloat(values[2]);\\n                values[2].slice(-1) == \\\"%\\\" && (blue *= 2.55);\\n                (values[0].slice(-3) == \\\"deg\\\" || values[0].slice(-1) == \\\"\\\\xb0\\\") && (red /= 360);\\n                rgb[1].toLowerCase().slice(0, 4) == \\\"hsba\\\" && (opacity = toFloat(values[3]));\\n                values[3] && values[3].slice(-1) == \\\"%\\\" && (opacity /= 100);\\n                return R.hsb2rgb(red, green, blue, opacity);\\n            }\\n            if (rgb[6]) {\\n                values = rgb[6][split](commaSpaces);\\n                red = toFloat(values[0]);\\n                values[0].slice(-1) == \\\"%\\\" && (red *= 2.55);\\n                green = toFloat(values[1]);\\n                values[1].slice(-1) == \\\"%\\\" && (green *= 2.55);\\n                blue = toFloat(values[2]);\\n                values[2].slice(-1) == \\\"%\\\" && (blue *= 2.55);\\n                (values[0].slice(-3) == \\\"deg\\\" || values[0].slice(-1) == \\\"\\\\xb0\\\") && (red /= 360);\\n                rgb[1].toLowerCase().slice(0, 4) == \\\"hsla\\\" && (opacity = toFloat(values[3]));\\n                values[3] && values[3].slice(-1) == \\\"%\\\" && (opacity /= 100);\\n                return R.hsl2rgb(red, green, blue, opacity);\\n            }\\n            rgb = {r: red, g: green, b: blue, toString: clrToString};\\n            rgb.hex = \\\"#\\\" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\\n            R.is(opacity, \\\"finite\\\") && (rgb.opacity = opacity);\\n            return rgb;\\n        }\\n        return {r: -1, g: -1, b: -1, hex: \\\"none\\\", error: 1, toString: clrToString};\\n    }, R);\\n    /*\\\\\\n     * Raphael.hsb\\n     [ method ]\\n     **\\n     * Converts HSB values to hex representation of the colour.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - b (number) value or brightness\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.hsb = cacher(function (h, s, b) {\\n        return R.hsb2rgb(h, s, b).hex;\\n    });\\n    /*\\\\\\n     * Raphael.hsl\\n     [ method ]\\n     **\\n     * Converts HSL values to hex representation of the colour.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - l (number) luminosity\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.hsl = cacher(function (h, s, l) {\\n        return R.hsl2rgb(h, s, l).hex;\\n    });\\n    /*\\\\\\n     * Raphael.rgb\\n     [ method ]\\n     **\\n     * Converts RGB values to hex representation of the colour.\\n     > Parameters\\n     - r (number) red\\n     - g (number) green\\n     - b (number) blue\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.rgb = cacher(function (r, g, b) {\\n        function round(x) { return (x + 0.5) | 0; }\\n        return \\\"#\\\" + (16777216 | round(b) | (round(g) << 8) | (round(r) << 16)).toString(16).slice(1);\\n    });\\n    /*\\\\\\n     * Raphael.getColor\\n     [ method ]\\n     **\\n     * On each call returns next colour in the spectrum. To reset it back to red call @Raphael.getColor.reset\\n     > Parameters\\n     - value (number) #optional brightness, default is `0.75`\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.getColor = function (value) {\\n        var start = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: value || .75},\\n            rgb = this.hsb2rgb(start.h, start.s, start.b);\\n        start.h += .075;\\n        if (start.h > 1) {\\n            start.h = 0;\\n            start.s -= .2;\\n            start.s <= 0 && (this.getColor.start = {h: 0, s: 1, b: start.b});\\n        }\\n        return rgb.hex;\\n    };\\n    /*\\\\\\n     * Raphael.getColor.reset\\n     [ method ]\\n     **\\n     * Resets spectrum position for @Raphael.getColor back to red.\\n    \\\\*/\\n    R.getColor.reset = function () {\\n        delete this.start;\\n    };\\n\\n    // http://schepers.cc/getting-to-the-point\\n    function catmullRom2bezier(crp, z) {\\n        var d = [];\\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\\n            var p = [\\n                        {x: +crp[i - 2], y: +crp[i - 1]},\\n                        {x: +crp[i],     y: +crp[i + 1]},\\n                        {x: +crp[i + 2], y: +crp[i + 3]},\\n                        {x: +crp[i + 4], y: +crp[i + 5]}\\n                    ];\\n            if (z) {\\n                if (!i) {\\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\\n                } else if (iLen - 4 == i) {\\n                    p[3] = {x: +crp[0], y: +crp[1]};\\n                } else if (iLen - 2 == i) {\\n                    p[2] = {x: +crp[0], y: +crp[1]};\\n                    p[3] = {x: +crp[2], y: +crp[3]};\\n                }\\n            } else {\\n                if (iLen - 4 == i) {\\n                    p[3] = p[2];\\n                } else if (!i) {\\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\\n                }\\n            }\\n            d.push([\\\"C\\\",\\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\\n                  p[2].x,\\n                  p[2].y\\n            ]);\\n        }\\n\\n        return d;\\n    }\\n    /*\\\\\\n     * Raphael.parsePathString\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Parses given path string into an array of arrays of path segments.\\n     > Parameters\\n     - pathString (string|array) path string or array of segments (in the last case it will be returned straight away)\\n     = (array) array of segments.\\n    \\\\*/\\n    R.parsePathString = function (pathString) {\\n        if (!pathString) {\\n            return null;\\n        }\\n        var pth = paths(pathString);\\n        if (pth.arr) {\\n            return pathClone(pth.arr);\\n        }\\n\\n        var paramCounts = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0},\\n            data = [];\\n        if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption\\n            data = pathClone(pathString);\\n        }\\n        if (!data.length) {\\n            Str(pathString).replace(pathCommand, function (a, b, c) {\\n                var params = [],\\n                    name = b.toLowerCase();\\n                c.replace(pathValues, function (a, b) {\\n                    b && params.push(+b);\\n                });\\n                if (name == \\\"m\\\" && params.length > 2) {\\n                    data.push([b][concat](params.splice(0, 2)));\\n                    name = \\\"l\\\";\\n                    b = b == \\\"m\\\" ? \\\"l\\\" : \\\"L\\\";\\n                }\\n                if (name == \\\"r\\\") {\\n                    data.push([b][concat](params));\\n                } else while (params.length >= paramCounts[name]) {\\n                    data.push([b][concat](params.splice(0, paramCounts[name])));\\n                    if (!paramCounts[name]) {\\n                        break;\\n                    }\\n                }\\n            });\\n        }\\n        data.toString = R._path2string;\\n        pth.arr = pathClone(data);\\n        return data;\\n    };\\n    /*\\\\\\n     * Raphael.parseTransformString\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Parses given path string into an array of transformations.\\n     > Parameters\\n     - TString (string|array) transform string or array of transformations (in the last case it will be returned straight away)\\n     = (array) array of transformations.\\n    \\\\*/\\n    R.parseTransformString = cacher(function (TString) {\\n        if (!TString) {\\n            return null;\\n        }\\n        var paramCounts = {r: 3, s: 4, t: 2, m: 6},\\n            data = [];\\n        if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption\\n            data = pathClone(TString);\\n        }\\n        if (!data.length) {\\n            Str(TString).replace(tCommand, function (a, b, c) {\\n                var params = [],\\n                    name = lowerCase.call(b);\\n                c.replace(pathValues, function (a, b) {\\n                    b && params.push(+b);\\n                });\\n                data.push([b][concat](params));\\n            });\\n        }\\n        data.toString = R._path2string;\\n        return data;\\n    });\\n    // PATHS\\n    var paths = function (ps) {\\n        var p = paths.ps = paths.ps || {};\\n        if (p[ps]) {\\n            p[ps].sleep = 100;\\n        } else {\\n            p[ps] = {\\n                sleep: 100\\n            };\\n        }\\n        setTimeout(function () {\\n            for (var key in p) if (p[has](key) && key != ps) {\\n                p[key].sleep--;\\n                !p[key].sleep && delete p[key];\\n            }\\n        });\\n        return p[ps];\\n    };\\n    /*\\\\\\n     * Raphael.findDotsAtSegment\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Find dot coordinates on the given cubic bezier curve at the given t.\\n     > Parameters\\n     - p1x (number) x of the first point of the curve\\n     - p1y (number) y of the first point of the curve\\n     - c1x (number) x of the first anchor of the curve\\n     - c1y (number) y of the first anchor of the curve\\n     - c2x (number) x of the second anchor of the curve\\n     - c2y (number) y of the second anchor of the curve\\n     - p2x (number) x of the second point of the curve\\n     - p2y (number) y of the second point of the curve\\n     - t (number) position on the curve (0..1)\\n     = (object) point information in format:\\n     o {\\n     o     x: (number) x coordinate of the point\\n     o     y: (number) y coordinate of the point\\n     o     m: {\\n     o         x: (number) x coordinate of the left anchor\\n     o         y: (number) y coordinate of the left anchor\\n     o     }\\n     o     n: {\\n     o         x: (number) x coordinate of the right anchor\\n     o         y: (number) y coordinate of the right anchor\\n     o     }\\n     o     start: {\\n     o         x: (number) x coordinate of the start of the curve\\n     o         y: (number) y coordinate of the start of the curve\\n     o     }\\n     o     end: {\\n     o         x: (number) x coordinate of the end of the curve\\n     o         y: (number) y coordinate of the end of the curve\\n     o     }\\n     o     alpha: (number) angle of the curve derivative at the point\\n     o }\\n    \\\\*/\\n    R.findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\\n        var t1 = 1 - t,\\n            t13 = pow(t1, 3),\\n            t12 = pow(t1, 2),\\n            t2 = t * t,\\n            t3 = t2 * t,\\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\\n            ax = t1 * p1x + t * c1x,\\n            ay = t1 * p1y + t * c1y,\\n            cx = t1 * c2x + t * p2x,\\n            cy = t1 * c2y + t * p2y,\\n            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\\n        (mx > nx || my < ny) && (alpha += 180);\\n        return {\\n            x: x,\\n            y: y,\\n            m: {x: mx, y: my},\\n            n: {x: nx, y: ny},\\n            start: {x: ax, y: ay},\\n            end: {x: cx, y: cy},\\n            alpha: alpha\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.bezierBBox\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Return bounding box of a given cubic bezier curve\\n     > Parameters\\n     - p1x (number) x of the first point of the curve\\n     - p1y (number) y of the first point of the curve\\n     - c1x (number) x of the first anchor of the curve\\n     - c1y (number) y of the first anchor of the curve\\n     - c2x (number) x of the second anchor of the curve\\n     - c2y (number) y of the second anchor of the curve\\n     - p2x (number) x of the second point of the curve\\n     - p2y (number) y of the second point of the curve\\n     * or\\n     - bez (array) array of six points for bezier curve\\n     = (object) point information in format:\\n     o {\\n     o     min: {\\n     o         x: (number) x coordinate of the left point\\n     o         y: (number) y coordinate of the top point\\n     o     }\\n     o     max: {\\n     o         x: (number) x coordinate of the right point\\n     o         y: (number) y coordinate of the bottom point\\n     o     }\\n     o }\\n    \\\\*/\\n    R.bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\\n        if (!R.is(p1x, \\\"array\\\")) {\\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\\n        }\\n        var bbox = curveDim.apply(null, p1x);\\n        return {\\n            x: bbox.min.x,\\n            y: bbox.min.y,\\n            x2: bbox.max.x,\\n            y2: bbox.max.y,\\n            width: bbox.max.x - bbox.min.x,\\n            height: bbox.max.y - bbox.min.y\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.isPointInsideBBox\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns `true` if given point is inside bounding boxes.\\n     > Parameters\\n     - bbox (string) bounding box\\n     - x (string) x coordinate of the point\\n     - y (string) y coordinate of the point\\n     = (boolean) `true` if point inside\\n    \\\\*/\\n    R.isPointInsideBBox = function (bbox, x, y) {\\n        return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;\\n    };\\n    /*\\\\\\n     * Raphael.isBBoxIntersect\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns `true` if two bounding boxes intersect\\n     > Parameters\\n     - bbox1 (string) first bounding box\\n     - bbox2 (string) second bounding box\\n     = (boolean) `true` if they intersect\\n    \\\\*/\\n    R.isBBoxIntersect = function (bbox1, bbox2) {\\n        var i = R.isPointInsideBBox;\\n        return i(bbox2, bbox1.x, bbox1.y)\\n            || i(bbox2, bbox1.x2, bbox1.y)\\n            || i(bbox2, bbox1.x, bbox1.y2)\\n            || i(bbox2, bbox1.x2, bbox1.y2)\\n            || i(bbox1, bbox2.x, bbox2.y)\\n            || i(bbox1, bbox2.x2, bbox2.y)\\n            || i(bbox1, bbox2.x, bbox2.y2)\\n            || i(bbox1, bbox2.x2, bbox2.y2)\\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\\n    };\\n    function base3(t, p1, p2, p3, p4) {\\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\\n        return t * t2 - 3 * p1 + 3 * p2;\\n    }\\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\\n        if (z == null) {\\n            z = 1;\\n        }\\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\\n        var z2 = z / 2,\\n            n = 12,\\n            Tvalues = [-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],\\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\\n            sum = 0;\\n        for (var i = 0; i < n; i++) {\\n            var ct = z2 * Tvalues[i] + z2,\\n                xbase = base3(ct, x1, x2, x3, x4),\\n                ybase = base3(ct, y1, y2, y3, y4),\\n                comb = xbase * xbase + ybase * ybase;\\n            sum += Cvalues[i] * math.sqrt(comb);\\n        }\\n        return z2 * sum;\\n    }\\n    function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\\n            return;\\n        }\\n        var t = 1,\\n            step = t / 2,\\n            t2 = t - step,\\n            l,\\n            e = .01;\\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\\n        while (abs(l - ll) > e) {\\n            step /= 2;\\n            t2 += (l < ll ? 1 : -1) * step;\\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\\n        }\\n        return t2;\\n    }\\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\\n        if (\\n            mmax(x1, x2) < mmin(x3, x4) ||\\n            mmin(x1, x2) > mmax(x3, x4) ||\\n            mmax(y1, y2) < mmin(y3, y4) ||\\n            mmin(y1, y2) > mmax(y3, y4)\\n        ) {\\n            return;\\n        }\\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\\n\\n        if (!denominator) {\\n            return;\\n        }\\n        var px = nx / denominator,\\n            py = ny / denominator,\\n            px2 = +px.toFixed(2),\\n            py2 = +py.toFixed(2);\\n        if (\\n            px2 < +mmin(x1, x2).toFixed(2) ||\\n            px2 > +mmax(x1, x2).toFixed(2) ||\\n            px2 < +mmin(x3, x4).toFixed(2) ||\\n            px2 > +mmax(x3, x4).toFixed(2) ||\\n            py2 < +mmin(y1, y2).toFixed(2) ||\\n            py2 > +mmax(y1, y2).toFixed(2) ||\\n            py2 < +mmin(y3, y4).toFixed(2) ||\\n            py2 > +mmax(y3, y4).toFixed(2)\\n        ) {\\n            return;\\n        }\\n        return {x: px, y: py};\\n    }\\n    function inter(bez1, bez2) {\\n        return interHelper(bez1, bez2);\\n    }\\n    function interCount(bez1, bez2) {\\n        return interHelper(bez1, bez2, 1);\\n    }\\n    function interHelper(bez1, bez2, justCount) {\\n        var bbox1 = R.bezierBBox(bez1),\\n            bbox2 = R.bezierBBox(bez2);\\n        if (!R.isBBoxIntersect(bbox1, bbox2)) {\\n            return justCount ? 0 : [];\\n        }\\n        var l1 = bezlen.apply(0, bez1),\\n            l2 = bezlen.apply(0, bez2),\\n            n1 = mmax(~~(l1 / 5), 1),\\n            n2 = mmax(~~(l2 / 5), 1),\\n            dots1 = [],\\n            dots2 = [],\\n            xy = {},\\n            res = justCount ? 0 : [];\\n        for (var i = 0; i < n1 + 1; i++) {\\n            var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));\\n            dots1.push({x: p.x, y: p.y, t: i / n1});\\n        }\\n        for (i = 0; i < n2 + 1; i++) {\\n            p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));\\n            dots2.push({x: p.x, y: p.y, t: i / n2});\\n        }\\n        for (i = 0; i < n1; i++) {\\n            for (var j = 0; j < n2; j++) {\\n                var di = dots1[i],\\n                    di1 = dots1[i + 1],\\n                    dj = dots2[j],\\n                    dj1 = dots2[j + 1],\\n                    ci = abs(di1.x - di.x) < .001 ? \\\"y\\\" : \\\"x\\\",\\n                    cj = abs(dj1.x - dj.x) < .001 ? \\\"y\\\" : \\\"x\\\",\\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\\n                if (is) {\\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\\n                        continue;\\n                    }\\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\\n                    if (t1 >= 0 && t1 <= 1.001 && t2 >= 0 && t2 <= 1.001) {\\n                        if (justCount) {\\n                            res++;\\n                        } else {\\n                            res.push({\\n                                x: is.x,\\n                                y: is.y,\\n                                t1: mmin(t1, 1),\\n                                t2: mmin(t2, 1)\\n                            });\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n        return res;\\n    }\\n    /*\\\\\\n     * Raphael.pathIntersection\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Finds intersections of two paths\\n     > Parameters\\n     - path1 (string) path string\\n     - path2 (string) path string\\n     = (array) dots of intersection\\n     o [\\n     o     {\\n     o         x: (number) x coordinate of the point\\n     o         y: (number) y coordinate of the point\\n     o         t1: (number) t value for segment of path1\\n     o         t2: (number) t value for segment of path2\\n     o         segment1: (number) order number for segment of path1\\n     o         segment2: (number) order number for segment of path2\\n     o         bez1: (array) eight coordinates representing beziér curve for the segment of path1\\n     o         bez2: (array) eight coordinates representing beziér curve for the segment of path2\\n     o     }\\n     o ]\\n    \\\\*/\\n    R.pathIntersection = function (path1, path2) {\\n        return interPathHelper(path1, path2);\\n    };\\n    R.pathIntersectionNumber = function (path1, path2) {\\n        return interPathHelper(path1, path2, 1);\\n    };\\n    function interPathHelper(path1, path2, justCount) {\\n        path1 = R._path2curve(path1);\\n        path2 = R._path2curve(path2);\\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\\n            res = justCount ? 0 : [];\\n        for (var i = 0, ii = path1.length; i < ii; i++) {\\n            var pi = path1[i];\\n            if (pi[0] == \\\"M\\\") {\\n                x1 = x1m = pi[1];\\n                y1 = y1m = pi[2];\\n            } else {\\n                if (pi[0] == \\\"C\\\") {\\n                    bez1 = [x1, y1].concat(pi.slice(1));\\n                    x1 = bez1[6];\\n                    y1 = bez1[7];\\n                } else {\\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\\n                    x1 = x1m;\\n                    y1 = y1m;\\n                }\\n                for (var j = 0, jj = path2.length; j < jj; j++) {\\n                    var pj = path2[j];\\n                    if (pj[0] == \\\"M\\\") {\\n                        x2 = x2m = pj[1];\\n                        y2 = y2m = pj[2];\\n                    } else {\\n                        if (pj[0] == \\\"C\\\") {\\n                            bez2 = [x2, y2].concat(pj.slice(1));\\n                            x2 = bez2[6];\\n                            y2 = bez2[7];\\n                        } else {\\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\\n                            x2 = x2m;\\n                            y2 = y2m;\\n                        }\\n                        var intr = interHelper(bez1, bez2, justCount);\\n                        if (justCount) {\\n                            res += intr;\\n                        } else {\\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\\n                                intr[k].segment1 = i;\\n                                intr[k].segment2 = j;\\n                                intr[k].bez1 = bez1;\\n                                intr[k].bez2 = bez2;\\n                            }\\n                            res = res.concat(intr);\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n        return res;\\n    }\\n    /*\\\\\\n     * Raphael.isPointInsidePath\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns `true` if given point is inside a given closed path.\\n     > Parameters\\n     - path (string) path string\\n     - x (number) x of the point\\n     - y (number) y of the point\\n     = (boolean) true, if point is inside the path\\n    \\\\*/\\n    R.isPointInsidePath = function (path, x, y) {\\n        var bbox = R.pathBBox(path);\\n        return R.isPointInsideBBox(bbox, x, y) &&\\n               interPathHelper(path, [[\\\"M\\\", x, y], [\\\"H\\\", bbox.x2 + 10]], 1) % 2 == 1;\\n    };\\n    R._removedFactory = function (methodname) {\\n        return function () {\\n            eve(\\\"raphael.log\\\", null, \\\"Rapha\\\\xebl: you are calling to method \\\\u201c\\\" + methodname + \\\"\\\\u201d of removed object\\\", methodname);\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.pathBBox\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Return bounding box of a given path\\n     > Parameters\\n     - path (string) path string\\n     = (object) bounding box\\n     o {\\n     o     x: (number) x coordinate of the left top point of the box\\n     o     y: (number) y coordinate of the left top point of the box\\n     o     x2: (number) x coordinate of the right bottom point of the box\\n     o     y2: (number) y coordinate of the right bottom point of the box\\n     o     width: (number) width of the box\\n     o     height: (number) height of the box\\n     o     cx: (number) x coordinate of the center of the box\\n     o     cy: (number) y coordinate of the center of the box\\n     o }\\n    \\\\*/\\n    var pathDimensions = R.pathBBox = function (path) {\\n        var pth = paths(path);\\n        if (pth.bbox) {\\n            return clone(pth.bbox);\\n        }\\n        if (!path) {\\n            return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};\\n        }\\n        path = path2curve(path);\\n        var x = 0,\\n            y = 0,\\n            X = [],\\n            Y = [],\\n            p;\\n        for (var i = 0, ii = path.length; i < ii; i++) {\\n            p = path[i];\\n            if (p[0] == \\\"M\\\") {\\n                x = p[1];\\n                y = p[2];\\n                X.push(x);\\n                Y.push(y);\\n            } else {\\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\\n                X = X[concat](dim.min.x, dim.max.x);\\n                Y = Y[concat](dim.min.y, dim.max.y);\\n                x = p[5];\\n                y = p[6];\\n            }\\n        }\\n        var xmin = mmin[apply](0, X),\\n            ymin = mmin[apply](0, Y),\\n            xmax = mmax[apply](0, X),\\n            ymax = mmax[apply](0, Y),\\n            width = xmax - xmin,\\n            height = ymax - ymin,\\n                bb = {\\n                x: xmin,\\n                y: ymin,\\n                x2: xmax,\\n                y2: ymax,\\n                width: width,\\n                height: height,\\n                cx: xmin + width / 2,\\n                cy: ymin + height / 2\\n            };\\n        pth.bbox = clone(bb);\\n        return bb;\\n    },\\n        pathClone = function (pathArray) {\\n            var res = clone(pathArray);\\n            res.toString = R._path2string;\\n            return res;\\n        },\\n        pathToRelative = R._pathToRelative = function (pathArray) {\\n            var pth = paths(pathArray);\\n            if (pth.rel) {\\n                return pathClone(pth.rel);\\n            }\\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\\n                pathArray = R.parsePathString(pathArray);\\n            }\\n            var res = [],\\n                x = 0,\\n                y = 0,\\n                mx = 0,\\n                my = 0,\\n                start = 0;\\n            if (pathArray[0][0] == \\\"M\\\") {\\n                x = pathArray[0][1];\\n                y = pathArray[0][2];\\n                mx = x;\\n                my = y;\\n                start++;\\n                res.push([\\\"M\\\", x, y]);\\n            }\\n            for (var i = start, ii = pathArray.length; i < ii; i++) {\\n                var r = res[i] = [],\\n                    pa = pathArray[i];\\n                if (pa[0] != lowerCase.call(pa[0])) {\\n                    r[0] = lowerCase.call(pa[0]);\\n                    switch (r[0]) {\\n                        case \\\"a\\\":\\n                            r[1] = pa[1];\\n                            r[2] = pa[2];\\n                            r[3] = pa[3];\\n                            r[4] = pa[4];\\n                            r[5] = pa[5];\\n                            r[6] = +(pa[6] - x).toFixed(3);\\n                            r[7] = +(pa[7] - y).toFixed(3);\\n                            break;\\n                        case \\\"v\\\":\\n                            r[1] = +(pa[1] - y).toFixed(3);\\n                            break;\\n                        case \\\"m\\\":\\n                            mx = pa[1];\\n                            my = pa[2];\\n                        default:\\n                            for (var j = 1, jj = pa.length; j < jj; j++) {\\n                                r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\\n                            }\\n                    }\\n                } else {\\n                    r = res[i] = [];\\n                    if (pa[0] == \\\"m\\\") {\\n                        mx = pa[1] + x;\\n                        my = pa[2] + y;\\n                    }\\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\\n                        res[i][k] = pa[k];\\n                    }\\n                }\\n                var len = res[i].length;\\n                switch (res[i][0]) {\\n                    case \\\"z\\\":\\n                        x = mx;\\n                        y = my;\\n                        break;\\n                    case \\\"h\\\":\\n                        x += +res[i][len - 1];\\n                        break;\\n                    case \\\"v\\\":\\n                        y += +res[i][len - 1];\\n                        break;\\n                    default:\\n                        x += +res[i][len - 2];\\n                        y += +res[i][len - 1];\\n                }\\n            }\\n            res.toString = R._path2string;\\n            pth.rel = pathClone(res);\\n            return res;\\n        },\\n        pathToAbsolute = R._pathToAbsolute = function (pathArray) {\\n            var pth = paths(pathArray);\\n            if (pth.abs) {\\n                return pathClone(pth.abs);\\n            }\\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\\n                pathArray = R.parsePathString(pathArray);\\n            }\\n            if (!pathArray || !pathArray.length) {\\n                return [[\\\"M\\\", 0, 0]];\\n            }\\n            var res = [],\\n                x = 0,\\n                y = 0,\\n                mx = 0,\\n                my = 0,\\n                start = 0;\\n            if (pathArray[0][0] == \\\"M\\\") {\\n                x = +pathArray[0][1];\\n                y = +pathArray[0][2];\\n                mx = x;\\n                my = y;\\n                start++;\\n                res[0] = [\\\"M\\\", x, y];\\n            }\\n            var crz = pathArray.length == 3 && pathArray[0][0] == \\\"M\\\" && pathArray[1][0].toUpperCase() == \\\"R\\\" && pathArray[2][0].toUpperCase() == \\\"Z\\\";\\n            for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\\n                res.push(r = []);\\n                pa = pathArray[i];\\n                if (pa[0] != upperCase.call(pa[0])) {\\n                    r[0] = upperCase.call(pa[0]);\\n                    switch (r[0]) {\\n                        case \\\"A\\\":\\n                            r[1] = pa[1];\\n                            r[2] = pa[2];\\n                            r[3] = pa[3];\\n                            r[4] = pa[4];\\n                            r[5] = pa[5];\\n                            r[6] = +(pa[6] + x);\\n                            r[7] = +(pa[7] + y);\\n                            break;\\n                        case \\\"V\\\":\\n                            r[1] = +pa[1] + y;\\n                            break;\\n                        case \\\"H\\\":\\n                            r[1] = +pa[1] + x;\\n                            break;\\n                        case \\\"R\\\":\\n                            var dots = [x, y][concat](pa.slice(1));\\n                            for (var j = 2, jj = dots.length; j < jj; j++) {\\n                                dots[j] = +dots[j] + x;\\n                                dots[++j] = +dots[j] + y;\\n                            }\\n                            res.pop();\\n                            res = res[concat](catmullRom2bezier(dots, crz));\\n                            break;\\n                        case \\\"M\\\":\\n                            mx = +pa[1] + x;\\n                            my = +pa[2] + y;\\n                        default:\\n                            for (j = 1, jj = pa.length; j < jj; j++) {\\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\\n                            }\\n                    }\\n                } else if (pa[0] == \\\"R\\\") {\\n                    dots = [x, y][concat](pa.slice(1));\\n                    res.pop();\\n                    res = res[concat](catmullRom2bezier(dots, crz));\\n                    r = [\\\"R\\\"][concat](pa.slice(-2));\\n                } else {\\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\\n                        r[k] = pa[k];\\n                    }\\n                }\\n                switch (r[0]) {\\n                    case \\\"Z\\\":\\n                        x = mx;\\n                        y = my;\\n                        break;\\n                    case \\\"H\\\":\\n                        x = r[1];\\n                        break;\\n                    case \\\"V\\\":\\n                        y = r[1];\\n                        break;\\n                    case \\\"M\\\":\\n                        mx = r[r.length - 2];\\n                        my = r[r.length - 1];\\n                    default:\\n                        x = r[r.length - 2];\\n                        y = r[r.length - 1];\\n                }\\n            }\\n            res.toString = R._path2string;\\n            pth.abs = pathClone(res);\\n            return res;\\n        },\\n        l2c = function (x1, y1, x2, y2) {\\n            return [x1, y1, x2, y2, x2, y2];\\n        },\\n        q2c = function (x1, y1, ax, ay, x2, y2) {\\n            var _13 = 1 / 3,\\n                _23 = 2 / 3;\\n            return [\\n                    _13 * x1 + _23 * ax,\\n                    _13 * y1 + _23 * ay,\\n                    _13 * x2 + _23 * ax,\\n                    _13 * y2 + _23 * ay,\\n                    x2,\\n                    y2\\n                ];\\n        },\\n        a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\\n            // for more information of where this math came from visit:\\n            // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\\n            var _120 = PI * 120 / 180,\\n                rad = PI / 180 * (+angle || 0),\\n                res = [],\\n                xy,\\n                rotate = cacher(function (x, y, rad) {\\n                    var X = x * math.cos(rad) - y * math.sin(rad),\\n                        Y = x * math.sin(rad) + y * math.cos(rad);\\n                    return {x: X, y: Y};\\n                });\\n            if (!recursive) {\\n                xy = rotate(x1, y1, -rad);\\n                x1 = xy.x;\\n                y1 = xy.y;\\n                xy = rotate(x2, y2, -rad);\\n                x2 = xy.x;\\n                y2 = xy.y;\\n                var cos = math.cos(PI / 180 * angle),\\n                    sin = math.sin(PI / 180 * angle),\\n                    x = (x1 - x2) / 2,\\n                    y = (y1 - y2) / 2;\\n                var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\\n                if (h > 1) {\\n                    h = math.sqrt(h);\\n                    rx = h * rx;\\n                    ry = h * ry;\\n                }\\n                var rx2 = rx * rx,\\n                    ry2 = ry * ry,\\n                    k = (large_arc_flag == sweep_flag ? -1 : 1) *\\n                        math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\\n                    cx = k * rx * y / ry + (x1 + x2) / 2,\\n                    cy = k * -ry * x / rx + (y1 + y2) / 2,\\n                    f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\\n                    f2 = math.asin(((y2 - cy) / ry).toFixed(9));\\n\\n                f1 = x1 < cx ? PI - f1 : f1;\\n                f2 = x2 < cx ? PI - f2 : f2;\\n                f1 < 0 && (f1 = PI * 2 + f1);\\n                f2 < 0 && (f2 = PI * 2 + f2);\\n                if (sweep_flag && f1 > f2) {\\n                    f1 = f1 - PI * 2;\\n                }\\n                if (!sweep_flag && f2 > f1) {\\n                    f2 = f2 - PI * 2;\\n                }\\n            } else {\\n                f1 = recursive[0];\\n                f2 = recursive[1];\\n                cx = recursive[2];\\n                cy = recursive[3];\\n            }\\n            var df = f2 - f1;\\n            if (abs(df) > _120) {\\n                var f2old = f2,\\n                    x2old = x2,\\n                    y2old = y2;\\n                f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\\n                x2 = cx + rx * math.cos(f2);\\n                y2 = cy + ry * math.sin(f2);\\n                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\\n            }\\n            df = f2 - f1;\\n            var c1 = math.cos(f1),\\n                s1 = math.sin(f1),\\n                c2 = math.cos(f2),\\n                s2 = math.sin(f2),\\n                t = math.tan(df / 4),\\n                hx = 4 / 3 * rx * t,\\n                hy = 4 / 3 * ry * t,\\n                m1 = [x1, y1],\\n                m2 = [x1 + hx * s1, y1 - hy * c1],\\n                m3 = [x2 + hx * s2, y2 - hy * c2],\\n                m4 = [x2, y2];\\n            m2[0] = 2 * m1[0] - m2[0];\\n            m2[1] = 2 * m1[1] - m2[1];\\n            if (recursive) {\\n                return [m2, m3, m4][concat](res);\\n            } else {\\n                res = [m2, m3, m4][concat](res).join()[split](\\\",\\\");\\n                var newres = [];\\n                for (var i = 0, ii = res.length; i < ii; i++) {\\n                    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\\n                }\\n                return newres;\\n            }\\n        },\\n        findDotAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\\n            var t1 = 1 - t;\\n            return {\\n                x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\\n                y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\\n            };\\n        },\\n        curveDim = cacher(function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\\n            var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),\\n                b = 2 * (c1x - p1x) - 2 * (c2x - c1x),\\n                c = p1x - c1x,\\n                t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a,\\n                t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a,\\n                y = [p1y, p2y],\\n                x = [p1x, p2x],\\n                dot;\\n            abs(t1) > \\\"1e12\\\" && (t1 = .5);\\n            abs(t2) > \\\"1e12\\\" && (t2 = .5);\\n            if (t1 > 0 && t1 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            if (t2 > 0 && t2 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);\\n            b = 2 * (c1y - p1y) - 2 * (c2y - c1y);\\n            c = p1y - c1y;\\n            t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a;\\n            t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a;\\n            abs(t1) > \\\"1e12\\\" && (t1 = .5);\\n            abs(t2) > \\\"1e12\\\" && (t2 = .5);\\n            if (t1 > 0 && t1 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            if (t2 > 0 && t2 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            return {\\n                min: {x: mmin[apply](0, x), y: mmin[apply](0, y)},\\n                max: {x: mmax[apply](0, x), y: mmax[apply](0, y)}\\n            };\\n        }),\\n        path2curve = R._path2curve = cacher(function (path, path2) {\\n            var pth = !path2 && paths(path);\\n            if (!path2 && pth.curve) {\\n                return pathClone(pth.curve);\\n            }\\n            var p = pathToAbsolute(path),\\n                p2 = path2 && pathToAbsolute(path2),\\n                attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\\n                attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\\n                processPath = function (path, d, pcom) {\\n                    var nx, ny, tq = {T:1, Q:1};\\n                    if (!path) {\\n                        return [\\\"C\\\", d.x, d.y, d.x, d.y, d.x, d.y];\\n                    }\\n                    !(path[0] in tq) && (d.qx = d.qy = null);\\n                    switch (path[0]) {\\n                        case \\\"M\\\":\\n                            d.X = path[1];\\n                            d.Y = path[2];\\n                            break;\\n                        case \\\"A\\\":\\n                            path = [\\\"C\\\"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));\\n                            break;\\n                        case \\\"S\\\":\\n                            if (pcom == \\\"C\\\" || pcom == \\\"S\\\") { // In \\\"S\\\" case we have to take into account, if the previous command is C/S.\\n                                nx = d.x * 2 - d.bx;          // And reflect the previous\\n                                ny = d.y * 2 - d.by;          // command's control point relative to the current point.\\n                            }\\n                            else {                            // or some else or nothing\\n                                nx = d.x;\\n                                ny = d.y;\\n                            }\\n                            path = [\\\"C\\\", nx, ny][concat](path.slice(1));\\n                            break;\\n                        case \\\"T\\\":\\n                            if (pcom == \\\"Q\\\" || pcom == \\\"T\\\") { // In \\\"T\\\" case we have to take into account, if the previous command is Q/T.\\n                                d.qx = d.x * 2 - d.qx;        // And make a reflection similar\\n                                d.qy = d.y * 2 - d.qy;        // to case \\\"S\\\".\\n                            }\\n                            else {                            // or something else or nothing\\n                                d.qx = d.x;\\n                                d.qy = d.y;\\n                            }\\n                            path = [\\\"C\\\"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\\n                            break;\\n                        case \\\"Q\\\":\\n                            d.qx = path[1];\\n                            d.qy = path[2];\\n                            path = [\\\"C\\\"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\\n                            break;\\n                        case \\\"L\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, path[1], path[2]));\\n                            break;\\n                        case \\\"H\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, path[1], d.y));\\n                            break;\\n                        case \\\"V\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, d.x, path[1]));\\n                            break;\\n                        case \\\"Z\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, d.X, d.Y));\\n                            break;\\n                    }\\n                    return path;\\n                },\\n                fixArc = function (pp, i) {\\n                    if (pp[i].length > 7) {\\n                        pp[i].shift();\\n                        var pi = pp[i];\\n                        while (pi.length) {\\n                            pcoms1[i]=\\\"A\\\"; // if created multiple C:s, their original seg is saved\\n                            p2 && (pcoms2[i]=\\\"A\\\"); // the same as above\\n                            pp.splice(i++, 0, [\\\"C\\\"][concat](pi.splice(0, 6)));\\n                        }\\n                        pp.splice(i, 1);\\n                        ii = mmax(p.length, p2 && p2.length || 0);\\n                    }\\n                },\\n                fixM = function (path1, path2, a1, a2, i) {\\n                    if (path1 && path2 && path1[i][0] == \\\"M\\\" && path2[i][0] != \\\"M\\\") {\\n                        path2.splice(i, 0, [\\\"M\\\", a2.x, a2.y]);\\n                        a1.bx = 0;\\n                        a1.by = 0;\\n                        a1.x = path1[i][1];\\n                        a1.y = path1[i][2];\\n                        ii = mmax(p.length, p2 && p2.length || 0);\\n                    }\\n                },\\n                pcoms1 = [], // path commands of original path p\\n                pcoms2 = [], // path commands of original path p2\\n                pfirst = \\\"\\\", // temporary holder for original path command\\n                pcom = \\\"\\\"; // holder for previous path command of original path\\n            for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\\n                p[i] && (pfirst = p[i][0]); // save current path command\\n\\n                if (pfirst != \\\"C\\\") // C is not saved yet, because it may be result of conversion\\n                {\\n                    pcoms1[i] = pfirst; // Save current path command\\n                    i && ( pcom = pcoms1[i-1]); // Get previous path command pcom\\n                }\\n                p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\\n\\n                if (pcoms1[i] != \\\"A\\\" && pfirst == \\\"C\\\") pcoms1[i] = \\\"C\\\"; // A is the only command\\n                // which may produce multiple C:s\\n                // so we have to make sure that C is also C in original path\\n\\n                fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\\n\\n                if (p2) { // the same procedures is done to p2\\n                    p2[i] && (pfirst = p2[i][0]);\\n                    if (pfirst != \\\"C\\\")\\n                    {\\n                        pcoms2[i] = pfirst;\\n                        i && (pcom = pcoms2[i-1]);\\n                    }\\n                    p2[i] = processPath(p2[i], attrs2, pcom);\\n\\n                    if (pcoms2[i]!=\\\"A\\\" && pfirst==\\\"C\\\") pcoms2[i]=\\\"C\\\";\\n\\n                    fixArc(p2, i);\\n                }\\n                fixM(p, p2, attrs, attrs2, i);\\n                fixM(p2, p, attrs2, attrs, i);\\n                var seg = p[i],\\n                    seg2 = p2 && p2[i],\\n                    seglen = seg.length,\\n                    seg2len = p2 && seg2.length;\\n                attrs.x = seg[seglen - 2];\\n                attrs.y = seg[seglen - 1];\\n                attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\\n                attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\\n                attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\\n                attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\\n                attrs2.x = p2 && seg2[seg2len - 2];\\n                attrs2.y = p2 && seg2[seg2len - 1];\\n            }\\n            if (!p2) {\\n                pth.curve = pathClone(p);\\n            }\\n            return p2 ? [p, p2] : p;\\n        }, null, pathClone),\\n        parseDots = R._parseDots = cacher(function (gradient) {\\n            var dots = [];\\n            for (var i = 0, ii = gradient.length; i < ii; i++) {\\n                var dot = {},\\n                    par = gradient[i].match(/^([^:]*):?([\\\\d\\\\.]*)/);\\n                dot.color = R.getRGB(par[1]);\\n                if (dot.color.error) {\\n                    return null;\\n                }\\n                dot.opacity = dot.color.opacity;\\n                dot.color = dot.color.hex;\\n                par[2] && (dot.offset = par[2] + \\\"%\\\");\\n                dots.push(dot);\\n            }\\n            for (i = 1, ii = dots.length - 1; i < ii; i++) {\\n                if (!dots[i].offset) {\\n                    var start = toFloat(dots[i - 1].offset || 0),\\n                        end = 0;\\n                    for (var j = i + 1; j < ii; j++) {\\n                        if (dots[j].offset) {\\n                            end = dots[j].offset;\\n                            break;\\n                        }\\n                    }\\n                    if (!end) {\\n                        end = 100;\\n                        j = ii;\\n                    }\\n                    end = toFloat(end);\\n                    var d = (end - start) / (j - i + 1);\\n                    for (; i < j; i++) {\\n                        start += d;\\n                        dots[i].offset = start + \\\"%\\\";\\n                    }\\n                }\\n            }\\n            return dots;\\n        }),\\n        tear = R._tear = function (el, paper) {\\n            el == paper.top && (paper.top = el.prev);\\n            el == paper.bottom && (paper.bottom = el.next);\\n            el.next && (el.next.prev = el.prev);\\n            el.prev && (el.prev.next = el.next);\\n        },\\n        tofront = R._tofront = function (el, paper) {\\n            if (paper.top === el) {\\n                return;\\n            }\\n            tear(el, paper);\\n            el.next = null;\\n            el.prev = paper.top;\\n            paper.top.next = el;\\n            paper.top = el;\\n        },\\n        toback = R._toback = function (el, paper) {\\n            if (paper.bottom === el) {\\n                return;\\n            }\\n            tear(el, paper);\\n            el.next = paper.bottom;\\n            el.prev = null;\\n            paper.bottom.prev = el;\\n            paper.bottom = el;\\n        },\\n        insertafter = R._insertafter = function (el, el2, paper) {\\n            tear(el, paper);\\n            el2 == paper.top && (paper.top = el);\\n            el2.next && (el2.next.prev = el);\\n            el.next = el2.next;\\n            el.prev = el2;\\n            el2.next = el;\\n        },\\n        insertbefore = R._insertbefore = function (el, el2, paper) {\\n            tear(el, paper);\\n            el2 == paper.bottom && (paper.bottom = el);\\n            el2.prev && (el2.prev.next = el);\\n            el.prev = el2.prev;\\n            el2.prev = el;\\n            el.next = el2;\\n        },\\n        /*\\\\\\n         * Raphael.toMatrix\\n         [ method ]\\n         **\\n         * Utility method\\n         **\\n         * Returns matrix of transformations applied to a given path\\n         > Parameters\\n         - path (string) path string\\n         - transform (string|array) transformation string\\n         = (object) @Matrix\\n        \\\\*/\\n        toMatrix = R.toMatrix = function (path, transform) {\\n            var bb = pathDimensions(path),\\n                el = {\\n                    _: {\\n                        transform: E\\n                    },\\n                    getBBox: function () {\\n                        return bb;\\n                    }\\n                };\\n            extractTransform(el, transform);\\n            return el.matrix;\\n        },\\n        /*\\\\\\n         * Raphael.transformPath\\n         [ method ]\\n         **\\n         * Utility method\\n         **\\n         * Returns path transformed by a given transformation\\n         > Parameters\\n         - path (string) path string\\n         - transform (string|array) transformation string\\n         = (string) path\\n        \\\\*/\\n        transformPath = R.transformPath = function (path, transform) {\\n            return mapPath(path, toMatrix(path, transform));\\n        },\\n        extractTransform = R._extractTransform = function (el, tstr) {\\n            if (tstr == null) {\\n                return el._.transform;\\n            }\\n            tstr = Str(tstr).replace(/\\\\.{3}|\\\\u2026/g, el._.transform || E);\\n            var tdata = R.parseTransformString(tstr),\\n                deg = 0,\\n                dx = 0,\\n                dy = 0,\\n                sx = 1,\\n                sy = 1,\\n                _ = el._,\\n                m = new Matrix;\\n            _.transform = tdata || [];\\n            if (tdata) {\\n                for (var i = 0, ii = tdata.length; i < ii; i++) {\\n                    var t = tdata[i],\\n                        tlen = t.length,\\n                        command = Str(t[0]).toLowerCase(),\\n                        absolute = t[0] != command,\\n                        inver = absolute ? m.invert() : 0,\\n                        x1,\\n                        y1,\\n                        x2,\\n                        y2,\\n                        bb;\\n                    if (command == \\\"t\\\" && tlen == 3) {\\n                        if (absolute) {\\n                            x1 = inver.x(0, 0);\\n                            y1 = inver.y(0, 0);\\n                            x2 = inver.x(t[1], t[2]);\\n                            y2 = inver.y(t[1], t[2]);\\n                            m.translate(x2 - x1, y2 - y1);\\n                        } else {\\n                            m.translate(t[1], t[2]);\\n                        }\\n                    } else if (command == \\\"r\\\") {\\n                        if (tlen == 2) {\\n                            bb = bb || el.getBBox(1);\\n                            m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\\n                            deg += t[1];\\n                        } else if (tlen == 4) {\\n                            if (absolute) {\\n                                x2 = inver.x(t[2], t[3]);\\n                                y2 = inver.y(t[2], t[3]);\\n                                m.rotate(t[1], x2, y2);\\n                            } else {\\n                                m.rotate(t[1], t[2], t[3]);\\n                            }\\n                            deg += t[1];\\n                        }\\n                    } else if (command == \\\"s\\\") {\\n                        if (tlen == 2 || tlen == 3) {\\n                            bb = bb || el.getBBox(1);\\n                            m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\\n                            sx *= t[1];\\n                            sy *= t[tlen - 1];\\n                        } else if (tlen == 5) {\\n                            if (absolute) {\\n                                x2 = inver.x(t[3], t[4]);\\n                                y2 = inver.y(t[3], t[4]);\\n                                m.scale(t[1], t[2], x2, y2);\\n                            } else {\\n                                m.scale(t[1], t[2], t[3], t[4]);\\n                            }\\n                            sx *= t[1];\\n                            sy *= t[2];\\n                        }\\n                    } else if (command == \\\"m\\\" && tlen == 7) {\\n                        m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\\n                    }\\n                    _.dirtyT = 1;\\n                    el.matrix = m;\\n                }\\n            }\\n\\n            /*\\\\\\n             * Element.matrix\\n             [ property (object) ]\\n             **\\n             * Keeps @Matrix object, which represents element transformation\\n            \\\\*/\\n            el.matrix = m;\\n\\n            _.sx = sx;\\n            _.sy = sy;\\n            _.deg = deg;\\n            _.dx = dx = m.e;\\n            _.dy = dy = m.f;\\n\\n            if (sx == 1 && sy == 1 && !deg && _.bbox) {\\n                _.bbox.x += +dx;\\n                _.bbox.y += +dy;\\n            } else {\\n                _.dirtyT = 1;\\n            }\\n        },\\n        getEmpty = function (item) {\\n            var l = item[0];\\n            switch (l.toLowerCase()) {\\n                case \\\"t\\\": return [l, 0, 0];\\n                case \\\"m\\\": return [l, 1, 0, 0, 1, 0, 0];\\n                case \\\"r\\\": if (item.length == 4) {\\n                    return [l, 0, item[2], item[3]];\\n                } else {\\n                    return [l, 0];\\n                }\\n                case \\\"s\\\": if (item.length == 5) {\\n                    return [l, 1, 1, item[3], item[4]];\\n                } else if (item.length == 3) {\\n                    return [l, 1, 1];\\n                } else {\\n                    return [l, 1];\\n                }\\n            }\\n        },\\n        equaliseTransform = R._equaliseTransform = function (t1, t2) {\\n            t2 = Str(t2).replace(/\\\\.{3}|\\\\u2026/g, t1);\\n            t1 = R.parseTransformString(t1) || [];\\n            t2 = R.parseTransformString(t2) || [];\\n            var maxlength = mmax(t1.length, t2.length),\\n                from = [],\\n                to = [],\\n                i = 0, j, jj,\\n                tt1, tt2;\\n            for (; i < maxlength; i++) {\\n                tt1 = t1[i] || getEmpty(t2[i]);\\n                tt2 = t2[i] || getEmpty(tt1);\\n                if ((tt1[0] != tt2[0]) ||\\n                    (tt1[0].toLowerCase() == \\\"r\\\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\\n                    (tt1[0].toLowerCase() == \\\"s\\\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\\n                    ) {\\n                    return;\\n                }\\n                from[i] = [];\\n                to[i] = [];\\n                for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {\\n                    j in tt1 && (from[i][j] = tt1[j]);\\n                    j in tt2 && (to[i][j] = tt2[j]);\\n                }\\n            }\\n            return {\\n                from: from,\\n                to: to\\n            };\\n        };\\n    R._getContainer = function (x, y, w, h) {\\n        var container;\\n        container = h == null && !R.is(x, \\\"object\\\") ? g.doc.getElementById(x) : x;\\n        if (container == null) {\\n            return;\\n        }\\n        if (container.tagName) {\\n            if (y == null) {\\n                return {\\n                    container: container,\\n                    width: container.style.pixelWidth || container.offsetWidth,\\n                    height: container.style.pixelHeight || container.offsetHeight\\n                };\\n            } else {\\n                return {\\n                    container: container,\\n                    width: y,\\n                    height: w\\n                };\\n            }\\n        }\\n        return {\\n            container: 1,\\n            x: x,\\n            y: y,\\n            width: w,\\n            height: h\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.pathToRelative\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Converts path to relative form\\n     > Parameters\\n     - pathString (string|array) path string or array of segments\\n     = (array) array of segments.\\n    \\\\*/\\n    R.pathToRelative = pathToRelative;\\n    R._engine = {};\\n    /*\\\\\\n     * Raphael.path2curve\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Converts path to a new path where all segments are cubic bezier curves.\\n     > Parameters\\n     - pathString (string|array) path string or array of segments\\n     = (array) array of segments.\\n    \\\\*/\\n    R.path2curve = path2curve;\\n    /*\\\\\\n     * Raphael.matrix\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns matrix based on given parameters.\\n     > Parameters\\n     - a (number)\\n     - b (number)\\n     - c (number)\\n     - d (number)\\n     - e (number)\\n     - f (number)\\n     = (object) @Matrix\\n    \\\\*/\\n    R.matrix = function (a, b, c, d, e, f) {\\n        return new Matrix(a, b, c, d, e, f);\\n    };\\n    function Matrix(a, b, c, d, e, f) {\\n        if (a != null) {\\n            this.a = +a;\\n            this.b = +b;\\n            this.c = +c;\\n            this.d = +d;\\n            this.e = +e;\\n            this.f = +f;\\n        } else {\\n            this.a = 1;\\n            this.b = 0;\\n            this.c = 0;\\n            this.d = 1;\\n            this.e = 0;\\n            this.f = 0;\\n        }\\n    }\\n    (function (matrixproto) {\\n        /*\\\\\\n         * Matrix.add\\n         [ method ]\\n         **\\n         * Adds given matrix to existing one.\\n         > Parameters\\n         - a (number)\\n         - b (number)\\n         - c (number)\\n         - d (number)\\n         - e (number)\\n         - f (number)\\n         or\\n         - matrix (object) @Matrix\\n        \\\\*/\\n        matrixproto.add = function (a, b, c, d, e, f) {\\n            var out = [[], [], []],\\n                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\\n                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\\n                x, y, z, res;\\n\\n            if (a && a instanceof Matrix) {\\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\\n            }\\n\\n            for (x = 0; x < 3; x++) {\\n                for (y = 0; y < 3; y++) {\\n                    res = 0;\\n                    for (z = 0; z < 3; z++) {\\n                        res += m[x][z] * matrix[z][y];\\n                    }\\n                    out[x][y] = res;\\n                }\\n            }\\n            this.a = out[0][0];\\n            this.b = out[1][0];\\n            this.c = out[0][1];\\n            this.d = out[1][1];\\n            this.e = out[0][2];\\n            this.f = out[1][2];\\n        };\\n        /*\\\\\\n         * Matrix.invert\\n         [ method ]\\n         **\\n         * Returns inverted version of the matrix\\n         = (object) @Matrix\\n        \\\\*/\\n        matrixproto.invert = function () {\\n            var me = this,\\n                x = me.a * me.d - me.b * me.c;\\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\\n        };\\n        /*\\\\\\n         * Matrix.clone\\n         [ method ]\\n         **\\n         * Returns copy of the matrix\\n         = (object) @Matrix\\n        \\\\*/\\n        matrixproto.clone = function () {\\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\\n        };\\n        /*\\\\\\n         * Matrix.translate\\n         [ method ]\\n         **\\n         * Translate the matrix\\n         > Parameters\\n         - x (number)\\n         - y (number)\\n        \\\\*/\\n        matrixproto.translate = function (x, y) {\\n            this.add(1, 0, 0, 1, x, y);\\n        };\\n        /*\\\\\\n         * Matrix.scale\\n         [ method ]\\n         **\\n         * Scales the matrix\\n         > Parameters\\n         - x (number)\\n         - y (number) #optional\\n         - cx (number) #optional\\n         - cy (number) #optional\\n        \\\\*/\\n        matrixproto.scale = function (x, y, cx, cy) {\\n            y == null && (y = x);\\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\\n            this.add(x, 0, 0, y, 0, 0);\\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\\n        };\\n        /*\\\\\\n         * Matrix.rotate\\n         [ method ]\\n         **\\n         * Rotates the matrix\\n         > Parameters\\n         - a (number)\\n         - x (number)\\n         - y (number)\\n        \\\\*/\\n        matrixproto.rotate = function (a, x, y) {\\n            a = R.rad(a);\\n            x = x || 0;\\n            y = y || 0;\\n            var cos = +math.cos(a).toFixed(9),\\n                sin = +math.sin(a).toFixed(9);\\n            this.add(cos, sin, -sin, cos, x, y);\\n            this.add(1, 0, 0, 1, -x, -y);\\n        };\\n        /*\\\\\\n         * Matrix.x\\n         [ method ]\\n         **\\n         * Return x coordinate for given point after transformation described by the matrix. See also @Matrix.y\\n         > Parameters\\n         - x (number)\\n         - y (number)\\n         = (number) x\\n        \\\\*/\\n        matrixproto.x = function (x, y) {\\n            return x * this.a + y * this.c + this.e;\\n        };\\n        /*\\\\\\n         * Matrix.y\\n         [ method ]\\n         **\\n         * Return y coordinate for given point after transformation described by the matrix. See also @Matrix.x\\n         > Parameters\\n         - x (number)\\n         - y (number)\\n         = (number) y\\n        \\\\*/\\n        matrixproto.y = function (x, y) {\\n            return x * this.b + y * this.d + this.f;\\n        };\\n        matrixproto.get = function (i) {\\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\\n        };\\n        matrixproto.toString = function () {\\n            return R.svg ?\\n                \\\"matrix(\\\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \\\")\\\" :\\n                [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();\\n        };\\n        matrixproto.toFilter = function () {\\n            return \\\"progid:DXImageTransform.Microsoft.Matrix(M11=\\\" + this.get(0) +\\n                \\\", M12=\\\" + this.get(2) + \\\", M21=\\\" + this.get(1) + \\\", M22=\\\" + this.get(3) +\\n                \\\", Dx=\\\" + this.get(4) + \\\", Dy=\\\" + this.get(5) + \\\", sizingmethod='auto expand')\\\";\\n        };\\n        matrixproto.offset = function () {\\n            return [this.e.toFixed(4), this.f.toFixed(4)];\\n        };\\n        function norm(a) {\\n            return a[0] * a[0] + a[1] * a[1];\\n        }\\n        function normalize(a) {\\n            var mag = math.sqrt(norm(a));\\n            a[0] && (a[0] /= mag);\\n            a[1] && (a[1] /= mag);\\n        }\\n        /*\\\\\\n         * Matrix.split\\n         [ method ]\\n         **\\n         * Splits matrix into primitive transformations\\n         = (object) in format:\\n         o dx (number) translation by x\\n         o dy (number) translation by y\\n         o scalex (number) scale by x\\n         o scaley (number) scale by y\\n         o shear (number) shear\\n         o rotate (number) rotation in deg\\n         o isSimple (boolean) could it be represented via simple transformations\\n        \\\\*/\\n        matrixproto.split = function () {\\n            var out = {};\\n            // translation\\n            out.dx = this.e;\\n            out.dy = this.f;\\n\\n            // scale and shear\\n            var row = [[this.a, this.c], [this.b, this.d]];\\n            out.scalex = math.sqrt(norm(row[0]));\\n            normalize(row[0]);\\n\\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\\n\\n            out.scaley = math.sqrt(norm(row[1]));\\n            normalize(row[1]);\\n            out.shear /= out.scaley;\\n\\n            // rotation\\n            var sin = -row[0][1],\\n                cos = row[1][1];\\n            if (cos < 0) {\\n                out.rotate = R.deg(math.acos(cos));\\n                if (sin < 0) {\\n                    out.rotate = 360 - out.rotate;\\n                }\\n            } else {\\n                out.rotate = R.deg(math.asin(sin));\\n            }\\n\\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\\n            return out;\\n        };\\n        /*\\\\\\n         * Matrix.toTransformString\\n         [ method ]\\n         **\\n         * Return transform string that represents given matrix\\n         = (string) transform string\\n        \\\\*/\\n        matrixproto.toTransformString = function (shorter) {\\n            var s = shorter || this[split]();\\n            if (s.isSimple) {\\n                s.scalex = +s.scalex.toFixed(4);\\n                s.scaley = +s.scaley.toFixed(4);\\n                s.rotate = +s.rotate.toFixed(4);\\n                return  (s.dx || s.dy ? \\\"t\\\" + [s.dx, s.dy] : E) +\\n                        (s.scalex != 1 || s.scaley != 1 ? \\\"s\\\" + [s.scalex, s.scaley, 0, 0] : E) +\\n                        (s.rotate ? \\\"r\\\" + [s.rotate, 0, 0] : E);\\n            } else {\\n                return \\\"m\\\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\\n            }\\n        };\\n    })(Matrix.prototype);\\n\\n    var preventDefault = function () {\\n        this.returnValue = false;\\n    },\\n    preventTouch = function () {\\n        return this.originalEvent.preventDefault();\\n    },\\n    stopPropagation = function () {\\n        this.cancelBubble = true;\\n    },\\n    stopTouch = function () {\\n        return this.originalEvent.stopPropagation();\\n    },\\n    getEventPosition = function (e) {\\n        var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\\n\\n        return {\\n            x: e.clientX + scrollX,\\n            y: e.clientY + scrollY\\n        };\\n    },\\n    addEvent = (function () {\\n        if (g.doc.addEventListener) {\\n            return function (obj, type, fn, element) {\\n                var f = function (e) {\\n                    var pos = getEventPosition(e);\\n                    return fn.call(element, e, pos.x, pos.y);\\n                };\\n                obj.addEventListener(type, f, false);\\n\\n                if (supportsTouch && touchMap[type]) {\\n                    var _f = function (e) {\\n                        var pos = getEventPosition(e),\\n                            olde = e;\\n\\n                        for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\\n                            if (e.targetTouches[i].target == obj) {\\n                                e = e.targetTouches[i];\\n                                e.originalEvent = olde;\\n                                e.preventDefault = preventTouch;\\n                                e.stopPropagation = stopTouch;\\n                                break;\\n                            }\\n                        }\\n\\n                        return fn.call(element, e, pos.x, pos.y);\\n                    };\\n                    obj.addEventListener(touchMap[type], _f, false);\\n                }\\n\\n                return function () {\\n                    obj.removeEventListener(type, f, false);\\n\\n                    if (supportsTouch && touchMap[type])\\n                        obj.removeEventListener(touchMap[type], _f, false);\\n\\n                    return true;\\n                };\\n            };\\n        } else if (g.doc.attachEvent) {\\n            return function (obj, type, fn, element) {\\n                var f = function (e) {\\n                    e = e || g.win.event;\\n                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n                        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\\n                        x = e.clientX + scrollX,\\n                        y = e.clientY + scrollY;\\n                    e.preventDefault = e.preventDefault || preventDefault;\\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\\n                    return fn.call(element, e, x, y);\\n                };\\n                obj.attachEvent(\\\"on\\\" + type, f);\\n                var detacher = function () {\\n                    obj.detachEvent(\\\"on\\\" + type, f);\\n                    return true;\\n                };\\n                return detacher;\\n            };\\n        }\\n    })(),\\n    drag = [],\\n    dragMove = function (e) {\\n        var x = e.clientX,\\n            y = e.clientY,\\n            scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\\n            dragi,\\n            j = drag.length;\\n        while (j--) {\\n            dragi = drag[j];\\n            if (supportsTouch && e.touches) {\\n                var i = e.touches.length,\\n                    touch;\\n                while (i--) {\\n                    touch = e.touches[i];\\n                    if (touch.identifier == dragi.el._drag.id) {\\n                        x = touch.clientX;\\n                        y = touch.clientY;\\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\\n                        break;\\n                    }\\n                }\\n            } else {\\n                e.preventDefault();\\n            }\\n            var node = dragi.el.node,\\n                o,\\n                next = node.nextSibling,\\n                parent = node.parentNode,\\n                display = node.style.display;\\n            g.win.opera && parent.removeChild(node);\\n            node.style.display = \\\"none\\\";\\n            o = dragi.el.paper.getElementByPoint(x, y);\\n            node.style.display = display;\\n            g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\\n            o && eve(\\\"raphael.drag.over.\\\" + dragi.el.id, dragi.el, o);\\n            x += scrollX;\\n            y += scrollY;\\n            eve(\\\"raphael.drag.move.\\\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\\n        }\\n    },\\n    dragUp = function (e) {\\n        R.unmousemove(dragMove).unmouseup(dragUp);\\n        var i = drag.length,\\n            dragi;\\n        while (i--) {\\n            dragi = drag[i];\\n            dragi.el._drag = {};\\n            eve(\\\"raphael.drag.end.\\\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\\n        }\\n        drag = [];\\n    },\\n    /*\\\\\\n     * Raphael.el\\n     [ property (object) ]\\n     **\\n     * You can add your own method to elements. This is useful when you want to hack default functionality or\\n     * want to wrap some common transformation or attributes in one method. In difference to canvas methods,\\n     * you can redefine element method at any time. Expending element methods wouldn’t affect set.\\n     > Usage\\n     | Raphael.el.red = function () {\\n     |     this.attr({fill: \\\"#f00\\\"});\\n     | };\\n     | // then use it\\n     | paper.circle(100, 100, 20).red();\\n    \\\\*/\\n    elproto = R.el = {};\\n    /*\\\\\\n     * Element.click\\n     [ method ]\\n     **\\n     * Adds event handler for click for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unclick\\n     [ method ]\\n     **\\n     * Removes event handler for click for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.dblclick\\n     [ method ]\\n     **\\n     * Adds event handler for double click for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.undblclick\\n     [ method ]\\n     **\\n     * Removes event handler for double click for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mousedown\\n     [ method ]\\n     **\\n     * Adds event handler for mousedown for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmousedown\\n     [ method ]\\n     **\\n     * Removes event handler for mousedown for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mousemove\\n     [ method ]\\n     **\\n     * Adds event handler for mousemove for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmousemove\\n     [ method ]\\n     **\\n     * Removes event handler for mousemove for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mouseout\\n     [ method ]\\n     **\\n     * Adds event handler for mouseout for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmouseout\\n     [ method ]\\n     **\\n     * Removes event handler for mouseout for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mouseover\\n     [ method ]\\n     **\\n     * Adds event handler for mouseover for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmouseover\\n     [ method ]\\n     **\\n     * Removes event handler for mouseover for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mouseup\\n     [ method ]\\n     **\\n     * Adds event handler for mouseup for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmouseup\\n     [ method ]\\n     **\\n     * Removes event handler for mouseup for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchstart\\n     [ method ]\\n     **\\n     * Adds event handler for touchstart for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchstart\\n     [ method ]\\n     **\\n     * Removes event handler for touchstart for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchmove\\n     [ method ]\\n     **\\n     * Adds event handler for touchmove for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchmove\\n     [ method ]\\n     **\\n     * Removes event handler for touchmove for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchend\\n     [ method ]\\n     **\\n     * Adds event handler for touchend for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchend\\n     [ method ]\\n     **\\n     * Removes event handler for touchend for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchcancel\\n     [ method ]\\n     **\\n     * Adds event handler for touchcancel for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchcancel\\n     [ method ]\\n     **\\n     * Removes event handler for touchcancel for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    for (var i = events.length; i--;) {\\n        (function (eventName) {\\n            R[eventName] = elproto[eventName] = function (fn, scope) {\\n                if (R.is(fn, \\\"function\\\")) {\\n                    this.events = this.events || [];\\n                    this.events.push({name: eventName, f: fn, unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)});\\n                }\\n                return this;\\n            };\\n            R[\\\"un\\\" + eventName] = elproto[\\\"un\\\" + eventName] = function (fn) {\\n                var events = this.events || [],\\n                    l = events.length;\\n                while (l--){\\n                    if (events[l].name == eventName && (R.is(fn, \\\"undefined\\\") || events[l].f == fn)) {\\n                        events[l].unbind();\\n                        events.splice(l, 1);\\n                        !events.length && delete this.events;\\n                    }\\n                }\\n                return this;\\n            };\\n        })(events[i]);\\n    }\\n\\n    /*\\\\\\n     * Element.data\\n     [ method ]\\n     **\\n     * Adds or retrieves given value associated with given key.\\n     **\\n     * See also @Element.removeData\\n     > Parameters\\n     - key (string) key to store data\\n     - value (any) #optional value to store\\n     = (object) @Element\\n     * or, if value is not specified:\\n     = (any) value\\n     * or, if key and value are not specified:\\n     = (object) Key/value pairs for all the data associated with the element.\\n     > Usage\\n     | for (var i = 0, i < 5, i++) {\\n     |     paper.circle(10 + 15 * i, 10, 10)\\n     |          .attr({fill: \\\"#000\\\"})\\n     |          .data(\\\"i\\\", i)\\n     |          .click(function () {\\n     |             alert(this.data(\\\"i\\\"));\\n     |          });\\n     | }\\n    \\\\*/\\n    elproto.data = function (key, value) {\\n        var data = eldata[this.id] = eldata[this.id] || {};\\n        if (arguments.length == 0) {\\n            return data;\\n        }\\n        if (arguments.length == 1) {\\n            if (R.is(key, \\\"object\\\")) {\\n                for (var i in key) if (key[has](i)) {\\n                    this.data(i, key[i]);\\n                }\\n                return this;\\n            }\\n            eve(\\\"raphael.data.get.\\\" + this.id, this, data[key], key);\\n            return data[key];\\n        }\\n        data[key] = value;\\n        eve(\\\"raphael.data.set.\\\" + this.id, this, value, key);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.removeData\\n     [ method ]\\n     **\\n     * Removes value associated with an element by given key.\\n     * If key is not provided, removes all the data of the element.\\n     > Parameters\\n     - key (string) #optional key\\n     = (object) @Element\\n    \\\\*/\\n    elproto.removeData = function (key) {\\n        if (key == null) {\\n            eldata[this.id] = {};\\n        } else {\\n            eldata[this.id] && delete eldata[this.id][key];\\n        }\\n        return this;\\n    };\\n     /*\\\\\\n     * Element.getData\\n     [ method ]\\n     **\\n     * Retrieves the element data\\n     = (object) data\\n    \\\\*/\\n    elproto.getData = function () {\\n        return clone(eldata[this.id] || {});\\n    };\\n    /*\\\\\\n     * Element.hover\\n     [ method ]\\n     **\\n     * Adds event handlers for hover for the element.\\n     > Parameters\\n     - f_in (function) handler for hover in\\n     - f_out (function) handler for hover out\\n     - icontext (object) #optional context for hover in handler\\n     - ocontext (object) #optional context for hover out handler\\n     = (object) @Element\\n    \\\\*/\\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\\n    };\\n    /*\\\\\\n     * Element.unhover\\n     [ method ]\\n     **\\n     * Removes event handlers for hover for the element.\\n     > Parameters\\n     - f_in (function) handler for hover in\\n     - f_out (function) handler for hover out\\n     = (object) @Element\\n    \\\\*/\\n    elproto.unhover = function (f_in, f_out) {\\n        return this.unmouseover(f_in).unmouseout(f_out);\\n    };\\n    var draggable = [];\\n    /*\\\\\\n     * Element.drag\\n     [ method ]\\n     **\\n     * Adds event handlers for drag of the element.\\n     > Parameters\\n     - onmove (function) handler for moving\\n     - onstart (function) handler for drag start\\n     - onend (function) handler for drag end\\n     - mcontext (object) #optional context for moving handler\\n     - scontext (object) #optional context for drag start handler\\n     - econtext (object) #optional context for drag end handler\\n     * Additionally following `drag` events will be triggered: `drag.start.<id>` on start,\\n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element will be dragged over another element\\n     * `drag.over.<id>` will be fired as well.\\n     *\\n     * Start event and start handler will be called in specified context or in context of the element with following parameters:\\n     o x (number) x position of the mouse\\n     o y (number) y position of the mouse\\n     o event (object) DOM event object\\n     * Move event and move handler will be called in specified context or in context of the element with following parameters:\\n     o dx (number) shift by x from the start point\\n     o dy (number) shift by y from the start point\\n     o x (number) x position of the mouse\\n     o y (number) y position of the mouse\\n     o event (object) DOM event object\\n     * End event and end handler will be called in specified context or in context of the element with following parameters:\\n     o event (object) DOM event object\\n     = (object) @Element\\n    \\\\*/\\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\\n        function start(e) {\\n            (e.originalEvent || e).preventDefault();\\n            var x = e.clientX,\\n                y = e.clientY,\\n                scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\\n            this._drag.id = e.identifier;\\n            if (supportsTouch && e.touches) {\\n                var i = e.touches.length, touch;\\n                while (i--) {\\n                    touch = e.touches[i];\\n                    this._drag.id = touch.identifier;\\n                    if (touch.identifier == this._drag.id) {\\n                        x = touch.clientX;\\n                        y = touch.clientY;\\n                        break;\\n                    }\\n                }\\n            }\\n            this._drag.x = x + scrollX;\\n            this._drag.y = y + scrollY;\\n            !drag.length && R.mousemove(dragMove).mouseup(dragUp);\\n            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\\n            onstart && eve.on(\\\"raphael.drag.start.\\\" + this.id, onstart);\\n            onmove && eve.on(\\\"raphael.drag.move.\\\" + this.id, onmove);\\n            onend && eve.on(\\\"raphael.drag.end.\\\" + this.id, onend);\\n            eve(\\\"raphael.drag.start.\\\" + this.id, start_scope || move_scope || this, e.clientX + scrollX, e.clientY + scrollY, e);\\n        }\\n        this._drag = {};\\n        draggable.push({el: this, start: start});\\n        this.mousedown(start);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.onDragOver\\n     [ method ]\\n     **\\n     * Shortcut for assigning event handler for `drag.over.<id>` event, where id is id of the element (see @Element.id).\\n     > Parameters\\n     - f (function) handler for event, first argument would be the element you are dragging over\\n    \\\\*/\\n    elproto.onDragOver = function (f) {\\n        f ? eve.on(\\\"raphael.drag.over.\\\" + this.id, f) : eve.unbind(\\\"raphael.drag.over.\\\" + this.id);\\n    };\\n    /*\\\\\\n     * Element.undrag\\n     [ method ]\\n     **\\n     * Removes all drag event handlers from given element.\\n    \\\\*/\\n    elproto.undrag = function () {\\n        var i = draggable.length;\\n        while (i--) if (draggable[i].el == this) {\\n            this.unmousedown(draggable[i].start);\\n            draggable.splice(i, 1);\\n            eve.unbind(\\\"raphael.drag.*.\\\" + this.id);\\n        }\\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\\n        drag = [];\\n    };\\n    /*\\\\\\n     * Paper.circle\\n     [ method ]\\n     **\\n     * Draws a circle.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the centre\\n     - y (number) y coordinate of the centre\\n     - r (number) radius\\n     = (object) Raphaël element object with type “circle”\\n     **\\n     > Usage\\n     | var c = paper.circle(50, 50, 40);\\n    \\\\*/\\n    paperproto.circle = function (x, y, r) {\\n        var out = R._engine.circle(this, x || 0, y || 0, r || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.rect\\n     [ method ]\\n     *\\n     * Draws a rectangle.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the top left corner\\n     - y (number) y coordinate of the top left corner\\n     - width (number) width\\n     - height (number) height\\n     - r (number) #optional radius for rounded corners, default is 0\\n     = (object) Raphaël element object with type “rect”\\n     **\\n     > Usage\\n     | // regular rectangle\\n     | var c = paper.rect(10, 10, 50, 50);\\n     | // rectangle with rounded corners\\n     | var c = paper.rect(40, 40, 50, 50, 10);\\n    \\\\*/\\n    paperproto.rect = function (x, y, w, h, r) {\\n        var out = R._engine.rect(this, x || 0, y || 0, w || 0, h || 0, r || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.ellipse\\n     [ method ]\\n     **\\n     * Draws an ellipse.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the centre\\n     - y (number) y coordinate of the centre\\n     - rx (number) horizontal radius\\n     - ry (number) vertical radius\\n     = (object) Raphaël element object with type “ellipse”\\n     **\\n     > Usage\\n     | var c = paper.ellipse(50, 50, 40, 20);\\n    \\\\*/\\n    paperproto.ellipse = function (x, y, rx, ry) {\\n        var out = R._engine.ellipse(this, x || 0, y || 0, rx || 0, ry || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.path\\n     [ method ]\\n     **\\n     * Creates a path element by given path data string.\\n     > Parameters\\n     - pathString (string) #optional path string in SVG format.\\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numercal form. Example:\\n     | \\\"M10,20L30,40\\\"\\n     * Here we can see two commands: “M”, with arguments `(10, 20)` and “L” with arguments `(30, 40)`. Upper case letter mean command is absolute, lower case—relative.\\n     *\\n     # <p>Here is short list of commands available, for more details see <a href=\\\"http://www.w3.org/TR/SVG/paths.html#PathData\\\" title=\\\"Details of a path's data attribute's format are described in the SVG specification.\\\">SVG path string format</a>.</p>\\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\\n     # <tr><td>Q</td><td>quadratic Bézier curveto</td><td>(x1 y1 x y)+</td></tr>\\n     # <tr><td>T</td><td>smooth quadratic Bézier curveto</td><td>(x y)+</td></tr>\\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\\n     # <tr><td>R</td><td><a href=\\\"http://en.wikipedia.org/wiki/Catmull–Rom_spline#Catmull.E2.80.93Rom_spline\\\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\\n     * * “Catmull-Rom curveto” is a not standard SVG command and added in 2.0 to make life easier.\\n     * Note: there is a special case when path consist of just three commands: “M10,10R…z”. In this case path will smoothly connects to its beginning.\\n     > Usage\\n     | var c = paper.path(\\\"M10 10L90 90\\\");\\n     | // draw a diagonal line:\\n     | // move to 10,10, line to 90,90\\n     * For example of path strings, check out these icons: http://raphaeljs.com/icons/\\n    \\\\*/\\n    paperproto.path = function (pathString) {\\n        pathString && !R.is(pathString, string) && !R.is(pathString[0], array) && (pathString += E);\\n        var out = R._engine.path(R.format[apply](R, arguments), this);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.image\\n     [ method ]\\n     **\\n     * Embeds an image into the surface.\\n     **\\n     > Parameters\\n     **\\n     - src (string) URI of the source image\\n     - x (number) x coordinate position\\n     - y (number) y coordinate position\\n     - width (number) width of the image\\n     - height (number) height of the image\\n     = (object) Raphaël element object with type “image”\\n     **\\n     > Usage\\n     | var c = paper.image(\\\"apple.png\\\", 10, 10, 80, 80);\\n    \\\\*/\\n    paperproto.image = function (src, x, y, w, h) {\\n        var out = R._engine.image(this, src || \\\"about:blank\\\", x || 0, y || 0, w || 0, h || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.text\\n     [ method ]\\n     **\\n     * Draws a text string. If you need line breaks, put “\\\\n” in the string.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate position\\n     - y (number) y coordinate position\\n     - text (string) The text string to draw\\n     = (object) Raphaël element object with type “text”\\n     **\\n     > Usage\\n     | var t = paper.text(50, 50, \\\"Raphaël\\\\nkicks\\\\nbutt!\\\");\\n    \\\\*/\\n    paperproto.text = function (x, y, text) {\\n        var out = R._engine.text(this, x || 0, y || 0, Str(text));\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.set\\n     [ method ]\\n     **\\n     * Creates array-like object to keep and operate several elements at once.\\n     * Warning: it doesn’t create any elements for itself in the page, it just groups existing elements.\\n     * Sets act as pseudo elements — all methods available to an element can be used on a set.\\n     = (object) array-like object that represents set of elements\\n     **\\n     > Usage\\n     | var st = paper.set();\\n     | st.push(\\n     |     paper.circle(10, 10, 5),\\n     |     paper.circle(30, 10, 5)\\n     | );\\n     | st.attr({fill: \\\"red\\\"}); // changes the fill of both circles\\n    \\\\*/\\n    paperproto.set = function (itemsArray) {\\n        !R.is(itemsArray, \\\"array\\\") && (itemsArray = Array.prototype.splice.call(arguments, 0, arguments.length));\\n        var out = new Set(itemsArray);\\n        this.__set__ && this.__set__.push(out);\\n        out[\\\"paper\\\"] = this;\\n        out[\\\"type\\\"] = \\\"set\\\";\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.setStart\\n     [ method ]\\n     **\\n     * Creates @Paper.set. All elements that will be created after calling this method and before calling\\n     * @Paper.setFinish will be added to the set.\\n     **\\n     > Usage\\n     | paper.setStart();\\n     | paper.circle(10, 10, 5),\\n     | paper.circle(30, 10, 5)\\n     | var st = paper.setFinish();\\n     | st.attr({fill: \\\"red\\\"}); // changes the fill of both circles\\n    \\\\*/\\n    paperproto.setStart = function (set) {\\n        this.__set__ = set || this.set();\\n    };\\n    /*\\\\\\n     * Paper.setFinish\\n     [ method ]\\n     **\\n     * See @Paper.setStart. This method finishes catching and returns resulting set.\\n     **\\n     = (object) set\\n    \\\\*/\\n    paperproto.setFinish = function (set) {\\n        var out = this.__set__;\\n        delete this.__set__;\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.getSize\\n     [ method ]\\n     **\\n     * Obtains current paper actual size.\\n     **\\n     = (object)\\n     \\\\*/\\n    paperproto.getSize = function () {\\n        var container = this.canvas.parentNode;\\n        return {\\n            width: container.offsetWidth,\\n            height: container.offsetHeight\\n                };\\n        };\\n    /*\\\\\\n     * Paper.setSize\\n     [ method ]\\n     **\\n     * If you need to change dimensions of the canvas call this method\\n     **\\n     > Parameters\\n     **\\n     - width (number) new width of the canvas\\n     - height (number) new height of the canvas\\n    \\\\*/\\n    paperproto.setSize = function (width, height) {\\n        return R._engine.setSize.call(this, width, height);\\n    };\\n    /*\\\\\\n     * Paper.setViewBox\\n     [ method ]\\n     **\\n     * Sets the view box of the paper. Practically it gives you ability to zoom and pan whole paper surface by\\n     * specifying new boundaries.\\n     **\\n     > Parameters\\n     **\\n     - x (number) new x position, default is `0`\\n     - y (number) new y position, default is `0`\\n     - w (number) new width of the canvas\\n     - h (number) new height of the canvas\\n     - fit (boolean) `true` if you want graphics to fit into new boundary box\\n    \\\\*/\\n    paperproto.setViewBox = function (x, y, w, h, fit) {\\n        return R._engine.setViewBox.call(this, x, y, w, h, fit);\\n    };\\n    /*\\\\\\n     * Paper.top\\n     [ property ]\\n     **\\n     * Points to the topmost element on the paper\\n    \\\\*/\\n    /*\\\\\\n     * Paper.bottom\\n     [ property ]\\n     **\\n     * Points to the bottom element on the paper\\n    \\\\*/\\n    paperproto.top = paperproto.bottom = null;\\n    /*\\\\\\n     * Paper.raphael\\n     [ property ]\\n     **\\n     * Points to the @Raphael object/function\\n    \\\\*/\\n    paperproto.raphael = R;\\n    var getOffset = function (elem) {\\n        var box = elem.getBoundingClientRect(),\\n            doc = elem.ownerDocument,\\n            body = doc.body,\\n            docElem = doc.documentElement,\\n            clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\\n            top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\\n            left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\\n        return {\\n            y: top,\\n            x: left\\n        };\\n    };\\n    /*\\\\\\n     * Paper.getElementByPoint\\n     [ method ]\\n     **\\n     * Returns you topmost element under given point.\\n     **\\n     = (object) Raphaël element object\\n     > Parameters\\n     **\\n     - x (number) x coordinate from the top left corner of the window\\n     - y (number) y coordinate from the top left corner of the window\\n     > Usage\\n     | paper.getElementByPoint(mouseX, mouseY).attr({stroke: \\\"#f00\\\"});\\n    \\\\*/\\n    paperproto.getElementByPoint = function (x, y) {\\n        var paper = this,\\n            svg = paper.canvas,\\n            target = g.doc.elementFromPoint(x, y);\\n        if (g.win.opera && target.tagName == \\\"svg\\\") {\\n            var so = getOffset(svg),\\n                sr = svg.createSVGRect();\\n            sr.x = x - so.x;\\n            sr.y = y - so.y;\\n            sr.width = sr.height = 1;\\n            var hits = svg.getIntersectionList(sr, null);\\n            if (hits.length) {\\n                target = hits[hits.length - 1];\\n            }\\n        }\\n        if (!target) {\\n            return null;\\n        }\\n        while (target.parentNode && target != svg.parentNode && !target.raphael) {\\n            target = target.parentNode;\\n        }\\n        target == paper.canvas.parentNode && (target = svg);\\n        target = target && target.raphael ? paper.getById(target.raphaelid) : null;\\n        return target;\\n    };\\n\\n    /*\\\\\\n     * Paper.getElementsByBBox\\n     [ method ]\\n     **\\n     * Returns set of elements that have an intersecting bounding box\\n     **\\n     > Parameters\\n     **\\n     - bbox (object) bbox to check with\\n     = (object) @Set\\n     \\\\*/\\n    paperproto.getElementsByBBox = function (bbox) {\\n        var set = this.set();\\n        this.forEach(function (el) {\\n            if (R.isBBoxIntersect(el.getBBox(), bbox)) {\\n                set.push(el);\\n            }\\n        });\\n        return set;\\n    };\\n\\n    /*\\\\\\n     * Paper.getById\\n     [ method ]\\n     **\\n     * Returns you element by its internal ID.\\n     **\\n     > Parameters\\n     **\\n     - id (number) id\\n     = (object) Raphaël element object\\n    \\\\*/\\n    paperproto.getById = function (id) {\\n        var bot = this.bottom;\\n        while (bot) {\\n            if (bot.id == id) {\\n                return bot;\\n            }\\n            bot = bot.next;\\n        }\\n        return null;\\n    };\\n    /*\\\\\\n     * Paper.forEach\\n     [ method ]\\n     **\\n     * Executes given function for each element on the paper\\n     *\\n     * If callback function returns `false` it will stop loop running.\\n     **\\n     > Parameters\\n     **\\n     - callback (function) function to run\\n     - thisArg (object) context object for the callback\\n     = (object) Paper object\\n     > Usage\\n     | paper.forEach(function (el) {\\n     |     el.attr({ stroke: \\\"blue\\\" });\\n     | });\\n    \\\\*/\\n    paperproto.forEach = function (callback, thisArg) {\\n        var bot = this.bottom;\\n        while (bot) {\\n            if (callback.call(thisArg, bot) === false) {\\n                return this;\\n            }\\n            bot = bot.next;\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Paper.getElementsByPoint\\n     [ method ]\\n     **\\n     * Returns set of elements that have common point inside\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the point\\n     - y (number) y coordinate of the point\\n     = (object) @Set\\n    \\\\*/\\n    paperproto.getElementsByPoint = function (x, y) {\\n        var set = this.set();\\n        this.forEach(function (el) {\\n            if (el.isPointInside(x, y)) {\\n                set.push(el);\\n            }\\n        });\\n        return set;\\n    };\\n    function x_y() {\\n        return this.x + S + this.y;\\n    }\\n    function x_y_w_h() {\\n        return this.x + S + this.y + S + this.width + \\\" \\\\xd7 \\\" + this.height;\\n    }\\n    /*\\\\\\n     * Element.isPointInside\\n     [ method ]\\n     **\\n     * Determine if given point is inside this element’s shape\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the point\\n     - y (number) y coordinate of the point\\n     = (boolean) `true` if point inside the shape\\n    \\\\*/\\n    elproto.isPointInside = function (x, y) {\\n        var rp = this.realPath = getPath[this.type](this);\\n        if (this.attr('transform') && this.attr('transform').length) {\\n            rp = R.transformPath(rp, this.attr('transform'));\\n        }\\n        return R.isPointInsidePath(rp, x, y);\\n    };\\n    /*\\\\\\n     * Element.getBBox\\n     [ method ]\\n     **\\n     * Return bounding box for a given element\\n     **\\n     > Parameters\\n     **\\n     - isWithoutTransform (boolean) flag, `true` if you want to have bounding box before transformations. Default is `false`.\\n     = (object) Bounding box object:\\n     o {\\n     o     x: (number) top left corner x\\n     o     y: (number) top left corner y\\n     o     x2: (number) bottom right corner x\\n     o     y2: (number) bottom right corner y\\n     o     width: (number) width\\n     o     height: (number) height\\n     o }\\n    \\\\*/\\n    elproto.getBBox = function (isWithoutTransform) {\\n        if (this.removed) {\\n            return {};\\n        }\\n        var _ = this._;\\n        if (isWithoutTransform) {\\n            if (_.dirty || !_.bboxwt) {\\n                this.realPath = getPath[this.type](this);\\n                _.bboxwt = pathDimensions(this.realPath);\\n                _.bboxwt.toString = x_y_w_h;\\n                _.dirty = 0;\\n            }\\n            return _.bboxwt;\\n        }\\n        if (_.dirty || _.dirtyT || !_.bbox) {\\n            if (_.dirty || !this.realPath) {\\n                _.bboxwt = 0;\\n                this.realPath = getPath[this.type](this);\\n            }\\n            _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));\\n            _.bbox.toString = x_y_w_h;\\n            _.dirty = _.dirtyT = 0;\\n        }\\n        return _.bbox;\\n    };\\n    /*\\\\\\n     * Element.clone\\n     [ method ]\\n     **\\n     = (object) clone of a given element\\n     **\\n    \\\\*/\\n    elproto.clone = function () {\\n        if (this.removed) {\\n            return null;\\n        }\\n        var out = this.paper[this.type]().attr(this.attr());\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Element.glow\\n     [ method ]\\n     **\\n     * Return set of elements that create glow-like effect around given element. See @Paper.set.\\n     *\\n     * Note: Glow is not connected to the element. If you change element attributes it won’t adjust itself.\\n     **\\n     > Parameters\\n     **\\n     - glow (object) #optional parameters object with all properties optional:\\n     o {\\n     o     width (number) size of the glow, default is `10`\\n     o     fill (boolean) will it be filled, default is `false`\\n     o     opacity (number) opacity, default is `0.5`\\n     o     offsetx (number) horizontal offset, default is `0`\\n     o     offsety (number) vertical offset, default is `0`\\n     o     color (string) glow colour, default is `black`\\n     o }\\n     = (object) @Paper.set of elements that represents glow\\n    \\\\*/\\n    elproto.glow = function (glow) {\\n        if (this.type == \\\"text\\\") {\\n            return null;\\n        }\\n        glow = glow || {};\\n        var s = {\\n            width: (glow.width || 10) + (+this.attr(\\\"stroke-width\\\") || 1),\\n            fill: glow.fill || false,\\n            opacity: glow.opacity == null ? .5 : glow.opacity,\\n            offsetx: glow.offsetx || 0,\\n            offsety: glow.offsety || 0,\\n            color: glow.color || \\\"#000\\\"\\n        },\\n            c = s.width / 2,\\n            r = this.paper,\\n            out = r.set(),\\n            path = this.realPath || getPath[this.type](this);\\n        path = this.matrix ? mapPath(path, this.matrix) : path;\\n        for (var i = 1; i < c + 1; i++) {\\n            out.push(r.path(path).attr({\\n                stroke: s.color,\\n                fill: s.fill ? s.color : \\\"none\\\",\\n                \\\"stroke-linejoin\\\": \\\"round\\\",\\n                \\\"stroke-linecap\\\": \\\"round\\\",\\n                \\\"stroke-width\\\": +(s.width / c * i).toFixed(3),\\n                opacity: +(s.opacity / c).toFixed(3)\\n            }));\\n        }\\n        return out.insertBefore(this).translate(s.offsetx, s.offsety);\\n    };\\n    var curveslengths = {},\\n    getPointAtSegmentLength = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\\n        if (length == null) {\\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\\n        } else {\\n            return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\\n        }\\n    },\\n    getLengthFactory = function (istotal, subpath) {\\n        return function (path, length, onlystart) {\\n            path = path2curve(path);\\n            var x, y, p, l, sp = \\\"\\\", subpaths = {}, point,\\n                len = 0;\\n            for (var i = 0, ii = path.length; i < ii; i++) {\\n                p = path[i];\\n                if (p[0] == \\\"M\\\") {\\n                    x = +p[1];\\n                    y = +p[2];\\n                } else {\\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\\n                    if (len + l > length) {\\n                        if (subpath && !subpaths.start) {\\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\\n                            sp += [\\\"C\\\" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];\\n                            if (onlystart) {return sp;}\\n                            subpaths.start = sp;\\n                            sp = [\\\"M\\\" + point.x, point.y + \\\"C\\\" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();\\n                            len += l;\\n                            x = +p[5];\\n                            y = +p[6];\\n                            continue;\\n                        }\\n                        if (!istotal && !subpath) {\\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\\n                            return {x: point.x, y: point.y, alpha: point.alpha};\\n                        }\\n                    }\\n                    len += l;\\n                    x = +p[5];\\n                    y = +p[6];\\n                }\\n                sp += p.shift() + p;\\n            }\\n            subpaths.end = sp;\\n            point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\\n            point.alpha && (point = {x: point.x, y: point.y, alpha: point.alpha});\\n            return point;\\n        };\\n    };\\n    var getTotalLength = getLengthFactory(1),\\n        getPointAtLength = getLengthFactory(),\\n        getSubpathsAtLength = getLengthFactory(0, 1);\\n    /*\\\\\\n     * Raphael.getTotalLength\\n     [ method ]\\n     **\\n     * Returns length of the given path in pixels.\\n     **\\n     > Parameters\\n     **\\n     - path (string) SVG path string.\\n     **\\n     = (number) length.\\n    \\\\*/\\n    R.getTotalLength = getTotalLength;\\n    /*\\\\\\n     * Raphael.getPointAtLength\\n     [ method ]\\n     **\\n     * Return coordinates of the point located at the given length on the given path.\\n     **\\n     > Parameters\\n     **\\n     - path (string) SVG path string\\n     - length (number)\\n     **\\n     = (object) representation of the point:\\n     o {\\n     o     x: (number) x coordinate\\n     o     y: (number) y coordinate\\n     o     alpha: (number) angle of derivative\\n     o }\\n    \\\\*/\\n    R.getPointAtLength = getPointAtLength;\\n    /*\\\\\\n     * Raphael.getSubpath\\n     [ method ]\\n     **\\n     * Return subpath of a given path from given length to given length.\\n     **\\n     > Parameters\\n     **\\n     - path (string) SVG path string\\n     - from (number) position of the start of the segment\\n     - to (number) position of the end of the segment\\n     **\\n     = (string) pathstring for the segment\\n    \\\\*/\\n    R.getSubpath = function (path, from, to) {\\n        if (this.getTotalLength(path) - to < 1e-6) {\\n            return getSubpathsAtLength(path, from).end;\\n        }\\n        var a = getSubpathsAtLength(path, to, 1);\\n        return from ? getSubpathsAtLength(a, from).end : a;\\n    };\\n    /*\\\\\\n     * Element.getTotalLength\\n     [ method ]\\n     **\\n     * Returns length of the path in pixels. Only works for element of “path” type.\\n     = (number) length.\\n    \\\\*/\\n    elproto.getTotalLength = function () {\\n        var path = this.getPath();\\n        if (!path) {\\n            return;\\n        }\\n\\n        if (this.node.getTotalLength) {\\n            return this.node.getTotalLength();\\n        }\\n\\n        return getTotalLength(path);\\n    };\\n    /*\\\\\\n     * Element.getPointAtLength\\n     [ method ]\\n     **\\n     * Return coordinates of the point located at the given length on the given path. Only works for element of “path” type.\\n     **\\n     > Parameters\\n     **\\n     - length (number)\\n     **\\n     = (object) representation of the point:\\n     o {\\n     o     x: (number) x coordinate\\n     o     y: (number) y coordinate\\n     o     alpha: (number) angle of derivative\\n     o }\\n    \\\\*/\\n    elproto.getPointAtLength = function (length) {\\n        var path = this.getPath();\\n        if (!path) {\\n            return;\\n        }\\n\\n        return getPointAtLength(path, length);\\n    };\\n    /*\\\\\\n     * Element.getPath\\n     [ method ]\\n     **\\n     * Returns path of the element. Only works for elements of “path” type and simple elements like circle.\\n     = (object) path\\n     **\\n    \\\\*/\\n    elproto.getPath = function () {\\n        var path,\\n            getPath = R._getPath[this.type];\\n\\n        if (this.type == \\\"text\\\" || this.type == \\\"set\\\") {\\n            return;\\n        }\\n\\n        if (getPath) {\\n            path = getPath(this);\\n        }\\n\\n        return path;\\n    };\\n    /*\\\\\\n     * Element.getSubpath\\n     [ method ]\\n     **\\n     * Return subpath of a given element from given length to given length. Only works for element of “path” type.\\n     **\\n     > Parameters\\n     **\\n     - from (number) position of the start of the segment\\n     - to (number) position of the end of the segment\\n     **\\n     = (string) pathstring for the segment\\n    \\\\*/\\n    elproto.getSubpath = function (from, to) {\\n        var path = this.getPath();\\n        if (!path) {\\n            return;\\n        }\\n\\n        return R.getSubpath(path, from, to);\\n    };\\n    /*\\\\\\n     * Raphael.easing_formulas\\n     [ property ]\\n     **\\n     * Object that contains easing formulas for animation. You could extend it with your own. By default it has following list of easing:\\n     # <ul>\\n     #     <li>“linear”</li>\\n     #     <li>“&lt;” or “easeIn” or “ease-in”</li>\\n     #     <li>“>” or “easeOut” or “ease-out”</li>\\n     #     <li>“&lt;>” or “easeInOut” or “ease-in-out”</li>\\n     #     <li>“backIn” or “back-in”</li>\\n     #     <li>“backOut” or “back-out”</li>\\n     #     <li>“elastic”</li>\\n     #     <li>“bounce”</li>\\n     # </ul>\\n     # <p>See also <a href=\\\"http://raphaeljs.com/easing.html\\\">Easing demo</a>.</p>\\n    \\\\*/\\n    var ef = R.easing_formulas = {\\n        linear: function (n) {\\n            return n;\\n        },\\n        \\\"<\\\": function (n) {\\n            return pow(n, 1.7);\\n        },\\n        \\\">\\\": function (n) {\\n            return pow(n, .48);\\n        },\\n        \\\"<>\\\": function (n) {\\n            var q = .48 - n / 1.04,\\n                Q = math.sqrt(.1734 + q * q),\\n                x = Q - q,\\n                X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),\\n                y = -Q - q,\\n                Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),\\n                t = X + Y + .5;\\n            return (1 - t) * 3 * t * t + t * t * t;\\n        },\\n        backIn: function (n) {\\n            var s = 1.70158;\\n            return n * n * ((s + 1) * n - s);\\n        },\\n        backOut: function (n) {\\n            n = n - 1;\\n            var s = 1.70158;\\n            return n * n * ((s + 1) * n + s) + 1;\\n        },\\n        elastic: function (n) {\\n            if (n == !!n) {\\n                return n;\\n            }\\n            return pow(2, -10 * n) * math.sin((n - .075) * (2 * PI) / .3) + 1;\\n        },\\n        bounce: function (n) {\\n            var s = 7.5625,\\n                p = 2.75,\\n                l;\\n            if (n < (1 / p)) {\\n                l = s * n * n;\\n            } else {\\n                if (n < (2 / p)) {\\n                    n -= (1.5 / p);\\n                    l = s * n * n + .75;\\n                } else {\\n                    if (n < (2.5 / p)) {\\n                        n -= (2.25 / p);\\n                        l = s * n * n + .9375;\\n                    } else {\\n                        n -= (2.625 / p);\\n                        l = s * n * n + .984375;\\n                    }\\n                }\\n            }\\n            return l;\\n        }\\n    };\\n    ef.easeIn = ef[\\\"ease-in\\\"] = ef[\\\"<\\\"];\\n    ef.easeOut = ef[\\\"ease-out\\\"] = ef[\\\">\\\"];\\n    ef.easeInOut = ef[\\\"ease-in-out\\\"] = ef[\\\"<>\\\"];\\n    ef[\\\"back-in\\\"] = ef.backIn;\\n    ef[\\\"back-out\\\"] = ef.backOut;\\n\\n    var animationElements = [],\\n        requestAnimFrame = window.requestAnimationFrame       ||\\n                           window.webkitRequestAnimationFrame ||\\n                           window.mozRequestAnimationFrame    ||\\n                           window.oRequestAnimationFrame      ||\\n                           window.msRequestAnimationFrame     ||\\n                           function (callback) {\\n                               setTimeout(callback, 16);\\n                           },\\n        animation = function () {\\n            var Now = +new Date,\\n                l = 0;\\n            for (; l < animationElements.length; l++) {\\n                var e = animationElements[l];\\n                if (e.el.removed || e.paused) {\\n                    continue;\\n                }\\n                var time = Now - e.start,\\n                    ms = e.ms,\\n                    easing = e.easing,\\n                    from = e.from,\\n                    diff = e.diff,\\n                    to = e.to,\\n                    t = e.t,\\n                    that = e.el,\\n                    set = {},\\n                    now,\\n                    init = {},\\n                    key;\\n                if (e.initstatus) {\\n                    time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;\\n                    e.status = e.initstatus;\\n                    delete e.initstatus;\\n                    e.stop && animationElements.splice(l--, 1);\\n                } else {\\n                    e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;\\n                }\\n                if (time < 0) {\\n                    continue;\\n                }\\n                if (time < ms) {\\n                    var pos = easing(time / ms);\\n                    for (var attr in from) if (from[has](attr)) {\\n                        switch (availableAnimAttrs[attr]) {\\n                            case nu:\\n                                now = +from[attr] + pos * ms * diff[attr];\\n                                break;\\n                            case \\\"colour\\\":\\n                                now = \\\"rgb(\\\" + [\\n                                    upto255(round(from[attr].r + pos * ms * diff[attr].r)),\\n                                    upto255(round(from[attr].g + pos * ms * diff[attr].g)),\\n                                    upto255(round(from[attr].b + pos * ms * diff[attr].b))\\n                                ].join(\\\",\\\") + \\\")\\\";\\n                                break;\\n                            case \\\"path\\\":\\n                                now = [];\\n                                for (var i = 0, ii = from[attr].length; i < ii; i++) {\\n                                    now[i] = [from[attr][i][0]];\\n                                    for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                        now[i][j] = +from[attr][i][j] + pos * ms * diff[attr][i][j];\\n                                    }\\n                                    now[i] = now[i].join(S);\\n                                }\\n                                now = now.join(S);\\n                                break;\\n                            case \\\"transform\\\":\\n                                if (diff[attr].real) {\\n                                    now = [];\\n                                    for (i = 0, ii = from[attr].length; i < ii; i++) {\\n                                        now[i] = [from[attr][i][0]];\\n                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                            now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];\\n                                        }\\n                                    }\\n                                } else {\\n                                    var get = function (i) {\\n                                        return +from[attr][i] + pos * ms * diff[attr][i];\\n                                    };\\n                                    // now = [[\\\"r\\\", get(2), 0, 0], [\\\"t\\\", get(3), get(4)], [\\\"s\\\", get(0), get(1), 0, 0]];\\n                                    now = [[\\\"m\\\", get(0), get(1), get(2), get(3), get(4), get(5)]];\\n                                }\\n                                break;\\n                            case \\\"csv\\\":\\n                                if (attr == \\\"clip-rect\\\") {\\n                                    now = [];\\n                                    i = 4;\\n                                    while (i--) {\\n                                        now[i] = +from[attr][i] + pos * ms * diff[attr][i];\\n                                    }\\n                                }\\n                                break;\\n                            default:\\n                                var from2 = [][concat](from[attr]);\\n                                now = [];\\n                                i = that.paper.customAttributes[attr].length;\\n                                while (i--) {\\n                                    now[i] = +from2[i] + pos * ms * diff[attr][i];\\n                                }\\n                                break;\\n                        }\\n                        set[attr] = now;\\n                    }\\n                    that.attr(set);\\n                    (function (id, that, anim) {\\n                        setTimeout(function () {\\n                            eve(\\\"raphael.anim.frame.\\\" + id, that, anim);\\n                        });\\n                    })(that.id, that, e.anim);\\n                } else {\\n                    (function(f, el, a) {\\n                        setTimeout(function() {\\n                            eve(\\\"raphael.anim.frame.\\\" + el.id, el, a);\\n                            eve(\\\"raphael.anim.finish.\\\" + el.id, el, a);\\n                            R.is(f, \\\"function\\\") && f.call(el);\\n                        });\\n                    })(e.callback, that, e.anim);\\n                    that.attr(to);\\n                    animationElements.splice(l--, 1);\\n                    if (e.repeat > 1 && !e.next) {\\n                        for (key in to) if (to[has](key)) {\\n                            init[key] = e.totalOrigin[key];\\n                        }\\n                        e.el.attr(init);\\n                        runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);\\n                    }\\n                    if (e.next && !e.stop) {\\n                        runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);\\n                    }\\n                }\\n            }\\n            animationElements.length && requestAnimFrame(animation);\\n        },\\n        upto255 = function (color) {\\n            return color > 255 ? 255 : color < 0 ? 0 : color;\\n        };\\n    /*\\\\\\n     * Element.animateWith\\n     [ method ]\\n     **\\n     * Acts similar to @Element.animate, but ensure that given animation runs in sync with another given element.\\n     **\\n     > Parameters\\n     **\\n     - el (object) element to sync with\\n     - anim (object) animation to sync with\\n     - params (object) #optional final attributes for the element, see also @Element.attr\\n     - ms (number) #optional number of milliseconds for animation to run\\n     - easing (string) #optional easing type. Accept on of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\\n     - callback (function) #optional callback function. Will be called at the end of animation.\\n     * or\\n     - element (object) element to sync with\\n     - anim (object) animation to sync with\\n     - animation (object) #optional animation object, see @Raphael.animation\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.animateWith = function (el, anim, params, ms, easing, callback) {\\n        var element = this;\\n        if (element.removed) {\\n            callback && callback.call(element);\\n            return element;\\n        }\\n        var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),\\n            x, y;\\n        runAnimation(a, element, a.percents[0], null, element.attr());\\n        for (var i = 0, ii = animationElements.length; i < ii; i++) {\\n            if (animationElements[i].anim == anim && animationElements[i].el == el) {\\n                animationElements[ii - 1].start = animationElements[i].start;\\n                break;\\n            }\\n        }\\n        return element;\\n        //\\n        //\\n        // var a = params ? R.animation(params, ms, easing, callback) : anim,\\n        //     status = element.status(anim);\\n        // return this.animate(a).status(a, status * anim.ms / a.ms);\\n    };\\n    function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\\n        var cx = 3 * p1x,\\n            bx = 3 * (p2x - p1x) - cx,\\n            ax = 1 - cx - bx,\\n            cy = 3 * p1y,\\n            by = 3 * (p2y - p1y) - cy,\\n            ay = 1 - cy - by;\\n        function sampleCurveX(t) {\\n            return ((ax * t + bx) * t + cx) * t;\\n        }\\n        function solve(x, epsilon) {\\n            var t = solveCurveX(x, epsilon);\\n            return ((ay * t + by) * t + cy) * t;\\n        }\\n        function solveCurveX(x, epsilon) {\\n            var t0, t1, t2, x2, d2, i;\\n            for(t2 = x, i = 0; i < 8; i++) {\\n                x2 = sampleCurveX(t2) - x;\\n                if (abs(x2) < epsilon) {\\n                    return t2;\\n                }\\n                d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;\\n                if (abs(d2) < 1e-6) {\\n                    break;\\n                }\\n                t2 = t2 - x2 / d2;\\n            }\\n            t0 = 0;\\n            t1 = 1;\\n            t2 = x;\\n            if (t2 < t0) {\\n                return t0;\\n            }\\n            if (t2 > t1) {\\n                return t1;\\n            }\\n            while (t0 < t1) {\\n                x2 = sampleCurveX(t2);\\n                if (abs(x2 - x) < epsilon) {\\n                    return t2;\\n                }\\n                if (x > x2) {\\n                    t0 = t2;\\n                } else {\\n                    t1 = t2;\\n                }\\n                t2 = (t1 - t0) / 2 + t0;\\n            }\\n            return t2;\\n        }\\n        return solve(t, 1 / (200 * duration));\\n    }\\n    elproto.onAnimation = function (f) {\\n        f ? eve.on(\\\"raphael.anim.frame.\\\" + this.id, f) : eve.unbind(\\\"raphael.anim.frame.\\\" + this.id);\\n        return this;\\n    };\\n    function Animation(anim, ms) {\\n        var percents = [],\\n            newAnim = {};\\n        this.ms = ms;\\n        this.times = 1;\\n        if (anim) {\\n            for (var attr in anim) if (anim[has](attr)) {\\n                newAnim[toFloat(attr)] = anim[attr];\\n                percents.push(toFloat(attr));\\n            }\\n            percents.sort(sortByNumber);\\n        }\\n        this.anim = newAnim;\\n        this.top = percents[percents.length - 1];\\n        this.percents = percents;\\n    }\\n    /*\\\\\\n     * Animation.delay\\n     [ method ]\\n     **\\n     * Creates a copy of existing animation object with given delay.\\n     **\\n     > Parameters\\n     **\\n     - delay (number) number of ms to pass between animation start and actual animation\\n     **\\n     = (object) new altered Animation object\\n     | var anim = Raphael.animation({cx: 10, cy: 20}, 2e3);\\n     | circle1.animate(anim); // run the given animation immediately\\n     | circle2.animate(anim.delay(500)); // run the given animation after 500 ms\\n    \\\\*/\\n    Animation.prototype.delay = function (delay) {\\n        var a = new Animation(this.anim, this.ms);\\n        a.times = this.times;\\n        a.del = +delay || 0;\\n        return a;\\n    };\\n    /*\\\\\\n     * Animation.repeat\\n     [ method ]\\n     **\\n     * Creates a copy of existing animation object with given repetition.\\n     **\\n     > Parameters\\n     **\\n     - repeat (number) number iterations of animation. For infinite animation pass `Infinity`\\n     **\\n     = (object) new altered Animation object\\n    \\\\*/\\n    Animation.prototype.repeat = function (times) {\\n        var a = new Animation(this.anim, this.ms);\\n        a.del = this.del;\\n        a.times = math.floor(mmax(times, 0)) || 1;\\n        return a;\\n    };\\n    function runAnimation(anim, element, percent, status, totalOrigin, times) {\\n        percent = toFloat(percent);\\n        var params,\\n            isInAnim,\\n            isInAnimSet,\\n            percents = [],\\n            next,\\n            prev,\\n            timestamp,\\n            ms = anim.ms,\\n            from = {},\\n            to = {},\\n            diff = {};\\n        if (status) {\\n            for (i = 0, ii = animationElements.length; i < ii; i++) {\\n                var e = animationElements[i];\\n                if (e.el.id == element.id && e.anim == anim) {\\n                    if (e.percent != percent) {\\n                        animationElements.splice(i, 1);\\n                        isInAnimSet = 1;\\n                    } else {\\n                        isInAnim = e;\\n                    }\\n                    element.attr(e.totalOrigin);\\n                    break;\\n                }\\n            }\\n        } else {\\n            status = +to; // NaN\\n        }\\n        for (var i = 0, ii = anim.percents.length; i < ii; i++) {\\n            if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {\\n                percent = anim.percents[i];\\n                prev = anim.percents[i - 1] || 0;\\n                ms = ms / anim.top * (percent - prev);\\n                next = anim.percents[i + 1];\\n                params = anim.anim[percent];\\n                break;\\n            } else if (status) {\\n                element.attr(anim.anim[anim.percents[i]]);\\n            }\\n        }\\n        if (!params) {\\n            return;\\n        }\\n        if (!isInAnim) {\\n            for (var attr in params) if (params[has](attr)) {\\n                if (availableAnimAttrs[has](attr) || element.paper.customAttributes[has](attr)) {\\n                    from[attr] = element.attr(attr);\\n                    (from[attr] == null) && (from[attr] = availableAttrs[attr]);\\n                    to[attr] = params[attr];\\n                    switch (availableAnimAttrs[attr]) {\\n                        case nu:\\n                            diff[attr] = (to[attr] - from[attr]) / ms;\\n                            break;\\n                        case \\\"colour\\\":\\n                            from[attr] = R.getRGB(from[attr]);\\n                            var toColour = R.getRGB(to[attr]);\\n                            diff[attr] = {\\n                                r: (toColour.r - from[attr].r) / ms,\\n                                g: (toColour.g - from[attr].g) / ms,\\n                                b: (toColour.b - from[attr].b) / ms\\n                            };\\n                            break;\\n                        case \\\"path\\\":\\n                            var pathes = path2curve(from[attr], to[attr]),\\n                                toPath = pathes[1];\\n                            from[attr] = pathes[0];\\n                            diff[attr] = [];\\n                            for (i = 0, ii = from[attr].length; i < ii; i++) {\\n                                diff[attr][i] = [0];\\n                                for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                    diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;\\n                                }\\n                            }\\n                            break;\\n                        case \\\"transform\\\":\\n                            var _ = element._,\\n                                eq = equaliseTransform(_[attr], to[attr]);\\n                            if (eq) {\\n                                from[attr] = eq.from;\\n                                to[attr] = eq.to;\\n                                diff[attr] = [];\\n                                diff[attr].real = true;\\n                                for (i = 0, ii = from[attr].length; i < ii; i++) {\\n                                    diff[attr][i] = [from[attr][i][0]];\\n                                    for (j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                        diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;\\n                                    }\\n                                }\\n                            } else {\\n                                var m = (element.matrix || new Matrix),\\n                                    to2 = {\\n                                        _: {transform: _.transform},\\n                                        getBBox: function () {\\n                                            return element.getBBox(1);\\n                                        }\\n                                    };\\n                                from[attr] = [\\n                                    m.a,\\n                                    m.b,\\n                                    m.c,\\n                                    m.d,\\n                                    m.e,\\n                                    m.f\\n                                ];\\n                                extractTransform(to2, to[attr]);\\n                                to[attr] = to2._.transform;\\n                                diff[attr] = [\\n                                    (to2.matrix.a - m.a) / ms,\\n                                    (to2.matrix.b - m.b) / ms,\\n                                    (to2.matrix.c - m.c) / ms,\\n                                    (to2.matrix.d - m.d) / ms,\\n                                    (to2.matrix.e - m.e) / ms,\\n                                    (to2.matrix.f - m.f) / ms\\n                                ];\\n                                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];\\n                                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};\\n                                // extractTransform(to2, to[attr]);\\n                                // diff[attr] = [\\n                                //     (to2._.sx - _.sx) / ms,\\n                                //     (to2._.sy - _.sy) / ms,\\n                                //     (to2._.deg - _.deg) / ms,\\n                                //     (to2._.dx - _.dx) / ms,\\n                                //     (to2._.dy - _.dy) / ms\\n                                // ];\\n                            }\\n                            break;\\n                        case \\\"csv\\\":\\n                            var values = Str(params[attr])[split](separator),\\n                                from2 = Str(from[attr])[split](separator);\\n                            if (attr == \\\"clip-rect\\\") {\\n                                from[attr] = from2;\\n                                diff[attr] = [];\\n                                i = from2.length;\\n                                while (i--) {\\n                                    diff[attr][i] = (values[i] - from[attr][i]) / ms;\\n                                }\\n                            }\\n                            to[attr] = values;\\n                            break;\\n                        default:\\n                            values = [][concat](params[attr]);\\n                            from2 = [][concat](from[attr]);\\n                            diff[attr] = [];\\n                            i = element.paper.customAttributes[attr].length;\\n                            while (i--) {\\n                                diff[attr][i] = ((values[i] || 0) - (from2[i] || 0)) / ms;\\n                            }\\n                            break;\\n                    }\\n                }\\n            }\\n            var easing = params.easing,\\n                easyeasy = R.easing_formulas[easing];\\n            if (!easyeasy) {\\n                easyeasy = Str(easing).match(bezierrg);\\n                if (easyeasy && easyeasy.length == 5) {\\n                    var curve = easyeasy;\\n                    easyeasy = function (t) {\\n                        return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);\\n                    };\\n                } else {\\n                    easyeasy = pipe;\\n                }\\n            }\\n            timestamp = params.start || anim.start || +new Date;\\n            e = {\\n                anim: anim,\\n                percent: percent,\\n                timestamp: timestamp,\\n                start: timestamp + (anim.del || 0),\\n                status: 0,\\n                initstatus: status || 0,\\n                stop: false,\\n                ms: ms,\\n                easing: easyeasy,\\n                from: from,\\n                diff: diff,\\n                to: to,\\n                el: element,\\n                callback: params.callback,\\n                prev: prev,\\n                next: next,\\n                repeat: times || anim.times,\\n                origin: element.attr(),\\n                totalOrigin: totalOrigin\\n            };\\n            animationElements.push(e);\\n            if (status && !isInAnim && !isInAnimSet) {\\n                e.stop = true;\\n                e.start = new Date - ms * status;\\n                if (animationElements.length == 1) {\\n                    return animation();\\n                }\\n            }\\n            if (isInAnimSet) {\\n                e.start = new Date - e.ms * status;\\n            }\\n            animationElements.length == 1 && requestAnimFrame(animation);\\n        } else {\\n            isInAnim.initstatus = status;\\n            isInAnim.start = new Date - isInAnim.ms * status;\\n        }\\n        eve(\\\"raphael.anim.start.\\\" + element.id, element, anim);\\n    }\\n    /*\\\\\\n     * Raphael.animation\\n     [ method ]\\n     **\\n     * Creates an animation object that can be passed to the @Element.animate or @Element.animateWith methods.\\n     * See also @Animation.delay and @Animation.repeat methods.\\n     **\\n     > Parameters\\n     **\\n     - params (object) final attributes for the element, see also @Element.attr\\n     - ms (number) number of milliseconds for animation to run\\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\\n     - callback (function) #optional callback function. Will be called at the end of animation.\\n     **\\n     = (object) @Animation\\n    \\\\*/\\n    R.animation = function (params, ms, easing, callback) {\\n        if (params instanceof Animation) {\\n            return params;\\n        }\\n        if (R.is(easing, \\\"function\\\") || !easing) {\\n            callback = callback || easing || null;\\n            easing = null;\\n        }\\n        params = Object(params);\\n        ms = +ms || 0;\\n        var p = {},\\n            json,\\n            attr;\\n        for (attr in params) if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + \\\"%\\\" != attr) {\\n            json = true;\\n            p[attr] = params[attr];\\n        }\\n        if (!json) {\\n            // if percent-like syntax is used and end-of-all animation callback used\\n            if(callback){\\n                // find the last one\\n                var lastKey = 0;\\n                for(var i in params){\\n                    var percent = toInt(i);\\n                    if(params[has](i) && percent > lastKey){\\n                        lastKey = percent;\\n                    }\\n                }\\n                lastKey += '%';\\n                // if already defined callback in the last keyframe, skip\\n                !params[lastKey].callback && (params[lastKey].callback = callback);\\n            }\\n          return new Animation(params, ms);\\n        } else {\\n            easing && (p.easing = easing);\\n            callback && (p.callback = callback);\\n            return new Animation({100: p}, ms);\\n        }\\n    };\\n    /*\\\\\\n     * Element.animate\\n     [ method ]\\n     **\\n     * Creates and starts animation for given element.\\n     **\\n     > Parameters\\n     **\\n     - params (object) final attributes for the element, see also @Element.attr\\n     - ms (number) number of milliseconds for animation to run\\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\\n     - callback (function) #optional callback function. Will be called at the end of animation.\\n     * or\\n     - animation (object) animation object, see @Raphael.animation\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.animate = function (params, ms, easing, callback) {\\n        var element = this;\\n        if (element.removed) {\\n            callback && callback.call(element);\\n            return element;\\n        }\\n        var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);\\n        runAnimation(anim, element, anim.percents[0], null, element.attr());\\n        return element;\\n    };\\n    /*\\\\\\n     * Element.setTime\\n     [ method ]\\n     **\\n     * Sets the status of animation of the element in milliseconds. Similar to @Element.status method.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) animation object\\n     - value (number) number of milliseconds from the beginning of the animation\\n     **\\n     = (object) original element if `value` is specified\\n     * Note, that during animation following events are triggered:\\n     *\\n     * On each animation frame event `anim.frame.<id>`, on start `anim.start.<id>` and on end `anim.finish.<id>`.\\n    \\\\*/\\n    elproto.setTime = function (anim, value) {\\n        if (anim && value != null) {\\n            this.status(anim, mmin(value, anim.ms) / anim.ms);\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.status\\n     [ method ]\\n     **\\n     * Gets or sets the status of animation of the element.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     - value (number) #optional 0 – 1. If specified, method works like a setter and sets the status of a given animation to the value. This will cause animation to jump to the given position.\\n     **\\n     = (number) status\\n     * or\\n     = (array) status if `anim` is not specified. Array of objects in format:\\n     o {\\n     o     anim: (object) animation object\\n     o     status: (number) status\\n     o }\\n     * or\\n     = (object) original element if `value` is specified\\n    \\\\*/\\n    elproto.status = function (anim, value) {\\n        var out = [],\\n            i = 0,\\n            len,\\n            e;\\n        if (value != null) {\\n            runAnimation(anim, this, -1, mmin(value, 1));\\n            return this;\\n        } else {\\n            len = animationElements.length;\\n            for (; i < len; i++) {\\n                e = animationElements[i];\\n                if (e.el.id == this.id && (!anim || e.anim == anim)) {\\n                    if (anim) {\\n                        return e.status;\\n                    }\\n                    out.push({\\n                        anim: e.anim,\\n                        status: e.status\\n                    });\\n                }\\n            }\\n            if (anim) {\\n                return 0;\\n            }\\n            return out;\\n        }\\n    };\\n    /*\\\\\\n     * Element.pause\\n     [ method ]\\n     **\\n     * Stops animation of the element with ability to resume it later on.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.pause = function (anim) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\\n            if (eve(\\\"raphael.anim.pause.\\\" + this.id, this, animationElements[i].anim) !== false) {\\n                animationElements[i].paused = true;\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.resume\\n     [ method ]\\n     **\\n     * Resumes animation if it was paused with @Element.pause method.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.resume = function (anim) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\\n            var e = animationElements[i];\\n            if (eve(\\\"raphael.anim.resume.\\\" + this.id, this, e.anim) !== false) {\\n                delete e.paused;\\n                this.status(e.anim, e.status);\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.stop\\n     [ method ]\\n     **\\n     * Stops animation of the element.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.stop = function (anim) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\\n            if (eve(\\\"raphael.anim.stop.\\\" + this.id, this, animationElements[i].anim) !== false) {\\n                animationElements.splice(i--, 1);\\n            }\\n        }\\n        return this;\\n    };\\n    function stopAnimation(paper) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.paper == paper) {\\n            animationElements.splice(i--, 1);\\n        }\\n    }\\n    eve.on(\\\"raphael.remove\\\", stopAnimation);\\n    eve.on(\\\"raphael.clear\\\", stopAnimation);\\n    elproto.toString = function () {\\n        return \\\"Rapha\\\\xebl\\\\u2019s object\\\";\\n    };\\n\\n    // Set\\n    var Set = function (items) {\\n        this.items = [];\\n        this.length = 0;\\n        this.type = \\\"set\\\";\\n        if (items) {\\n            for (var i = 0, ii = items.length; i < ii; i++) {\\n                if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {\\n                    this[this.items.length] = this.items[this.items.length] = items[i];\\n                    this.length++;\\n                }\\n            }\\n        }\\n    },\\n    setproto = Set.prototype;\\n    /*\\\\\\n     * Set.push\\n     [ method ]\\n     **\\n     * Adds each argument to the current set.\\n     = (object) original element\\n    \\\\*/\\n    setproto.push = function () {\\n        var item,\\n            len;\\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\\n            item = arguments[i];\\n            if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {\\n                len = this.items.length;\\n                this[len] = this.items[len] = item;\\n                this.length++;\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Set.pop\\n     [ method ]\\n     **\\n     * Removes last element and returns it.\\n     = (object) element\\n    \\\\*/\\n    setproto.pop = function () {\\n        this.length && delete this[this.length--];\\n        return this.items.pop();\\n    };\\n    /*\\\\\\n     * Set.forEach\\n     [ method ]\\n     **\\n     * Executes given function for each element in the set.\\n     *\\n     * If function returns `false` it will stop loop running.\\n     **\\n     > Parameters\\n     **\\n     - callback (function) function to run\\n     - thisArg (object) context object for the callback\\n     = (object) Set object\\n    \\\\*/\\n    setproto.forEach = function (callback, thisArg) {\\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\\n            if (callback.call(thisArg, this.items[i], i) === false) {\\n                return this;\\n            }\\n        }\\n        return this;\\n    };\\n    for (var method in elproto) if (elproto[has](method)) {\\n        setproto[method] = (function (methodname) {\\n            return function () {\\n                var arg = arguments;\\n                return this.forEach(function (el) {\\n                    el[methodname][apply](el, arg);\\n                });\\n            };\\n        })(method);\\n    }\\n    setproto.attr = function (name, value) {\\n        if (name && R.is(name, array) && R.is(name[0], \\\"object\\\")) {\\n            for (var j = 0, jj = name.length; j < jj; j++) {\\n                this.items[j].attr(name[j]);\\n            }\\n        } else {\\n            for (var i = 0, ii = this.items.length; i < ii; i++) {\\n                this.items[i].attr(name, value);\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Set.clear\\n     [ method ]\\n     **\\n     * Removes all elements from the set\\n    \\\\*/\\n    setproto.clear = function () {\\n        while (this.length) {\\n            this.pop();\\n        }\\n    };\\n    /*\\\\\\n     * Set.splice\\n     [ method ]\\n     **\\n     * Removes given element from the set\\n     **\\n     > Parameters\\n     **\\n     - index (number) position of the deletion\\n     - count (number) number of element to remove\\n     - insertion… (object) #optional elements to insert\\n     = (object) set elements that were deleted\\n    \\\\*/\\n    setproto.splice = function (index, count, insertion) {\\n        index = index < 0 ? mmax(this.length + index, 0) : index;\\n        count = mmax(0, mmin(this.length - index, count));\\n        var tail = [],\\n            todel = [],\\n            args = [],\\n            i;\\n        for (i = 2; i < arguments.length; i++) {\\n            args.push(arguments[i]);\\n        }\\n        for (i = 0; i < count; i++) {\\n            todel.push(this[index + i]);\\n        }\\n        for (; i < this.length - index; i++) {\\n            tail.push(this[index + i]);\\n        }\\n        var arglen = args.length;\\n        for (i = 0; i < arglen + tail.length; i++) {\\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\\n        }\\n        i = this.items.length = this.length -= count - arglen;\\n        while (this[i]) {\\n            delete this[i++];\\n        }\\n        return new Set(todel);\\n    };\\n    /*\\\\\\n     * Set.exclude\\n     [ method ]\\n     **\\n     * Removes given element from the set\\n     **\\n     > Parameters\\n     **\\n     - element (object) element to remove\\n     = (boolean) `true` if object was found & removed from the set\\n    \\\\*/\\n    setproto.exclude = function (el) {\\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\\n            this.splice(i, 1);\\n            return true;\\n        }\\n    };\\n    setproto.animate = function (params, ms, easing, callback) {\\n        (R.is(easing, \\\"function\\\") || !easing) && (callback = easing || null);\\n        var len = this.items.length,\\n            i = len,\\n            item,\\n            set = this,\\n            collector;\\n        if (!len) {\\n            return this;\\n        }\\n        callback && (collector = function () {\\n            !--len && callback.call(set);\\n        });\\n        easing = R.is(easing, string) ? easing : collector;\\n        var anim = R.animation(params, ms, easing, collector);\\n        item = this.items[--i].animate(anim);\\n        while (i--) {\\n            this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);\\n            (this.items[i] && !this.items[i].removed) || len--;\\n        }\\n        return this;\\n    };\\n    setproto.insertAfter = function (el) {\\n        var i = this.items.length;\\n        while (i--) {\\n            this.items[i].insertAfter(el);\\n        }\\n        return this;\\n    };\\n    setproto.getBBox = function () {\\n        var x = [],\\n            y = [],\\n            x2 = [],\\n            y2 = [];\\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\\n            var box = this.items[i].getBBox();\\n            x.push(box.x);\\n            y.push(box.y);\\n            x2.push(box.x + box.width);\\n            y2.push(box.y + box.height);\\n        }\\n        x = mmin[apply](0, x);\\n        y = mmin[apply](0, y);\\n        x2 = mmax[apply](0, x2);\\n        y2 = mmax[apply](0, y2);\\n        return {\\n            x: x,\\n            y: y,\\n            x2: x2,\\n            y2: y2,\\n            width: x2 - x,\\n            height: y2 - y\\n        };\\n    };\\n    setproto.clone = function (s) {\\n        s = this.paper.set();\\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\\n            s.push(this.items[i].clone());\\n        }\\n        return s;\\n    };\\n    setproto.toString = function () {\\n        return \\\"Rapha\\\\xebl\\\\u2018s set\\\";\\n    };\\n\\n    setproto.glow = function(glowConfig) {\\n        var ret = this.paper.set();\\n        this.forEach(function(shape, index){\\n            var g = shape.glow(glowConfig);\\n            if(g != null){\\n                g.forEach(function(shape2, index2){\\n                    ret.push(shape2);\\n                });\\n            }\\n        });\\n        return ret;\\n    };\\n\\n\\n    /*\\\\\\n     * Set.isPointInside\\n     [ method ]\\n     **\\n     * Determine if given point is inside this set’s elements\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the point\\n     - y (number) y coordinate of the point\\n     = (boolean) `true` if point is inside any of the set's elements\\n     \\\\*/\\n    setproto.isPointInside = function (x, y) {\\n        var isPointInside = false;\\n        this.forEach(function (el) {\\n            if (el.isPointInside(x, y)) {\\n                isPointInside = true;\\n                return false; // stop loop\\n            }\\n        });\\n        return isPointInside;\\n    };\\n\\n    /*\\\\\\n     * Raphael.registerFont\\n     [ method ]\\n     **\\n     * Adds given font to the registered set of fonts for Raphaël. Should be used as an internal call from within Cufón’s font file.\\n     * Returns original parameter, so it could be used with chaining.\\n     # <a href=\\\"http://wiki.github.com/sorccu/cufon/about\\\">More about Cufón and how to convert your font form TTF, OTF, etc to JavaScript file.</a>\\n     **\\n     > Parameters\\n     **\\n     - font (object) the font to register\\n     = (object) the font you passed in\\n     > Usage\\n     | Cufon.registerFont(Raphael.registerFont({…}));\\n    \\\\*/\\n    R.registerFont = function (font) {\\n        if (!font.face) {\\n            return font;\\n        }\\n        this.fonts = this.fonts || {};\\n        var fontcopy = {\\n                w: font.w,\\n                face: {},\\n                glyphs: {}\\n            },\\n            family = font.face[\\\"font-family\\\"];\\n        for (var prop in font.face) if (font.face[has](prop)) {\\n            fontcopy.face[prop] = font.face[prop];\\n        }\\n        if (this.fonts[family]) {\\n            this.fonts[family].push(fontcopy);\\n        } else {\\n            this.fonts[family] = [fontcopy];\\n        }\\n        if (!font.svg) {\\n            fontcopy.face[\\\"units-per-em\\\"] = toInt(font.face[\\\"units-per-em\\\"], 10);\\n            for (var glyph in font.glyphs) if (font.glyphs[has](glyph)) {\\n                var path = font.glyphs[glyph];\\n                fontcopy.glyphs[glyph] = {\\n                    w: path.w,\\n                    k: {},\\n                    d: path.d && \\\"M\\\" + path.d.replace(/[mlcxtrv]/g, function (command) {\\n                            return {l: \\\"L\\\", c: \\\"C\\\", x: \\\"z\\\", t: \\\"m\\\", r: \\\"l\\\", v: \\\"c\\\"}[command] || \\\"M\\\";\\n                        }) + \\\"z\\\"\\n                };\\n                if (path.k) {\\n                    for (var k in path.k) if (path[has](k)) {\\n                        fontcopy.glyphs[glyph].k[k] = path.k[k];\\n                    }\\n                }\\n            }\\n        }\\n        return font;\\n    };\\n    /*\\\\\\n     * Paper.getFont\\n     [ method ]\\n     **\\n     * Finds font object in the registered fonts by given parameters. You could specify only one word from the font name, like “Myriad” for “Myriad Pro”.\\n     **\\n     > Parameters\\n     **\\n     - family (string) font family name or any word from it\\n     - weight (string) #optional font weight\\n     - style (string) #optional font style\\n     - stretch (string) #optional font stretch\\n     = (object) the font object\\n     > Usage\\n     | paper.print(100, 100, \\\"Test string\\\", paper.getFont(\\\"Times\\\", 800), 30);\\n    \\\\*/\\n    paperproto.getFont = function (family, weight, style, stretch) {\\n        stretch = stretch || \\\"normal\\\";\\n        style = style || \\\"normal\\\";\\n        weight = +weight || {normal: 400, bold: 700, lighter: 300, bolder: 800}[weight] || 400;\\n        if (!R.fonts) {\\n            return;\\n        }\\n        var font = R.fonts[family];\\n        if (!font) {\\n            var name = new RegExp(\\\"(^|\\\\\\\\s)\\\" + family.replace(/[^\\\\w\\\\d\\\\s+!~.:_-]/g, E) + \\\"(\\\\\\\\s|$)\\\", \\\"i\\\");\\n            for (var fontName in R.fonts) if (R.fonts[has](fontName)) {\\n                if (name.test(fontName)) {\\n                    font = R.fonts[fontName];\\n                    break;\\n                }\\n            }\\n        }\\n        var thefont;\\n        if (font) {\\n            for (var i = 0, ii = font.length; i < ii; i++) {\\n                thefont = font[i];\\n                if (thefont.face[\\\"font-weight\\\"] == weight && (thefont.face[\\\"font-style\\\"] == style || !thefont.face[\\\"font-style\\\"]) && thefont.face[\\\"font-stretch\\\"] == stretch) {\\n                    break;\\n                }\\n            }\\n        }\\n        return thefont;\\n    };\\n    /*\\\\\\n     * Paper.print\\n     [ method ]\\n     **\\n     * Creates path that represent given text written using given font at given position with given size.\\n     * Result of the method is path element that contains whole text as a separate path.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x position of the text\\n     - y (number) y position of the text\\n     - string (string) text to print\\n     - font (object) font object, see @Paper.getFont\\n     - size (number) #optional size of the font, default is `16`\\n     - origin (string) #optional could be `\\\"baseline\\\"` or `\\\"middle\\\"`, default is `\\\"middle\\\"`\\n     - letter_spacing (number) #optional number in range `-1..1`, default is `0`\\n     - line_spacing (number) #optional number in range `1..3`, default is `1`\\n     = (object) resulting path element, which consist of all letters\\n     > Usage\\n     | var txt = r.print(10, 50, \\\"print\\\", r.getFont(\\\"Museo\\\"), 30).attr({fill: \\\"#fff\\\"});\\n    \\\\*/\\n    paperproto.print = function (x, y, string, font, size, origin, letter_spacing, line_spacing) {\\n        origin = origin || \\\"middle\\\"; // baseline|middle\\n        letter_spacing = mmax(mmin(letter_spacing || 0, 1), -1);\\n        line_spacing = mmax(mmin(line_spacing || 1, 3), 1);\\n        var letters = Str(string)[split](E),\\n            shift = 0,\\n            notfirst = 0,\\n            path = E,\\n            scale;\\n        R.is(font, \\\"string\\\") && (font = this.getFont(font));\\n        if (font) {\\n            scale = (size || 16) / font.face[\\\"units-per-em\\\"];\\n            var bb = font.face.bbox[split](separator),\\n                top = +bb[0],\\n                lineHeight = bb[3] - bb[1],\\n                shifty = 0,\\n                height = +bb[1] + (origin == \\\"baseline\\\" ? lineHeight + (+font.face.descent) : lineHeight / 2);\\n            for (var i = 0, ii = letters.length; i < ii; i++) {\\n                if (letters[i] == \\\"\\\\n\\\") {\\n                    shift = 0;\\n                    curr = 0;\\n                    notfirst = 0;\\n                    shifty += lineHeight * line_spacing;\\n                } else {\\n                    var prev = notfirst && font.glyphs[letters[i - 1]] || {},\\n                        curr = font.glyphs[letters[i]];\\n                    shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letter_spacing) : 0;\\n                    notfirst = 1;\\n                }\\n                if (curr && curr.d) {\\n                    path += R.transformPath(curr.d, [\\\"t\\\", shift * scale, shifty * scale, \\\"s\\\", scale, scale, top, height, \\\"t\\\", (x - top) / scale, (y - height) / scale]);\\n                }\\n            }\\n        }\\n        return this.path(path).attr({\\n            fill: \\\"#000\\\",\\n            stroke: \\\"none\\\"\\n        });\\n    };\\n\\n    /*\\\\\\n     * Paper.add\\n     [ method ]\\n     **\\n     * Imports elements in JSON array in format `{type: type, <attributes>}`\\n     **\\n     > Parameters\\n     **\\n     - json (array)\\n     = (object) resulting set of imported elements\\n     > Usage\\n     | paper.add([\\n     |     {\\n     |         type: \\\"circle\\\",\\n     |         cx: 10,\\n     |         cy: 10,\\n     |         r: 5\\n     |     },\\n     |     {\\n     |         type: \\\"rect\\\",\\n     |         x: 10,\\n     |         y: 10,\\n     |         width: 10,\\n     |         height: 10,\\n     |         fill: \\\"#fc0\\\"\\n     |     }\\n     | ]);\\n    \\\\*/\\n    paperproto.add = function (json) {\\n        if (R.is(json, \\\"array\\\")) {\\n            var res = this.set(),\\n                i = 0,\\n                ii = json.length,\\n                j;\\n            for (; i < ii; i++) {\\n                j = json[i] || {};\\n                elements[has](j.type) && res.push(this[j.type]().attr(j));\\n            }\\n        }\\n        return res;\\n    };\\n\\n    /*\\\\\\n     * Raphael.format\\n     [ method ]\\n     **\\n     * Simple format function. Replaces construction of type “`{<number>}`” to the corresponding argument.\\n     **\\n     > Parameters\\n     **\\n     - token (string) string to format\\n     - … (string) rest of arguments will be treated as parameters for replacement\\n     = (string) formated string\\n     > Usage\\n     | var x = 10,\\n     |     y = 20,\\n     |     width = 40,\\n     |     height = 50;\\n     | // this will draw a rectangular shape equivalent to \\\"M10,20h40v50h-40z\\\"\\n     | paper.path(Raphael.format(\\\"M{0},{1}h{2}v{3}h{4}z\\\", x, y, width, height, -width));\\n    \\\\*/\\n    R.format = function (token, params) {\\n        var args = R.is(params, array) ? [0][concat](params) : arguments;\\n        token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function (str, i) {\\n            return args[++i] == null ? E : args[i];\\n        }));\\n        return token || E;\\n    };\\n    /*\\\\\\n     * Raphael.fullfill\\n     [ method ]\\n     **\\n     * A little bit more advanced format function than @Raphael.format. Replaces construction of type “`{<name>}`” to the corresponding argument.\\n     **\\n     > Parameters\\n     **\\n     - token (string) string to format\\n     - json (object) object which properties will be used as a replacement\\n     = (string) formated string\\n     > Usage\\n     | // this will draw a rectangular shape equivalent to \\\"M10,20h40v50h-40z\\\"\\n     | paper.path(Raphael.fullfill(\\\"M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z\\\", {\\n     |     x: 10,\\n     |     y: 20,\\n     |     dim: {\\n     |         width: 40,\\n     |         height: 50,\\n     |         \\\"negative width\\\": -40\\n     |     }\\n     | }));\\n    \\\\*/\\n    R.fullfill = (function () {\\n        var tokenRegex = /\\\\{([^\\\\}]+)\\\\}/g,\\n            objNotationRegex = /(?:(?:^|\\\\.)(.+?)(?=\\\\[|\\\\.|$|\\\\()|\\\\[('|\\\")(.+?)\\\\2\\\\])(\\\\(\\\\))?/g, // matches .xxxxx or [\\\"xxxxx\\\"] to run over object properties\\n            replacer = function (all, key, obj) {\\n                var res = obj;\\n                key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\\n                    name = name || quotedName;\\n                    if (res) {\\n                        if (name in res) {\\n                            res = res[name];\\n                        }\\n                        typeof res == \\\"function\\\" && isFunc && (res = res());\\n                    }\\n                });\\n                res = (res == null || res == obj ? all : res) + \\\"\\\";\\n                return res;\\n            };\\n        return function (str, obj) {\\n            return String(str).replace(tokenRegex, function (all, key) {\\n                return replacer(all, key, obj);\\n            });\\n        };\\n    })();\\n    /*\\\\\\n     * Raphael.ninja\\n     [ method ]\\n     **\\n     * If you want to leave no trace of Raphaël (Well, Raphaël creates only one global variable `Raphael`, but anyway.) You can use `ninja` method.\\n     * Beware, that in this case plugins could stop working, because they are depending on global variable existence.\\n     **\\n     = (object) Raphael object\\n     > Usage\\n     | (function (local_raphael) {\\n     |     var paper = local_raphael(10, 10, 320, 200);\\n     |     …\\n     | })(Raphael.ninja());\\n    \\\\*/\\n    R.ninja = function () {\\n        if (oldRaphael.was) {\\n            g.win.Raphael = oldRaphael.is;\\n        } else {\\n            // IE8 raises an error when deleting window property\\n            window.Raphael = undefined;\\n            try {\\n                delete window.Raphael;\\n            } catch(e) {}\\n        }\\n        return R;\\n    };\\n    /*\\\\\\n     * Raphael.st\\n     [ property (object) ]\\n     **\\n     * You can add your own method to elements and sets. It is wise to add a set method for each element method\\n     * you added, so you will be able to call the same method on sets too.\\n     **\\n     * See also @Raphael.el.\\n     > Usage\\n     | Raphael.el.red = function () {\\n     |     this.attr({fill: \\\"#f00\\\"});\\n     | };\\n     | Raphael.st.red = function () {\\n     |     this.forEach(function (el) {\\n     |         el.red();\\n     |     });\\n     | };\\n     | // then use it\\n     | paper.set(paper.circle(100, 100, 20), paper.circle(110, 100, 20)).red();\\n    \\\\*/\\n    R.st = setproto;\\n\\n    eve.on(\\\"raphael.DOMload\\\", function () {\\n        loaded = true;\\n    });\\n\\n    // Firefox <3.6 fix: http://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html\\n    (function (doc, loaded, f) {\\n        if (doc.readyState == null && doc.addEventListener){\\n            doc.addEventListener(loaded, f = function () {\\n                doc.removeEventListener(loaded, f, false);\\n                doc.readyState = \\\"complete\\\";\\n            }, false);\\n            doc.readyState = \\\"loading\\\";\\n        }\\n        function isLoaded() {\\n            (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve(\\\"raphael.DOMload\\\");\\n        }\\n        isLoaded();\\n    })(document, \\\"DOMContentLoaded\\\");\\n\\n    return R;\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5jb3JlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL2Rldi9yYXBoYWVsLmNvcmUuanM/OTRkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoW1wiZXZlXCJdLCBmdW5jdGlvbihldmUpIHtcblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIG9iamVjdCBvbiB3aGljaCB0byBkcmF3LlxuICAgICAqIFlvdSBtdXN0IGRvIHRoaXMgZmlyc3QsIGFzIGFsbCBmdXR1cmUgY2FsbHMgdG8gZHJhd2luZyBtZXRob2RzXG4gICAgICogZnJvbSB0aGlzIGluc3RhbmNlIHdpbGwgYmUgYm91bmQgdG8gdGhpcyBjYW52YXMuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGNvbnRhaW5lciAoSFRNTEVsZW1lbnR8c3RyaW5nKSBET00gZWxlbWVudCBvciBpdHMgSUQgd2hpY2ggaXMgZ29pbmcgdG8gYmUgYSBwYXJlbnQgZm9yIGRyYXdpbmcgc3VyZmFjZVxuICAgICAtIHdpZHRoIChudW1iZXIpXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggaXMgZ29pbmcgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGNvbnRleHQgb2YgbmV3bHkgY3JlYXRlZCBwYXBlclxuICAgICAqIG9yXG4gICAgIC0geCAobnVtYmVyKVxuICAgICAtIHkgKG51bWJlcilcbiAgICAgLSB3aWR0aCAobnVtYmVyKVxuICAgICAtIGhlaWdodCAobnVtYmVyKVxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIGFsbCAoYXJyYXkpIChmaXJzdCAzIG9yIDQgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBlcXVhbCB0byBbY29udGFpbmVySUQsIHdpZHRoLCBoZWlnaHRdIG9yIFt4LCB5LCB3aWR0aCwgaGVpZ2h0XS4gVGhlIHJlc3QgYXJlIGVsZW1lbnQgZGVzY3JpcHRpb25zIGluIGZvcm1hdCB7dHlwZTogdHlwZSwgPGF0dHJpYnV0ZXM+fSkuIFNlZSBAUGFwZXIuYWRkLlxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIG9uUmVhZHlDYWxsYmFjayAoZnVuY3Rpb24pIGZ1bmN0aW9uIHRoYXQgaXMgZ29pbmcgdG8gYmUgY2FsbGVkIG9uIERPTSByZWFkeSBldmVudC4gWW91IGNhbiBhbHNvIHN1YnNjcmliZSB0byB0aGlzIGV2ZW50IHZpYSBFdmXigJlzIOKAnERPTUxvYWTigJ0gZXZlbnQuIEluIHRoaXMgY2FzZSBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgPSAob2JqZWN0KSBAUGFwZXJcbiAgICAgPiBVc2FnZVxuICAgICB8IC8vIEVhY2ggb2YgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBjcmVhdGUgYSBjYW52YXNcbiAgICAgfCAvLyB0aGF0IGlzIDMyMHB4IHdpZGUgYnkgMjAwcHggaGlnaC5cbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdmlld3BvcnTigJlzIDEwLDUwIGNvb3JkaW5hdGUuXG4gICAgIHwgdmFyIHBhcGVyID0gUmFwaGFlbCgxMCwgNTAsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSAjbm90ZXBhZCBlbGVtZW50XG4gICAgIHwgLy8gKG9yIGl0cyB0b3AgcmlnaHQgY29ybmVyIGluIGRpcj1cInJ0bFwiIGVsZW1lbnRzKVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RlcGFkXCIpLCAzMjAsIDIwMCk7XG4gICAgIHwgLy8gU2FtZSBhcyBhYm92ZVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoXCJub3RlcGFkXCIsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBJbWFnZSBkdW1wXG4gICAgIHwgdmFyIHNldCA9IFJhcGhhZWwoW1wibm90ZXBhZFwiLCAzMjAsIDIwMCwge1xuICAgICB8ICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgfCAgICAgeDogMTAsXG4gICAgIHwgICAgIHk6IDEwLFxuICAgICB8ICAgICB3aWR0aDogMjUsXG4gICAgIHwgICAgIGhlaWdodDogMjUsXG4gICAgIHwgICAgIHN0cm9rZTogXCIjZjAwXCJcbiAgICAgfCB9LCB7XG4gICAgIHwgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICB8ICAgICB4OiAzMCxcbiAgICAgfCAgICAgeTogNDAsXG4gICAgIHwgICAgIHRleHQ6IFwiRHVtcFwiXG4gICAgIHwgfV0pO1xuICAgIFxcKi9cbiAgICBmdW5jdGlvbiBSKGZpcnN0KSB7XG4gICAgICAgIGlmIChSLmlzKGZpcnN0LCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVkID8gZmlyc3QoKSA6IGV2ZS5vbihcInJhcGhhZWwuRE9NbG9hZFwiLCBmaXJzdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoUi5pcyhmaXJzdCwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgZmlyc3Quc3BsaWNlKDAsIDMgKyBSLmlzKGZpcnN0WzBdLCBudSkpKS5hZGQoZmlyc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgaWYgKFIuaXMoYXJnc1thcmdzLmxlbmd0aCAtIDFdLCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZWQgPyBmLmNhbGwoUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgYXJncykpIDogZXZlLm9uKFwicmFwaGFlbC5ET01sb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZi5jYWxsKFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUi52ZXJzaW9uID0gXCIyLjIuMFwiO1xuICAgIFIuZXZlID0gZXZlO1xuICAgIHZhciBsb2FkZWQsXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGVsZW1lbnRzID0ge2NpcmNsZTogMSwgcmVjdDogMSwgcGF0aDogMSwgZWxsaXBzZTogMSwgdGV4dDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBmb3JtYXRyZyA9IC9cXHsoXFxkKylcXH0vZyxcbiAgICAgICAgcHJvdG8gPSBcInByb3RvdHlwZVwiLFxuICAgICAgICBoYXMgPSBcImhhc093blByb3BlcnR5XCIsXG4gICAgICAgIGcgPSB7XG4gICAgICAgICAgICBkb2M6IGRvY3VtZW50LFxuICAgICAgICAgICAgd2luOiB3aW5kb3dcbiAgICAgICAgfSxcbiAgICAgICAgb2xkUmFwaGFlbCA9IHtcbiAgICAgICAgICAgIHdhczogT2JqZWN0LnByb3RvdHlwZVtoYXNdLmNhbGwoZy53aW4sIFwiUmFwaGFlbFwiKSxcbiAgICAgICAgICAgIGlzOiBnLndpbi5SYXBoYWVsXG4gICAgICAgIH0sXG4gICAgICAgIFBhcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLypcXFxuICAgICAgICAgICAgICogUGFwZXIuY2FcbiAgICAgICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICAgICAqKlxuICAgICAgICAgICAgICogU2hvcnRjdXQgZm9yIEBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICAvKlxcXG4gICAgICAgICAgICAgKiBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAgICAgKipcbiAgICAgICAgICAgICAqIElmIHlvdSBoYXZlIGEgc2V0IG9mIGF0dHJpYnV0ZXMgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZXByZXNlbnRcbiAgICAgICAgICAgICAqIGFzIGEgZnVuY3Rpb24gb2Ygc29tZSBudW1iZXIgeW91IGNhbiBkbyBpdCBlYXNpbHkgd2l0aCBjdXN0b20gYXR0cmlidXRlczpcbiAgICAgICAgICAgICA+IFVzYWdlXG4gICAgICAgICAgICAgfCBwYXBlci5jdXN0b21BdHRyaWJ1dGVzLmh1ZSA9IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgICAgICB8ICAgICBudW0gPSBudW0gJSAxO1xuICAgICAgICAgICAgIHwgICAgIHJldHVybiB7ZmlsbDogXCJoc2IoXCIgKyBudW0gKyBcIiwgMC43NSwgMSlcIn07XG4gICAgICAgICAgICAgfCB9O1xuICAgICAgICAgICAgIHwgLy8gQ3VzdG9tIGF0dHJpYnV0ZSDigJxodWXigJ0gd2lsbCBjaGFuZ2UgZmlsbFxuICAgICAgICAgICAgIHwgLy8gdG8gYmUgZ2l2ZW4gaHVlIHdpdGggZml4ZWQgc2F0dXJhdGlvbiBhbmQgYnJpZ2h0bmVzcy5cbiAgICAgICAgICAgICB8IC8vIE5vdyB5b3UgY2FuIHVzZSBpdCBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCB2YXIgYyA9IHBhcGVyLmNpcmNsZSgxMCwgMTAsIDEwKS5hdHRyKHtodWU6IC40NX0pO1xuICAgICAgICAgICAgIHwgLy8gb3IgZXZlbiBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCBjLmFuaW1hdGUoe2h1ZTogMX0sIDFlMyk7XG4gICAgICAgICAgICAgfFxuICAgICAgICAgICAgIHwgLy8gWW91IGNvdWxkIGFsc28gY3JlYXRlIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICB8IC8vIHdpdGggbXVsdGlwbGUgcGFyYW1ldGVyczpcbiAgICAgICAgICAgICB8IHBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMuaHNiID0gZnVuY3Rpb24gKGgsIHMsIGIpIHtcbiAgICAgICAgICAgICB8ICAgICByZXR1cm4ge2ZpbGw6IFwiaHNiKFwiICsgW2gsIHMsIGJdLmpvaW4oXCIsXCIpICsgXCIpXCJ9O1xuICAgICAgICAgICAgIHwgfTtcbiAgICAgICAgICAgICB8IGMuYXR0cih7aHNiOiBcIjAuNSAuOCAxXCJ9KTtcbiAgICAgICAgICAgICB8IGMuYW5pbWF0ZSh7aHNiOiBbMSwgMCwgMC41XX0sIDFlMyk7XG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICB0aGlzLmNhID0gdGhpcy5jdXN0b21BdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH0sXG4gICAgICAgIHBhcGVycHJvdG8sXG4gICAgICAgIGFwcGVuZENoaWxkID0gXCJhcHBlbmRDaGlsZFwiLFxuICAgICAgICBhcHBseSA9IFwiYXBwbHlcIixcbiAgICAgICAgY29uY2F0ID0gXCJjb25jYXRcIixcbiAgICAgICAgc3VwcG9ydHNUb3VjaCA9ICgnb250b3VjaHN0YXJ0JyBpbiBnLndpbikgfHwgZy53aW4uRG9jdW1lbnRUb3VjaCAmJiBnLmRvYyBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gsIC8vdGFrZW4gZnJvbSBNb2Rlcm5penIgdG91Y2ggdGVzdFxuICAgICAgICBFID0gXCJcIixcbiAgICAgICAgUyA9IFwiIFwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHNwbGl0ID0gXCJzcGxpdFwiLFxuICAgICAgICBldmVudHMgPSBcImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZW1vdmUgbW91c2VvdXQgbW91c2VvdmVyIG1vdXNldXAgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWxcIltzcGxpdF0oUyksXG4gICAgICAgIHRvdWNoTWFwID0ge1xuICAgICAgICAgICAgbW91c2Vkb3duOiBcInRvdWNoc3RhcnRcIixcbiAgICAgICAgICAgIG1vdXNlbW92ZTogXCJ0b3VjaG1vdmVcIixcbiAgICAgICAgICAgIG1vdXNldXA6IFwidG91Y2hlbmRcIlxuICAgICAgICB9LFxuICAgICAgICBsb3dlckNhc2UgPSBTdHIucHJvdG90eXBlLnRvTG93ZXJDYXNlLFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgbW1heCA9IG1hdGgubWF4LFxuICAgICAgICBtbWluID0gbWF0aC5taW4sXG4gICAgICAgIGFicyA9IG1hdGguYWJzLFxuICAgICAgICBwb3cgPSBtYXRoLnBvdyxcbiAgICAgICAgUEkgPSBtYXRoLlBJLFxuICAgICAgICBudSA9IFwibnVtYmVyXCIsXG4gICAgICAgIHN0cmluZyA9IFwic3RyaW5nXCIsXG4gICAgICAgIGFycmF5ID0gXCJhcnJheVwiLFxuICAgICAgICB0b1N0cmluZyA9IFwidG9TdHJpbmdcIixcbiAgICAgICAgZmlsbFN0cmluZyA9IFwiZmlsbFwiLFxuICAgICAgICBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgICAgIHBhcGVyID0ge30sXG4gICAgICAgIHB1c2ggPSBcInB1c2hcIixcbiAgICAgICAgSVNVUkwgPSBSLl9JU1VSTCA9IC9edXJsXFwoWydcIl0/KC4rPylbJ1wiXT9cXCkkL2ksXG4gICAgICAgIGNvbG91clJlZ0V4cCA9IC9eXFxzKigoI1thLWZcXGRdezZ9KXwoI1thLWZcXGRdezN9KXxyZ2JhP1xcKFxccyooW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyU/KD86XFxzKixcXHMqW1xcZFxcLl0rJT8pPylcXHMqXFwpfGhzYmE/XFwoXFxzKihbXFxkXFwuXSsoPzpkZWd8XFx4YjB8JSk/XFxzKixcXHMqW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSsoPzolP1xccyosXFxzKltcXGRcXC5dKyk/KSU/XFxzKlxcKXxoc2xhP1xcKFxccyooW1xcZFxcLl0rKD86ZGVnfFxceGIwfCUpP1xccyosXFxzKltcXGRcXC5dKyU/XFxzKixcXHMqW1xcZFxcLl0rKD86JT9cXHMqLFxccypbXFxkXFwuXSspPyklP1xccypcXCkpXFxzKiQvaSxcbiAgICAgICAgaXNuYW4gPSB7XCJOYU5cIjogMSwgXCJJbmZpbml0eVwiOiAxLCBcIi1JbmZpbml0eVwiOiAxfSxcbiAgICAgICAgYmV6aWVycmcgPSAvXig/OmN1YmljLSk/YmV6aWVyXFwoKFteLF0rKSwoW14sXSspLChbXixdKyksKFteXFwpXSspXFwpLyxcbiAgICAgICAgcm91bmQgPSBtYXRoLnJvdW5kLFxuICAgICAgICBzZXRBdHRyaWJ1dGUgPSBcInNldEF0dHJpYnV0ZVwiLFxuICAgICAgICB0b0Zsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgICAgdG9JbnQgPSBwYXJzZUludCxcbiAgICAgICAgdXBwZXJDYXNlID0gU3RyLnByb3RvdHlwZS50b1VwcGVyQ2FzZSxcbiAgICAgICAgYXZhaWxhYmxlQXR0cnMgPSBSLl9hdmFpbGFibGVBdHRycyA9IHtcbiAgICAgICAgICAgIFwiYXJyb3ctZW5kXCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgXCJhcnJvdy1zdGFydFwiOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJsdXI6IDAsXG4gICAgICAgICAgICBcImNsaXAtcmVjdFwiOiBcIjAgMCAxZTkgMWU5XCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgY3g6IDAsXG4gICAgICAgICAgICBjeTogMCxcbiAgICAgICAgICAgIGZpbGw6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogMSxcbiAgICAgICAgICAgIGZvbnQ6ICcxMHB4IFwiQXJpYWxcIicsXG4gICAgICAgICAgICBcImZvbnQtZmFtaWx5XCI6ICdcIkFyaWFsXCInLFxuICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIxMFwiLFxuICAgICAgICAgICAgXCJmb250LXN0eWxlXCI6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBcImZvbnQtd2VpZ2h0XCI6IDQwMCxcbiAgICAgICAgICAgIGdyYWRpZW50OiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgaHJlZjogXCJodHRwOi8vcmFwaGFlbGpzLmNvbS9cIixcbiAgICAgICAgICAgIFwibGV0dGVyLXNwYWNpbmdcIjogMCxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBwYXRoOiBcIk0wLDBcIixcbiAgICAgICAgICAgIHI6IDAsXG4gICAgICAgICAgICByeDogMCxcbiAgICAgICAgICAgIHJ5OiAwLFxuICAgICAgICAgICAgc3JjOiBcIlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICAgICAgICAgIFwic3Ryb2tlLWRhc2hhcnJheVwiOiBcIlwiLFxuICAgICAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiBcImJ1dHRcIixcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwiYnV0dFwiLFxuICAgICAgICAgICAgXCJzdHJva2UtbWl0ZXJsaW1pdFwiOiAwLFxuICAgICAgICAgICAgXCJzdHJva2Utb3BhY2l0eVwiOiAxLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogMSxcbiAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgIFwidGV4dC1hbmNob3JcIjogXCJtaWRkbGVcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlJhcGhhZWxcIixcbiAgICAgICAgICAgIHRyYW5zZm9ybTogXCJcIixcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXZhaWxhYmxlQW5pbUF0dHJzID0gUi5fYXZhaWxhYmxlQW5pbUF0dHJzID0ge1xuICAgICAgICAgICAgYmx1cjogbnUsXG4gICAgICAgICAgICBcImNsaXAtcmVjdFwiOiBcImNzdlwiLFxuICAgICAgICAgICAgY3g6IG51LFxuICAgICAgICAgICAgY3k6IG51LFxuICAgICAgICAgICAgZmlsbDogXCJjb2xvdXJcIixcbiAgICAgICAgICAgIFwiZmlsbC1vcGFjaXR5XCI6IG51LFxuICAgICAgICAgICAgXCJmb250LXNpemVcIjogbnUsXG4gICAgICAgICAgICBoZWlnaHQ6IG51LFxuICAgICAgICAgICAgb3BhY2l0eTogbnUsXG4gICAgICAgICAgICBwYXRoOiBcInBhdGhcIixcbiAgICAgICAgICAgIHI6IG51LFxuICAgICAgICAgICAgcng6IG51LFxuICAgICAgICAgICAgcnk6IG51LFxuICAgICAgICAgICAgc3Ryb2tlOiBcImNvbG91clwiLFxuICAgICAgICAgICAgXCJzdHJva2Utb3BhY2l0eVwiOiBudSxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IG51LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgd2lkdGg6IG51LFxuICAgICAgICAgICAgeDogbnUsXG4gICAgICAgICAgICB5OiBudVxuICAgICAgICB9LFxuICAgICAgICB3aGl0ZXNwYWNlID0gL1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0vZyxcbiAgICAgICAgY29tbWFTcGFjZXMgPSAvW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSovLFxuICAgICAgICBoc3JnID0ge2hzOiAxLCByZzogMX0sXG4gICAgICAgIHAycyA9IC8sPyhbYWNobG1xcnN0dnh6XSksPy9naSxcbiAgICAgICAgcGF0aENvbW1hbmQgPSAvKFthY2hsbXJxc3R2el0pW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5LF0qKCgtP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosP1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qKSspL2lnLFxuICAgICAgICB0Q29tbWFuZCA9IC8oW3JzdG1dKVtcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOSxdKigoLT9cXGQqXFwuP1xcZCooPzplW1xcLStdP1xcZCspP1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qLD9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKikrKS9pZyxcbiAgICAgICAgcGF0aFZhbHVlcyA9IC8oLT9cXGQqXFwuP1xcZCooPzplW1xcLStdP1xcZCspPylbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKiw/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSovaWcsXG4gICAgICAgIHJhZGlhbF9ncmFkaWVudCA9IFIuX3JhZGlhbF9ncmFkaWVudCA9IC9ecig/OlxcKChbXixdKz8pW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSooW15cXCldKz8pXFwpKT8vLFxuICAgICAgICBlbGRhdGEgPSB7fSxcbiAgICAgICAgc29ydEJ5S2V5ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLmtleSAtIGIua2V5O1xuICAgICAgICB9LFxuICAgICAgICBzb3J0QnlOdW1iZXIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIHRvRmxvYXQoYSkgLSB0b0Zsb2F0KGIpO1xuICAgICAgICB9LFxuICAgICAgICBmdW4gPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgcGlwZSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjdFBhdGggPSBSLl9yZWN0UGF0aCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCByKSB7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbW1wiTVwiLCB4ICsgciwgeV0sIFtcImxcIiwgdyAtIHIgKiAyLCAwXSwgW1wiYVwiLCByLCByLCAwLCAwLCAxLCByLCByXSwgW1wibFwiLCAwLCBoIC0gciAqIDJdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIC1yLCByXSwgW1wibFwiLCByICogMiAtIHcsIDBdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIC1yLCAtcl0sIFtcImxcIiwgMCwgciAqIDIgLSBoXSwgW1wiYVwiLCByLCByLCAwLCAwLCAxLCByLCAtcl0sIFtcInpcIl1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtbXCJNXCIsIHgsIHldLCBbXCJsXCIsIHcsIDBdLCBbXCJsXCIsIDAsIGhdLCBbXCJsXCIsIC13LCAwXSwgW1wielwiXV07XG4gICAgICAgIH0sXG4gICAgICAgIGVsbGlwc2VQYXRoID0gZnVuY3Rpb24gKHgsIHksIHJ4LCByeSkge1xuICAgICAgICAgICAgaWYgKHJ5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByeSA9IHJ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtbXCJNXCIsIHgsIHldLCBbXCJtXCIsIDAsIC1yeV0sIFtcImFcIiwgcngsIHJ5LCAwLCAxLCAxLCAwLCAyICogcnldLCBbXCJhXCIsIHJ4LCByeSwgMCwgMSwgMSwgMCwgLTIgKiByeV0sIFtcInpcIl1dO1xuICAgICAgICB9LFxuICAgICAgICBnZXRQYXRoID0gUi5fZ2V0UGF0aCA9IHtcbiAgICAgICAgICAgIHBhdGg6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5hdHRyKFwicGF0aFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaXJjbGU6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gZWwuYXR0cnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsbGlwc2VQYXRoKGEuY3gsIGEuY3ksIGEucik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWxsaXBzZTogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBlbC5hdHRycztcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxsaXBzZVBhdGgoYS5jeCwgYS5jeSwgYS5yeCwgYS5yeSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVjdDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBlbC5hdHRycztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdFBhdGgoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLnIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGVsLmF0dHJzO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBiYm94ID0gZWwuX2dldEJCb3goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdFBhdGgoYmJveC54LCBiYm94LnksIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHZhciBiYm94ID0gZWwuX2dldEJCb3goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdFBhdGgoYmJveC54LCBiYm94LnksIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBSYXBoYWVsLm1hcFBhdGhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFRyYW5zZm9ybSB0aGUgcGF0aCBzdHJpbmcgd2l0aCBnaXZlbiBtYXRyaXguXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAgICAgLSBtYXRyaXggKG9iamVjdCkgc2VlIEBNYXRyaXhcbiAgICAgICAgID0gKHN0cmluZykgdHJhbnNmb3JtZWQgcGF0aCBzdHJpbmdcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXBQYXRoID0gUi5tYXBQYXRoID0gZnVuY3Rpb24gKHBhdGgsIG1hdHJpeCkge1xuICAgICAgICAgICAgaWYgKCFtYXRyaXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB4LCB5LCBpLCBqLCBpaSwgamosIHBhdGhpO1xuICAgICAgICAgICAgcGF0aCA9IHBhdGgyY3VydmUocGF0aCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHBhdGgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhdGhpID0gcGF0aFtpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IHBhdGhpLmxlbmd0aDsgaiA8IGpqOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IG1hdHJpeC54KHBhdGhpW2pdLCBwYXRoaVtqICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB5ID0gbWF0cml4LnkocGF0aGlbal0sIHBhdGhpW2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhpW2pdID0geDtcbiAgICAgICAgICAgICAgICAgICAgcGF0aGlbaiArIDFdID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfTtcblxuICAgIFIuX2cgPSBnO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnR5cGVcbiAgICAgWyBwcm9wZXJ0eSAoc3RyaW5nKSBdXG4gICAgICoqXG4gICAgICogQ2FuIGJlIOKAnFNWR+KAnSwg4oCcVk1M4oCdIG9yIGVtcHR5LCBkZXBlbmRpbmcgb24gYnJvd3NlciBzdXBwb3J0LlxuICAgIFxcKi9cbiAgICBSLnR5cGUgPSAoZy53aW4uU1ZHQW5nbGUgfHwgZy5kb2MuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmVcIiwgXCIxLjFcIikgPyBcIlNWR1wiIDogXCJWTUxcIik7XG4gICAgaWYgKFIudHlwZSA9PSBcIlZNTFwiKSB7XG4gICAgICAgIHZhciBkID0gZy5kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGI7XG4gICAgICAgIGQuaW5uZXJIVE1MID0gJzx2OnNoYXBlIGFkaj1cIjFcIi8+JztcbiAgICAgICAgYiA9IGQuZmlyc3RDaGlsZDtcbiAgICAgICAgYi5zdHlsZS5iZWhhdmlvciA9IFwidXJsKCNkZWZhdWx0I1ZNTClcIjtcbiAgICAgICAgaWYgKCEoYiAmJiB0eXBlb2YgYi5hZGogPT0gXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgIHJldHVybiAoUi50eXBlID0gRSk7XG4gICAgICAgIH1cbiAgICAgICAgZCA9IG51bGw7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnN2Z1xuICAgICBbIHByb3BlcnR5IChib29sZWFuKSBdXG4gICAgICoqXG4gICAgICogYHRydWVgIGlmIGJyb3dzZXIgc3VwcG9ydHMgU1ZHLlxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC52bWxcbiAgICAgWyBwcm9wZXJ0eSAoYm9vbGVhbikgXVxuICAgICAqKlxuICAgICAqIGB0cnVlYCBpZiBicm93c2VyIHN1cHBvcnRzIFZNTC5cbiAgICBcXCovXG4gICAgUi5zdmcgPSAhKFIudm1sID0gUi50eXBlID09IFwiVk1MXCIpO1xuICAgIFIuX1BhcGVyID0gUGFwZXI7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZm5cbiAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICoqXG4gICAgICogWW91IGNhbiBhZGQgeW91ciBvd24gbWV0aG9kIHRvIHRoZSBjYW52YXMuIEZvciBleGFtcGxlIGlmIHlvdSB3YW50IHRvIGRyYXcgYSBwaWUgY2hhcnQsXG4gICAgICogeW91IGNhbiBjcmVhdGUgeW91ciBvd24gcGllIGNoYXJ0IGZ1bmN0aW9uIGFuZCBzaGlwIGl0IGFzIGEgUmFwaGHDq2wgcGx1Z2luLiBUbyBkbyB0aGlzXG4gICAgICogeW91IG5lZWQgdG8gZXh0ZW5kIHRoZSBgUmFwaGFlbC5mbmAgb2JqZWN0LiBZb3Ugc2hvdWxkIG1vZGlmeSB0aGUgYGZuYCBvYmplY3QgYmVmb3JlIGFcbiAgICAgKiBSYXBoYcOrbCBpbnN0YW5jZSBpcyBjcmVhdGVkLCBvdGhlcndpc2UgaXQgd2lsbCB0YWtlIG5vIGVmZmVjdC4gUGxlYXNlIG5vdGUgdGhhdCB0aGVcbiAgICAgKiBhYmlsaXR5IGZvciBuYW1lc3BhY2VkIHBsdWdpbnMgd2FzIHJlbW92ZWQgaW4gUmFwaGFlbCAyLjAuIEl0IGlzIHVwIHRvIHRoZSBwbHVnaW4gdG9cbiAgICAgKiBlbnN1cmUgYW55IG5hbWVzcGFjaW5nIGVuc3VyZXMgcHJvcGVyIGNvbnRleHQuXG4gICAgID4gVXNhZ2VcbiAgICAgfCBSYXBoYWVsLmZuLmFycm93ID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCBzaXplKSB7XG4gICAgIHwgICAgIHJldHVybiB0aGlzLnBhdGgoIC4uLiApO1xuICAgICB8IH07XG4gICAgIHwgLy8gb3IgY3JlYXRlIG5hbWVzcGFjZVxuICAgICB8IFJhcGhhZWwuZm4ubXlzdHVmZiA9IHtcbiAgICAgfCAgICAgYXJyb3c6IGZ1bmN0aW9uICgpIHvigKZ9LFxuICAgICB8ICAgICBzdGFyOiBmdW5jdGlvbiAoKSB74oCmfSxcbiAgICAgfCAgICAgLy8gZXRj4oCmXG4gICAgIHwgfTtcbiAgICAgfCB2YXIgcGFwZXIgPSBSYXBoYWVsKDEwLCAxMCwgNjMwLCA0ODApO1xuICAgICB8IC8vIHRoZW4gdXNlIGl0XG4gICAgIHwgcGFwZXIuYXJyb3coMTAsIDEwLCAzMCwgMzAsIDUpLmF0dHIoe2ZpbGw6IFwiI2YwMFwifSk7XG4gICAgIHwgcGFwZXIubXlzdHVmZi5hcnJvdygpO1xuICAgICB8IHBhcGVyLm15c3R1ZmYuc3RhcigpO1xuICAgIFxcKi9cbiAgICBSLmZuID0gcGFwZXJwcm90byA9IFBhcGVyLnByb3RvdHlwZSA9IFIucHJvdG90eXBlO1xuICAgIFIuX2lkID0gMDtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5pc1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSGFuZGZ1bCBvZiByZXBsYWNlbWVudHMgZm9yIGB0eXBlb2ZgIG9wZXJhdG9yLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBvICjigKYpIGFueSBvYmplY3Qgb3IgcHJpbWl0aXZlXG4gICAgIC0gdHlwZSAoc3RyaW5nKSBuYW1lIG9mIHRoZSB0eXBlLCBpLmUuIOKAnHN0cmluZ+KAnSwg4oCcZnVuY3Rpb27igJ0sIOKAnG51bWJlcuKAnSwgZXRjLlxuICAgICA9IChib29sZWFuKSBpcyBnaXZlbiB2YWx1ZSBpcyBvZiBnaXZlbiB0eXBlXG4gICAgXFwqL1xuICAgIFIuaXMgPSBmdW5jdGlvbiAobywgdHlwZSkge1xuICAgICAgICB0eXBlID0gbG93ZXJDYXNlLmNhbGwodHlwZSk7XG4gICAgICAgIGlmICh0eXBlID09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAhaXNuYW5baGFzXSgrbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbyBpbnN0YW5jZW9mIEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAgKHR5cGUgPT0gXCJudWxsXCIgJiYgbyA9PT0gbnVsbCkgfHxcbiAgICAgICAgICAgICAgICAodHlwZSA9PSB0eXBlb2YgbyAmJiBvICE9PSBudWxsKSB8fFxuICAgICAgICAgICAgICAgICh0eXBlID09IFwib2JqZWN0XCIgJiYgbyA9PT0gT2JqZWN0KG8pKSB8fFxuICAgICAgICAgICAgICAgICh0eXBlID09IFwiYXJyYXlcIiAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkobykpIHx8XG4gICAgICAgICAgICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSA9PSB0eXBlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gXCJmdW5jdGlvblwiIHx8IE9iamVjdChvYmopICE9PSBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcyA9IG5ldyBvYmouY29uc3RydWN0b3I7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChvYmpbaGFzXShrZXkpKSB7XG4gICAgICAgICAgICByZXNba2V5XSA9IGNsb25lKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmFuZ2xlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGFuZ2xlIGJldHdlZW4gdHdvIG9yIHRocmVlIHBvaW50c1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSB4MSAobnVtYmVyKSB4IGNvb3JkIG9mIGZpcnN0IHBvaW50XG4gICAgIC0geTEgKG51bWJlcikgeSBjb29yZCBvZiBmaXJzdCBwb2ludFxuICAgICAtIHgyIChudW1iZXIpIHggY29vcmQgb2Ygc2Vjb25kIHBvaW50XG4gICAgIC0geTIgKG51bWJlcikgeSBjb29yZCBvZiBzZWNvbmQgcG9pbnRcbiAgICAgLSB4MyAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZCBvZiB0aGlyZCBwb2ludFxuICAgICAtIHkzIChudW1iZXIpICNvcHRpb25hbCB5IGNvb3JkIG9mIHRoaXJkIHBvaW50XG4gICAgID0gKG51bWJlcikgYW5nbGUgaW4gZGVncmVlcy5cbiAgICBcXCovXG4gICAgUi5hbmdsZSA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7XG4gICAgICAgIGlmICh4MyA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHgxIC0geDIsXG4gICAgICAgICAgICAgICAgeSA9IHkxIC0geTI7XG4gICAgICAgICAgICBpZiAoIXggJiYgIXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoMTgwICsgbWF0aC5hdGFuMigteSwgLXgpICogMTgwIC8gUEkgKyAzNjApICUgMzYwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFIuYW5nbGUoeDEsIHkxLCB4MywgeTMpIC0gUi5hbmdsZSh4MiwgeTIsIHgzLCB5Myk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnJhZFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVHJhbnNmb3JtIGFuZ2xlIHRvIHJhZGlhbnNcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZGVnIChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgPSAobnVtYmVyKSBhbmdsZSBpbiByYWRpYW5zLlxuICAgIFxcKi9cbiAgICBSLnJhZCA9IGZ1bmN0aW9uIChkZWcpIHtcbiAgICAgICAgcmV0dXJuIGRlZyAlIDM2MCAqIFBJIC8gMTgwO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZGVnXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBUcmFuc2Zvcm0gYW5nbGUgdG8gZGVncmVlc1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByYWQgKG51bWJlcikgYW5nbGUgaW4gcmFkaWFuc1xuICAgICA9IChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgXFwqL1xuICAgIFIuZGVnID0gZnVuY3Rpb24gKHJhZCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCAoKHJhZCAqIDE4MCAvIFBJJSAzNjApKiAxMDAwKSAvIDEwMDA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5zbmFwVG9cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNuYXBzIGdpdmVuIHZhbHVlIHRvIGdpdmVuIGdyaWQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHZhbHVlcyAoYXJyYXl8bnVtYmVyKSBnaXZlbiBhcnJheSBvZiB2YWx1ZXMgb3Igc3RlcCBvZiB0aGUgZ3JpZFxuICAgICAtIHZhbHVlIChudW1iZXIpIHZhbHVlIHRvIGFkanVzdFxuICAgICAtIHRvbGVyYW5jZSAobnVtYmVyKSAjb3B0aW9uYWwgdG9sZXJhbmNlIGZvciBzbmFwcGluZy4gRGVmYXVsdCBpcyBgMTBgLlxuICAgICA9IChudW1iZXIpIGFkanVzdGVkIHZhbHVlLlxuICAgIFxcKi9cbiAgICBSLnNuYXBUbyA9IGZ1bmN0aW9uICh2YWx1ZXMsIHZhbHVlLCB0b2xlcmFuY2UpIHtcbiAgICAgICAgdG9sZXJhbmNlID0gUi5pcyh0b2xlcmFuY2UsIFwiZmluaXRlXCIpID8gdG9sZXJhbmNlIDogMTA7XG4gICAgICAgIGlmIChSLmlzKHZhbHVlcywgYXJyYXkpKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSBpZiAoYWJzKHZhbHVlc1tpXSAtIHZhbHVlKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVzID0gK3ZhbHVlcztcbiAgICAgICAgICAgIHZhciByZW0gPSB2YWx1ZSAlIHZhbHVlcztcbiAgICAgICAgICAgIGlmIChyZW0gPCB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSByZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtID4gdmFsdWVzIC0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC0gcmVtICsgdmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuY3JlYXRlVVVJRFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyBSRkM0MTIyLCB2ZXJzaW9uIDQgSURcbiAgICBcXCovXG4gICAgdmFyIGNyZWF0ZVVVSUQgPSBSLmNyZWF0ZVVVSUQgPSAoZnVuY3Rpb24gKHV1aWRSZWdFeCwgdXVpZFJlcGxhY2VyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKHV1aWRSZWdFeCwgdXVpZFJlcGxhY2VyKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9O1xuICAgIH0pKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHZhciByID0gbWF0aC5yYW5kb20oKSAqIDE2IHwgMCxcbiAgICAgICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMyB8IDgpO1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5zZXRXaW5kb3dcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFVzZWQgd2hlbiB5b3UgbmVlZCB0byBkcmF3IGluIGAmbHQ7aWZyYW1lPmAuIFN3aXRjaGVkIHdpbmRvdyB0byB0aGUgaWZyYW1lIG9uZS5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gbmV3d2luICh3aW5kb3cpIG5ldyB3aW5kb3cgb2JqZWN0XG4gICAgXFwqL1xuICAgIFIuc2V0V2luZG93ID0gZnVuY3Rpb24gKG5ld3dpbikge1xuICAgICAgICBldmUoXCJyYXBoYWVsLnNldFdpbmRvd1wiLCBSLCBnLndpbiwgbmV3d2luKTtcbiAgICAgICAgZy53aW4gPSBuZXd3aW47XG4gICAgICAgIGcuZG9jID0gZy53aW4uZG9jdW1lbnQ7XG4gICAgICAgIGlmIChSLl9lbmdpbmUuaW5pdFdpbikge1xuICAgICAgICAgICAgUi5fZW5naW5lLmluaXRXaW4oZy53aW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgdG9IZXggPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgaWYgKFIudm1sKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8vZGVhbi5lZHdhcmRzLm5hbWUvd2VibG9nLzIwMDkvMTAvY29udmVydC1hbnktY29sb3VyLXZhbHVlLXRvLWhleC1pbi1tc2llL1xuICAgICAgICAgICAgdmFyIHRyaW0gPSAvXlxccyt8XFxzKyQvZztcbiAgICAgICAgICAgIHZhciBib2Q7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bSA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7XG4gICAgICAgICAgICAgICAgZG9jdW0ud3JpdGUoXCI8Ym9keT5cIik7XG4gICAgICAgICAgICAgICAgZG9jdW0uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBib2QgPSBkb2N1bS5ib2R5O1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgYm9kID0gY3JlYXRlUG9wdXAoKS5kb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlID0gYm9kLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgdG9IZXggPSBjYWNoZXIoZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYm9kLnN0eWxlLmNvbG9yID0gU3RyKGNvbG9yKS5yZXBsYWNlKHRyaW0sIEUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByYW5nZS5xdWVyeUNvbW1hbmRWYWx1ZShcIkZvcmVDb2xvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoKHZhbHVlICYgMjU1KSA8PCAxNikgfCAodmFsdWUgJiA2NTI4MCkgfCAoKHZhbHVlICYgMTY3MTE2ODApID4+PiAxNik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiNcIiArIChcIjAwMDAwMFwiICsgdmFsdWUudG9TdHJpbmcoMTYpKS5zbGljZSgtNik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpID0gZy5kb2MuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgICAgICBpLnRpdGxlID0gXCJSYXBoYVxceGVibCBDb2xvdXIgUGlja2VyXCI7XG4gICAgICAgICAgICBpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGcuZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaSk7XG4gICAgICAgICAgICB0b0hleCA9IGNhY2hlcihmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICBpLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGcuZG9jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaSwgRSkuZ2V0UHJvcGVydHlWYWx1ZShcImNvbG9yXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvSGV4KGNvbG9yKTtcbiAgICB9LFxuICAgIGhzYnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJoc2IoXCIgKyBbdGhpcy5oLCB0aGlzLnMsIHRoaXMuYl0gKyBcIilcIjtcbiAgICB9LFxuICAgIGhzbHRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJoc2woXCIgKyBbdGhpcy5oLCB0aGlzLnMsIHRoaXMubF0gKyBcIilcIjtcbiAgICB9LFxuICAgIHJnYnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZXg7XG4gICAgfSxcbiAgICBwcmVwYXJlUkdCID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgICAgICAgaWYgKGcgPT0gbnVsbCAmJiBSLmlzKHIsIFwib2JqZWN0XCIpICYmIFwiclwiIGluIHIgJiYgXCJnXCIgaW4gciAmJiBcImJcIiBpbiByKSB7XG4gICAgICAgICAgICBiID0gci5iO1xuICAgICAgICAgICAgZyA9IHIuZztcbiAgICAgICAgICAgIHIgPSByLnI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGcgPT0gbnVsbCAmJiBSLmlzKHIsIHN0cmluZykpIHtcbiAgICAgICAgICAgIHZhciBjbHIgPSBSLmdldFJHQihyKTtcbiAgICAgICAgICAgIHIgPSBjbHIucjtcbiAgICAgICAgICAgIGcgPSBjbHIuZztcbiAgICAgICAgICAgIGIgPSBjbHIuYjtcbiAgICAgICAgfVxuICAgICAgICBpZiAociA+IDEgfHwgZyA+IDEgfHwgYiA+IDEpIHtcbiAgICAgICAgICAgIHIgLz0gMjU1O1xuICAgICAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfSxcbiAgICBwYWNrYWdlUkdCID0gZnVuY3Rpb24gKHIsIGcsIGIsIG8pIHtcbiAgICAgICAgciAqPSAyNTU7XG4gICAgICAgIGcgKj0gMjU1O1xuICAgICAgICBiICo9IDI1NTtcbiAgICAgICAgdmFyIHJnYiA9IHtcbiAgICAgICAgICAgIHI6IHIsXG4gICAgICAgICAgICBnOiBnLFxuICAgICAgICAgICAgYjogYixcbiAgICAgICAgICAgIGhleDogUi5yZ2IociwgZywgYiksXG4gICAgICAgICAgICB0b1N0cmluZzogcmdidG9TdHJpbmdcbiAgICAgICAgfTtcbiAgICAgICAgUi5pcyhvLCBcImZpbml0ZVwiKSAmJiAocmdiLm9wYWNpdHkgPSBvKTtcbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuY29sb3JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFBhcnNlcyB0aGUgY29sb3Igc3RyaW5nIGFuZCByZXR1cm5zIG9iamVjdCB3aXRoIGFsbCB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBjb2xvci5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gY2xyIChzdHJpbmcpIGNvbG9yIHN0cmluZyBpbiBvbmUgb2YgdGhlIHN1cHBvcnRlZCBmb3JtYXRzIChzZWUgQFJhcGhhZWwuZ2V0UkdCKVxuICAgICA9IChvYmplY3QpIENvbWJpbmVkIFJHQiAmIEhTQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZSxcbiAgICAgbyAgICAgaGV4IChzdHJpbmcpIGNvbG9yIGluIEhUTUwvQ1NTIGZvcm1hdDogI+KAouKAouKAouKAouKAouKAoixcbiAgICAgbyAgICAgZXJyb3IgKGJvb2xlYW4pIGB0cnVlYCBpZiBzdHJpbmcgY2Fu4oCZdCBiZSBwYXJzZWQsXG4gICAgIG8gICAgIGggKG51bWJlcikgaHVlLFxuICAgICBvICAgICBzIChudW1iZXIpIHNhdHVyYXRpb24sXG4gICAgIG8gICAgIHYgKG51bWJlcikgdmFsdWUgKGJyaWdodG5lc3MpLFxuICAgICBvICAgICBsIChudW1iZXIpIGxpZ2h0bmVzc1xuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5jb2xvciA9IGZ1bmN0aW9uIChjbHIpIHtcbiAgICAgICAgdmFyIHJnYjtcbiAgICAgICAgaWYgKFIuaXMoY2xyLCBcIm9iamVjdFwiKSAmJiBcImhcIiBpbiBjbHIgJiYgXCJzXCIgaW4gY2xyICYmIFwiYlwiIGluIGNscikge1xuICAgICAgICAgICAgcmdiID0gUi5oc2IycmdiKGNscik7XG4gICAgICAgICAgICBjbHIuciA9IHJnYi5yO1xuICAgICAgICAgICAgY2xyLmcgPSByZ2IuZztcbiAgICAgICAgICAgIGNsci5iID0gcmdiLmI7XG4gICAgICAgICAgICBjbHIuaGV4ID0gcmdiLmhleDtcbiAgICAgICAgfSBlbHNlIGlmIChSLmlzKGNsciwgXCJvYmplY3RcIikgJiYgXCJoXCIgaW4gY2xyICYmIFwic1wiIGluIGNsciAmJiBcImxcIiBpbiBjbHIpIHtcbiAgICAgICAgICAgIHJnYiA9IFIuaHNsMnJnYihjbHIpO1xuICAgICAgICAgICAgY2xyLnIgPSByZ2IucjtcbiAgICAgICAgICAgIGNsci5nID0gcmdiLmc7XG4gICAgICAgICAgICBjbHIuYiA9IHJnYi5iO1xuICAgICAgICAgICAgY2xyLmhleCA9IHJnYi5oZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoUi5pcyhjbHIsIFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgY2xyID0gUi5nZXRSR0IoY2xyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChSLmlzKGNsciwgXCJvYmplY3RcIikgJiYgXCJyXCIgaW4gY2xyICYmIFwiZ1wiIGluIGNsciAmJiBcImJcIiBpbiBjbHIpIHtcbiAgICAgICAgICAgICAgICByZ2IgPSBSLnJnYjJoc2woY2xyKTtcbiAgICAgICAgICAgICAgICBjbHIuaCA9IHJnYi5oO1xuICAgICAgICAgICAgICAgIGNsci5zID0gcmdiLnM7XG4gICAgICAgICAgICAgICAgY2xyLmwgPSByZ2IubDtcbiAgICAgICAgICAgICAgICByZ2IgPSBSLnJnYjJoc2IoY2xyKTtcbiAgICAgICAgICAgICAgICBjbHIudiA9IHJnYi5iO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbHIgPSB7aGV4OiBcIm5vbmVcIn07XG4gICAgICAgICAgICAgICAgY2xyLnIgPSBjbHIuZyA9IGNsci5iID0gY2xyLmggPSBjbHIucyA9IGNsci52ID0gY2xyLmwgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbHIudG9TdHJpbmcgPSByZ2J0b1N0cmluZztcbiAgICAgICAgcmV0dXJuIGNscjtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmhzYjJyZ2JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIEhTQiB2YWx1ZXMgdG8gUkdCIG9iamVjdC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaCAobnVtYmVyKSBodWVcbiAgICAgLSBzIChudW1iZXIpIHNhdHVyYXRpb25cbiAgICAgLSB2IChudW1iZXIpIHZhbHVlIG9yIGJyaWdodG5lc3NcbiAgICAgPSAob2JqZWN0KSBSR0Igb2JqZWN0IGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHIgKG51bWJlcikgcmVkLFxuICAgICBvICAgICBnIChudW1iZXIpIGdyZWVuLFxuICAgICBvICAgICBiIChudW1iZXIpIGJsdWUsXG4gICAgIG8gICAgIGhleCAoc3RyaW5nKSBjb2xvciBpbiBIVE1ML0NTUyBmb3JtYXQ6ICPigKLigKLigKLigKLigKLigKJcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuaHNiMnJnYiA9IGZ1bmN0aW9uIChoLCBzLCB2LCBvKSB7XG4gICAgICAgIGlmICh0aGlzLmlzKGgsIFwib2JqZWN0XCIpICYmIFwiaFwiIGluIGggJiYgXCJzXCIgaW4gaCAmJiBcImJcIiBpbiBoKSB7XG4gICAgICAgICAgICB2ID0gaC5iO1xuICAgICAgICAgICAgcyA9IGgucztcbiAgICAgICAgICAgIG8gPSBoLm87XG4gICAgICAgICAgICBoID0gaC5oO1xuICAgICAgICB9XG4gICAgICAgIGggKj0gMzYwO1xuICAgICAgICB2YXIgUiwgRywgQiwgWCwgQztcbiAgICAgICAgaCA9IChoICUgMzYwKSAvIDYwO1xuICAgICAgICBDID0gdiAqIHM7XG4gICAgICAgIFggPSBDICogKDEgLSBhYnMoaCAlIDIgLSAxKSk7XG4gICAgICAgIFIgPSBHID0gQiA9IHYgLSBDO1xuXG4gICAgICAgIGggPSB+fmg7XG4gICAgICAgIFIgKz0gW0MsIFgsIDAsIDAsIFgsIENdW2hdO1xuICAgICAgICBHICs9IFtYLCBDLCBDLCBYLCAwLCAwXVtoXTtcbiAgICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG4gICAgICAgIHJldHVybiBwYWNrYWdlUkdCKFIsIEcsIEIsIG8pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaHNsMnJnYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgSFNMIHZhbHVlcyB0byBSR0Igb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoIChudW1iZXIpIGh1ZVxuICAgICAtIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICAtIGwgKG51bWJlcikgbHVtaW5vc2l0eVxuICAgICA9IChvYmplY3QpIFJHQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZSxcbiAgICAgbyAgICAgaGV4IChzdHJpbmcpIGNvbG9yIGluIEhUTUwvQ1NTIGZvcm1hdDogI+KAouKAouKAouKAouKAouKAolxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5oc2wycmdiID0gZnVuY3Rpb24gKGgsIHMsIGwsIG8pIHtcbiAgICAgICAgaWYgKHRoaXMuaXMoaCwgXCJvYmplY3RcIikgJiYgXCJoXCIgaW4gaCAmJiBcInNcIiBpbiBoICYmIFwibFwiIGluIGgpIHtcbiAgICAgICAgICAgIGwgPSBoLmw7XG4gICAgICAgICAgICBzID0gaC5zO1xuICAgICAgICAgICAgaCA9IGguaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaCA+IDEgfHwgcyA+IDEgfHwgbCA+IDEpIHtcbiAgICAgICAgICAgIGggLz0gMzYwO1xuICAgICAgICAgICAgcyAvPSAxMDA7XG4gICAgICAgICAgICBsIC89IDEwMDtcbiAgICAgICAgfVxuICAgICAgICBoICo9IDM2MDtcbiAgICAgICAgdmFyIFIsIEcsIEIsIFgsIEM7XG4gICAgICAgIGggPSAoaCAlIDM2MCkgLyA2MDtcbiAgICAgICAgQyA9IDIgKiBzICogKGwgPCAuNSA/IGwgOiAxIC0gbCk7XG4gICAgICAgIFggPSBDICogKDEgLSBhYnMoaCAlIDIgLSAxKSk7XG4gICAgICAgIFIgPSBHID0gQiA9IGwgLSBDIC8gMjtcblxuICAgICAgICBoID0gfn5oO1xuICAgICAgICBSICs9IFtDLCBYLCAwLCAwLCBYLCBDXVtoXTtcbiAgICAgICAgRyArPSBbWCwgQywgQywgWCwgMCwgMF1baF07XG4gICAgICAgIEIgKz0gWzAsIDAsIFgsIEMsIEMsIFhdW2hdO1xuICAgICAgICByZXR1cm4gcGFja2FnZVJHQihSLCBHLCBCLCBvKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnJnYjJoc2JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIFJHQiB2YWx1ZXMgdG8gSFNCIG9iamVjdC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gciAobnVtYmVyKSByZWRcbiAgICAgLSBnIChudW1iZXIpIGdyZWVuXG4gICAgIC0gYiAobnVtYmVyKSBibHVlXG4gICAgID0gKG9iamVjdCkgSFNCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICBoIChudW1iZXIpIGh1ZVxuICAgICBvICAgICBzIChudW1iZXIpIHNhdHVyYXRpb25cbiAgICAgbyAgICAgYiAobnVtYmVyKSBicmlnaHRuZXNzXG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLnJnYjJoc2IgPSBmdW5jdGlvbiAociwgZywgYikge1xuICAgICAgICBiID0gcHJlcGFyZVJHQihyLCBnLCBiKTtcbiAgICAgICAgciA9IGJbMF07XG4gICAgICAgIGcgPSBiWzFdO1xuICAgICAgICBiID0gYlsyXTtcblxuICAgICAgICB2YXIgSCwgUywgViwgQztcbiAgICAgICAgViA9IG1tYXgociwgZywgYik7XG4gICAgICAgIEMgPSBWIC0gbW1pbihyLCBnLCBiKTtcbiAgICAgICAgSCA9IChDID09IDAgPyBudWxsIDpcbiAgICAgICAgICAgICBWID09IHIgPyAoZyAtIGIpIC8gQyA6XG4gICAgICAgICAgICAgViA9PSBnID8gKGIgLSByKSAvIEMgKyAyIDpcbiAgICAgICAgICAgICAgICAgICAgICAociAtIGcpIC8gQyArIDRcbiAgICAgICAgICAgICk7XG4gICAgICAgIEggPSAoKEggKyAzNjApICUgNikgKiA2MCAvIDM2MDtcbiAgICAgICAgUyA9IEMgPT0gMCA/IDAgOiBDIC8gVjtcbiAgICAgICAgcmV0dXJuIHtoOiBILCBzOiBTLCBiOiBWLCB0b1N0cmluZzogaHNidG9TdHJpbmd9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmdiMmhzbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgUkdCIHZhbHVlcyB0byBIU0wgb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByIChudW1iZXIpIHJlZFxuICAgICAtIGcgKG51bWJlcikgZ3JlZW5cbiAgICAgLSBiIChudW1iZXIpIGJsdWVcbiAgICAgPSAob2JqZWN0KSBIU0wgb2JqZWN0IGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIGggKG51bWJlcikgaHVlXG4gICAgIG8gICAgIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICBvICAgICBsIChudW1iZXIpIGx1bWlub3NpdHlcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIucmdiMmhzbCA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gICAgICAgIGIgPSBwcmVwYXJlUkdCKHIsIGcsIGIpO1xuICAgICAgICByID0gYlswXTtcbiAgICAgICAgZyA9IGJbMV07XG4gICAgICAgIGIgPSBiWzJdO1xuXG4gICAgICAgIHZhciBILCBTLCBMLCBNLCBtLCBDO1xuICAgICAgICBNID0gbW1heChyLCBnLCBiKTtcbiAgICAgICAgbSA9IG1taW4ociwgZywgYik7XG4gICAgICAgIEMgPSBNIC0gbTtcbiAgICAgICAgSCA9IChDID09IDAgPyBudWxsIDpcbiAgICAgICAgICAgICBNID09IHIgPyAoZyAtIGIpIC8gQyA6XG4gICAgICAgICAgICAgTSA9PSBnID8gKGIgLSByKSAvIEMgKyAyIDpcbiAgICAgICAgICAgICAgICAgICAgICAociAtIGcpIC8gQyArIDQpO1xuICAgICAgICBIID0gKChIICsgMzYwKSAlIDYpICogNjAgLyAzNjA7XG4gICAgICAgIEwgPSAoTSArIG0pIC8gMjtcbiAgICAgICAgUyA9IChDID09IDAgPyAwIDpcbiAgICAgICAgICAgICBMIDwgLjUgPyBDIC8gKDIgKiBMKSA6XG4gICAgICAgICAgICAgICAgICAgICAgQyAvICgyIC0gMiAqIEwpKTtcbiAgICAgICAgcmV0dXJuIHtoOiBILCBzOiBTLCBsOiBMLCB0b1N0cmluZzogaHNsdG9TdHJpbmd9O1xuICAgIH07XG4gICAgUi5fcGF0aDJzdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpvaW4oXCIsXCIpLnJlcGxhY2UocDJzLCBcIiQxXCIpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gcmVwdXNoKGFycmF5LCBpdGVtKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIGlmIChhcnJheVtpXSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGksIDEpWzBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYWNoZXIoZiwgc2NvcGUsIHBvc3Rwcm9jZXNzb3IpIHtcbiAgICAgICAgZnVuY3Rpb24gbmV3ZigpIHtcbiAgICAgICAgICAgIHZhciBhcmcgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmcuam9pbihcIlxcdTI0MDBcIiksXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBuZXdmLmNhY2hlID0gbmV3Zi5jYWNoZSB8fCB7fSxcbiAgICAgICAgICAgICAgICBjb3VudCA9IG5ld2YuY291bnQgPSBuZXdmLmNvdW50IHx8IFtdO1xuICAgICAgICAgICAgaWYgKGNhY2hlW2hhc10oYXJncykpIHtcbiAgICAgICAgICAgICAgICByZXB1c2goY291bnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3N0cHJvY2Vzc29yID8gcG9zdHByb2Nlc3NvcihjYWNoZVthcmdzXSkgOiBjYWNoZVthcmdzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50Lmxlbmd0aCA+PSAxZTMgJiYgZGVsZXRlIGNhY2hlW2NvdW50LnNoaWZ0KCldO1xuICAgICAgICAgICAgY291bnQucHVzaChhcmdzKTtcbiAgICAgICAgICAgIGNhY2hlW2FyZ3NdID0gZlthcHBseV0oc2NvcGUsIGFyZyk7XG4gICAgICAgICAgICByZXR1cm4gcG9zdHByb2Nlc3NvciA/IHBvc3Rwcm9jZXNzb3IoY2FjaGVbYXJnc10pIDogY2FjaGVbYXJnc107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld2Y7XG4gICAgfVxuXG4gICAgdmFyIHByZWxvYWQgPSBSLl9wcmVsb2FkID0gZnVuY3Rpb24gKHNyYywgZikge1xuICAgICAgICB2YXIgaW1nID0gZy5kb2MuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgaW1nLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbVwiO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgZy5kb2MuYm9keS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnLmRvYy5ib2R5LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBnLmRvYy5ib2R5LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsclRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZXg7XG4gICAgfVxuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0UkdCXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBQYXJzZXMgY29sb3VyIHN0cmluZyBhcyBSR0Igb2JqZWN0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGNvbG91ciAoc3RyaW5nKSBjb2xvdXIgc3RyaW5nIGluIG9uZSBvZiBmb3JtYXRzOlxuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPkNvbG91ciBuYW1lICjigJw8Y29kZT5yZWQ8L2NvZGU+4oCdLCDigJw8Y29kZT5ncmVlbjwvY29kZT7igJ0sIOKAnDxjb2RlPmNvcm5mbG93ZXJibHVlPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCiIOKAlCBzaG9ydGVuZWQgSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2ZjMDwvY29kZT7igJ0sIGV0Yyk8L2xpPlxuICAgICAjICAgICA8bGk+I+KAouKAouKAouKAouKAouKAoiDigJQgZnVsbCBsZW5ndGggSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2JkMjMwMDwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2IoMjAwLCZuYnNwOzEwMCwmbmJzcDswKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2IoMTAwJSwmbmJzcDsxNzUlLCZuYnNwOzAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgaHVlLCBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzIHZhbHVlczogKOKAnDxjb2RlPmhzYigwLjUsJm5ic3A7MC4yNSwmbmJzcDsxKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNsKOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGhzYjwvbGk+XG4gICAgICMgICAgIDxsaT5oc2wo4oCi4oCi4oCiJSwg4oCi4oCi4oCiJSwg4oCi4oCi4oCiJSkg4oCUIHNhbWUgYXMgaHNiPC9saT5cbiAgICAgIyA8L3VsPlxuICAgICA9IChvYmplY3QpIFJHQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZVxuICAgICBvICAgICBoZXggKHN0cmluZykgY29sb3IgaW4gSFRNTC9DU1MgZm9ybWF0OiAj4oCi4oCi4oCi4oCi4oCi4oCiLFxuICAgICBvICAgICBlcnJvciAoYm9vbGVhbikgdHJ1ZSBpZiBzdHJpbmcgY2Fu4oCZdCBiZSBwYXJzZWRcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuZ2V0UkdCID0gY2FjaGVyKGZ1bmN0aW9uIChjb2xvdXIpIHtcbiAgICAgICAgaWYgKCFjb2xvdXIgfHwgISEoKGNvbG91ciA9IFN0cihjb2xvdXIpKS5pbmRleE9mKFwiLVwiKSArIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge3I6IC0xLCBnOiAtMSwgYjogLTEsIGhleDogXCJub25lXCIsIGVycm9yOiAxLCB0b1N0cmluZzogY2xyVG9TdHJpbmd9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2xvdXIgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7cjogLTEsIGc6IC0xLCBiOiAtMSwgaGV4OiBcIm5vbmVcIiwgdG9TdHJpbmc6IGNsclRvU3RyaW5nfTtcbiAgICAgICAgfVxuICAgICAgICAhKGhzcmdbaGFzXShjb2xvdXIudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwgMikpIHx8IGNvbG91ci5jaGFyQXQoKSA9PSBcIiNcIikgJiYgKGNvbG91ciA9IHRvSGV4KGNvbG91cikpO1xuICAgICAgICB2YXIgcmVzLFxuICAgICAgICAgICAgcmVkLFxuICAgICAgICAgICAgZ3JlZW4sXG4gICAgICAgICAgICBibHVlLFxuICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICByZ2IgPSBjb2xvdXIubWF0Y2goY29sb3VyUmVnRXhwKTtcbiAgICAgICAgaWYgKHJnYikge1xuICAgICAgICAgICAgaWYgKHJnYlsyXSkge1xuICAgICAgICAgICAgICAgIGJsdWUgPSB0b0ludChyZ2JbMl0uc3Vic3RyaW5nKDUpLCAxNik7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0ludChyZ2JbMl0uc3Vic3RyaW5nKDMsIDUpLCAxNik7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9JbnQocmdiWzJdLnN1YnN0cmluZygxLCAzKSwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYlszXSkge1xuICAgICAgICAgICAgICAgIGJsdWUgPSB0b0ludCgodCA9IHJnYlszXS5jaGFyQXQoMykpICsgdCwgMTYpO1xuICAgICAgICAgICAgICAgIGdyZWVuID0gdG9JbnQoKHQgPSByZ2JbM10uY2hhckF0KDIpKSArIHQsIDE2KTtcbiAgICAgICAgICAgICAgICByZWQgPSB0b0ludCgodCA9IHJnYlszXS5jaGFyQXQoMSkpICsgdCwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYls0XSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJnYls0XVtzcGxpdF0oY29tbWFTcGFjZXMpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiJVwiICYmIChyZWQgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0Zsb2F0KHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzFdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAoZ3JlZW4gKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvRmxvYXQodmFsdWVzWzJdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMl0uc2xpY2UoLTEpID09IFwiJVwiICYmIChibHVlICo9IDIuNTUpO1xuICAgICAgICAgICAgICAgIHJnYlsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDQpID09IFwicmdiYVwiICYmIChvcGFjaXR5ID0gdG9GbG9hdCh2YWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbM10gJiYgdmFsdWVzWzNdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAob3BhY2l0eSAvPSAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYls1XSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJnYls1XVtzcGxpdF0oY29tbWFTcGFjZXMpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiJVwiICYmIChyZWQgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0Zsb2F0KHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzFdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAoZ3JlZW4gKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvRmxvYXQodmFsdWVzWzJdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMl0uc2xpY2UoLTEpID09IFwiJVwiICYmIChibHVlICo9IDIuNTUpO1xuICAgICAgICAgICAgICAgICh2YWx1ZXNbMF0uc2xpY2UoLTMpID09IFwiZGVnXCIgfHwgdmFsdWVzWzBdLnNsaWNlKC0xKSA9PSBcIlxceGIwXCIpICYmIChyZWQgLz0gMzYwKTtcbiAgICAgICAgICAgICAgICByZ2JbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLCA0KSA9PSBcImhzYmFcIiAmJiAob3BhY2l0eSA9IHRvRmxvYXQodmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzNdICYmIHZhbHVlc1szXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKG9wYWNpdHkgLz0gMTAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5oc2IycmdiKHJlZCwgZ3JlZW4sIGJsdWUsIG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYls2XSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJnYls2XVtzcGxpdF0oY29tbWFTcGFjZXMpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiJVwiICYmIChyZWQgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0Zsb2F0KHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzFdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAoZ3JlZW4gKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvRmxvYXQodmFsdWVzWzJdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMl0uc2xpY2UoLTEpID09IFwiJVwiICYmIChibHVlICo9IDIuNTUpO1xuICAgICAgICAgICAgICAgICh2YWx1ZXNbMF0uc2xpY2UoLTMpID09IFwiZGVnXCIgfHwgdmFsdWVzWzBdLnNsaWNlKC0xKSA9PSBcIlxceGIwXCIpICYmIChyZWQgLz0gMzYwKTtcbiAgICAgICAgICAgICAgICByZ2JbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLCA0KSA9PSBcImhzbGFcIiAmJiAob3BhY2l0eSA9IHRvRmxvYXQodmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzNdICYmIHZhbHVlc1szXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKG9wYWNpdHkgLz0gMTAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5oc2wycmdiKHJlZCwgZ3JlZW4sIGJsdWUsIG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiID0ge3I6IHJlZCwgZzogZ3JlZW4sIGI6IGJsdWUsIHRvU3RyaW5nOiBjbHJUb1N0cmluZ307XG4gICAgICAgICAgICByZ2IuaGV4ID0gXCIjXCIgKyAoMTY3NzcyMTYgfCBibHVlIHwgKGdyZWVuIDw8IDgpIHwgKHJlZCA8PCAxNikpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbiAgICAgICAgICAgIFIuaXMob3BhY2l0eSwgXCJmaW5pdGVcIikgJiYgKHJnYi5vcGFjaXR5ID0gb3BhY2l0eSk7XG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7cjogLTEsIGc6IC0xLCBiOiAtMSwgaGV4OiBcIm5vbmVcIiwgZXJyb3I6IDEsIHRvU3RyaW5nOiBjbHJUb1N0cmluZ307XG4gICAgfSwgUik7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaHNiXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBIU0IgdmFsdWVzIHRvIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoIChudW1iZXIpIGh1ZVxuICAgICAtIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICAtIGIgKG51bWJlcikgdmFsdWUgb3IgYnJpZ2h0bmVzc1xuICAgICA9IChzdHJpbmcpIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgIFxcKi9cbiAgICBSLmhzYiA9IGNhY2hlcihmdW5jdGlvbiAoaCwgcywgYikge1xuICAgICAgICByZXR1cm4gUi5oc2IycmdiKGgsIHMsIGIpLmhleDtcbiAgICB9KTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5oc2xcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIEhTTCB2YWx1ZXMgdG8gaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGggKG51bWJlcikgaHVlXG4gICAgIC0gcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIC0gbCAobnVtYmVyKSBsdW1pbm9zaXR5XG4gICAgID0gKHN0cmluZykgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgXFwqL1xuICAgIFIuaHNsID0gY2FjaGVyKGZ1bmN0aW9uIChoLCBzLCBsKSB7XG4gICAgICAgIHJldHVybiBSLmhzbDJyZ2IoaCwgcywgbCkuaGV4O1xuICAgIH0pO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnJnYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgUkdCIHZhbHVlcyB0byBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gciAobnVtYmVyKSByZWRcbiAgICAgLSBnIChudW1iZXIpIGdyZWVuXG4gICAgIC0gYiAobnVtYmVyKSBibHVlXG4gICAgID0gKHN0cmluZykgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgXFwqL1xuICAgIFIucmdiID0gY2FjaGVyKGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gICAgICAgIGZ1bmN0aW9uIHJvdW5kKHgpIHsgcmV0dXJuICh4ICsgMC41KSB8IDA7IH1cbiAgICAgICAgcmV0dXJuIFwiI1wiICsgKDE2Nzc3MjE2IHwgcm91bmQoYikgfCAocm91bmQoZykgPDwgOCkgfCAocm91bmQocikgPDwgMTYpKS50b1N0cmluZygxNikuc2xpY2UoMSk7XG4gICAgfSk7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0Q29sb3JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE9uIGVhY2ggY2FsbCByZXR1cm5zIG5leHQgY29sb3VyIGluIHRoZSBzcGVjdHJ1bS4gVG8gcmVzZXQgaXQgYmFjayB0byByZWQgY2FsbCBAUmFwaGFlbC5nZXRDb2xvci5yZXNldFxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSB2YWx1ZSAobnVtYmVyKSAjb3B0aW9uYWwgYnJpZ2h0bmVzcywgZGVmYXVsdCBpcyBgMC43NWBcbiAgICAgPSAoc3RyaW5nKSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICBcXCovXG4gICAgUi5nZXRDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmdldENvbG9yLnN0YXJ0ID0gdGhpcy5nZXRDb2xvci5zdGFydCB8fCB7aDogMCwgczogMSwgYjogdmFsdWUgfHwgLjc1fSxcbiAgICAgICAgICAgIHJnYiA9IHRoaXMuaHNiMnJnYihzdGFydC5oLCBzdGFydC5zLCBzdGFydC5iKTtcbiAgICAgICAgc3RhcnQuaCArPSAuMDc1O1xuICAgICAgICBpZiAoc3RhcnQuaCA+IDEpIHtcbiAgICAgICAgICAgIHN0YXJ0LmggPSAwO1xuICAgICAgICAgICAgc3RhcnQucyAtPSAuMjtcbiAgICAgICAgICAgIHN0YXJ0LnMgPD0gMCAmJiAodGhpcy5nZXRDb2xvci5zdGFydCA9IHtoOiAwLCBzOiAxLCBiOiBzdGFydC5ifSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYi5oZXg7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRDb2xvci5yZXNldFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVzZXRzIHNwZWN0cnVtIHBvc2l0aW9uIGZvciBAUmFwaGFlbC5nZXRDb2xvciBiYWNrIHRvIHJlZC5cbiAgICBcXCovXG4gICAgUi5nZXRDb2xvci5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhcnQ7XG4gICAgfTtcblxuICAgIC8vIGh0dHA6Ly9zY2hlcGVycy5jYy9nZXR0aW5nLXRvLXRoZS1wb2ludFxuICAgIGZ1bmN0aW9uIGNhdG11bGxSb20yYmV6aWVyKGNycCwgeikge1xuICAgICAgICB2YXIgZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaUxlbiA9IGNycC5sZW5ndGg7IGlMZW4gLSAyICogIXogPiBpOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBwID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAge3g6ICtjcnBbaSAtIDJdLCB5OiArY3JwW2kgLSAxXX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7eDogK2NycFtpXSwgICAgIHk6ICtjcnBbaSArIDFdfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHt4OiArY3JwW2kgKyAyXSwgeTogK2NycFtpICsgM119LFxuICAgICAgICAgICAgICAgICAgICAgICAge3g6ICtjcnBbaSArIDRdLCB5OiArY3JwW2kgKyA1XX1cbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmICh6KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbMF0gPSB7eDogK2NycFtpTGVuIC0gMl0sIHk6ICtjcnBbaUxlbiAtIDFdfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlMZW4gLSA0ID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFszXSA9IHt4OiArY3JwWzBdLCB5OiArY3JwWzFdfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlMZW4gLSAyID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFsyXSA9IHt4OiArY3JwWzBdLCB5OiArY3JwWzFdfTtcbiAgICAgICAgICAgICAgICAgICAgcFszXSA9IHt4OiArY3JwWzJdLCB5OiArY3JwWzNdfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpTGVuIC0gNCA9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbM10gPSBwWzJdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFswXSA9IHt4OiArY3JwW2ldLCB5OiArY3JwW2kgKyAxXX07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZC5wdXNoKFtcIkNcIixcbiAgICAgICAgICAgICAgICAgICgtcFswXS54ICsgNiAqIHBbMV0ueCArIHBbMl0ueCkgLyA2LFxuICAgICAgICAgICAgICAgICAgKC1wWzBdLnkgKyA2ICogcFsxXS55ICsgcFsyXS55KSAvIDYsXG4gICAgICAgICAgICAgICAgICAocFsxXS54ICsgNiAqIHBbMl0ueCAtIHBbM10ueCkgLyA2LFxuICAgICAgICAgICAgICAgICAgKHBbMV0ueSArIDYqcFsyXS55IC0gcFszXS55KSAvIDYsXG4gICAgICAgICAgICAgICAgICBwWzJdLngsXG4gICAgICAgICAgICAgICAgICBwWzJdLnlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhcnNlUGF0aFN0cmluZ1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBQYXJzZXMgZ2l2ZW4gcGF0aCBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBhcnJheXMgb2YgcGF0aCBzZWdtZW50cy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aFN0cmluZyAoc3RyaW5nfGFycmF5KSBwYXRoIHN0cmluZyBvciBhcnJheSBvZiBzZWdtZW50cyAoaW4gdGhlIGxhc3QgY2FzZSBpdCB3aWxsIGJlIHJldHVybmVkIHN0cmFpZ2h0IGF3YXkpXG4gICAgID0gKGFycmF5KSBhcnJheSBvZiBzZWdtZW50cy5cbiAgICBcXCovXG4gICAgUi5wYXJzZVBhdGhTdHJpbmcgPSBmdW5jdGlvbiAocGF0aFN0cmluZykge1xuICAgICAgICBpZiAoIXBhdGhTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwdGggPSBwYXRocyhwYXRoU3RyaW5nKTtcbiAgICAgICAgaWYgKHB0aC5hcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmFycik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyYW1Db3VudHMgPSB7YTogNywgYzogNiwgaDogMSwgbDogMiwgbTogMiwgcjogNCwgcTogNCwgczogNCwgdDogMiwgdjogMSwgejogMH0sXG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgIGlmIChSLmlzKHBhdGhTdHJpbmcsIGFycmF5KSAmJiBSLmlzKHBhdGhTdHJpbmdbMF0sIGFycmF5KSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgICAgICAgICBkYXRhID0gcGF0aENsb25lKHBhdGhTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIFN0cihwYXRoU3RyaW5nKS5yZXBsYWNlKHBhdGhDb21tYW5kLCBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjLnJlcGxhY2UocGF0aFZhbHVlcywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgYiAmJiBwYXJhbXMucHVzaCgrYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJtXCIgJiYgcGFyYW1zLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFtiXVtjb25jYXRdKHBhcmFtcy5zcGxpY2UoMCwgMikpKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IFwibFwiO1xuICAgICAgICAgICAgICAgICAgICBiID0gYiA9PSBcIm1cIiA/IFwibFwiIDogXCJMXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09IFwiclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChbYl1bY29uY2F0XShwYXJhbXMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Ugd2hpbGUgKHBhcmFtcy5sZW5ndGggPj0gcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFtiXVtjb25jYXRdKHBhcmFtcy5zcGxpY2UoMCwgcGFyYW1Db3VudHNbbmFtZV0pKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS50b1N0cmluZyA9IFIuX3BhdGgyc3RyaW5nO1xuICAgICAgICBwdGguYXJyID0gcGF0aENsb25lKGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhcnNlVHJhbnNmb3JtU3RyaW5nXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFBhcnNlcyBnaXZlbiBwYXRoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIHRyYW5zZm9ybWF0aW9ucy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gVFN0cmluZyAoc3RyaW5nfGFycmF5KSB0cmFuc2Zvcm0gc3RyaW5nIG9yIGFycmF5IG9mIHRyYW5zZm9ybWF0aW9ucyAoaW4gdGhlIGxhc3QgY2FzZSBpdCB3aWxsIGJlIHJldHVybmVkIHN0cmFpZ2h0IGF3YXkpXG4gICAgID0gKGFycmF5KSBhcnJheSBvZiB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgXFwqL1xuICAgIFIucGFyc2VUcmFuc2Zvcm1TdHJpbmcgPSBjYWNoZXIoZnVuY3Rpb24gKFRTdHJpbmcpIHtcbiAgICAgICAgaWYgKCFUU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1Db3VudHMgPSB7cjogMywgczogNCwgdDogMiwgbTogNn0sXG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgIGlmIChSLmlzKFRTdHJpbmcsIGFycmF5KSAmJiBSLmlzKFRTdHJpbmdbMF0sIGFycmF5KSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgICAgICAgICBkYXRhID0gcGF0aENsb25lKFRTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIFN0cihUU3RyaW5nKS5yZXBsYWNlKHRDb21tYW5kLCBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGxvd2VyQ2FzZS5jYWxsKGIpO1xuICAgICAgICAgICAgICAgIGMucmVwbGFjZShwYXRoVmFsdWVzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBiICYmIHBhcmFtcy5wdXNoKCtiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goW2JdW2NvbmNhdF0ocGFyYW1zKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICAgIC8vIFBBVEhTXG4gICAgdmFyIHBhdGhzID0gZnVuY3Rpb24gKHBzKSB7XG4gICAgICAgIHZhciBwID0gcGF0aHMucHMgPSBwYXRocy5wcyB8fCB7fTtcbiAgICAgICAgaWYgKHBbcHNdKSB7XG4gICAgICAgICAgICBwW3BzXS5zbGVlcCA9IDEwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBbcHNdID0ge1xuICAgICAgICAgICAgICAgIHNsZWVwOiAxMDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcCkgaWYgKHBbaGFzXShrZXkpICYmIGtleSAhPSBwcykge1xuICAgICAgICAgICAgICAgIHBba2V5XS5zbGVlcC0tO1xuICAgICAgICAgICAgICAgICFwW2tleV0uc2xlZXAgJiYgZGVsZXRlIHBba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwW3BzXTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmZpbmREb3RzQXRTZWdtZW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIEZpbmQgZG90IGNvb3JkaW5hdGVzIG9uIHRoZSBnaXZlbiBjdWJpYyBiZXppZXIgY3VydmUgYXQgdGhlIGdpdmVuIHQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHAxeCAobnVtYmVyKSB4IG9mIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBwMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gYzF4IChudW1iZXIpIHggb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeSAobnVtYmVyKSB5IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gcDJ5IChudW1iZXIpIHkgb2YgdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSB0IChudW1iZXIpIHBvc2l0aW9uIG9uIHRoZSBjdXJ2ZSAoMC4uMSlcbiAgICAgPSAob2JqZWN0KSBwb2ludCBpbmZvcm1hdGlvbiBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIG8gICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgbToge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IGFuY2hvclxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IGFuY2hvclxuICAgICBvICAgICB9XG4gICAgIG8gICAgIG46IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYW5jaG9yXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IGFuY2hvclxuICAgICBvICAgICB9XG4gICAgIG8gICAgIHN0YXJ0OiB7XG4gICAgIG8gICAgICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHN0YXJ0IG9mIHRoZSBjdXJ2ZVxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBzdGFydCBvZiB0aGUgY3VydmVcbiAgICAgbyAgICAgfVxuICAgICBvICAgICBlbmQ6IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBjdXJ2ZVxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGN1cnZlXG4gICAgIG8gICAgIH1cbiAgICAgbyAgICAgYWxwaGE6IChudW1iZXIpIGFuZ2xlIG9mIHRoZSBjdXJ2ZSBkZXJpdmF0aXZlIGF0IHRoZSBwb2ludFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5maW5kRG90c0F0U2VnbWVudCA9IGZ1bmN0aW9uIChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdCkge1xuICAgICAgICB2YXIgdDEgPSAxIC0gdCxcbiAgICAgICAgICAgIHQxMyA9IHBvdyh0MSwgMyksXG4gICAgICAgICAgICB0MTIgPSBwb3codDEsIDIpLFxuICAgICAgICAgICAgdDIgPSB0ICogdCxcbiAgICAgICAgICAgIHQzID0gdDIgKiB0LFxuICAgICAgICAgICAgeCA9IHQxMyAqIHAxeCArIHQxMiAqIDMgKiB0ICogYzF4ICsgdDEgKiAzICogdCAqIHQgKiBjMnggKyB0MyAqIHAyeCxcbiAgICAgICAgICAgIHkgPSB0MTMgKiBwMXkgKyB0MTIgKiAzICogdCAqIGMxeSArIHQxICogMyAqIHQgKiB0ICogYzJ5ICsgdDMgKiBwMnksXG4gICAgICAgICAgICBteCA9IHAxeCArIDIgKiB0ICogKGMxeCAtIHAxeCkgKyB0MiAqIChjMnggLSAyICogYzF4ICsgcDF4KSxcbiAgICAgICAgICAgIG15ID0gcDF5ICsgMiAqIHQgKiAoYzF5IC0gcDF5KSArIHQyICogKGMyeSAtIDIgKiBjMXkgKyBwMXkpLFxuICAgICAgICAgICAgbnggPSBjMXggKyAyICogdCAqIChjMnggLSBjMXgpICsgdDIgKiAocDJ4IC0gMiAqIGMyeCArIGMxeCksXG4gICAgICAgICAgICBueSA9IGMxeSArIDIgKiB0ICogKGMyeSAtIGMxeSkgKyB0MiAqIChwMnkgLSAyICogYzJ5ICsgYzF5KSxcbiAgICAgICAgICAgIGF4ID0gdDEgKiBwMXggKyB0ICogYzF4LFxuICAgICAgICAgICAgYXkgPSB0MSAqIHAxeSArIHQgKiBjMXksXG4gICAgICAgICAgICBjeCA9IHQxICogYzJ4ICsgdCAqIHAyeCxcbiAgICAgICAgICAgIGN5ID0gdDEgKiBjMnkgKyB0ICogcDJ5LFxuICAgICAgICAgICAgYWxwaGEgPSAoOTAgLSBtYXRoLmF0YW4yKG14IC0gbngsIG15IC0gbnkpICogMTgwIC8gUEkpO1xuICAgICAgICAobXggPiBueCB8fCBteSA8IG55KSAmJiAoYWxwaGEgKz0gMTgwKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgbToge3g6IG14LCB5OiBteX0sXG4gICAgICAgICAgICBuOiB7eDogbngsIHk6IG55fSxcbiAgICAgICAgICAgIHN0YXJ0OiB7eDogYXgsIHk6IGF5fSxcbiAgICAgICAgICAgIGVuZDoge3g6IGN4LCB5OiBjeX0sXG4gICAgICAgICAgICBhbHBoYTogYWxwaGFcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmJlemllckJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJuIGJvdW5kaW5nIGJveCBvZiBhIGdpdmVuIGN1YmljIGJlemllciBjdXJ2ZVxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwMXggKG51bWJlcikgeCBvZiB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gcDF5IChudW1iZXIpIHkgb2YgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMxeCAobnVtYmVyKSB4IG9mIHRoZSBmaXJzdCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gYzF5IChudW1iZXIpIHkgb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMnggKG51bWJlcikgeCBvZiB0aGUgc2Vjb25kIGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMnkgKG51bWJlcikgeSBvZiB0aGUgc2Vjb25kIGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBwMnggKG51bWJlcikgeCBvZiB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAyeSAobnVtYmVyKSB5IG9mIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgICogb3JcbiAgICAgLSBiZXogKGFycmF5KSBhcnJheSBvZiBzaXggcG9pbnRzIGZvciBiZXppZXIgY3VydmVcbiAgICAgPSAob2JqZWN0KSBwb2ludCBpbmZvcm1hdGlvbiBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICBtaW46IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgbGVmdCBwb2ludFxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSB0b3AgcG9pbnRcbiAgICAgbyAgICAgfVxuICAgICBvICAgICBtYXg6IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgcG9pbnRcbiAgICAgbyAgICAgICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIHBvaW50XG4gICAgIG8gICAgIH1cbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuYmV6aWVyQkJveCA9IGZ1bmN0aW9uIChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSkge1xuICAgICAgICBpZiAoIVIuaXMocDF4LCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICBwMXggPSBbcDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYm94ID0gY3VydmVEaW0uYXBwbHkobnVsbCwgcDF4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGJib3gubWluLngsXG4gICAgICAgICAgICB5OiBiYm94Lm1pbi55LFxuICAgICAgICAgICAgeDI6IGJib3gubWF4LngsXG4gICAgICAgICAgICB5MjogYmJveC5tYXgueSxcbiAgICAgICAgICAgIHdpZHRoOiBiYm94Lm1heC54IC0gYmJveC5taW4ueCxcbiAgICAgICAgICAgIGhlaWdodDogYmJveC5tYXgueSAtIGJib3gubWluLnlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmlzUG9pbnRJbnNpZGVCQm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGdpdmVuIHBvaW50IGlzIGluc2lkZSBib3VuZGluZyBib3hlcy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYmJveCAoc3RyaW5nKSBib3VuZGluZyBib3hcbiAgICAgLSB4IChzdHJpbmcpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgLSB5IChzdHJpbmcpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgPSAoYm9vbGVhbikgYHRydWVgIGlmIHBvaW50IGluc2lkZVxuICAgIFxcKi9cbiAgICBSLmlzUG9pbnRJbnNpZGVCQm94ID0gZnVuY3Rpb24gKGJib3gsIHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHggPj0gYmJveC54ICYmIHggPD0gYmJveC54MiAmJiB5ID49IGJib3gueSAmJiB5IDw9IGJib3gueTI7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5pc0JCb3hJbnRlcnNlY3RcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdHdvIGJvdW5kaW5nIGJveGVzIGludGVyc2VjdFxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBiYm94MSAoc3RyaW5nKSBmaXJzdCBib3VuZGluZyBib3hcbiAgICAgLSBiYm94MiAoc3RyaW5nKSBzZWNvbmQgYm91bmRpbmcgYm94XG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiB0aGV5IGludGVyc2VjdFxuICAgIFxcKi9cbiAgICBSLmlzQkJveEludGVyc2VjdCA9IGZ1bmN0aW9uIChiYm94MSwgYmJveDIpIHtcbiAgICAgICAgdmFyIGkgPSBSLmlzUG9pbnRJbnNpZGVCQm94O1xuICAgICAgICByZXR1cm4gaShiYm94MiwgYmJveDEueCwgYmJveDEueSlcbiAgICAgICAgICAgIHx8IGkoYmJveDIsIGJib3gxLngyLCBiYm94MS55KVxuICAgICAgICAgICAgfHwgaShiYm94MiwgYmJveDEueCwgYmJveDEueTIpXG4gICAgICAgICAgICB8fCBpKGJib3gyLCBiYm94MS54MiwgYmJveDEueTIpXG4gICAgICAgICAgICB8fCBpKGJib3gxLCBiYm94Mi54LCBiYm94Mi55KVxuICAgICAgICAgICAgfHwgaShiYm94MSwgYmJveDIueDIsIGJib3gyLnkpXG4gICAgICAgICAgICB8fCBpKGJib3gxLCBiYm94Mi54LCBiYm94Mi55MilcbiAgICAgICAgICAgIHx8IGkoYmJveDEsIGJib3gyLngyLCBiYm94Mi55MilcbiAgICAgICAgICAgIHx8IChiYm94MS54IDwgYmJveDIueDIgJiYgYmJveDEueCA+IGJib3gyLnggfHwgYmJveDIueCA8IGJib3gxLngyICYmIGJib3gyLnggPiBiYm94MS54KVxuICAgICAgICAgICAgJiYgKGJib3gxLnkgPCBiYm94Mi55MiAmJiBiYm94MS55ID4gYmJveDIueSB8fCBiYm94Mi55IDwgYmJveDEueTIgJiYgYmJveDIueSA+IGJib3gxLnkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gYmFzZTModCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgdmFyIHQxID0gLTMgKiBwMSArIDkgKiBwMiAtIDkgKiBwMyArIDMgKiBwNCxcbiAgICAgICAgICAgIHQyID0gdCAqIHQxICsgNiAqIHAxIC0gMTIgKiBwMiArIDYgKiBwMztcbiAgICAgICAgcmV0dXJuIHQgKiB0MiAtIDMgKiBwMSArIDMgKiBwMjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmV6bGVuKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCwgeikge1xuICAgICAgICBpZiAoeiA9PSBudWxsKSB7XG4gICAgICAgICAgICB6ID0gMTtcbiAgICAgICAgfVxuICAgICAgICB6ID0geiA+IDEgPyAxIDogeiA8IDAgPyAwIDogejtcbiAgICAgICAgdmFyIHoyID0geiAvIDIsXG4gICAgICAgICAgICBuID0gMTIsXG4gICAgICAgICAgICBUdmFsdWVzID0gWy0wLjEyNTIsMC4xMjUyLC0wLjM2NzgsMC4zNjc4LC0wLjU4NzMsMC41ODczLC0wLjc2OTksMC43Njk5LC0wLjkwNDEsMC45MDQxLC0wLjk4MTYsMC45ODE2XSxcbiAgICAgICAgICAgIEN2YWx1ZXMgPSBbMC4yNDkxLDAuMjQ5MSwwLjIzMzUsMC4yMzM1LDAuMjAzMiwwLjIwMzIsMC4xNjAxLDAuMTYwMSwwLjEwNjksMC4xMDY5LDAuMDQ3MiwwLjA0NzJdLFxuICAgICAgICAgICAgc3VtID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjdCA9IHoyICogVHZhbHVlc1tpXSArIHoyLFxuICAgICAgICAgICAgICAgIHhiYXNlID0gYmFzZTMoY3QsIHgxLCB4MiwgeDMsIHg0KSxcbiAgICAgICAgICAgICAgICB5YmFzZSA9IGJhc2UzKGN0LCB5MSwgeTIsIHkzLCB5NCksXG4gICAgICAgICAgICAgICAgY29tYiA9IHhiYXNlICogeGJhc2UgKyB5YmFzZSAqIHliYXNlO1xuICAgICAgICAgICAgc3VtICs9IEN2YWx1ZXNbaV0gKiBtYXRoLnNxcnQoY29tYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHoyICogc3VtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXRMZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCBsbCkge1xuICAgICAgICBpZiAobGwgPCAwIHx8IGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIDwgbGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdCA9IDEsXG4gICAgICAgICAgICBzdGVwID0gdCAvIDIsXG4gICAgICAgICAgICB0MiA9IHQgLSBzdGVwLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGUgPSAuMDE7XG4gICAgICAgIGwgPSBiZXpsZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB0Mik7XG4gICAgICAgIHdoaWxlIChhYnMobCAtIGxsKSA+IGUpIHtcbiAgICAgICAgICAgIHN0ZXAgLz0gMjtcbiAgICAgICAgICAgIHQyICs9IChsIDwgbGwgPyAxIDogLTEpICogc3RlcDtcbiAgICAgICAgICAgIGwgPSBiZXpsZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB0Mik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcnNlY3QoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIG1tYXgoeDEsIHgyKSA8IG1taW4oeDMsIHg0KSB8fFxuICAgICAgICAgICAgbW1pbih4MSwgeDIpID4gbW1heCh4MywgeDQpIHx8XG4gICAgICAgICAgICBtbWF4KHkxLCB5MikgPCBtbWluKHkzLCB5NCkgfHxcbiAgICAgICAgICAgIG1taW4oeTEsIHkyKSA+IG1tYXgoeTMsIHk0KVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnggPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHgzIC0geDQpIC0gKHgxIC0geDIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcbiAgICAgICAgICAgIG55ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksXG4gICAgICAgICAgICBkZW5vbWluYXRvciA9ICh4MSAtIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAtIHg0KTtcblxuICAgICAgICBpZiAoIWRlbm9taW5hdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHB4ID0gbnggLyBkZW5vbWluYXRvcixcbiAgICAgICAgICAgIHB5ID0gbnkgLyBkZW5vbWluYXRvcixcbiAgICAgICAgICAgIHB4MiA9ICtweC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgcHkyID0gK3B5LnRvRml4ZWQoMik7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHB4MiA8ICttbWluKHgxLCB4MikudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHgyID4gK21tYXgoeDEsIHgyKS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweDIgPCArbW1pbih4MywgeDQpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB4MiA+ICttbWF4KHgzLCB4NCkudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHkyIDwgK21taW4oeTEsIHkyKS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweTIgPiArbW1heCh5MSwgeTIpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB5MiA8ICttbWluKHkzLCB5NCkudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHkyID4gK21tYXgoeTMsIHk0KS50b0ZpeGVkKDIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7eDogcHgsIHk6IHB5fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXIoYmV6MSwgYmV6Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJIZWxwZXIoYmV6MSwgYmV6Mik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVyQ291bnQoYmV6MSwgYmV6Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJIZWxwZXIoYmV6MSwgYmV6MiwgMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVySGVscGVyKGJlejEsIGJlejIsIGp1c3RDb3VudCkge1xuICAgICAgICB2YXIgYmJveDEgPSBSLmJlemllckJCb3goYmV6MSksXG4gICAgICAgICAgICBiYm94MiA9IFIuYmV6aWVyQkJveChiZXoyKTtcbiAgICAgICAgaWYgKCFSLmlzQkJveEludGVyc2VjdChiYm94MSwgYmJveDIpKSB7XG4gICAgICAgICAgICByZXR1cm4ganVzdENvdW50ID8gMCA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsMSA9IGJlemxlbi5hcHBseSgwLCBiZXoxKSxcbiAgICAgICAgICAgIGwyID0gYmV6bGVuLmFwcGx5KDAsIGJlejIpLFxuICAgICAgICAgICAgbjEgPSBtbWF4KH5+KGwxIC8gNSksIDEpLFxuICAgICAgICAgICAgbjIgPSBtbWF4KH5+KGwyIC8gNSksIDEpLFxuICAgICAgICAgICAgZG90czEgPSBbXSxcbiAgICAgICAgICAgIGRvdHMyID0gW10sXG4gICAgICAgICAgICB4eSA9IHt9LFxuICAgICAgICAgICAgcmVzID0ganVzdENvdW50ID8gMCA6IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4xICsgMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFIuZmluZERvdHNBdFNlZ21lbnQuYXBwbHkoUiwgYmV6MS5jb25jYXQoaSAvIG4xKSk7XG4gICAgICAgICAgICBkb3RzMS5wdXNoKHt4OiBwLngsIHk6IHAueSwgdDogaSAvIG4xfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG4yICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBwID0gUi5maW5kRG90c0F0U2VnbWVudC5hcHBseShSLCBiZXoyLmNvbmNhdChpIC8gbjIpKTtcbiAgICAgICAgICAgIGRvdHMyLnB1c2goe3g6IHAueCwgeTogcC55LCB0OiBpIC8gbjJ9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjE7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpID0gZG90czFbaV0sXG4gICAgICAgICAgICAgICAgICAgIGRpMSA9IGRvdHMxW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgZGogPSBkb3RzMltqXSxcbiAgICAgICAgICAgICAgICAgICAgZGoxID0gZG90czJbaiArIDFdLFxuICAgICAgICAgICAgICAgICAgICBjaSA9IGFicyhkaTEueCAtIGRpLngpIDwgLjAwMSA/IFwieVwiIDogXCJ4XCIsXG4gICAgICAgICAgICAgICAgICAgIGNqID0gYWJzKGRqMS54IC0gZGoueCkgPCAuMDAxID8gXCJ5XCIgOiBcInhcIixcbiAgICAgICAgICAgICAgICAgICAgaXMgPSBpbnRlcnNlY3QoZGkueCwgZGkueSwgZGkxLngsIGRpMS55LCBkai54LCBkai55LCBkajEueCwgZGoxLnkpO1xuICAgICAgICAgICAgICAgIGlmIChpcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeHlbaXMueC50b0ZpeGVkKDQpXSA9PSBpcy55LnRvRml4ZWQoNCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHh5W2lzLngudG9GaXhlZCg0KV0gPSBpcy55LnRvRml4ZWQoNCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IGRpLnQgKyBhYnMoKGlzW2NpXSAtIGRpW2NpXSkgLyAoZGkxW2NpXSAtIGRpW2NpXSkpICogKGRpMS50IC0gZGkudCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0MiA9IGRqLnQgKyBhYnMoKGlzW2NqXSAtIGRqW2NqXSkgLyAoZGoxW2NqXSAtIGRqW2NqXSkpICogKGRqMS50IC0gZGoudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0MSA+PSAwICYmIHQxIDw9IDEuMDAxICYmIHQyID49IDAgJiYgdDIgPD0gMS4wMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBpcy54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBpcy55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0MTogbW1pbih0MSwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQyOiBtbWluKHQyLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhdGhJbnRlcnNlY3Rpb25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogRmluZHMgaW50ZXJzZWN0aW9ucyBvZiB0d28gcGF0aHNcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aDEgKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgLSBwYXRoMiAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICA9IChhcnJheSkgZG90cyBvZiBpbnRlcnNlY3Rpb25cbiAgICAgbyBbXG4gICAgIG8gICAgIHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgICAgIHQxOiAobnVtYmVyKSB0IHZhbHVlIGZvciBzZWdtZW50IG9mIHBhdGgxXG4gICAgIG8gICAgICAgICB0MjogKG51bWJlcikgdCB2YWx1ZSBmb3Igc2VnbWVudCBvZiBwYXRoMlxuICAgICBvICAgICAgICAgc2VnbWVudDE6IChudW1iZXIpIG9yZGVyIG51bWJlciBmb3Igc2VnbWVudCBvZiBwYXRoMVxuICAgICBvICAgICAgICAgc2VnbWVudDI6IChudW1iZXIpIG9yZGVyIG51bWJlciBmb3Igc2VnbWVudCBvZiBwYXRoMlxuICAgICBvICAgICAgICAgYmV6MTogKGFycmF5KSBlaWdodCBjb29yZGluYXRlcyByZXByZXNlbnRpbmcgYmV6acOpciBjdXJ2ZSBmb3IgdGhlIHNlZ21lbnQgb2YgcGF0aDFcbiAgICAgbyAgICAgICAgIGJlejI6IChhcnJheSkgZWlnaHQgY29vcmRpbmF0ZXMgcmVwcmVzZW50aW5nIGJlemnDqXIgY3VydmUgZm9yIHRoZSBzZWdtZW50IG9mIHBhdGgyXG4gICAgIG8gICAgIH1cbiAgICAgbyBdXG4gICAgXFwqL1xuICAgIFIucGF0aEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIpIHtcbiAgICAgICAgcmV0dXJuIGludGVyUGF0aEhlbHBlcihwYXRoMSwgcGF0aDIpO1xuICAgIH07XG4gICAgUi5wYXRoSW50ZXJzZWN0aW9uTnVtYmVyID0gZnVuY3Rpb24gKHBhdGgxLCBwYXRoMikge1xuICAgICAgICByZXR1cm4gaW50ZXJQYXRoSGVscGVyKHBhdGgxLCBwYXRoMiwgMSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpbnRlclBhdGhIZWxwZXIocGF0aDEsIHBhdGgyLCBqdXN0Q291bnQpIHtcbiAgICAgICAgcGF0aDEgPSBSLl9wYXRoMmN1cnZlKHBhdGgxKTtcbiAgICAgICAgcGF0aDIgPSBSLl9wYXRoMmN1cnZlKHBhdGgyKTtcbiAgICAgICAgdmFyIHgxLCB5MSwgeDIsIHkyLCB4MW0sIHkxbSwgeDJtLCB5Mm0sIGJlejEsIGJlejIsXG4gICAgICAgICAgICByZXMgPSBqdXN0Q291bnQgPyAwIDogW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBhdGgxLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwaSA9IHBhdGgxW2ldO1xuICAgICAgICAgICAgaWYgKHBpWzBdID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgeDEgPSB4MW0gPSBwaVsxXTtcbiAgICAgICAgICAgICAgICB5MSA9IHkxbSA9IHBpWzJdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGlbMF0gPT0gXCJDXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYmV6MSA9IFt4MSwgeTFdLmNvbmNhdChwaS5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgIHgxID0gYmV6MVs2XTtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBiZXoxWzddO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlejEgPSBbeDEsIHkxLCB4MSwgeTEsIHgxbSwgeTFtLCB4MW0sIHkxbV07XG4gICAgICAgICAgICAgICAgICAgIHgxID0geDFtO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IHkxbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gcGF0aDIubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGogPSBwYXRoMltqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBqWzBdID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHgybSA9IHBqWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSB5Mm0gPSBwalsyXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwalswXSA9PSBcIkNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyXS5jb25jYXQocGouc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gYmV6Mls2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGJlejJbN107XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyLCB4MiwgeTIsIHgybSwgeTJtLCB4Mm0sIHkybV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSB4Mm07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSB5Mm07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW50ciA9IGludGVySGVscGVyKGJlejEsIGJlejIsIGp1c3RDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanVzdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9IGludHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IGludHIubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRyW2tdLnNlZ21lbnQxID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cltrXS5zZWdtZW50MiA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHJba10uYmV6MSA9IGJlejE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHJba10uYmV6MiA9IGJlejI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQoaW50cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaXNQb2ludEluc2lkZVBhdGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIGEgZ2l2ZW4gY2xvc2VkIHBhdGguXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGggKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgLSB4IChudW1iZXIpIHggb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSB0cnVlLCBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIHBhdGhcbiAgICBcXCovXG4gICAgUi5pc1BvaW50SW5zaWRlUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCB4LCB5KSB7XG4gICAgICAgIHZhciBiYm94ID0gUi5wYXRoQkJveChwYXRoKTtcbiAgICAgICAgcmV0dXJuIFIuaXNQb2ludEluc2lkZUJCb3goYmJveCwgeCwgeSkgJiZcbiAgICAgICAgICAgICAgIGludGVyUGF0aEhlbHBlcihwYXRoLCBbW1wiTVwiLCB4LCB5XSwgW1wiSFwiLCBiYm94LngyICsgMTBdXSwgMSkgJSAyID09IDE7XG4gICAgfTtcbiAgICBSLl9yZW1vdmVkRmFjdG9yeSA9IGZ1bmN0aW9uIChtZXRob2RuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmxvZ1wiLCBudWxsLCBcIlJhcGhhXFx4ZWJsOiB5b3UgYXJlIGNhbGxpbmcgdG8gbWV0aG9kIFxcdTIwMWNcIiArIG1ldGhvZG5hbWUgKyBcIlxcdTIwMWQgb2YgcmVtb3ZlZCBvYmplY3RcIiwgbWV0aG9kbmFtZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5wYXRoQkJveFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm4gYm91bmRpbmcgYm94IG9mIGEgZ2l2ZW4gcGF0aFxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgID0gKG9iamVjdCkgYm91bmRpbmcgYm94XG4gICAgIG8ge1xuICAgICBvICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgdG9wIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHRvcCBwb2ludCBvZiB0aGUgYm94XG4gICAgIG8gICAgIHgyOiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IGJvdHRvbSBwb2ludCBvZiB0aGUgYm94XG4gICAgIG8gICAgIHkyOiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IGJvdHRvbSBwb2ludCBvZiB0aGUgYm94XG4gICAgIG8gICAgIHdpZHRoOiAobnVtYmVyKSB3aWR0aCBvZiB0aGUgYm94XG4gICAgIG8gICAgIGhlaWdodDogKG51bWJlcikgaGVpZ2h0IG9mIHRoZSBib3hcbiAgICAgbyAgICAgY3g6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBib3hcbiAgICAgbyAgICAgY3k6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBib3hcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIHZhciBwYXRoRGltZW5zaW9ucyA9IFIucGF0aEJCb3ggPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB2YXIgcHRoID0gcGF0aHMocGF0aCk7XG4gICAgICAgIGlmIChwdGguYmJveCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lKHB0aC5iYm94KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7eDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCwgeDI6IDAsIHkyOiAwfTtcbiAgICAgICAgfVxuICAgICAgICBwYXRoID0gcGF0aDJjdXJ2ZShwYXRoKTtcbiAgICAgICAgdmFyIHggPSAwLFxuICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICBYID0gW10sXG4gICAgICAgICAgICBZID0gW10sXG4gICAgICAgICAgICBwO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXRoLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHAgPSBwYXRoW2ldO1xuICAgICAgICAgICAgaWYgKHBbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICB4ID0gcFsxXTtcbiAgICAgICAgICAgICAgICB5ID0gcFsyXTtcbiAgICAgICAgICAgICAgICBYLnB1c2goeCk7XG4gICAgICAgICAgICAgICAgWS5wdXNoKHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGltID0gY3VydmVEaW0oeCwgeSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSwgcFs2XSk7XG4gICAgICAgICAgICAgICAgWCA9IFhbY29uY2F0XShkaW0ubWluLngsIGRpbS5tYXgueCk7XG4gICAgICAgICAgICAgICAgWSA9IFlbY29uY2F0XShkaW0ubWluLnksIGRpbS5tYXgueSk7XG4gICAgICAgICAgICAgICAgeCA9IHBbNV07XG4gICAgICAgICAgICAgICAgeSA9IHBbNl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHhtaW4gPSBtbWluW2FwcGx5XSgwLCBYKSxcbiAgICAgICAgICAgIHltaW4gPSBtbWluW2FwcGx5XSgwLCBZKSxcbiAgICAgICAgICAgIHhtYXggPSBtbWF4W2FwcGx5XSgwLCBYKSxcbiAgICAgICAgICAgIHltYXggPSBtbWF4W2FwcGx5XSgwLCBZKSxcbiAgICAgICAgICAgIHdpZHRoID0geG1heCAtIHhtaW4sXG4gICAgICAgICAgICBoZWlnaHQgPSB5bWF4IC0geW1pbixcbiAgICAgICAgICAgICAgICBiYiA9IHtcbiAgICAgICAgICAgICAgICB4OiB4bWluLFxuICAgICAgICAgICAgICAgIHk6IHltaW4sXG4gICAgICAgICAgICAgICAgeDI6IHhtYXgsXG4gICAgICAgICAgICAgICAgeTI6IHltYXgsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGN4OiB4bWluICsgd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGN5OiB5bWluICsgaGVpZ2h0IC8gMlxuICAgICAgICAgICAgfTtcbiAgICAgICAgcHRoLmJib3ggPSBjbG9uZShiYik7XG4gICAgICAgIHJldHVybiBiYjtcbiAgICB9LFxuICAgICAgICBwYXRoQ2xvbmUgPSBmdW5jdGlvbiAocGF0aEFycmF5KSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gY2xvbmUocGF0aEFycmF5KTtcbiAgICAgICAgICAgIHJlcy50b1N0cmluZyA9IFIuX3BhdGgyc3RyaW5nO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSxcbiAgICAgICAgcGF0aFRvUmVsYXRpdmUgPSBSLl9wYXRoVG9SZWxhdGl2ZSA9IGZ1bmN0aW9uIChwYXRoQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBwdGggPSBwYXRocyhwYXRoQXJyYXkpO1xuICAgICAgICAgICAgaWYgKHB0aC5yZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aENsb25lKHB0aC5yZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFSLmlzKHBhdGhBcnJheSwgYXJyYXkpIHx8ICFSLmlzKHBhdGhBcnJheSAmJiBwYXRoQXJyYXlbMF0sIGFycmF5KSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgICAgICAgICAgICAgcGF0aEFycmF5ID0gUi5wYXJzZVBhdGhTdHJpbmcocGF0aEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgICAgICB5ID0gMCxcbiAgICAgICAgICAgICAgICBteCA9IDAsXG4gICAgICAgICAgICAgICAgbXkgPSAwLFxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGlmIChwYXRoQXJyYXlbMF1bMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICB4ID0gcGF0aEFycmF5WzBdWzFdO1xuICAgICAgICAgICAgICAgIHkgPSBwYXRoQXJyYXlbMF1bMl07XG4gICAgICAgICAgICAgICAgbXggPSB4O1xuICAgICAgICAgICAgICAgIG15ID0geTtcbiAgICAgICAgICAgICAgICBzdGFydCsrO1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKFtcIk1cIiwgeCwgeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBpaSA9IHBhdGhBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSByZXNbaV0gPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcGEgPSBwYXRoQXJyYXlbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBhWzBdICE9IGxvd2VyQ2FzZS5jYWxsKHBhWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICByWzBdID0gbG93ZXJDYXNlLmNhbGwocGFbMF0pO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsxXSA9IHBhWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMl0gPSBwYVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzNdID0gcGFbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls0XSA9IHBhWzRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNV0gPSBwYVs1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzZdID0gKyhwYVs2XSAtIHgpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls3XSA9ICsocGFbN10gLSB5KS50b0ZpeGVkKDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gKyhwYVsxXSAtIHkpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gcGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXkgPSBwYVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gcGEubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByW2pdID0gKyhwYVtqXSAtICgoaiAlIDIpID8geCA6IHkpKS50b0ZpeGVkKDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSByZXNbaV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhWzBdID09IFwibVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBteCA9IHBhWzFdICsgeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15ID0gcGFbMl0gKyB5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IHBhLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1tpXVtrXSA9IHBhW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSByZXNbaV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzW2ldWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gbXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gbXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK3Jlc1tpXVtsZW4gLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSArcmVzW2ldW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICtyZXNbaV1bbGVuIC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICtyZXNbaV1bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgICAgICBwdGgucmVsID0gcGF0aENsb25lKHJlcyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICBwYXRoVG9BYnNvbHV0ZSA9IFIuX3BhdGhUb0Fic29sdXRlID0gZnVuY3Rpb24gKHBhdGhBcnJheSkge1xuICAgICAgICAgICAgdmFyIHB0aCA9IHBhdGhzKHBhdGhBcnJheSk7XG4gICAgICAgICAgICBpZiAocHRoLmFicykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmFicyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIVIuaXMocGF0aEFycmF5LCBhcnJheSkgfHwgIVIuaXMocGF0aEFycmF5ICYmIHBhdGhBcnJheVswXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgICAgICBwYXRoQXJyYXkgPSBSLnBhcnNlUGF0aFN0cmluZyhwYXRoQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXRoQXJyYXkgfHwgIXBhdGhBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tcIk1cIiwgMCwgMF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgICAgIG14ID0gMCxcbiAgICAgICAgICAgICAgICBteSA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHBhdGhBcnJheVswXVswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgIHggPSArcGF0aEFycmF5WzBdWzFdO1xuICAgICAgICAgICAgICAgIHkgPSArcGF0aEFycmF5WzBdWzJdO1xuICAgICAgICAgICAgICAgIG14ID0geDtcbiAgICAgICAgICAgICAgICBteSA9IHk7XG4gICAgICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgICAgICAgICByZXNbMF0gPSBbXCJNXCIsIHgsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNyeiA9IHBhdGhBcnJheS5sZW5ndGggPT0gMyAmJiBwYXRoQXJyYXlbMF1bMF0gPT0gXCJNXCIgJiYgcGF0aEFycmF5WzFdWzBdLnRvVXBwZXJDYXNlKCkgPT0gXCJSXCIgJiYgcGF0aEFycmF5WzJdWzBdLnRvVXBwZXJDYXNlKCkgPT0gXCJaXCI7XG4gICAgICAgICAgICBmb3IgKHZhciByLCBwYSwgaSA9IHN0YXJ0LCBpaSA9IHBhdGhBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gociA9IFtdKTtcbiAgICAgICAgICAgICAgICBwYSA9IHBhdGhBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocGFbMF0gIT0gdXBwZXJDYXNlLmNhbGwocGFbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJbMF0gPSB1cHBlckNhc2UuY2FsbChwYVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gcGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsyXSA9IHBhWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbM10gPSBwYVszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzRdID0gcGFbNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls1XSA9IHBhWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNl0gPSArKHBhWzZdICsgeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls3XSA9ICsocGFbN10gKyB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsxXSA9ICtwYVsxXSArIHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMV0gPSArcGFbMV0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG90cyA9IFt4LCB5XVtjb25jYXRdKHBhLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMiwgamogPSBkb3RzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90c1tqXSA9ICtkb3RzW2pdICsgeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90c1srK2pdID0gK2RvdHNbal0gKyB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW2NvbmNhdF0oY2F0bXVsbFJvbTJiZXppZXIoZG90cywgY3J6KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gK3BhWzFdICsgeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteSA9ICtwYVsyXSArIHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDEsIGpqID0gcGEubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByW2pdID0gK3BhW2pdICsgKChqICUgMikgPyB4IDogeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYVswXSA9PSBcIlJcIikge1xuICAgICAgICAgICAgICAgICAgICBkb3RzID0gW3gsIHldW2NvbmNhdF0ocGEuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICByZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlc1tjb25jYXRdKGNhdG11bGxSb20yYmV6aWVyKGRvdHMsIGNyeikpO1xuICAgICAgICAgICAgICAgICAgICByID0gW1wiUlwiXVtjb25jYXRdKHBhLnNsaWNlKC0yKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gcGEubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcltrXSA9IHBhW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IG14O1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG15O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gclsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHJbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gcltyLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXkgPSByW3IubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcltyLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudG9TdHJpbmcgPSBSLl9wYXRoMnN0cmluZztcbiAgICAgICAgICAgIHB0aC5hYnMgPSBwYXRoQ2xvbmUocmVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGwyYyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgcmV0dXJuIFt4MSwgeTEsIHgyLCB5MiwgeDIsIHkyXTtcbiAgICAgICAgfSxcbiAgICAgICAgcTJjID0gZnVuY3Rpb24gKHgxLCB5MSwgYXgsIGF5LCB4MiwgeTIpIHtcbiAgICAgICAgICAgIHZhciBfMTMgPSAxIC8gMyxcbiAgICAgICAgICAgICAgICBfMjMgPSAyIC8gMztcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHgxICsgXzIzICogYXgsXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHkxICsgXzIzICogYXksXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHgyICsgXzIzICogYXgsXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHkyICsgXzIzICogYXksXG4gICAgICAgICAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgICAgICAgICB5MlxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG4gICAgICAgIGEyYyA9IGZ1bmN0aW9uICh4MSwgeTEsIHJ4LCByeSwgYW5nbGUsIGxhcmdlX2FyY19mbGFnLCBzd2VlcF9mbGFnLCB4MiwgeTIsIHJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgLy8gZm9yIG1vcmUgaW5mb3JtYXRpb24gb2Ygd2hlcmUgdGhpcyBtYXRoIGNhbWUgZnJvbSB2aXNpdDpcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ltcGxub3RlLmh0bWwjQXJjSW1wbGVtZW50YXRpb25Ob3Rlc1xuICAgICAgICAgICAgdmFyIF8xMjAgPSBQSSAqIDEyMCAvIDE4MCxcbiAgICAgICAgICAgICAgICByYWQgPSBQSSAvIDE4MCAqICgrYW5nbGUgfHwgMCksXG4gICAgICAgICAgICAgICAgcmVzID0gW10sXG4gICAgICAgICAgICAgICAgeHksXG4gICAgICAgICAgICAgICAgcm90YXRlID0gY2FjaGVyKGZ1bmN0aW9uICh4LCB5LCByYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFggPSB4ICogbWF0aC5jb3MocmFkKSAtIHkgKiBtYXRoLnNpbihyYWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgWSA9IHggKiBtYXRoLnNpbihyYWQpICsgeSAqIG1hdGguY29zKHJhZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7eDogWCwgeTogWX07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgICAgIHh5ID0gcm90YXRlKHgxLCB5MSwgLXJhZCk7XG4gICAgICAgICAgICAgICAgeDEgPSB4eS54O1xuICAgICAgICAgICAgICAgIHkxID0geHkueTtcbiAgICAgICAgICAgICAgICB4eSA9IHJvdGF0ZSh4MiwgeTIsIC1yYWQpO1xuICAgICAgICAgICAgICAgIHgyID0geHkueDtcbiAgICAgICAgICAgICAgICB5MiA9IHh5Lnk7XG4gICAgICAgICAgICAgICAgdmFyIGNvcyA9IG1hdGguY29zKFBJIC8gMTgwICogYW5nbGUpLFxuICAgICAgICAgICAgICAgICAgICBzaW4gPSBtYXRoLnNpbihQSSAvIDE4MCAqIGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgeCA9ICh4MSAtIHgyKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHkgPSAoeTEgLSB5MikgLyAyO1xuICAgICAgICAgICAgICAgIHZhciBoID0gKHggKiB4KSAvIChyeCAqIHJ4KSArICh5ICogeSkgLyAocnkgKiByeSk7XG4gICAgICAgICAgICAgICAgaWYgKGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGggPSBtYXRoLnNxcnQoaCk7XG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gaCAqIHJ4O1xuICAgICAgICAgICAgICAgICAgICByeSA9IGggKiByeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJ4MiA9IHJ4ICogcngsXG4gICAgICAgICAgICAgICAgICAgIHJ5MiA9IHJ5ICogcnksXG4gICAgICAgICAgICAgICAgICAgIGsgPSAobGFyZ2VfYXJjX2ZsYWcgPT0gc3dlZXBfZmxhZyA/IC0xIDogMSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0aC5zcXJ0KGFicygocngyICogcnkyIC0gcngyICogeSAqIHkgLSByeTIgKiB4ICogeCkgLyAocngyICogeSAqIHkgKyByeTIgKiB4ICogeCkpKSxcbiAgICAgICAgICAgICAgICAgICAgY3ggPSBrICogcnggKiB5IC8gcnkgKyAoeDEgKyB4MikgLyAyLFxuICAgICAgICAgICAgICAgICAgICBjeSA9IGsgKiAtcnkgKiB4IC8gcnggKyAoeTEgKyB5MikgLyAyLFxuICAgICAgICAgICAgICAgICAgICBmMSA9IG1hdGguYXNpbigoKHkxIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpLFxuICAgICAgICAgICAgICAgICAgICBmMiA9IG1hdGguYXNpbigoKHkyIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpO1xuXG4gICAgICAgICAgICAgICAgZjEgPSB4MSA8IGN4ID8gUEkgLSBmMSA6IGYxO1xuICAgICAgICAgICAgICAgIGYyID0geDIgPCBjeCA/IFBJIC0gZjIgOiBmMjtcbiAgICAgICAgICAgICAgICBmMSA8IDAgJiYgKGYxID0gUEkgKiAyICsgZjEpO1xuICAgICAgICAgICAgICAgIGYyIDwgMCAmJiAoZjIgPSBQSSAqIDIgKyBmMik7XG4gICAgICAgICAgICAgICAgaWYgKHN3ZWVwX2ZsYWcgJiYgZjEgPiBmMikge1xuICAgICAgICAgICAgICAgICAgICBmMSA9IGYxIC0gUEkgKiAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXN3ZWVwX2ZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgICAgICAgICAgICAgICBmMiA9IGYyIC0gUEkgKiAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZjEgPSByZWN1cnNpdmVbMF07XG4gICAgICAgICAgICAgICAgZjIgPSByZWN1cnNpdmVbMV07XG4gICAgICAgICAgICAgICAgY3ggPSByZWN1cnNpdmVbMl07XG4gICAgICAgICAgICAgICAgY3kgPSByZWN1cnNpdmVbM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGYgPSBmMiAtIGYxO1xuICAgICAgICAgICAgaWYgKGFicyhkZikgPiBfMTIwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYyb2xkID0gZjIsXG4gICAgICAgICAgICAgICAgICAgIHgyb2xkID0geDIsXG4gICAgICAgICAgICAgICAgICAgIHkyb2xkID0geTI7XG4gICAgICAgICAgICAgICAgZjIgPSBmMSArIF8xMjAgKiAoc3dlZXBfZmxhZyAmJiBmMiA+IGYxID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICB4MiA9IGN4ICsgcnggKiBtYXRoLmNvcyhmMik7XG4gICAgICAgICAgICAgICAgeTIgPSBjeSArIHJ5ICogbWF0aC5zaW4oZjIpO1xuICAgICAgICAgICAgICAgIHJlcyA9IGEyYyh4MiwgeTIsIHJ4LCByeSwgYW5nbGUsIDAsIHN3ZWVwX2ZsYWcsIHgyb2xkLCB5Mm9sZCwgW2YyLCBmMm9sZCwgY3gsIGN5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZiA9IGYyIC0gZjE7XG4gICAgICAgICAgICB2YXIgYzEgPSBtYXRoLmNvcyhmMSksXG4gICAgICAgICAgICAgICAgczEgPSBtYXRoLnNpbihmMSksXG4gICAgICAgICAgICAgICAgYzIgPSBtYXRoLmNvcyhmMiksXG4gICAgICAgICAgICAgICAgczIgPSBtYXRoLnNpbihmMiksXG4gICAgICAgICAgICAgICAgdCA9IG1hdGgudGFuKGRmIC8gNCksXG4gICAgICAgICAgICAgICAgaHggPSA0IC8gMyAqIHJ4ICogdCxcbiAgICAgICAgICAgICAgICBoeSA9IDQgLyAzICogcnkgKiB0LFxuICAgICAgICAgICAgICAgIG0xID0gW3gxLCB5MV0sXG4gICAgICAgICAgICAgICAgbTIgPSBbeDEgKyBoeCAqIHMxLCB5MSAtIGh5ICogYzFdLFxuICAgICAgICAgICAgICAgIG0zID0gW3gyICsgaHggKiBzMiwgeTIgLSBoeSAqIGMyXSxcbiAgICAgICAgICAgICAgICBtNCA9IFt4MiwgeTJdO1xuICAgICAgICAgICAgbTJbMF0gPSAyICogbTFbMF0gLSBtMlswXTtcbiAgICAgICAgICAgIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG4gICAgICAgICAgICBpZiAocmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFttMiwgbTMsIG00XVtjb25jYXRdKHJlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcyA9IFttMiwgbTMsIG00XVtjb25jYXRdKHJlcykuam9pbigpW3NwbGl0XShcIixcIik7XG4gICAgICAgICAgICAgICAgdmFyIG5ld3JlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld3Jlc1tpXSA9IGkgJSAyID8gcm90YXRlKHJlc1tpIC0gMV0sIHJlc1tpXSwgcmFkKS55IDogcm90YXRlKHJlc1tpXSwgcmVzW2kgKyAxXSwgcmFkKS54O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3cmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaW5kRG90QXRTZWdtZW50ID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0KSB7XG4gICAgICAgICAgICB2YXIgdDEgPSAxIC0gdDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcG93KHQxLCAzKSAqIHAxeCArIHBvdyh0MSwgMikgKiAzICogdCAqIGMxeCArIHQxICogMyAqIHQgKiB0ICogYzJ4ICsgcG93KHQsIDMpICogcDJ4LFxuICAgICAgICAgICAgICAgIHk6IHBvdyh0MSwgMykgKiBwMXkgKyBwb3codDEsIDIpICogMyAqIHQgKiBjMXkgKyB0MSAqIDMgKiB0ICogdCAqIGMyeSArIHBvdyh0LCAzKSAqIHAyeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY3VydmVEaW0gPSBjYWNoZXIoZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5KSB7XG4gICAgICAgICAgICB2YXIgYSA9IChjMnggLSAyICogYzF4ICsgcDF4KSAtIChwMnggLSAyICogYzJ4ICsgYzF4KSxcbiAgICAgICAgICAgICAgICBiID0gMiAqIChjMXggLSBwMXgpIC0gMiAqIChjMnggLSBjMXgpLFxuICAgICAgICAgICAgICAgIGMgPSBwMXggLSBjMXgsXG4gICAgICAgICAgICAgICAgdDEgPSAoLWIgKyBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhLFxuICAgICAgICAgICAgICAgIHQyID0gKC1iIC0gbWF0aC5zcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSkgLyAyIC8gYSxcbiAgICAgICAgICAgICAgICB5ID0gW3AxeSwgcDJ5XSxcbiAgICAgICAgICAgICAgICB4ID0gW3AxeCwgcDJ4XSxcbiAgICAgICAgICAgICAgICBkb3Q7XG4gICAgICAgICAgICBhYnModDEpID4gXCIxZTEyXCIgJiYgKHQxID0gLjUpO1xuICAgICAgICAgICAgYWJzKHQyKSA+IFwiMWUxMlwiICYmICh0MiA9IC41KTtcbiAgICAgICAgICAgIGlmICh0MSA+IDAgJiYgdDEgPCAxKSB7XG4gICAgICAgICAgICAgICAgZG90ID0gZmluZERvdEF0U2VnbWVudChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdDEpO1xuICAgICAgICAgICAgICAgIHgucHVzaChkb3QueCk7XG4gICAgICAgICAgICAgICAgeS5wdXNoKGRvdC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0MiA+IDAgJiYgdDIgPCAxKSB7XG4gICAgICAgICAgICAgICAgZG90ID0gZmluZERvdEF0U2VnbWVudChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdDIpO1xuICAgICAgICAgICAgICAgIHgucHVzaChkb3QueCk7XG4gICAgICAgICAgICAgICAgeS5wdXNoKGRvdC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSAoYzJ5IC0gMiAqIGMxeSArIHAxeSkgLSAocDJ5IC0gMiAqIGMyeSArIGMxeSk7XG4gICAgICAgICAgICBiID0gMiAqIChjMXkgLSBwMXkpIC0gMiAqIChjMnkgLSBjMXkpO1xuICAgICAgICAgICAgYyA9IHAxeSAtIGMxeTtcbiAgICAgICAgICAgIHQxID0gKC1iICsgbWF0aC5zcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSkgLyAyIC8gYTtcbiAgICAgICAgICAgIHQyID0gKC1iIC0gbWF0aC5zcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSkgLyAyIC8gYTtcbiAgICAgICAgICAgIGFicyh0MSkgPiBcIjFlMTJcIiAmJiAodDEgPSAuNSk7XG4gICAgICAgICAgICBhYnModDIpID4gXCIxZTEyXCIgJiYgKHQyID0gLjUpO1xuICAgICAgICAgICAgaWYgKHQxID4gMCAmJiB0MSA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0MSk7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0Mik7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IHt4OiBtbWluW2FwcGx5XSgwLCB4KSwgeTogbW1pblthcHBseV0oMCwgeSl9LFxuICAgICAgICAgICAgICAgIG1heDoge3g6IG1tYXhbYXBwbHldKDAsIHgpLCB5OiBtbWF4W2FwcGx5XSgwLCB5KX1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBwYXRoMmN1cnZlID0gUi5fcGF0aDJjdXJ2ZSA9IGNhY2hlcihmdW5jdGlvbiAocGF0aCwgcGF0aDIpIHtcbiAgICAgICAgICAgIHZhciBwdGggPSAhcGF0aDIgJiYgcGF0aHMocGF0aCk7XG4gICAgICAgICAgICBpZiAoIXBhdGgyICYmIHB0aC5jdXJ2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmN1cnZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwID0gcGF0aFRvQWJzb2x1dGUocGF0aCksXG4gICAgICAgICAgICAgICAgcDIgPSBwYXRoMiAmJiBwYXRoVG9BYnNvbHV0ZShwYXRoMiksXG4gICAgICAgICAgICAgICAgYXR0cnMgPSB7eDogMCwgeTogMCwgYng6IDAsIGJ5OiAwLCBYOiAwLCBZOiAwLCBxeDogbnVsbCwgcXk6IG51bGx9LFxuICAgICAgICAgICAgICAgIGF0dHJzMiA9IHt4OiAwLCB5OiAwLCBieDogMCwgYnk6IDAsIFg6IDAsIFk6IDAsIHF4OiBudWxsLCBxeTogbnVsbH0sXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1BhdGggPSBmdW5jdGlvbiAocGF0aCwgZCwgcGNvbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbngsIG55LCB0cSA9IHtUOjEsIFE6MX07XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcIkNcIiwgZC54LCBkLnksIGQueCwgZC55LCBkLngsIGQueV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIShwYXRoWzBdIGluIHRxKSAmJiAoZC5xeCA9IGQucXkgPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYXRoWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuWCA9IHBhdGhbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5ZID0gcGF0aFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShhMmNbYXBwbHldKDAsIFtkLngsIGQueV1bY29uY2F0XShwYXRoLnNsaWNlKDEpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGNvbSA9PSBcIkNcIiB8fCBwY29tID09IFwiU1wiKSB7IC8vIEluIFwiU1wiIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgQy9TLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueCA9IGQueCAqIDIgLSBkLmJ4OyAgICAgICAgICAvLyBBbmQgcmVmbGVjdCB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnkgPSBkLnkgKiAyIC0gZC5ieTsgICAgICAgICAgLy8gY29tbWFuZCdzIGNvbnRyb2wgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcG9pbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBzb21lIGVsc2Ugb3Igbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueCA9IGQueDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnkgPSBkLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBbXCJDXCIsIG54LCBueV1bY29uY2F0XShwYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBjb20gPT0gXCJRXCIgfHwgcGNvbSA9PSBcIlRcIikgeyAvLyBJbiBcIlRcIiBjYXNlIHdlIGhhdmUgdG8gdGFrZSBpbnRvIGFjY291bnQsIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIGlzIFEvVC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeCA9IGQueCAqIDIgLSBkLnF4OyAgICAgICAgLy8gQW5kIG1ha2UgYSByZWZsZWN0aW9uIHNpbWlsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeSA9IGQueSAqIDIgLSBkLnF5OyAgICAgICAgLy8gdG8gY2FzZSBcIlNcIi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHNvbWV0aGluZyBlbHNlIG9yIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeCA9IGQueDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeSA9IGQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShxMmMoZC54LCBkLnksIGQucXgsIGQucXksIHBhdGhbMV0sIHBhdGhbMl0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeCA9IHBhdGhbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeSA9IHBhdGhbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShxMmMoZC54LCBkLnksIHBhdGhbMV0sIHBhdGhbMl0sIHBhdGhbM10sIHBhdGhbNF0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShsMmMoZC54LCBkLnksIHBhdGhbMV0sIHBhdGhbMl0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShsMmMoZC54LCBkLnksIHBhdGhbMV0sIGQueSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGwyYyhkLngsIGQueSwgZC54LCBwYXRoWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBbXCJDXCJdW2NvbmNhdF0obDJjKGQueCwgZC55LCBkLlgsIGQuWSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZml4QXJjID0gZnVuY3Rpb24gKHBwLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcFtpXS5sZW5ndGggPiA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcFtpXS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpID0gcHBbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNvbXMxW2ldPVwiQVwiOyAvLyBpZiBjcmVhdGVkIG11bHRpcGxlIEM6cywgdGhlaXIgb3JpZ2luYWwgc2VnIGlzIHNhdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDIgJiYgKHBjb21zMltpXT1cIkFcIik7IC8vIHRoZSBzYW1lIGFzIGFib3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHAuc3BsaWNlKGkrKywgMCwgW1wiQ1wiXVtjb25jYXRdKHBpLnNwbGljZSgwLCA2KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHAuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWkgPSBtbWF4KHAubGVuZ3RoLCBwMiAmJiBwMi5sZW5ndGggfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpeE0gPSBmdW5jdGlvbiAocGF0aDEsIHBhdGgyLCBhMSwgYTIsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgxICYmIHBhdGgyICYmIHBhdGgxW2ldWzBdID09IFwiTVwiICYmIHBhdGgyW2ldWzBdICE9IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoMi5zcGxpY2UoaSwgMCwgW1wiTVwiLCBhMi54LCBhMi55XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS5ieCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS5ieSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS54ID0gcGF0aDFbaV1bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS55ID0gcGF0aDFbaV1bMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpaSA9IG1tYXgocC5sZW5ndGgsIHAyICYmIHAyLmxlbmd0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGNvbXMxID0gW10sIC8vIHBhdGggY29tbWFuZHMgb2Ygb3JpZ2luYWwgcGF0aCBwXG4gICAgICAgICAgICAgICAgcGNvbXMyID0gW10sIC8vIHBhdGggY29tbWFuZHMgb2Ygb3JpZ2luYWwgcGF0aCBwMlxuICAgICAgICAgICAgICAgIHBmaXJzdCA9IFwiXCIsIC8vIHRlbXBvcmFyeSBob2xkZXIgZm9yIG9yaWdpbmFsIHBhdGggY29tbWFuZFxuICAgICAgICAgICAgICAgIHBjb20gPSBcIlwiOyAvLyBob2xkZXIgZm9yIHByZXZpb3VzIHBhdGggY29tbWFuZCBvZiBvcmlnaW5hbCBwYXRoXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBtbWF4KHAubGVuZ3RoLCBwMiAmJiBwMi5sZW5ndGggfHwgMCk7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFtpXSAmJiAocGZpcnN0ID0gcFtpXVswXSk7IC8vIHNhdmUgY3VycmVudCBwYXRoIGNvbW1hbmRcblxuICAgICAgICAgICAgICAgIGlmIChwZmlyc3QgIT0gXCJDXCIpIC8vIEMgaXMgbm90IHNhdmVkIHlldCwgYmVjYXVzZSBpdCBtYXkgYmUgcmVzdWx0IG9mIGNvbnZlcnNpb25cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHBjb21zMVtpXSA9IHBmaXJzdDsgLy8gU2F2ZSBjdXJyZW50IHBhdGggY29tbWFuZFxuICAgICAgICAgICAgICAgICAgICBpICYmICggcGNvbSA9IHBjb21zMVtpLTFdKTsgLy8gR2V0IHByZXZpb3VzIHBhdGggY29tbWFuZCBwY29tXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBbaV0gPSBwcm9jZXNzUGF0aChwW2ldLCBhdHRycywgcGNvbSk7IC8vIFByZXZpb3VzIHBhdGggY29tbWFuZCBpcyBpbnB1dHRlZCB0byBwcm9jZXNzUGF0aFxuXG4gICAgICAgICAgICAgICAgaWYgKHBjb21zMVtpXSAhPSBcIkFcIiAmJiBwZmlyc3QgPT0gXCJDXCIpIHBjb21zMVtpXSA9IFwiQ1wiOyAvLyBBIGlzIHRoZSBvbmx5IGNvbW1hbmRcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBtYXkgcHJvZHVjZSBtdWx0aXBsZSBDOnNcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBoYXZlIHRvIG1ha2Ugc3VyZSB0aGF0IEMgaXMgYWxzbyBDIGluIG9yaWdpbmFsIHBhdGhcblxuICAgICAgICAgICAgICAgIGZpeEFyYyhwLCBpKTsgLy8gZml4QXJjIGFkZHMgYWxzbyB0aGUgcmlnaHQgYW1vdW50IG9mIEE6cyB0byBwY29tczFcblxuICAgICAgICAgICAgICAgIGlmIChwMikgeyAvLyB0aGUgc2FtZSBwcm9jZWR1cmVzIGlzIGRvbmUgdG8gcDJcbiAgICAgICAgICAgICAgICAgICAgcDJbaV0gJiYgKHBmaXJzdCA9IHAyW2ldWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBmaXJzdCAhPSBcIkNcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGNvbXMyW2ldID0gcGZpcnN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaSAmJiAocGNvbSA9IHBjb21zMltpLTFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwMltpXSA9IHByb2Nlc3NQYXRoKHAyW2ldLCBhdHRyczIsIHBjb20pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwY29tczJbaV0hPVwiQVwiICYmIHBmaXJzdD09XCJDXCIpIHBjb21zMltpXT1cIkNcIjtcblxuICAgICAgICAgICAgICAgICAgICBmaXhBcmMocDIsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaXhNKHAsIHAyLCBhdHRycywgYXR0cnMyLCBpKTtcbiAgICAgICAgICAgICAgICBmaXhNKHAyLCBwLCBhdHRyczIsIGF0dHJzLCBpKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VnID0gcFtpXSxcbiAgICAgICAgICAgICAgICAgICAgc2VnMiA9IHAyICYmIHAyW2ldLFxuICAgICAgICAgICAgICAgICAgICBzZWdsZW4gPSBzZWcubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBzZWcybGVuID0gcDIgJiYgc2VnMi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYXR0cnMueCA9IHNlZ1tzZWdsZW4gLSAyXTtcbiAgICAgICAgICAgICAgICBhdHRycy55ID0gc2VnW3NlZ2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgIGF0dHJzLmJ4ID0gdG9GbG9hdChzZWdbc2VnbGVuIC0gNF0pIHx8IGF0dHJzLng7XG4gICAgICAgICAgICAgICAgYXR0cnMuYnkgPSB0b0Zsb2F0KHNlZ1tzZWdsZW4gLSAzXSkgfHwgYXR0cnMueTtcbiAgICAgICAgICAgICAgICBhdHRyczIuYnggPSBwMiAmJiAodG9GbG9hdChzZWcyW3NlZzJsZW4gLSA0XSkgfHwgYXR0cnMyLngpO1xuICAgICAgICAgICAgICAgIGF0dHJzMi5ieSA9IHAyICYmICh0b0Zsb2F0KHNlZzJbc2VnMmxlbiAtIDNdKSB8fCBhdHRyczIueSk7XG4gICAgICAgICAgICAgICAgYXR0cnMyLnggPSBwMiAmJiBzZWcyW3NlZzJsZW4gLSAyXTtcbiAgICAgICAgICAgICAgICBhdHRyczIueSA9IHAyICYmIHNlZzJbc2VnMmxlbiAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwMikge1xuICAgICAgICAgICAgICAgIHB0aC5jdXJ2ZSA9IHBhdGhDbG9uZShwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwMiA/IFtwLCBwMl0gOiBwO1xuICAgICAgICB9LCBudWxsLCBwYXRoQ2xvbmUpLFxuICAgICAgICBwYXJzZURvdHMgPSBSLl9wYXJzZURvdHMgPSBjYWNoZXIoZnVuY3Rpb24gKGdyYWRpZW50KSB7XG4gICAgICAgICAgICB2YXIgZG90cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ3JhZGllbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkb3QgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgcGFyID0gZ3JhZGllbnRbaV0ubWF0Y2goL14oW146XSopOj8oW1xcZFxcLl0qKS8pO1xuICAgICAgICAgICAgICAgIGRvdC5jb2xvciA9IFIuZ2V0UkdCKHBhclsxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGRvdC5jb2xvci5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG90Lm9wYWNpdHkgPSBkb3QuY29sb3Iub3BhY2l0eTtcbiAgICAgICAgICAgICAgICBkb3QuY29sb3IgPSBkb3QuY29sb3IuaGV4O1xuICAgICAgICAgICAgICAgIHBhclsyXSAmJiAoZG90Lm9mZnNldCA9IHBhclsyXSArIFwiJVwiKTtcbiAgICAgICAgICAgICAgICBkb3RzLnB1c2goZG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGlpID0gZG90cy5sZW5ndGggLSAxOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghZG90c1tpXS5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdG9GbG9hdChkb3RzW2kgLSAxXS5vZmZzZXQgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCBpaTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG90c1tqXS5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBkb3RzW2pdLm9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IGlpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvRmxvYXQoZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSAoZW5kIC0gc3RhcnQpIC8gKGogLSBpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCArPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG90c1tpXS5vZmZzZXQgPSBzdGFydCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRvdHM7XG4gICAgICAgIH0pLFxuICAgICAgICB0ZWFyID0gUi5fdGVhciA9IGZ1bmN0aW9uIChlbCwgcGFwZXIpIHtcbiAgICAgICAgICAgIGVsID09IHBhcGVyLnRvcCAmJiAocGFwZXIudG9wID0gZWwucHJldik7XG4gICAgICAgICAgICBlbCA9PSBwYXBlci5ib3R0b20gJiYgKHBhcGVyLmJvdHRvbSA9IGVsLm5leHQpO1xuICAgICAgICAgICAgZWwubmV4dCAmJiAoZWwubmV4dC5wcmV2ID0gZWwucHJldik7XG4gICAgICAgICAgICBlbC5wcmV2ICYmIChlbC5wcmV2Lm5leHQgPSBlbC5uZXh0KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9mcm9udCA9IFIuX3RvZnJvbnQgPSBmdW5jdGlvbiAoZWwsIHBhcGVyKSB7XG4gICAgICAgICAgICBpZiAocGFwZXIudG9wID09PSBlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlYXIoZWwsIHBhcGVyKTtcbiAgICAgICAgICAgIGVsLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgZWwucHJldiA9IHBhcGVyLnRvcDtcbiAgICAgICAgICAgIHBhcGVyLnRvcC5uZXh0ID0gZWw7XG4gICAgICAgICAgICBwYXBlci50b3AgPSBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgdG9iYWNrID0gUi5fdG9iYWNrID0gZnVuY3Rpb24gKGVsLCBwYXBlcikge1xuICAgICAgICAgICAgaWYgKHBhcGVyLmJvdHRvbSA9PT0gZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZWFyKGVsLCBwYXBlcik7XG4gICAgICAgICAgICBlbC5uZXh0ID0gcGFwZXIuYm90dG9tO1xuICAgICAgICAgICAgZWwucHJldiA9IG51bGw7XG4gICAgICAgICAgICBwYXBlci5ib3R0b20ucHJldiA9IGVsO1xuICAgICAgICAgICAgcGFwZXIuYm90dG9tID0gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGluc2VydGFmdGVyID0gUi5faW5zZXJ0YWZ0ZXIgPSBmdW5jdGlvbiAoZWwsIGVsMiwgcGFwZXIpIHtcbiAgICAgICAgICAgIHRlYXIoZWwsIHBhcGVyKTtcbiAgICAgICAgICAgIGVsMiA9PSBwYXBlci50b3AgJiYgKHBhcGVyLnRvcCA9IGVsKTtcbiAgICAgICAgICAgIGVsMi5uZXh0ICYmIChlbDIubmV4dC5wcmV2ID0gZWwpO1xuICAgICAgICAgICAgZWwubmV4dCA9IGVsMi5uZXh0O1xuICAgICAgICAgICAgZWwucHJldiA9IGVsMjtcbiAgICAgICAgICAgIGVsMi5uZXh0ID0gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGluc2VydGJlZm9yZSA9IFIuX2luc2VydGJlZm9yZSA9IGZ1bmN0aW9uIChlbCwgZWwyLCBwYXBlcikge1xuICAgICAgICAgICAgdGVhcihlbCwgcGFwZXIpO1xuICAgICAgICAgICAgZWwyID09IHBhcGVyLmJvdHRvbSAmJiAocGFwZXIuYm90dG9tID0gZWwpO1xuICAgICAgICAgICAgZWwyLnByZXYgJiYgKGVsMi5wcmV2Lm5leHQgPSBlbCk7XG4gICAgICAgICAgICBlbC5wcmV2ID0gZWwyLnByZXY7XG4gICAgICAgICAgICBlbDIucHJldiA9IGVsO1xuICAgICAgICAgICAgZWwubmV4dCA9IGVsMjtcbiAgICAgICAgfSxcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBSYXBoYWVsLnRvTWF0cml4XG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJucyBtYXRyaXggb2YgdHJhbnNmb3JtYXRpb25zIGFwcGxpZWQgdG8gYSBnaXZlbiBwYXRoXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAgICAgLSB0cmFuc2Zvcm0gKHN0cmluZ3xhcnJheSkgdHJhbnNmb3JtYXRpb24gc3RyaW5nXG4gICAgICAgICA9IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICB0b01hdHJpeCA9IFIudG9NYXRyaXggPSBmdW5jdGlvbiAocGF0aCwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYmIgPSBwYXRoRGltZW5zaW9ucyhwYXRoKSxcbiAgICAgICAgICAgICAgICBlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgXzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBFXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldEJCb3g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBleHRyYWN0VHJhbnNmb3JtKGVsLCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuIGVsLm1hdHJpeDtcbiAgICAgICAgfSxcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBSYXBoYWVsLnRyYW5zZm9ybVBhdGhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm5zIHBhdGggdHJhbnNmb3JtZWQgYnkgYSBnaXZlbiB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICAgICAtIHBhdGggKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgICAgIC0gdHJhbnNmb3JtIChzdHJpbmd8YXJyYXkpIHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAgICAgPSAoc3RyaW5nKSBwYXRoXG4gICAgICAgIFxcKi9cbiAgICAgICAgdHJhbnNmb3JtUGF0aCA9IFIudHJhbnNmb3JtUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBQYXRoKHBhdGgsIHRvTWF0cml4KHBhdGgsIHRyYW5zZm9ybSkpO1xuICAgICAgICB9LFxuICAgICAgICBleHRyYWN0VHJhbnNmb3JtID0gUi5fZXh0cmFjdFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChlbCwgdHN0cikge1xuICAgICAgICAgICAgaWYgKHRzdHIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRzdHIgPSBTdHIodHN0cikucmVwbGFjZSgvXFwuezN9fFxcdTIwMjYvZywgZWwuXy50cmFuc2Zvcm0gfHwgRSk7XG4gICAgICAgICAgICB2YXIgdGRhdGEgPSBSLnBhcnNlVHJhbnNmb3JtU3RyaW5nKHRzdHIpLFxuICAgICAgICAgICAgICAgIGRlZyA9IDAsXG4gICAgICAgICAgICAgICAgZHggPSAwLFxuICAgICAgICAgICAgICAgIGR5ID0gMCxcbiAgICAgICAgICAgICAgICBzeCA9IDEsXG4gICAgICAgICAgICAgICAgc3kgPSAxLFxuICAgICAgICAgICAgICAgIF8gPSBlbC5fLFxuICAgICAgICAgICAgICAgIG0gPSBuZXcgTWF0cml4O1xuICAgICAgICAgICAgXy50cmFuc2Zvcm0gPSB0ZGF0YSB8fCBbXTtcbiAgICAgICAgICAgIGlmICh0ZGF0YSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRkYXRhLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0ZGF0YVtpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRsZW4gPSB0Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSBTdHIodFswXSkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFic29sdXRlID0gdFswXSAhPSBjb21tYW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXIgPSBhYnNvbHV0ZSA/IG0uaW52ZXJ0KCkgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT0gXCJ0XCIgJiYgdGxlbiA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MSA9IGludmVyLngoMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTEgPSBpbnZlci55KDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gaW52ZXIueCh0WzFdLCB0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGludmVyLnkodFsxXSwgdFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS50cmFuc2xhdGUoeDIgLSB4MSwgeTIgLSB5MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0udHJhbnNsYXRlKHRbMV0sIHRbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT0gXCJyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bGVuID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYiA9IGJiIHx8IGVsLmdldEJCb3goMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5yb3RhdGUodFsxXSwgYmIueCArIGJiLndpZHRoIC8gMiwgYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZyArPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0bGVuID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBpbnZlci54KHRbMl0sIHRbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGludmVyLnkodFsyXSwgdFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0ucm90YXRlKHRbMV0sIHgyLCB5Mik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5yb3RhdGUodFsxXSwgdFsyXSwgdFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZyArPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT0gXCJzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bGVuID09IDIgfHwgdGxlbiA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmIgPSBiYiB8fCBlbC5nZXRCQm94KDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uc2NhbGUodFsxXSwgdFt0bGVuIC0gMV0sIGJiLnggKyBiYi53aWR0aCAvIDIsIGJiLnkgKyBiYi5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeCAqPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5ICo9IHRbdGxlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0bGVuID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBpbnZlci54KHRbM10sIHRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGludmVyLnkodFszXSwgdFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uc2NhbGUodFsxXSwgdFsyXSwgeDIsIHkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnNjYWxlKHRbMV0sIHRbMl0sIHRbM10sIHRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeCAqPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5ICo9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PSBcIm1cIiAmJiB0bGVuID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uYWRkKHRbMV0sIHRbMl0sIHRbM10sIHRbNF0sIHRbNV0sIHRbNl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF8uZGlydHlUID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWwubWF0cml4ID0gbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qXFxcbiAgICAgICAgICAgICAqIEVsZW1lbnQubWF0cml4XG4gICAgICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAgICAgKipcbiAgICAgICAgICAgICAqIEtlZXBzIEBNYXRyaXggb2JqZWN0LCB3aGljaCByZXByZXNlbnRzIGVsZW1lbnQgdHJhbnNmb3JtYXRpb25cbiAgICAgICAgICAgIFxcKi9cbiAgICAgICAgICAgIGVsLm1hdHJpeCA9IG07XG5cbiAgICAgICAgICAgIF8uc3ggPSBzeDtcbiAgICAgICAgICAgIF8uc3kgPSBzeTtcbiAgICAgICAgICAgIF8uZGVnID0gZGVnO1xuICAgICAgICAgICAgXy5keCA9IGR4ID0gbS5lO1xuICAgICAgICAgICAgXy5keSA9IGR5ID0gbS5mO1xuXG4gICAgICAgICAgICBpZiAoc3ggPT0gMSAmJiBzeSA9PSAxICYmICFkZWcgJiYgXy5iYm94KSB7XG4gICAgICAgICAgICAgICAgXy5iYm94LnggKz0gK2R4O1xuICAgICAgICAgICAgICAgIF8uYmJveC55ICs9ICtkeTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRFbXB0eSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgbCA9IGl0ZW1bMF07XG4gICAgICAgICAgICBzd2l0Y2ggKGwudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6IHJldHVybiBbbCwgMCwgMF07XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjogcmV0dXJuIFtsLCAxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiclwiOiBpZiAoaXRlbS5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2wsIDAsIGl0ZW1bMl0sIGl0ZW1bM11dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6IGlmIChpdGVtLmxlbmd0aCA9PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMSwgMSwgaXRlbVszXSwgaXRlbVs0XV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMSwgMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVxdWFsaXNlVHJhbnNmb3JtID0gUi5fZXF1YWxpc2VUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodDEsIHQyKSB7XG4gICAgICAgICAgICB0MiA9IFN0cih0MikucmVwbGFjZSgvXFwuezN9fFxcdTIwMjYvZywgdDEpO1xuICAgICAgICAgICAgdDEgPSBSLnBhcnNlVHJhbnNmb3JtU3RyaW5nKHQxKSB8fCBbXTtcbiAgICAgICAgICAgIHQyID0gUi5wYXJzZVRyYW5zZm9ybVN0cmluZyh0MikgfHwgW107XG4gICAgICAgICAgICB2YXIgbWF4bGVuZ3RoID0gbW1heCh0MS5sZW5ndGgsIHQyLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgZnJvbSA9IFtdLFxuICAgICAgICAgICAgICAgIHRvID0gW10sXG4gICAgICAgICAgICAgICAgaSA9IDAsIGosIGpqLFxuICAgICAgICAgICAgICAgIHR0MSwgdHQyO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBtYXhsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHR0MSA9IHQxW2ldIHx8IGdldEVtcHR5KHQyW2ldKTtcbiAgICAgICAgICAgICAgICB0dDIgPSB0MltpXSB8fCBnZXRFbXB0eSh0dDEpO1xuICAgICAgICAgICAgICAgIGlmICgodHQxWzBdICE9IHR0MlswXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR0MVswXS50b0xvd2VyQ2FzZSgpID09IFwiclwiICYmICh0dDFbMl0gIT0gdHQyWzJdIHx8IHR0MVszXSAhPSB0dDJbM10pKSB8fFxuICAgICAgICAgICAgICAgICAgICAodHQxWzBdLnRvTG93ZXJDYXNlKCkgPT0gXCJzXCIgJiYgKHR0MVszXSAhPSB0dDJbM10gfHwgdHQxWzRdICE9IHR0Mls0XSkpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZyb21baV0gPSBbXTtcbiAgICAgICAgICAgICAgICB0b1tpXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gbW1heCh0dDEubGVuZ3RoLCB0dDIubGVuZ3RoKTsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaiBpbiB0dDEgJiYgKGZyb21baV1bal0gPSB0dDFbal0pO1xuICAgICAgICAgICAgICAgICAgICBqIGluIHR0MiAmJiAodG9baV1bal0gPSB0dDJbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogdG9cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgUi5fZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyID0gaCA9PSBudWxsICYmICFSLmlzKHgsIFwib2JqZWN0XCIpID8gZy5kb2MuZ2V0RWxlbWVudEJ5SWQoeCkgOiB4O1xuICAgICAgICBpZiAoY29udGFpbmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbmVyLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIGlmICh5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci5zdHlsZS5waXhlbFdpZHRoIHx8IGNvbnRhaW5lci5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjb250YWluZXIuc3R5bGUucGl4ZWxIZWlnaHQgfHwgY29udGFpbmVyLm9mZnNldEhlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogeSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB3XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGFpbmVyOiAxLFxuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgIGhlaWdodDogaFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGF0aFRvUmVsYXRpdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogQ29udmVydHMgcGF0aCB0byByZWxhdGl2ZSBmb3JtXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGhTdHJpbmcgKHN0cmluZ3xhcnJheSkgcGF0aCBzdHJpbmcgb3IgYXJyYXkgb2Ygc2VnbWVudHNcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHNlZ21lbnRzLlxuICAgIFxcKi9cbiAgICBSLnBhdGhUb1JlbGF0aXZlID0gcGF0aFRvUmVsYXRpdmU7XG4gICAgUi5fZW5naW5lID0ge307XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGF0aDJjdXJ2ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBwYXRoIHRvIGEgbmV3IHBhdGggd2hlcmUgYWxsIHNlZ21lbnRzIGFyZSBjdWJpYyBiZXppZXIgY3VydmVzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoU3RyaW5nIChzdHJpbmd8YXJyYXkpIHBhdGggc3RyaW5nIG9yIGFycmF5IG9mIHNlZ21lbnRzXG4gICAgID0gKGFycmF5KSBhcnJheSBvZiBzZWdtZW50cy5cbiAgICBcXCovXG4gICAgUi5wYXRoMmN1cnZlID0gcGF0aDJjdXJ2ZTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5tYXRyaXhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBtYXRyaXggYmFzZWQgb24gZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYSAobnVtYmVyKVxuICAgICAtIGIgKG51bWJlcilcbiAgICAgLSBjIChudW1iZXIpXG4gICAgIC0gZCAobnVtYmVyKVxuICAgICAtIGUgKG51bWJlcilcbiAgICAgLSBmIChudW1iZXIpXG4gICAgID0gKG9iamVjdCkgQE1hdHJpeFxuICAgIFxcKi9cbiAgICBSLm1hdHJpeCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hID0gK2E7XG4gICAgICAgICAgICB0aGlzLmIgPSArYjtcbiAgICAgICAgICAgIHRoaXMuYyA9ICtjO1xuICAgICAgICAgICAgdGhpcy5kID0gK2Q7XG4gICAgICAgICAgICB0aGlzLmUgPSArZTtcbiAgICAgICAgICAgIHRoaXMuZiA9ICtmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgICAgIHRoaXMuYiA9IDA7XG4gICAgICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgICAgIHRoaXMuZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmYgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIChmdW5jdGlvbiAobWF0cml4cHJvdG8pIHtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguYWRkXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBBZGRzIGdpdmVuIG1hdHJpeCB0byBleGlzdGluZyBvbmUuXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gYSAobnVtYmVyKVxuICAgICAgICAgLSBiIChudW1iZXIpXG4gICAgICAgICAtIGMgKG51bWJlcilcbiAgICAgICAgIC0gZCAobnVtYmVyKVxuICAgICAgICAgLSBlIChudW1iZXIpXG4gICAgICAgICAtIGYgKG51bWJlcilcbiAgICAgICAgIG9yXG4gICAgICAgICAtIG1hdHJpeCAob2JqZWN0KSBATWF0cml4XG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uYWRkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbW10sIFtdLCBbXV0sXG4gICAgICAgICAgICAgICAgbSA9IFtbdGhpcy5hLCB0aGlzLmMsIHRoaXMuZV0sIFt0aGlzLmIsIHRoaXMuZCwgdGhpcy5mXSwgWzAsIDAsIDFdXSxcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBbW2EsIGMsIGVdLCBbYiwgZCwgZl0sIFswLCAwLCAxXV0sXG4gICAgICAgICAgICAgICAgeCwgeSwgeiwgcmVzO1xuXG4gICAgICAgICAgICBpZiAoYSAmJiBhIGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgICAgICAgICAgbWF0cml4ID0gW1thLmEsIGEuYywgYS5lXSwgW2EuYiwgYS5kLCBhLmZdLCBbMCwgMCwgMV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgMzsgeCsrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh5ID0gMDsgeSA8IDM7IHkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHogPSAwOyB6IDwgMzsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgKz0gbVt4XVt6XSAqIG1hdHJpeFt6XVt5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXRbeF1beV0gPSByZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hID0gb3V0WzBdWzBdO1xuICAgICAgICAgICAgdGhpcy5iID0gb3V0WzFdWzBdO1xuICAgICAgICAgICAgdGhpcy5jID0gb3V0WzBdWzFdO1xuICAgICAgICAgICAgdGhpcy5kID0gb3V0WzFdWzFdO1xuICAgICAgICAgICAgdGhpcy5lID0gb3V0WzBdWzJdO1xuICAgICAgICAgICAgdGhpcy5mID0gb3V0WzFdWzJdO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5pbnZlcnRcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybnMgaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGUgbWF0cml4XG4gICAgICAgICA9IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHggPSBtZS5hICogbWUuZCAtIG1lLmIgKiBtZS5jO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgobWUuZCAvIHgsIC1tZS5iIC8geCwgLW1lLmMgLyB4LCBtZS5hIC8geCwgKG1lLmMgKiBtZS5mIC0gbWUuZCAqIG1lLmUpIC8geCwgKG1lLmIgKiBtZS5lIC0gbWUuYSAqIG1lLmYpIC8geCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LmNsb25lXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm5zIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgICAgICAgPSAob2JqZWN0KSBATWF0cml4XG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCh0aGlzLmEsIHRoaXMuYiwgdGhpcy5jLCB0aGlzLmQsIHRoaXMuZSwgdGhpcy5mKTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXgudHJhbnNsYXRlXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBUcmFuc2xhdGUgdGhlIG1hdHJpeFxuICAgICAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICAgICAtIHggKG51bWJlcilcbiAgICAgICAgIC0geSAobnVtYmVyKVxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICB0aGlzLmFkZCgxLCAwLCAwLCAxLCB4LCB5KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguc2NhbGVcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFNjYWxlcyB0aGUgbWF0cml4XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0geCAobnVtYmVyKVxuICAgICAgICAgLSB5IChudW1iZXIpICNvcHRpb25hbFxuICAgICAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWxcbiAgICAgICAgIC0gY3kgKG51bWJlcikgI29wdGlvbmFsXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSwgY3gsIGN5KSB7XG4gICAgICAgICAgICB5ID09IG51bGwgJiYgKHkgPSB4KTtcbiAgICAgICAgICAgIChjeCB8fCBjeSkgJiYgdGhpcy5hZGQoMSwgMCwgMCwgMSwgY3gsIGN5KTtcbiAgICAgICAgICAgIHRoaXMuYWRkKHgsIDAsIDAsIHksIDAsIDApO1xuICAgICAgICAgICAgKGN4IHx8IGN5KSAmJiB0aGlzLmFkZCgxLCAwLCAwLCAxLCAtY3gsIC1jeSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnJvdGF0ZVxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUm90YXRlcyB0aGUgbWF0cml4XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gYSAobnVtYmVyKVxuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcilcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5yb3RhdGUgPSBmdW5jdGlvbiAoYSwgeCwgeSkge1xuICAgICAgICAgICAgYSA9IFIucmFkKGEpO1xuICAgICAgICAgICAgeCA9IHggfHwgMDtcbiAgICAgICAgICAgIHkgPSB5IHx8IDA7XG4gICAgICAgICAgICB2YXIgY29zID0gK21hdGguY29zKGEpLnRvRml4ZWQoOSksXG4gICAgICAgICAgICAgICAgc2luID0gK21hdGguc2luKGEpLnRvRml4ZWQoOSk7XG4gICAgICAgICAgICB0aGlzLmFkZChjb3MsIHNpbiwgLXNpbiwgY29zLCB4LCB5KTtcbiAgICAgICAgICAgIHRoaXMuYWRkKDEsIDAsIDAsIDEsIC14LCAteSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybiB4IGNvb3JkaW5hdGUgZm9yIGdpdmVuIHBvaW50IGFmdGVyIHRyYW5zZm9ybWF0aW9uIGRlc2NyaWJlZCBieSB0aGUgbWF0cml4LiBTZWUgYWxzbyBATWF0cml4LnlcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcilcbiAgICAgICAgID0gKG51bWJlcikgeFxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnggPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIHggKiB0aGlzLmEgKyB5ICogdGhpcy5jICsgdGhpcy5lO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC55XG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm4geSBjb29yZGluYXRlIGZvciBnaXZlbiBwb2ludCBhZnRlciB0cmFuc2Zvcm1hdGlvbiBkZXNjcmliZWQgYnkgdGhlIG1hdHJpeC4gU2VlIGFsc28gQE1hdHJpeC54XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0geCAobnVtYmVyKVxuICAgICAgICAgLSB5IChudW1iZXIpXG4gICAgICAgICA9IChudW1iZXIpIHlcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by55ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiB4ICogdGhpcy5iICsgeSAqIHRoaXMuZCArIHRoaXMuZjtcbiAgICAgICAgfTtcbiAgICAgICAgbWF0cml4cHJvdG8uZ2V0ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiArdGhpc1tTdHIuZnJvbUNoYXJDb2RlKDk3ICsgaSldLnRvRml4ZWQoNCk7XG4gICAgICAgIH07XG4gICAgICAgIG1hdHJpeHByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFIuc3ZnID9cbiAgICAgICAgICAgICAgICBcIm1hdHJpeChcIiArIFt0aGlzLmdldCgwKSwgdGhpcy5nZXQoMSksIHRoaXMuZ2V0KDIpLCB0aGlzLmdldCgzKSwgdGhpcy5nZXQoNCksIHRoaXMuZ2V0KDUpXS5qb2luKCkgKyBcIilcIiA6XG4gICAgICAgICAgICAgICAgW3RoaXMuZ2V0KDApLCB0aGlzLmdldCgyKSwgdGhpcy5nZXQoMSksIHRoaXMuZ2V0KDMpLCAwLCAwXS5qb2luKCk7XG4gICAgICAgIH07XG4gICAgICAgIG1hdHJpeHByb3RvLnRvRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9XCIgKyB0aGlzLmdldCgwKSArXG4gICAgICAgICAgICAgICAgXCIsIE0xMj1cIiArIHRoaXMuZ2V0KDIpICsgXCIsIE0yMT1cIiArIHRoaXMuZ2V0KDEpICsgXCIsIE0yMj1cIiArIHRoaXMuZ2V0KDMpICtcbiAgICAgICAgICAgICAgICBcIiwgRHg9XCIgKyB0aGlzLmdldCg0KSArIFwiLCBEeT1cIiArIHRoaXMuZ2V0KDUpICsgXCIsIHNpemluZ21ldGhvZD0nYXV0byBleHBhbmQnKVwiO1xuICAgICAgICB9O1xuICAgICAgICBtYXRyaXhwcm90by5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuZS50b0ZpeGVkKDQpLCB0aGlzLmYudG9GaXhlZCg0KV07XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIG5vcm0oYSkge1xuICAgICAgICAgICAgcmV0dXJuIGFbMF0gKiBhWzBdICsgYVsxXSAqIGFbMV07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplKGEpIHtcbiAgICAgICAgICAgIHZhciBtYWcgPSBtYXRoLnNxcnQobm9ybShhKSk7XG4gICAgICAgICAgICBhWzBdICYmIChhWzBdIC89IG1hZyk7XG4gICAgICAgICAgICBhWzFdICYmIChhWzFdIC89IG1hZyk7XG4gICAgICAgIH1cbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguc3BsaXRcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFNwbGl0cyBtYXRyaXggaW50byBwcmltaXRpdmUgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgICA9IChvYmplY3QpIGluIGZvcm1hdDpcbiAgICAgICAgIG8gZHggKG51bWJlcikgdHJhbnNsYXRpb24gYnkgeFxuICAgICAgICAgbyBkeSAobnVtYmVyKSB0cmFuc2xhdGlvbiBieSB5XG4gICAgICAgICBvIHNjYWxleCAobnVtYmVyKSBzY2FsZSBieSB4XG4gICAgICAgICBvIHNjYWxleSAobnVtYmVyKSBzY2FsZSBieSB5XG4gICAgICAgICBvIHNoZWFyIChudW1iZXIpIHNoZWFyXG4gICAgICAgICBvIHJvdGF0ZSAobnVtYmVyKSByb3RhdGlvbiBpbiBkZWdcbiAgICAgICAgIG8gaXNTaW1wbGUgKGJvb2xlYW4pIGNvdWxkIGl0IGJlIHJlcHJlc2VudGVkIHZpYSBzaW1wbGUgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uc3BsaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3V0ID0ge307XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGlvblxuICAgICAgICAgICAgb3V0LmR4ID0gdGhpcy5lO1xuICAgICAgICAgICAgb3V0LmR5ID0gdGhpcy5mO1xuXG4gICAgICAgICAgICAvLyBzY2FsZSBhbmQgc2hlYXJcbiAgICAgICAgICAgIHZhciByb3cgPSBbW3RoaXMuYSwgdGhpcy5jXSwgW3RoaXMuYiwgdGhpcy5kXV07XG4gICAgICAgICAgICBvdXQuc2NhbGV4ID0gbWF0aC5zcXJ0KG5vcm0ocm93WzBdKSk7XG4gICAgICAgICAgICBub3JtYWxpemUocm93WzBdKTtcblxuICAgICAgICAgICAgb3V0LnNoZWFyID0gcm93WzBdWzBdICogcm93WzFdWzBdICsgcm93WzBdWzFdICogcm93WzFdWzFdO1xuICAgICAgICAgICAgcm93WzFdID0gW3Jvd1sxXVswXSAtIHJvd1swXVswXSAqIG91dC5zaGVhciwgcm93WzFdWzFdIC0gcm93WzBdWzFdICogb3V0LnNoZWFyXTtcblxuICAgICAgICAgICAgb3V0LnNjYWxleSA9IG1hdGguc3FydChub3JtKHJvd1sxXSkpO1xuICAgICAgICAgICAgbm9ybWFsaXplKHJvd1sxXSk7XG4gICAgICAgICAgICBvdXQuc2hlYXIgLz0gb3V0LnNjYWxleTtcblxuICAgICAgICAgICAgLy8gcm90YXRpb25cbiAgICAgICAgICAgIHZhciBzaW4gPSAtcm93WzBdWzFdLFxuICAgICAgICAgICAgICAgIGNvcyA9IHJvd1sxXVsxXTtcbiAgICAgICAgICAgIGlmIChjb3MgPCAwKSB7XG4gICAgICAgICAgICAgICAgb3V0LnJvdGF0ZSA9IFIuZGVnKG1hdGguYWNvcyhjb3MpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2luIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucm90YXRlID0gMzYwIC0gb3V0LnJvdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dC5yb3RhdGUgPSBSLmRlZyhtYXRoLmFzaW4oc2luKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dC5pc1NpbXBsZSA9ICErb3V0LnNoZWFyLnRvRml4ZWQoOSkgJiYgKG91dC5zY2FsZXgudG9GaXhlZCg5KSA9PSBvdXQuc2NhbGV5LnRvRml4ZWQoOSkgfHwgIW91dC5yb3RhdGUpO1xuICAgICAgICAgICAgb3V0LmlzU3VwZXJTaW1wbGUgPSAhK291dC5zaGVhci50b0ZpeGVkKDkpICYmIG91dC5zY2FsZXgudG9GaXhlZCg5KSA9PSBvdXQuc2NhbGV5LnRvRml4ZWQoOSkgJiYgIW91dC5yb3RhdGU7XG4gICAgICAgICAgICBvdXQubm9Sb3RhdGlvbiA9ICErb3V0LnNoZWFyLnRvRml4ZWQoOSkgJiYgIW91dC5yb3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC50b1RyYW5zZm9ybVN0cmluZ1xuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJuIHRyYW5zZm9ybSBzdHJpbmcgdGhhdCByZXByZXNlbnRzIGdpdmVuIG1hdHJpeFxuICAgICAgICAgPSAoc3RyaW5nKSB0cmFuc2Zvcm0gc3RyaW5nXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8udG9UcmFuc2Zvcm1TdHJpbmcgPSBmdW5jdGlvbiAoc2hvcnRlcikge1xuICAgICAgICAgICAgdmFyIHMgPSBzaG9ydGVyIHx8IHRoaXNbc3BsaXRdKCk7XG4gICAgICAgICAgICBpZiAocy5pc1NpbXBsZSkge1xuICAgICAgICAgICAgICAgIHMuc2NhbGV4ID0gK3Muc2NhbGV4LnRvRml4ZWQoNCk7XG4gICAgICAgICAgICAgICAgcy5zY2FsZXkgPSArcy5zY2FsZXkudG9GaXhlZCg0KTtcbiAgICAgICAgICAgICAgICBzLnJvdGF0ZSA9ICtzLnJvdGF0ZS50b0ZpeGVkKDQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAgKHMuZHggfHwgcy5keSA/IFwidFwiICsgW3MuZHgsIHMuZHldIDogRSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHMuc2NhbGV4ICE9IDEgfHwgcy5zY2FsZXkgIT0gMSA/IFwic1wiICsgW3Muc2NhbGV4LCBzLnNjYWxleSwgMCwgMF0gOiBFKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAocy5yb3RhdGUgPyBcInJcIiArIFtzLnJvdGF0ZSwgMCwgMF0gOiBFKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibVwiICsgW3RoaXMuZ2V0KDApLCB0aGlzLmdldCgxKSwgdGhpcy5nZXQoMiksIHRoaXMuZ2V0KDMpLCB0aGlzLmdldCg0KSwgdGhpcy5nZXQoNSldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKE1hdHJpeC5wcm90b3R5cGUpO1xuXG4gICAgdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfSxcbiAgICBwcmV2ZW50VG91Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9LFxuICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH0sXG4gICAgc3RvcFRvdWNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sXG4gICAgZ2V0RXZlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzY3JvbGxZID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBnLmRvYy5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICAgIHNjcm9sbFggPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBnLmRvYy5ib2R5LnNjcm9sbExlZnQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGUuY2xpZW50WCArIHNjcm9sbFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFkgKyBzY3JvbGxZXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhZGRFdmVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChnLmRvYy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgdHlwZSwgZm4sIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBnZXRFdmVudFBvc2l0aW9uKGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbChlbGVtZW50LCBlLCBwb3MueCwgcG9zLnkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1cHBvcnRzVG91Y2ggJiYgdG91Y2hNYXBbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBnZXRFdmVudFBvc2l0aW9uKGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZGUgPSBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXRUb3VjaGVzW2ldLnRhcmdldCA9PSBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGUudGFyZ2V0VG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50ID0gb2xkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnRUb3VjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24gPSBzdG9wVG91Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbWVudCwgZSwgcG9zLngsIHBvcy55KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hNYXBbdHlwZV0sIF9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0c1RvdWNoICYmIHRvdWNoTWFwW3R5cGVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hNYXBbdHlwZV0sIF9mLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZy5kb2MuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IGUgfHwgZy53aW4uZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxZID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBnLmRvYy5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFggPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBnLmRvYy5ib2R5LnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gZS5jbGllbnRYICsgc2Nyb2xsWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBlLmNsaWVudFkgKyBzY3JvbGxZO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gZS5wcmV2ZW50RGVmYXVsdCB8fCBwcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24gPSBlLnN0b3BQcm9wYWdhdGlvbiB8fCBzdG9wUHJvcGFnYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIGUsIHgsIHkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb2JqLmF0dGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgICAgICAgICAgICAgIHZhciBkZXRhY2hlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmRldGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXRhY2hlcjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KSgpLFxuICAgIGRyYWcgPSBbXSxcbiAgICBkcmFnTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB4ID0gZS5jbGllbnRYLFxuICAgICAgICAgICAgeSA9IGUuY2xpZW50WSxcbiAgICAgICAgICAgIHNjcm9sbFkgPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGcuZG9jLmJvZHkuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIGRyYWdpLFxuICAgICAgICAgICAgaiA9IGRyYWcubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICBkcmFnaSA9IGRyYWdbal07XG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNUb3VjaCAmJiBlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGUudG91Y2hlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09IGRyYWdpLmVsLl9kcmFnLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgKGUub3JpZ2luYWxFdmVudCA/IGUub3JpZ2luYWxFdmVudCA6IGUpLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vZGUgPSBkcmFnaS5lbC5ub2RlLFxuICAgICAgICAgICAgICAgIG8sXG4gICAgICAgICAgICAgICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBub2RlLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgICAgICBnLndpbi5vcGVyYSAmJiBwYXJlbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIG8gPSBkcmFnaS5lbC5wYXBlci5nZXRFbGVtZW50QnlQb2ludCh4LCB5KTtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgICAgICBnLndpbi5vcGVyYSAmJiAobmV4dCA/IHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCkgOiBwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSkpO1xuICAgICAgICAgICAgbyAmJiBldmUoXCJyYXBoYWVsLmRyYWcub3Zlci5cIiArIGRyYWdpLmVsLmlkLCBkcmFnaS5lbCwgbyk7XG4gICAgICAgICAgICB4ICs9IHNjcm9sbFg7XG4gICAgICAgICAgICB5ICs9IHNjcm9sbFk7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRyYWcubW92ZS5cIiArIGRyYWdpLmVsLmlkLCBkcmFnaS5tb3ZlX3Njb3BlIHx8IGRyYWdpLmVsLCB4IC0gZHJhZ2kuZWwuX2RyYWcueCwgeSAtIGRyYWdpLmVsLl9kcmFnLnksIHgsIHksIGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkcmFnVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBSLnVubW91c2Vtb3ZlKGRyYWdNb3ZlKS51bm1vdXNldXAoZHJhZ1VwKTtcbiAgICAgICAgdmFyIGkgPSBkcmFnLmxlbmd0aCxcbiAgICAgICAgICAgIGRyYWdpO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBkcmFnaSA9IGRyYWdbaV07XG4gICAgICAgICAgICBkcmFnaS5lbC5fZHJhZyA9IHt9O1xuICAgICAgICAgICAgZXZlKFwicmFwaGFlbC5kcmFnLmVuZC5cIiArIGRyYWdpLmVsLmlkLCBkcmFnaS5lbmRfc2NvcGUgfHwgZHJhZ2kuc3RhcnRfc2NvcGUgfHwgZHJhZ2kubW92ZV9zY29wZSB8fCBkcmFnaS5lbCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhZyA9IFtdO1xuICAgIH0sXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZWxcbiAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICoqXG4gICAgICogWW91IGNhbiBhZGQgeW91ciBvd24gbWV0aG9kIHRvIGVsZW1lbnRzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGhhY2sgZGVmYXVsdCBmdW5jdGlvbmFsaXR5IG9yXG4gICAgICogd2FudCB0byB3cmFwIHNvbWUgY29tbW9uIHRyYW5zZm9ybWF0aW9uIG9yIGF0dHJpYnV0ZXMgaW4gb25lIG1ldGhvZC4gSW4gZGlmZmVyZW5jZSB0byBjYW52YXMgbWV0aG9kcyxcbiAgICAgKiB5b3UgY2FuIHJlZGVmaW5lIGVsZW1lbnQgbWV0aG9kIGF0IGFueSB0aW1lLiBFeHBlbmRpbmcgZWxlbWVudCBtZXRob2RzIHdvdWxkbuKAmXQgYWZmZWN0IHNldC5cbiAgICAgPiBVc2FnZVxuICAgICB8IFJhcGhhZWwuZWwucmVkID0gZnVuY3Rpb24gKCkge1xuICAgICB8ICAgICB0aGlzLmF0dHIoe2ZpbGw6IFwiI2YwMFwifSk7XG4gICAgIHwgfTtcbiAgICAgfCAvLyB0aGVuIHVzZSBpdFxuICAgICB8IHBhcGVyLmNpcmNsZSgxMDAsIDEwMCwgMjApLnJlZCgpO1xuICAgIFxcKi9cbiAgICBlbHByb3RvID0gUi5lbCA9IHt9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmNsaWNrXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIGNsaWNrIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZGJsY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgZG91YmxlIGNsaWNrIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuZGJsY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgZG91YmxlIGNsaWNrIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50Lm1vdXNlZG93blxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZWRvd25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2Vkb3duIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50Lm1vdXNlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW1vdmUgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZW1vdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2Vtb3ZlIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50Lm1vdXNlb3V0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlb3V0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVubW91c2VvdXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2VvdXQgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2VvdmVyXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlb3ZlciBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bm1vdXNlb3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW92ZXIgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2V1cFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZXVwIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVubW91c2V1cFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZXVwIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNoc3RhcnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hzdGFydCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bnRvdWNoc3RhcnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hzdGFydCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b3VjaG1vdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2htb3ZlIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2htb3ZlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNobW92ZSBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b3VjaGVuZFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaGVuZCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bnRvdWNoZW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoZW5kIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNoY2FuY2VsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoY2FuY2VsIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2hjYW5jZWxcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hjYW5jZWwgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGZvciAodmFyIGkgPSBldmVudHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICBSW2V2ZW50TmFtZV0gPSBlbHByb3RvW2V2ZW50TmFtZV0gPSBmdW5jdGlvbiAoZm4sIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFIuaXMoZm4sIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaCh7bmFtZTogZXZlbnROYW1lLCBmOiBmbiwgdW5iaW5kOiBhZGRFdmVudCh0aGlzLnNoYXBlIHx8IHRoaXMubm9kZSB8fCBnLmRvYywgZXZlbnROYW1lLCBmbiwgc2NvcGUgfHwgdGhpcyl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUltcInVuXCIgKyBldmVudE5hbWVdID0gZWxwcm90b1tcInVuXCIgKyBldmVudE5hbWVdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IFtdLFxuICAgICAgICAgICAgICAgICAgICBsID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobC0tKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tsXS5uYW1lID09IGV2ZW50TmFtZSAmJiAoUi5pcyhmbiwgXCJ1bmRlZmluZWRcIikgfHwgZXZlbnRzW2xdLmYgPT0gZm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHNbbF0udW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGwsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgIWV2ZW50cy5sZW5ndGggJiYgZGVsZXRlIHRoaXMuZXZlbnRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoZXZlbnRzW2ldKTtcbiAgICB9XG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5kYXRhXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIG9yIHJldHJpZXZlcyBnaXZlbiB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggZ2l2ZW4ga2V5LlxuICAgICAqKlxuICAgICAqIFNlZSBhbHNvIEBFbGVtZW50LnJlbW92ZURhdGFcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0ga2V5IChzdHJpbmcpIGtleSB0byBzdG9yZSBkYXRhXG4gICAgIC0gdmFsdWUgKGFueSkgI29wdGlvbmFsIHZhbHVlIHRvIHN0b3JlXG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICAgKiBvciwgaWYgdmFsdWUgaXMgbm90IHNwZWNpZmllZDpcbiAgICAgPSAoYW55KSB2YWx1ZVxuICAgICAqIG9yLCBpZiBrZXkgYW5kIHZhbHVlIGFyZSBub3Qgc3BlY2lmaWVkOlxuICAgICA9IChvYmplY3QpIEtleS92YWx1ZSBwYWlycyBmb3IgYWxsIHRoZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudC5cbiAgICAgPiBVc2FnZVxuICAgICB8IGZvciAodmFyIGkgPSAwLCBpIDwgNSwgaSsrKSB7XG4gICAgIHwgICAgIHBhcGVyLmNpcmNsZSgxMCArIDE1ICogaSwgMTAsIDEwKVxuICAgICB8ICAgICAgICAgIC5hdHRyKHtmaWxsOiBcIiMwMDBcIn0pXG4gICAgIHwgICAgICAgICAgLmRhdGEoXCJpXCIsIGkpXG4gICAgIHwgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgfCAgICAgICAgICAgICBhbGVydCh0aGlzLmRhdGEoXCJpXCIpKTtcbiAgICAgfCAgICAgICAgICB9KTtcbiAgICAgfCB9XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBkYXRhID0gZWxkYXRhW3RoaXMuaWRdID0gZWxkYXRhW3RoaXMuaWRdIHx8IHt9O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoUi5pcyhrZXksIFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBrZXkpIGlmIChrZXlbaGFzXShpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEoaSwga2V5W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRhdGEuZ2V0LlwiICsgdGhpcy5pZCwgdGhpcywgZGF0YVtrZXldLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgZXZlKFwicmFwaGFlbC5kYXRhLnNldC5cIiArIHRoaXMuaWQsIHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlbW92ZURhdGFcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGFuIGVsZW1lbnQgYnkgZ2l2ZW4ga2V5LlxuICAgICAqIElmIGtleSBpcyBub3QgcHJvdmlkZWQsIHJlbW92ZXMgYWxsIHRoZSBkYXRhIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBrZXkgKHN0cmluZykgI29wdGlvbmFsIGtleVxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8ucmVtb3ZlRGF0YSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbGRhdGFbdGhpcy5pZF0gPSB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZGF0YVt0aGlzLmlkXSAmJiBkZWxldGUgZWxkYXRhW3RoaXMuaWRdW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0RGF0YVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0cmlldmVzIHRoZSBlbGVtZW50IGRhdGFcbiAgICAgPSAob2JqZWN0KSBkYXRhXG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lKGVsZGF0YVt0aGlzLmlkXSB8fCB7fSk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5ob3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgaG92ZXIgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBmX2luIChmdW5jdGlvbikgaGFuZGxlciBmb3IgaG92ZXIgaW5cbiAgICAgLSBmX291dCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIG91dFxuICAgICAtIGljb250ZXh0IChvYmplY3QpICNvcHRpb25hbCBjb250ZXh0IGZvciBob3ZlciBpbiBoYW5kbGVyXG4gICAgIC0gb2NvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIGhvdmVyIG91dCBoYW5kbGVyXG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5ob3ZlciA9IGZ1bmN0aW9uIChmX2luLCBmX291dCwgc2NvcGVfaW4sIHNjb3BlX291dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZW92ZXIoZl9pbiwgc2NvcGVfaW4pLm1vdXNlb3V0KGZfb3V0LCBzY29wZV9vdXQgfHwgc2NvcGVfaW4pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5ob3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVycyBmb3IgaG92ZXIgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBmX2luIChmdW5jdGlvbikgaGFuZGxlciBmb3IgaG92ZXIgaW5cbiAgICAgLSBmX291dCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIG91dFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8udW5ob3ZlciA9IGZ1bmN0aW9uIChmX2luLCBmX291dCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bm1vdXNlb3ZlcihmX2luKS51bm1vdXNlb3V0KGZfb3V0KTtcbiAgICB9O1xuICAgIHZhciBkcmFnZ2FibGUgPSBbXTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5kcmFnXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIGZvciBkcmFnIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBvbm1vdmUgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciBtb3ZpbmdcbiAgICAgLSBvbnN0YXJ0IChmdW5jdGlvbikgaGFuZGxlciBmb3IgZHJhZyBzdGFydFxuICAgICAtIG9uZW5kIChmdW5jdGlvbikgaGFuZGxlciBmb3IgZHJhZyBlbmRcbiAgICAgLSBtY29udGV4dCAob2JqZWN0KSAjb3B0aW9uYWwgY29udGV4dCBmb3IgbW92aW5nIGhhbmRsZXJcbiAgICAgLSBzY29udGV4dCAob2JqZWN0KSAjb3B0aW9uYWwgY29udGV4dCBmb3IgZHJhZyBzdGFydCBoYW5kbGVyXG4gICAgIC0gZWNvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIGRyYWcgZW5kIGhhbmRsZXJcbiAgICAgKiBBZGRpdGlvbmFsbHkgZm9sbG93aW5nIGBkcmFnYCBldmVudHMgd2lsbCBiZSB0cmlnZ2VyZWQ6IGBkcmFnLnN0YXJ0LjxpZD5gIG9uIHN0YXJ0LFxuICAgICAqIGBkcmFnLmVuZC48aWQ+YCBvbiBlbmQgYW5kIGBkcmFnLm1vdmUuPGlkPmAgb24gZXZlcnkgbW92ZS4gV2hlbiBlbGVtZW50IHdpbGwgYmUgZHJhZ2dlZCBvdmVyIGFub3RoZXIgZWxlbWVudFxuICAgICAqIGBkcmFnLm92ZXIuPGlkPmAgd2lsbCBiZSBmaXJlZCBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogU3RhcnQgZXZlbnQgYW5kIHN0YXJ0IGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gc3BlY2lmaWVkIGNvbnRleHQgb3IgaW4gY29udGV4dCBvZiB0aGUgZWxlbWVudCB3aXRoIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICBvIHggKG51bWJlcikgeCBwb3NpdGlvbiBvZiB0aGUgbW91c2VcbiAgICAgbyB5IChudW1iZXIpIHkgcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgIG8gZXZlbnQgKG9iamVjdCkgRE9NIGV2ZW50IG9iamVjdFxuICAgICAqIE1vdmUgZXZlbnQgYW5kIG1vdmUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiBzcGVjaWZpZWQgY29udGV4dCBvciBpbiBjb250ZXh0IG9mIHRoZSBlbGVtZW50IHdpdGggZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgIG8gZHggKG51bWJlcikgc2hpZnQgYnkgeCBmcm9tIHRoZSBzdGFydCBwb2ludFxuICAgICBvIGR5IChudW1iZXIpIHNoaWZ0IGJ5IHkgZnJvbSB0aGUgc3RhcnQgcG9pbnRcbiAgICAgbyB4IChudW1iZXIpIHggcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgIG8geSAobnVtYmVyKSB5IHBvc2l0aW9uIG9mIHRoZSBtb3VzZVxuICAgICBvIGV2ZW50IChvYmplY3QpIERPTSBldmVudCBvYmplY3RcbiAgICAgKiBFbmQgZXZlbnQgYW5kIGVuZCBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHNwZWNpZmllZCBjb250ZXh0IG9yIGluIGNvbnRleHQgb2YgdGhlIGVsZW1lbnQgd2l0aCBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgbyBldmVudCAob2JqZWN0KSBET00gZXZlbnQgb2JqZWN0XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5kcmFnID0gZnVuY3Rpb24gKG9ubW92ZSwgb25zdGFydCwgb25lbmQsIG1vdmVfc2NvcGUsIHN0YXJ0X3Njb3BlLCBlbmRfc2NvcGUpIHtcbiAgICAgICAgZnVuY3Rpb24gc3RhcnQoZSkge1xuICAgICAgICAgICAgKGUub3JpZ2luYWxFdmVudCB8fCBlKS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIHggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSxcbiAgICAgICAgICAgICAgICBzY3JvbGxZID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBnLmRvYy5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICBzY3JvbGxYID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZy5kb2MuYm9keS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdGhpcy5fZHJhZy5pZCA9IGUuaWRlbnRpZmllcjtcbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1RvdWNoICYmIGUudG91Y2hlcykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gZS50b3VjaGVzLmxlbmd0aCwgdG91Y2g7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUudG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZy5pZCA9IHRvdWNoLmlkZW50aWZpZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09IHRoaXMuX2RyYWcuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RyYWcueCA9IHggKyBzY3JvbGxYO1xuICAgICAgICAgICAgdGhpcy5fZHJhZy55ID0geSArIHNjcm9sbFk7XG4gICAgICAgICAgICAhZHJhZy5sZW5ndGggJiYgUi5tb3VzZW1vdmUoZHJhZ01vdmUpLm1vdXNldXAoZHJhZ1VwKTtcbiAgICAgICAgICAgIGRyYWcucHVzaCh7ZWw6IHRoaXMsIG1vdmVfc2NvcGU6IG1vdmVfc2NvcGUsIHN0YXJ0X3Njb3BlOiBzdGFydF9zY29wZSwgZW5kX3Njb3BlOiBlbmRfc2NvcGV9KTtcbiAgICAgICAgICAgIG9uc3RhcnQgJiYgZXZlLm9uKFwicmFwaGFlbC5kcmFnLnN0YXJ0LlwiICsgdGhpcy5pZCwgb25zdGFydCk7XG4gICAgICAgICAgICBvbm1vdmUgJiYgZXZlLm9uKFwicmFwaGFlbC5kcmFnLm1vdmUuXCIgKyB0aGlzLmlkLCBvbm1vdmUpO1xuICAgICAgICAgICAgb25lbmQgJiYgZXZlLm9uKFwicmFwaGFlbC5kcmFnLmVuZC5cIiArIHRoaXMuaWQsIG9uZW5kKTtcbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuZHJhZy5zdGFydC5cIiArIHRoaXMuaWQsIHN0YXJ0X3Njb3BlIHx8IG1vdmVfc2NvcGUgfHwgdGhpcywgZS5jbGllbnRYICsgc2Nyb2xsWCwgZS5jbGllbnRZICsgc2Nyb2xsWSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhZyA9IHt9O1xuICAgICAgICBkcmFnZ2FibGUucHVzaCh7ZWw6IHRoaXMsIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICB0aGlzLm1vdXNlZG93bihzdGFydCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQub25EcmFnT3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU2hvcnRjdXQgZm9yIGFzc2lnbmluZyBldmVudCBoYW5kbGVyIGZvciBgZHJhZy5vdmVyLjxpZD5gIGV2ZW50LCB3aGVyZSBpZCBpcyBpZCBvZiB0aGUgZWxlbWVudCAoc2VlIEBFbGVtZW50LmlkKS5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZiAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGV2ZW50LCBmaXJzdCBhcmd1bWVudCB3b3VsZCBiZSB0aGUgZWxlbWVudCB5b3UgYXJlIGRyYWdnaW5nIG92ZXJcbiAgICBcXCovXG4gICAgZWxwcm90by5vbkRyYWdPdmVyID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgZiA/IGV2ZS5vbihcInJhcGhhZWwuZHJhZy5vdmVyLlwiICsgdGhpcy5pZCwgZikgOiBldmUudW5iaW5kKFwicmFwaGFlbC5kcmFnLm92ZXIuXCIgKyB0aGlzLmlkKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuZHJhZ1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBhbGwgZHJhZyBldmVudCBoYW5kbGVycyBmcm9tIGdpdmVuIGVsZW1lbnQuXG4gICAgXFwqL1xuICAgIGVscHJvdG8udW5kcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaSA9IGRyYWdnYWJsZS5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIGlmIChkcmFnZ2FibGVbaV0uZWwgPT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy51bm1vdXNlZG93bihkcmFnZ2FibGVbaV0uc3RhcnQpO1xuICAgICAgICAgICAgZHJhZ2dhYmxlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGV2ZS51bmJpbmQoXCJyYXBoYWVsLmRyYWcuKi5cIiArIHRoaXMuaWQpO1xuICAgICAgICB9XG4gICAgICAgICFkcmFnZ2FibGUubGVuZ3RoICYmIFIudW5tb3VzZW1vdmUoZHJhZ01vdmUpLnVubW91c2V1cChkcmFnVXApO1xuICAgICAgICBkcmFnID0gW107XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuY2lyY2xlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEcmF3cyBhIGNpcmNsZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRyZVxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmVcbiAgICAgLSByIChudW1iZXIpIHJhZGl1c1xuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJxjaXJjbGXigJ1cbiAgICAgKipcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciBjID0gcGFwZXIuY2lyY2xlKDUwLCA1MCwgNDApO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmNpcmNsZSA9IGZ1bmN0aW9uICh4LCB5LCByKSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUuY2lyY2xlKHRoaXMsIHggfHwgMCwgeSB8fCAwLCByIHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5yZWN0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHRvcCBsZWZ0IGNvcm5lclxuICAgICAtIHdpZHRoIChudW1iZXIpIHdpZHRoXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpIGhlaWdodFxuICAgICAtIHIgKG51bWJlcikgI29wdGlvbmFsIHJhZGl1cyBmb3Igcm91bmRlZCBjb3JuZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdCB3aXRoIHR5cGUg4oCccmVjdOKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgLy8gcmVndWxhciByZWN0YW5nbGVcbiAgICAgfCB2YXIgYyA9IHBhcGVyLnJlY3QoMTAsIDEwLCA1MCwgNTApO1xuICAgICB8IC8vIHJlY3RhbmdsZSB3aXRoIHJvdW5kZWQgY29ybmVyc1xuICAgICB8IHZhciBjID0gcGFwZXIucmVjdCg0MCwgNDAsIDUwLCA1MCwgMTApO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnJlY3QgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgcikge1xuICAgICAgICB2YXIgb3V0ID0gUi5fZW5naW5lLnJlY3QodGhpcywgeCB8fCAwLCB5IHx8IDAsIHcgfHwgMCwgaCB8fCAwLCByIHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5lbGxpcHNlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEcmF3cyBhbiBlbGxpcHNlLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudHJlXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRyZVxuICAgICAtIHJ4IChudW1iZXIpIGhvcml6b250YWwgcmFkaXVzXG4gICAgIC0gcnkgKG51bWJlcikgdmVydGljYWwgcmFkaXVzXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3Qgd2l0aCB0eXBlIOKAnGVsbGlwc2XigJ1cbiAgICAgKipcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciBjID0gcGFwZXIuZWxsaXBzZSg1MCwgNTAsIDQwLCAyMCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZWxsaXBzZSA9IGZ1bmN0aW9uICh4LCB5LCByeCwgcnkpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS5lbGxpcHNlKHRoaXMsIHggfHwgMCwgeSB8fCAwLCByeCB8fCAwLCByeSB8fCAwKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIucGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBhIHBhdGggZWxlbWVudCBieSBnaXZlbiBwYXRoIGRhdGEgc3RyaW5nLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoU3RyaW5nIChzdHJpbmcpICNvcHRpb25hbCBwYXRoIHN0cmluZyBpbiBTVkcgZm9ybWF0LlxuICAgICAqIFBhdGggc3RyaW5nIGNvbnNpc3RzIG9mIG9uZS1sZXR0ZXIgY29tbWFuZHMsIGZvbGxvd2VkIGJ5IGNvbW1hIHNlcHJhcmF0ZWQgYXJndW1lbnRzIGluIG51bWVyY2FsIGZvcm0uIEV4YW1wbGU6XG4gICAgIHwgXCJNMTAsMjBMMzAsNDBcIlxuICAgICAqIEhlcmUgd2UgY2FuIHNlZSB0d28gY29tbWFuZHM6IOKAnE3igJ0sIHdpdGggYXJndW1lbnRzIGAoMTAsIDIwKWAgYW5kIOKAnEzigJ0gd2l0aCBhcmd1bWVudHMgYCgzMCwgNDApYC4gVXBwZXIgY2FzZSBsZXR0ZXIgbWVhbiBjb21tYW5kIGlzIGFic29sdXRlLCBsb3dlciBjYXNl4oCUcmVsYXRpdmUuXG4gICAgICpcbiAgICAgIyA8cD5IZXJlIGlzIHNob3J0IGxpc3Qgb2YgY29tbWFuZHMgYXZhaWxhYmxlLCBmb3IgbW9yZSBkZXRhaWxzIHNlZSA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcIiB0aXRsZT1cIkRldGFpbHMgb2YgYSBwYXRoJ3MgZGF0YSBhdHRyaWJ1dGUncyBmb3JtYXQgYXJlIGRlc2NyaWJlZCBpbiB0aGUgU1ZHIHNwZWNpZmljYXRpb24uXCI+U1ZHIHBhdGggc3RyaW5nIGZvcm1hdDwvYT4uPC9wPlxuICAgICAjIDx0YWJsZT48dGhlYWQ+PHRyPjx0aD5Db21tYW5kPC90aD48dGg+TmFtZTwvdGg+PHRoPlBhcmFtZXRlcnM8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+XG4gICAgICMgPHRyPjx0ZD5NPC90ZD48dGQ+bW92ZXRvPC90ZD48dGQ+KHggeSkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+WjwvdGQ+PHRkPmNsb3NlcGF0aDwvdGQ+PHRkPihub25lKTwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkw8L3RkPjx0ZD5saW5ldG88L3RkPjx0ZD4oeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5IPC90ZD48dGQ+aG9yaXpvbnRhbCBsaW5ldG88L3RkPjx0ZD54KzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPlY8L3RkPjx0ZD52ZXJ0aWNhbCBsaW5ldG88L3RkPjx0ZD55KzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkM8L3RkPjx0ZD5jdXJ2ZXRvPC90ZD48dGQ+KHgxIHkxIHgyIHkyIHggeSkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+UzwvdGQ+PHRkPnNtb290aCBjdXJ2ZXRvPC90ZD48dGQ+KHgyIHkyIHggeSkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+UTwvdGQ+PHRkPnF1YWRyYXRpYyBCw6l6aWVyIGN1cnZldG88L3RkPjx0ZD4oeDEgeTEgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5UPC90ZD48dGQ+c21vb3RoIHF1YWRyYXRpYyBCw6l6aWVyIGN1cnZldG88L3RkPjx0ZD4oeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5BPC90ZD48dGQ+ZWxsaXB0aWNhbCBhcmM8L3RkPjx0ZD4ocnggcnkgeC1heGlzLXJvdGF0aW9uIGxhcmdlLWFyYy1mbGFnIHN3ZWVwLWZsYWcgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5SPC90ZD48dGQ+PGEgaHJlZj1cImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F0bXVsbOKAk1JvbV9zcGxpbmUjQ2F0bXVsbC5FMi44MC45M1JvbV9zcGxpbmVcIj5DYXRtdWxsLVJvbSBjdXJ2ZXRvPC9hPio8L3RkPjx0ZD54MSB5MSAoeCB5KSs8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPlxuICAgICAqICog4oCcQ2F0bXVsbC1Sb20gY3VydmV0b+KAnSBpcyBhIG5vdCBzdGFuZGFyZCBTVkcgY29tbWFuZCBhbmQgYWRkZWQgaW4gMi4wIHRvIG1ha2UgbGlmZSBlYXNpZXIuXG4gICAgICogTm90ZTogdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlbiBwYXRoIGNvbnNpc3Qgb2YganVzdCB0aHJlZSBjb21tYW5kczog4oCcTTEwLDEwUuKApnrigJ0uIEluIHRoaXMgY2FzZSBwYXRoIHdpbGwgc21vb3RobHkgY29ubmVjdHMgdG8gaXRzIGJlZ2lubmluZy5cbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciBjID0gcGFwZXIucGF0aChcIk0xMCAxMEw5MCA5MFwiKTtcbiAgICAgfCAvLyBkcmF3IGEgZGlhZ29uYWwgbGluZTpcbiAgICAgfCAvLyBtb3ZlIHRvIDEwLDEwLCBsaW5lIHRvIDkwLDkwXG4gICAgICogRm9yIGV4YW1wbGUgb2YgcGF0aCBzdHJpbmdzLCBjaGVjayBvdXQgdGhlc2UgaWNvbnM6IGh0dHA6Ly9yYXBoYWVsanMuY29tL2ljb25zL1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnBhdGggPSBmdW5jdGlvbiAocGF0aFN0cmluZykge1xuICAgICAgICBwYXRoU3RyaW5nICYmICFSLmlzKHBhdGhTdHJpbmcsIHN0cmluZykgJiYgIVIuaXMocGF0aFN0cmluZ1swXSwgYXJyYXkpICYmIChwYXRoU3RyaW5nICs9IEUpO1xuICAgICAgICB2YXIgb3V0ID0gUi5fZW5naW5lLnBhdGgoUi5mb3JtYXRbYXBwbHldKFIsIGFyZ3VtZW50cyksIHRoaXMpO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5pbWFnZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRW1iZWRzIGFuIGltYWdlIGludG8gdGhlIHN1cmZhY2UuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHNyYyAoc3RyaW5nKSBVUkkgb2YgdGhlIHNvdXJjZSBpbWFnZVxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIHBvc2l0aW9uXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgcG9zaXRpb25cbiAgICAgLSB3aWR0aCAobnVtYmVyKSB3aWR0aCBvZiB0aGUgaW1hZ2VcbiAgICAgLSBoZWlnaHQgKG51bWJlcikgaGVpZ2h0IG9mIHRoZSBpbWFnZVxuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJxpbWFnZeKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5pbWFnZShcImFwcGxlLnBuZ1wiLCAxMCwgMTAsIDgwLCA4MCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uaW1hZ2UgPSBmdW5jdGlvbiAoc3JjLCB4LCB5LCB3LCBoKSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUuaW1hZ2UodGhpcywgc3JjIHx8IFwiYWJvdXQ6YmxhbmtcIiwgeCB8fCAwLCB5IHx8IDAsIHcgfHwgMCwgaCB8fCAwKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIudGV4dFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRHJhd3MgYSB0ZXh0IHN0cmluZy4gSWYgeW91IG5lZWQgbGluZSBicmVha3MsIHB1dCDigJxcXG7igJ0gaW4gdGhlIHN0cmluZy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgcG9zaXRpb25cbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBwb3NpdGlvblxuICAgICAtIHRleHQgKHN0cmluZykgVGhlIHRleHQgc3RyaW5nIHRvIGRyYXdcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdCB3aXRoIHR5cGUg4oCcdGV4dOKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIHQgPSBwYXBlci50ZXh0KDUwLCA1MCwgXCJSYXBoYcOrbFxcbmtpY2tzXFxuYnV0dCFcIik7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8udGV4dCA9IGZ1bmN0aW9uICh4LCB5LCB0ZXh0KSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUudGV4dCh0aGlzLCB4IHx8IDAsIHkgfHwgMCwgU3RyKHRleHQpKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGtlZXAgYW5kIG9wZXJhdGUgc2V2ZXJhbCBlbGVtZW50cyBhdCBvbmNlLlxuICAgICAqIFdhcm5pbmc6IGl0IGRvZXNu4oCZdCBjcmVhdGUgYW55IGVsZW1lbnRzIGZvciBpdHNlbGYgaW4gdGhlIHBhZ2UsIGl0IGp1c3QgZ3JvdXBzIGV4aXN0aW5nIGVsZW1lbnRzLlxuICAgICAqIFNldHMgYWN0IGFzIHBzZXVkbyBlbGVtZW50cyDigJQgYWxsIG1ldGhvZHMgYXZhaWxhYmxlIHRvIGFuIGVsZW1lbnQgY2FuIGJlIHVzZWQgb24gYSBzZXQuXG4gICAgID0gKG9iamVjdCkgYXJyYXktbGlrZSBvYmplY3QgdGhhdCByZXByZXNlbnRzIHNldCBvZiBlbGVtZW50c1xuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIHN0ID0gcGFwZXIuc2V0KCk7XG4gICAgIHwgc3QucHVzaChcbiAgICAgfCAgICAgcGFwZXIuY2lyY2xlKDEwLCAxMCwgNSksXG4gICAgIHwgICAgIHBhcGVyLmNpcmNsZSgzMCwgMTAsIDUpXG4gICAgIHwgKTtcbiAgICAgfCBzdC5hdHRyKHtmaWxsOiBcInJlZFwifSk7IC8vIGNoYW5nZXMgdGhlIGZpbGwgb2YgYm90aCBjaXJjbGVzXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uc2V0ID0gZnVuY3Rpb24gKGl0ZW1zQXJyYXkpIHtcbiAgICAgICAgIVIuaXMoaXRlbXNBcnJheSwgXCJhcnJheVwiKSAmJiAoaXRlbXNBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDAsIGFyZ3VtZW50cy5sZW5ndGgpKTtcbiAgICAgICAgdmFyIG91dCA9IG5ldyBTZXQoaXRlbXNBcnJheSk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICBvdXRbXCJwYXBlclwiXSA9IHRoaXM7XG4gICAgICAgIG91dFtcInR5cGVcIl0gPSBcInNldFwiO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnNldFN0YXJ0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIEBQYXBlci5zZXQuIEFsbCBlbGVtZW50cyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kIGFuZCBiZWZvcmUgY2FsbGluZ1xuICAgICAqIEBQYXBlci5zZXRGaW5pc2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgc2V0LlxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIuc2V0U3RhcnQoKTtcbiAgICAgfCBwYXBlci5jaXJjbGUoMTAsIDEwLCA1KSxcbiAgICAgfCBwYXBlci5jaXJjbGUoMzAsIDEwLCA1KVxuICAgICB8IHZhciBzdCA9IHBhcGVyLnNldEZpbmlzaCgpO1xuICAgICB8IHN0LmF0dHIoe2ZpbGw6IFwicmVkXCJ9KTsgLy8gY2hhbmdlcyB0aGUgZmlsbCBvZiBib3RoIGNpcmNsZXNcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5zZXRTdGFydCA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgdGhpcy5fX3NldF9fID0gc2V0IHx8IHRoaXMuc2V0KCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0RmluaXNoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZWUgQFBhcGVyLnNldFN0YXJ0LiBUaGlzIG1ldGhvZCBmaW5pc2hlcyBjYXRjaGluZyBhbmQgcmV0dXJucyByZXN1bHRpbmcgc2V0LlxuICAgICAqKlxuICAgICA9IChvYmplY3QpIHNldFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldEZpbmlzaCA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgdmFyIG91dCA9IHRoaXMuX19zZXRfXztcbiAgICAgICAgZGVsZXRlIHRoaXMuX19zZXRfXztcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5nZXRTaXplXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBPYnRhaW5zIGN1cnJlbnQgcGFwZXIgYWN0dWFsIHNpemUuXG4gICAgICoqXG4gICAgID0gKG9iamVjdClcbiAgICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY2FudmFzLnBhcmVudE5vZGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogY29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjb250YWluZXIub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0U2l6ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSWYgeW91IG5lZWQgdG8gY2hhbmdlIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhcyBjYWxsIHRoaXMgbWV0aG9kXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHdpZHRoIChudW1iZXIpIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gUi5fZW5naW5lLnNldFNpemUuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRWaWV3Qm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZXRzIHRoZSB2aWV3IGJveCBvZiB0aGUgcGFwZXIuIFByYWN0aWNhbGx5IGl0IGdpdmVzIHlvdSBhYmlsaXR5IHRvIHpvb20gYW5kIHBhbiB3aG9sZSBwYXBlciBzdXJmYWNlIGJ5XG4gICAgICogc3BlY2lmeWluZyBuZXcgYm91bmRhcmllcy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSBuZXcgeCBwb3NpdGlvbiwgZGVmYXVsdCBpcyBgMGBcbiAgICAgLSB5IChudW1iZXIpIG5ldyB5IHBvc2l0aW9uLCBkZWZhdWx0IGlzIGAwYFxuICAgICAtIHcgKG51bWJlcikgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgLSBoIChudW1iZXIpIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAtIGZpdCAoYm9vbGVhbikgYHRydWVgIGlmIHlvdSB3YW50IGdyYXBoaWNzIHRvIGZpdCBpbnRvIG5ldyBib3VuZGFyeSBib3hcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5zZXRWaWV3Qm94ID0gZnVuY3Rpb24gKHgsIHksIHcsIGgsIGZpdCkge1xuICAgICAgICByZXR1cm4gUi5fZW5naW5lLnNldFZpZXdCb3guY2FsbCh0aGlzLCB4LCB5LCB3LCBoLCBmaXQpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnRvcFxuICAgICBbIHByb3BlcnR5IF1cbiAgICAgKipcbiAgICAgKiBQb2ludHMgdG8gdGhlIHRvcG1vc3QgZWxlbWVudCBvbiB0aGUgcGFwZXJcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIFBhcGVyLmJvdHRvbVxuICAgICBbIHByb3BlcnR5IF1cbiAgICAgKipcbiAgICAgKiBQb2ludHMgdG8gdGhlIGJvdHRvbSBlbGVtZW50IG9uIHRoZSBwYXBlclxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnRvcCA9IHBhcGVycHJvdG8uYm90dG9tID0gbnVsbDtcbiAgICAvKlxcXG4gICAgICogUGFwZXIucmFwaGFlbFxuICAgICBbIHByb3BlcnR5IF1cbiAgICAgKipcbiAgICAgKiBQb2ludHMgdG8gdGhlIEBSYXBoYWVsIG9iamVjdC9mdW5jdGlvblxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnJhcGhhZWwgPSBSO1xuICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcbiAgICAgICAgICAgIGJvZHkgPSBkb2MuYm9keSxcbiAgICAgICAgICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICAgICAgY2xpZW50VG9wID0gZG9jRWxlbS5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMCwgY2xpZW50TGVmdCA9IGRvY0VsZW0uY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMCxcbiAgICAgICAgICAgIHRvcCAgPSBib3gudG9wICArIChnLndpbi5wYWdlWU9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbFRvcCB8fCBib2R5LnNjcm9sbFRvcCApIC0gY2xpZW50VG9wLFxuICAgICAgICAgICAgbGVmdCA9IGJveC5sZWZ0ICsgKGcud2luLnBhZ2VYT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsTGVmdCB8fCBib2R5LnNjcm9sbExlZnQpIC0gY2xpZW50TGVmdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHk6IHRvcCxcbiAgICAgICAgICAgIHg6IGxlZnRcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5nZXRFbGVtZW50QnlQb2ludFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyB5b3UgdG9wbW9zdCBlbGVtZW50IHVuZGVyIGdpdmVuIHBvaW50LlxuICAgICAqKlxuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIGZyb20gdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgd2luZG93XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSB3aW5kb3dcbiAgICAgPiBVc2FnZVxuICAgICB8IHBhcGVyLmdldEVsZW1lbnRCeVBvaW50KG1vdXNlWCwgbW91c2VZKS5hdHRyKHtzdHJva2U6IFwiI2YwMFwifSk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0RWxlbWVudEJ5UG9pbnQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgcGFwZXIgPSB0aGlzLFxuICAgICAgICAgICAgc3ZnID0gcGFwZXIuY2FudmFzLFxuICAgICAgICAgICAgdGFyZ2V0ID0gZy5kb2MuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgaWYgKGcud2luLm9wZXJhICYmIHRhcmdldC50YWdOYW1lID09IFwic3ZnXCIpIHtcbiAgICAgICAgICAgIHZhciBzbyA9IGdldE9mZnNldChzdmcpLFxuICAgICAgICAgICAgICAgIHNyID0gc3ZnLmNyZWF0ZVNWR1JlY3QoKTtcbiAgICAgICAgICAgIHNyLnggPSB4IC0gc28ueDtcbiAgICAgICAgICAgIHNyLnkgPSB5IC0gc28ueTtcbiAgICAgICAgICAgIHNyLndpZHRoID0gc3IuaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIHZhciBoaXRzID0gc3ZnLmdldEludGVyc2VjdGlvbkxpc3Qoc3IsIG51bGwpO1xuICAgICAgICAgICAgaWYgKGhpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gaGl0c1toaXRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGFyZ2V0LnBhcmVudE5vZGUgJiYgdGFyZ2V0ICE9IHN2Zy5wYXJlbnROb2RlICYmICF0YXJnZXQucmFwaGFlbCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0ID09IHBhcGVyLmNhbnZhcy5wYXJlbnROb2RlICYmICh0YXJnZXQgPSBzdmcpO1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQgJiYgdGFyZ2V0LnJhcGhhZWwgPyBwYXBlci5nZXRCeUlkKHRhcmdldC5yYXBoYWVsaWQpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEVsZW1lbnRzQnlCQm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHNldCBvZiBlbGVtZW50cyB0aGF0IGhhdmUgYW4gaW50ZXJzZWN0aW5nIGJvdW5kaW5nIGJveFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBiYm94IChvYmplY3QpIGJib3ggdG8gY2hlY2sgd2l0aFxuICAgICA9IChvYmplY3QpIEBTZXRcbiAgICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0RWxlbWVudHNCeUJCb3ggPSBmdW5jdGlvbiAoYmJveCkge1xuICAgICAgICB2YXIgc2V0ID0gdGhpcy5zZXQoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKFIuaXNCQm94SW50ZXJzZWN0KGVsLmdldEJCb3goKSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICBzZXQucHVzaChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2V0O1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0QnlJZFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyB5b3UgZWxlbWVudCBieSBpdHMgaW50ZXJuYWwgSUQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGlkIChudW1iZXIpIGlkXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3RcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBib3QgPSB0aGlzLmJvdHRvbTtcbiAgICAgICAgd2hpbGUgKGJvdCkge1xuICAgICAgICAgICAgaWYgKGJvdC5pZCA9PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBib3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3QgPSBib3QubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5mb3JFYWNoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBFeGVjdXRlcyBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IG9uIHRoZSBwYXBlclxuICAgICAqXG4gICAgICogSWYgY2FsbGJhY2sgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIGl0IHdpbGwgc3RvcCBsb29wIHJ1bm5pbmcuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgZnVuY3Rpb24gdG8gcnVuXG4gICAgIC0gdGhpc0FyZyAob2JqZWN0KSBjb250ZXh0IG9iamVjdCBmb3IgdGhlIGNhbGxiYWNrXG4gICAgID0gKG9iamVjdCkgUGFwZXIgb2JqZWN0XG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICB8ICAgICBlbC5hdHRyKHsgc3Ryb2tlOiBcImJsdWVcIiB9KTtcbiAgICAgfCB9KTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBib3QgPSB0aGlzLmJvdHRvbTtcbiAgICAgICAgd2hpbGUgKGJvdCkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgYm90KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvdCA9IGJvdC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEVsZW1lbnRzQnlQb2ludFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyBzZXQgb2YgZWxlbWVudHMgdGhhdCBoYXZlIGNvbW1vbiBwb2ludCBpbnNpZGVcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgID0gKG9iamVjdCkgQFNldFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmdldEVsZW1lbnRzQnlQb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBzZXQgPSB0aGlzLnNldCgpO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoZWwuaXNQb2ludEluc2lkZSh4LCB5KSkge1xuICAgICAgICAgICAgICAgIHNldC5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiB4X3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKyBTICsgdGhpcy55O1xuICAgIH1cbiAgICBmdW5jdGlvbiB4X3lfd19oKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICsgUyArIHRoaXMueSArIFMgKyB0aGlzLndpZHRoICsgXCIgXFx4ZDcgXCIgKyB0aGlzLmhlaWdodDtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaXNQb2ludEluc2lkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGdpdmVuIHBvaW50IGlzIGluc2lkZSB0aGlzIGVsZW1lbnTigJlzIHNoYXBlXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgcG9pbnQgaW5zaWRlIHRoZSBzaGFwZVxuICAgIFxcKi9cbiAgICBlbHByb3RvLmlzUG9pbnRJbnNpZGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgcnAgPSB0aGlzLnJlYWxQYXRoID0gZ2V0UGF0aFt0aGlzLnR5cGVdKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5hdHRyKCd0cmFuc2Zvcm0nKSAmJiB0aGlzLmF0dHIoJ3RyYW5zZm9ybScpLmxlbmd0aCkge1xuICAgICAgICAgICAgcnAgPSBSLnRyYW5zZm9ybVBhdGgocnAsIHRoaXMuYXR0cigndHJhbnNmb3JtJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSLmlzUG9pbnRJbnNpZGVQYXRoKHJwLCB4LCB5KTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldEJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybiBib3VuZGluZyBib3ggZm9yIGEgZ2l2ZW4gZWxlbWVudFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBpc1dpdGhvdXRUcmFuc2Zvcm0gKGJvb2xlYW4pIGZsYWcsIGB0cnVlYCBpZiB5b3Ugd2FudCB0byBoYXZlIGJvdW5kaW5nIGJveCBiZWZvcmUgdHJhbnNmb3JtYXRpb25zLiBEZWZhdWx0IGlzIGBmYWxzZWAuXG4gICAgID0gKG9iamVjdCkgQm91bmRpbmcgYm94IG9iamVjdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHRvcCBsZWZ0IGNvcm5lciB4XG4gICAgIG8gICAgIHk6IChudW1iZXIpIHRvcCBsZWZ0IGNvcm5lciB5XG4gICAgIG8gICAgIHgyOiAobnVtYmVyKSBib3R0b20gcmlnaHQgY29ybmVyIHhcbiAgICAgbyAgICAgeTI6IChudW1iZXIpIGJvdHRvbSByaWdodCBjb3JuZXIgeVxuICAgICBvICAgICB3aWR0aDogKG51bWJlcikgd2lkdGhcbiAgICAgbyAgICAgaGVpZ2h0OiAobnVtYmVyKSBoZWlnaHRcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0QkJveCA9IGZ1bmN0aW9uIChpc1dpdGhvdXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfID0gdGhpcy5fO1xuICAgICAgICBpZiAoaXNXaXRob3V0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBpZiAoXy5kaXJ0eSB8fCAhXy5iYm94d3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWxQYXRoID0gZ2V0UGF0aFt0aGlzLnR5cGVdKHRoaXMpO1xuICAgICAgICAgICAgICAgIF8uYmJveHd0ID0gcGF0aERpbWVuc2lvbnModGhpcy5yZWFsUGF0aCk7XG4gICAgICAgICAgICAgICAgXy5iYm94d3QudG9TdHJpbmcgPSB4X3lfd19oO1xuICAgICAgICAgICAgICAgIF8uZGlydHkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF8uYmJveHd0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmRpcnR5IHx8IF8uZGlydHlUIHx8ICFfLmJib3gpIHtcbiAgICAgICAgICAgIGlmIChfLmRpcnR5IHx8ICF0aGlzLnJlYWxQYXRoKSB7XG4gICAgICAgICAgICAgICAgXy5iYm94d3QgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhbFBhdGggPSBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmJib3ggPSBwYXRoRGltZW5zaW9ucyhtYXBQYXRoKHRoaXMucmVhbFBhdGgsIHRoaXMubWF0cml4KSk7XG4gICAgICAgICAgICBfLmJib3gudG9TdHJpbmcgPSB4X3lfd19oO1xuICAgICAgICAgICAgXy5kaXJ0eSA9IF8uZGlydHlUID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXy5iYm94O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuY2xvbmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICA9IChvYmplY3QpIGNsb25lIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICAgICAqKlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0ID0gdGhpcy5wYXBlclt0aGlzLnR5cGVdKCkuYXR0cih0aGlzLmF0dHIoKSk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2xvd1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIHNldCBvZiBlbGVtZW50cyB0aGF0IGNyZWF0ZSBnbG93LWxpa2UgZWZmZWN0IGFyb3VuZCBnaXZlbiBlbGVtZW50LiBTZWUgQFBhcGVyLnNldC5cbiAgICAgKlxuICAgICAqIE5vdGU6IEdsb3cgaXMgbm90IGNvbm5lY3RlZCB0byB0aGUgZWxlbWVudC4gSWYgeW91IGNoYW5nZSBlbGVtZW50IGF0dHJpYnV0ZXMgaXQgd29u4oCZdCBhZGp1c3QgaXRzZWxmLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBnbG93IChvYmplY3QpICNvcHRpb25hbCBwYXJhbWV0ZXJzIG9iamVjdCB3aXRoIGFsbCBwcm9wZXJ0aWVzIG9wdGlvbmFsOlxuICAgICBvIHtcbiAgICAgbyAgICAgd2lkdGggKG51bWJlcikgc2l6ZSBvZiB0aGUgZ2xvdywgZGVmYXVsdCBpcyBgMTBgXG4gICAgIG8gICAgIGZpbGwgKGJvb2xlYW4pIHdpbGwgaXQgYmUgZmlsbGVkLCBkZWZhdWx0IGlzIGBmYWxzZWBcbiAgICAgbyAgICAgb3BhY2l0eSAobnVtYmVyKSBvcGFjaXR5LCBkZWZhdWx0IGlzIGAwLjVgXG4gICAgIG8gICAgIG9mZnNldHggKG51bWJlcikgaG9yaXpvbnRhbCBvZmZzZXQsIGRlZmF1bHQgaXMgYDBgXG4gICAgIG8gICAgIG9mZnNldHkgKG51bWJlcikgdmVydGljYWwgb2Zmc2V0LCBkZWZhdWx0IGlzIGAwYFxuICAgICBvICAgICBjb2xvciAoc3RyaW5nKSBnbG93IGNvbG91ciwgZGVmYXVsdCBpcyBgYmxhY2tgXG4gICAgIG8gfVxuICAgICA9IChvYmplY3QpIEBQYXBlci5zZXQgb2YgZWxlbWVudHMgdGhhdCByZXByZXNlbnRzIGdsb3dcbiAgICBcXCovXG4gICAgZWxwcm90by5nbG93ID0gZnVuY3Rpb24gKGdsb3cpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcInRleHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvdyA9IGdsb3cgfHwge307XG4gICAgICAgIHZhciBzID0ge1xuICAgICAgICAgICAgd2lkdGg6IChnbG93LndpZHRoIHx8IDEwKSArICgrdGhpcy5hdHRyKFwic3Ryb2tlLXdpZHRoXCIpIHx8IDEpLFxuICAgICAgICAgICAgZmlsbDogZ2xvdy5maWxsIHx8IGZhbHNlLFxuICAgICAgICAgICAgb3BhY2l0eTogZ2xvdy5vcGFjaXR5ID09IG51bGwgPyAuNSA6IGdsb3cub3BhY2l0eSxcbiAgICAgICAgICAgIG9mZnNldHg6IGdsb3cub2Zmc2V0eCB8fCAwLFxuICAgICAgICAgICAgb2Zmc2V0eTogZ2xvdy5vZmZzZXR5IHx8IDAsXG4gICAgICAgICAgICBjb2xvcjogZ2xvdy5jb2xvciB8fCBcIiMwMDBcIlxuICAgICAgICB9LFxuICAgICAgICAgICAgYyA9IHMud2lkdGggLyAyLFxuICAgICAgICAgICAgciA9IHRoaXMucGFwZXIsXG4gICAgICAgICAgICBvdXQgPSByLnNldCgpLFxuICAgICAgICAgICAgcGF0aCA9IHRoaXMucmVhbFBhdGggfHwgZ2V0UGF0aFt0aGlzLnR5cGVdKHRoaXMpO1xuICAgICAgICBwYXRoID0gdGhpcy5tYXRyaXggPyBtYXBQYXRoKHBhdGgsIHRoaXMubWF0cml4KSA6IHBhdGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYyArIDE7IGkrKykge1xuICAgICAgICAgICAgb3V0LnB1c2goci5wYXRoKHBhdGgpLmF0dHIoe1xuICAgICAgICAgICAgICAgIHN0cm9rZTogcy5jb2xvcixcbiAgICAgICAgICAgICAgICBmaWxsOiBzLmZpbGwgPyBzLmNvbG9yIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgXCJzdHJva2UtbGluZWpvaW5cIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6ICsocy53aWR0aCAvIGMgKiBpKS50b0ZpeGVkKDMpLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICsocy5vcGFjaXR5IC8gYykudG9GaXhlZCgzKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQuaW5zZXJ0QmVmb3JlKHRoaXMpLnRyYW5zbGF0ZShzLm9mZnNldHgsIHMub2Zmc2V0eSk7XG4gICAgfTtcbiAgICB2YXIgY3VydmVzbGVuZ3RocyA9IHt9LFxuICAgIGdldFBvaW50QXRTZWdtZW50TGVuZ3RoID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYmV6bGVuKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSLmZpbmREb3RzQXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCBnZXRUYXRMZW4ocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIGxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRMZW5ndGhGYWN0b3J5ID0gZnVuY3Rpb24gKGlzdG90YWwsIHN1YnBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXRoLCBsZW5ndGgsIG9ubHlzdGFydCkge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGgyY3VydmUocGF0aCk7XG4gICAgICAgICAgICB2YXIgeCwgeSwgcCwgbCwgc3AgPSBcIlwiLCBzdWJwYXRocyA9IHt9LCBwb2ludCxcbiAgICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGF0aC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcCA9IHBhdGhbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9ICtwWzFdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gK3BbMl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGdldFBvaW50QXRTZWdtZW50TGVuZ3RoKHgsIHksIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIHBbNl0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVuICsgbCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnBhdGggJiYgIXN1YnBhdGhzLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSBnZXRQb2ludEF0U2VnbWVudExlbmd0aCh4LCB5LCBwWzFdLCBwWzJdLCBwWzNdLCBwWzRdLCBwWzVdLCBwWzZdLCBsZW5ndGggLSBsZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwICs9IFtcIkNcIiArIHBvaW50LnN0YXJ0LngsIHBvaW50LnN0YXJ0LnksIHBvaW50Lm0ueCwgcG9pbnQubS55LCBwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25seXN0YXJ0KSB7cmV0dXJuIHNwO31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJwYXRocy5zdGFydCA9IHNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwID0gW1wiTVwiICsgcG9pbnQueCwgcG9pbnQueSArIFwiQ1wiICsgcG9pbnQubi54LCBwb2ludC5uLnksIHBvaW50LmVuZC54LCBwb2ludC5lbmQueSwgcFs1XSwgcFs2XV0uam9pbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiArPSBsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSArcFs1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gK3BbNl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzdG90YWwgJiYgIXN1YnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IGdldFBvaW50QXRTZWdtZW50TGVuZ3RoKHgsIHksIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIHBbNl0sIGxlbmd0aCAtIGxlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt4OiBwb2ludC54LCB5OiBwb2ludC55LCBhbHBoYTogcG9pbnQuYWxwaGF9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlbiArPSBsO1xuICAgICAgICAgICAgICAgICAgICB4ID0gK3BbNV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSArcFs2XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3AgKz0gcC5zaGlmdCgpICsgcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnBhdGhzLmVuZCA9IHNwO1xuICAgICAgICAgICAgcG9pbnQgPSBpc3RvdGFsID8gbGVuIDogc3VicGF0aCA/IHN1YnBhdGhzIDogUi5maW5kRG90c0F0U2VnbWVudCh4LCB5LCBwWzBdLCBwWzFdLCBwWzJdLCBwWzNdLCBwWzRdLCBwWzVdLCAxKTtcbiAgICAgICAgICAgIHBvaW50LmFscGhhICYmIChwb2ludCA9IHt4OiBwb2ludC54LCB5OiBwb2ludC55LCBhbHBoYTogcG9pbnQuYWxwaGF9KTtcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBnZXRUb3RhbExlbmd0aCA9IGdldExlbmd0aEZhY3RvcnkoMSksXG4gICAgICAgIGdldFBvaW50QXRMZW5ndGggPSBnZXRMZW5ndGhGYWN0b3J5KCksXG4gICAgICAgIGdldFN1YnBhdGhzQXRMZW5ndGggPSBnZXRMZW5ndGhGYWN0b3J5KDAsIDEpO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmdldFRvdGFsTGVuZ3RoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGxlbmd0aCBvZiB0aGUgZ2l2ZW4gcGF0aCBpbiBwaXhlbHMuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHBhdGggKHN0cmluZykgU1ZHIHBhdGggc3RyaW5nLlxuICAgICAqKlxuICAgICA9IChudW1iZXIpIGxlbmd0aC5cbiAgICBcXCovXG4gICAgUi5nZXRUb3RhbExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmdldFBvaW50QXRMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybiBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgbG9jYXRlZCBhdCB0aGUgZ2l2ZW4gbGVuZ3RoIG9uIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZ1xuICAgICAtIGxlbmd0aCAobnVtYmVyKVxuICAgICAqKlxuICAgICA9IChvYmplY3QpIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2ludDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZVxuICAgICBvICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGVcbiAgICAgbyAgICAgYWxwaGE6IChudW1iZXIpIGFuZ2xlIG9mIGRlcml2YXRpdmVcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuZ2V0UG9pbnRBdExlbmd0aCA9IGdldFBvaW50QXRMZW5ndGg7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0U3VicGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIHN1YnBhdGggb2YgYSBnaXZlbiBwYXRoIGZyb20gZ2l2ZW4gbGVuZ3RoIHRvIGdpdmVuIGxlbmd0aC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGF0aCAoc3RyaW5nKSBTVkcgcGF0aCBzdHJpbmdcbiAgICAgLSBmcm9tIChudW1iZXIpIHBvc2l0aW9uIG9mIHRoZSBzdGFydCBvZiB0aGUgc2VnbWVudFxuICAgICAtIHRvIChudW1iZXIpIHBvc2l0aW9uIG9mIHRoZSBlbmQgb2YgdGhlIHNlZ21lbnRcbiAgICAgKipcbiAgICAgPSAoc3RyaW5nKSBwYXRoc3RyaW5nIGZvciB0aGUgc2VnbWVudFxuICAgIFxcKi9cbiAgICBSLmdldFN1YnBhdGggPSBmdW5jdGlvbiAocGF0aCwgZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0VG90YWxMZW5ndGgocGF0aCkgLSB0byA8IDFlLTYpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRTdWJwYXRoc0F0TGVuZ3RoKHBhdGgsIGZyb20pLmVuZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYSA9IGdldFN1YnBhdGhzQXRMZW5ndGgocGF0aCwgdG8sIDEpO1xuICAgICAgICByZXR1cm4gZnJvbSA/IGdldFN1YnBhdGhzQXRMZW5ndGgoYSwgZnJvbSkuZW5kIDogYTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldFRvdGFsTGVuZ3RoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGxlbmd0aCBvZiB0aGUgcGF0aCBpbiBwaXhlbHMuIE9ubHkgd29ya3MgZm9yIGVsZW1lbnQgb2Yg4oCccGF0aOKAnSB0eXBlLlxuICAgICA9IChudW1iZXIpIGxlbmd0aC5cbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRUb3RhbExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKTtcbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub2RlLmdldFRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0VG90YWxMZW5ndGgocGF0aCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nZXRQb2ludEF0TGVuZ3RoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gY29vcmRpbmF0ZXMgb2YgdGhlIHBvaW50IGxvY2F0ZWQgYXQgdGhlIGdpdmVuIGxlbmd0aCBvbiB0aGUgZ2l2ZW4gcGF0aC4gT25seSB3b3JrcyBmb3IgZWxlbWVudCBvZiDigJxwYXRo4oCdIHR5cGUuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGxlbmd0aCAobnVtYmVyKVxuICAgICAqKlxuICAgICA9IChvYmplY3QpIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2ludDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZVxuICAgICBvICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGVcbiAgICAgbyAgICAgYWxwaGE6IChudW1iZXIpIGFuZ2xlIG9mIGRlcml2YXRpdmVcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0UG9pbnRBdExlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKTtcbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0UG9pbnRBdExlbmd0aChwYXRoLCBsZW5ndGgpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0UGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyBwYXRoIG9mIHRoZSBlbGVtZW50LiBPbmx5IHdvcmtzIGZvciBlbGVtZW50cyBvZiDigJxwYXRo4oCdIHR5cGUgYW5kIHNpbXBsZSBlbGVtZW50cyBsaWtlIGNpcmNsZS5cbiAgICAgPSAob2JqZWN0KSBwYXRoXG4gICAgICoqXG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0UGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhdGgsXG4gICAgICAgICAgICBnZXRQYXRoID0gUi5fZ2V0UGF0aFt0aGlzLnR5cGVdO1xuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT0gXCJ0ZXh0XCIgfHwgdGhpcy50eXBlID09IFwic2V0XCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZXRQYXRoKSB7XG4gICAgICAgICAgICBwYXRoID0gZ2V0UGF0aCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0U3VicGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIHN1YnBhdGggb2YgYSBnaXZlbiBlbGVtZW50IGZyb20gZ2l2ZW4gbGVuZ3RoIHRvIGdpdmVuIGxlbmd0aC4gT25seSB3b3JrcyBmb3IgZWxlbWVudCBvZiDigJxwYXRo4oCdIHR5cGUuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGZyb20gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IG9mIHRoZSBzZWdtZW50XG4gICAgIC0gdG8gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiB0aGUgc2VnbWVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIHBhdGhzdHJpbmcgZm9yIHRoZSBzZWdtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0U3VicGF0aCA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSLmdldFN1YnBhdGgocGF0aCwgZnJvbSwgdG8pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIE9iamVjdCB0aGF0IGNvbnRhaW5zIGVhc2luZyBmb3JtdWxhcyBmb3IgYW5pbWF0aW9uLiBZb3UgY291bGQgZXh0ZW5kIGl0IHdpdGggeW91ciBvd24uIEJ5IGRlZmF1bHQgaXQgaGFzIGZvbGxvd2luZyBsaXN0IG9mIGVhc2luZzpcbiAgICAgIyA8dWw+XG4gICAgICMgICAgIDxsaT7igJxsaW5lYXLigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcJmx0O+KAnSBvciDigJxlYXNlSW7igJ0gb3Ig4oCcZWFzZS1pbuKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJw+4oCdIG9yIOKAnGVhc2VPdXTigJ0gb3Ig4oCcZWFzZS1vdXTigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcJmx0Oz7igJ0gb3Ig4oCcZWFzZUluT3V04oCdIG9yIOKAnGVhc2UtaW4tb3V04oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnGJhY2tJbuKAnSBvciDigJxiYWNrLWlu4oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnGJhY2tPdXTigJ0gb3Ig4oCcYmFjay1vdXTigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcZWxhc3RpY+KAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJxib3VuY2XigJ08L2xpPlxuICAgICAjIDwvdWw+XG4gICAgICMgPHA+U2VlIGFsc28gPGEgaHJlZj1cImh0dHA6Ly9yYXBoYWVsanMuY29tL2Vhc2luZy5odG1sXCI+RWFzaW5nIGRlbW88L2E+LjwvcD5cbiAgICBcXCovXG4gICAgdmFyIGVmID0gUi5lYXNpbmdfZm9ybXVsYXMgPSB7XG4gICAgICAgIGxpbmVhcjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9LFxuICAgICAgICBcIjxcIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBwb3cobiwgMS43KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCI+XCI6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICByZXR1cm4gcG93KG4sIC40OCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiPD5cIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciBxID0gLjQ4IC0gbiAvIDEuMDQsXG4gICAgICAgICAgICAgICAgUSA9IG1hdGguc3FydCguMTczNCArIHEgKiBxKSxcbiAgICAgICAgICAgICAgICB4ID0gUSAtIHEsXG4gICAgICAgICAgICAgICAgWCA9IHBvdyhhYnMoeCksIDEgLyAzKSAqICh4IDwgMCA/IC0xIDogMSksXG4gICAgICAgICAgICAgICAgeSA9IC1RIC0gcSxcbiAgICAgICAgICAgICAgICBZID0gcG93KGFicyh5KSwgMSAvIDMpICogKHkgPCAwID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgICB0ID0gWCArIFkgKyAuNTtcbiAgICAgICAgICAgIHJldHVybiAoMSAtIHQpICogMyAqIHQgKiB0ICsgdCAqIHQgKiB0O1xuICAgICAgICB9LFxuICAgICAgICBiYWNrSW46IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICByZXR1cm4gbiAqIG4gKiAoKHMgKyAxKSAqIG4gLSBzKTtcbiAgICAgICAgfSxcbiAgICAgICAgYmFja091dDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIG4gPSBuIC0gMTtcbiAgICAgICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgICAgIHJldHVybiBuICogbiAqICgocyArIDEpICogbiArIHMpICsgMTtcbiAgICAgICAgfSxcbiAgICAgICAgZWxhc3RpYzogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIGlmIChuID09ICEhbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBvdygyLCAtMTAgKiBuKSAqIG1hdGguc2luKChuIC0gLjA3NSkgKiAoMiAqIFBJKSAvIC4zKSArIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGJvdW5jZTogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciBzID0gNy41NjI1LFxuICAgICAgICAgICAgICAgIHAgPSAyLjc1LFxuICAgICAgICAgICAgICAgIGw7XG4gICAgICAgICAgICBpZiAobiA8ICgxIC8gcCkpIHtcbiAgICAgICAgICAgICAgICBsID0gcyAqIG4gKiBuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobiA8ICgyIC8gcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbiAtPSAoMS41IC8gcCk7XG4gICAgICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG4gKyAuNzU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPCAoMi41IC8gcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gLT0gKDIuMjUgLyBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG4gKyAuOTM3NTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gLT0gKDIuNjI1IC8gcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gcyAqIG4gKiBuICsgLjk4NDM3NTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBlZi5lYXNlSW4gPSBlZltcImVhc2UtaW5cIl0gPSBlZltcIjxcIl07XG4gICAgZWYuZWFzZU91dCA9IGVmW1wiZWFzZS1vdXRcIl0gPSBlZltcIj5cIl07XG4gICAgZWYuZWFzZUluT3V0ID0gZWZbXCJlYXNlLWluLW91dFwiXSA9IGVmW1wiPD5cIl07XG4gICAgZWZbXCJiYWNrLWluXCJdID0gZWYuYmFja0luO1xuICAgIGVmW1wiYmFjay1vdXRcIl0gPSBlZi5iYWNrT3V0O1xuXG4gICAgdmFyIGFuaW1hdGlvbkVsZW1lbnRzID0gW10sXG4gICAgICAgIHJlcXVlc3RBbmltRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICBhbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgTm93ID0gK25ldyBEYXRlLFxuICAgICAgICAgICAgICAgIGwgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGwgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgICAgIHZhciBlID0gYW5pbWF0aW9uRWxlbWVudHNbbF07XG4gICAgICAgICAgICAgICAgaWYgKGUuZWwucmVtb3ZlZCB8fCBlLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBOb3cgLSBlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBtcyA9IGUubXMsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZyA9IGUuZWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICBmcm9tID0gZS5mcm9tLFxuICAgICAgICAgICAgICAgICAgICBkaWZmID0gZS5kaWZmLFxuICAgICAgICAgICAgICAgICAgICB0byA9IGUudG8sXG4gICAgICAgICAgICAgICAgICAgIHQgPSBlLnQsXG4gICAgICAgICAgICAgICAgICAgIHRoYXQgPSBlLmVsLFxuICAgICAgICAgICAgICAgICAgICBzZXQgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgICAgICBpbml0ID0ge30sXG4gICAgICAgICAgICAgICAgICAgIGtleTtcbiAgICAgICAgICAgICAgICBpZiAoZS5pbml0c3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSAoZS5pbml0c3RhdHVzICogZS5hbmltLnRvcCAtIGUucHJldikgLyAoZS5wZXJjZW50IC0gZS5wcmV2KSAqIG1zO1xuICAgICAgICAgICAgICAgICAgICBlLnN0YXR1cyA9IGUuaW5pdHN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuaW5pdHN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wICYmIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShsLS0sIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RhdHVzID0gKGUucHJldiArIChlLnBlcmNlbnQgLSBlLnByZXYpICogKHRpbWUgLyBtcykpIC8gZS5hbmltLnRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZSA8IG1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBlYXNpbmcodGltZSAvIG1zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBmcm9tKSBpZiAoZnJvbVtoYXNdKGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGF2YWlsYWJsZUFuaW1BdHRyc1thdHRyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgbnU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9ICtmcm9tW2F0dHJdICsgcG9zICogbXMgKiBkaWZmW2F0dHJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29sb3VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFwicmdiKFwiICsgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0bzI1NShyb3VuZChmcm9tW2F0dHJdLnIgKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl0ucikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0bzI1NShyb3VuZChmcm9tW2F0dHJdLmcgKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl0uZykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0bzI1NShyb3VuZChmcm9tW2F0dHJdLmIgKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl0uYikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbihcIixcIikgKyBcIilcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZyb21bYXR0cl0ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gW2Zyb21bYXR0cl1baV1bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gZnJvbVthdHRyXVtpXS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldW2pdID0gK2Zyb21bYXR0cl1baV1bal0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV1bal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSBub3dbaV0uam9pbihTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBub3cuam9pbihTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZlthdHRyXS5yZWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gW2Zyb21bYXR0cl1baV1bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDEsIGpqID0gZnJvbVthdHRyXVtpXS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vd1tpXVtqXSA9IGZyb21bYXR0cl1baV1bal0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV1bal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldCA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICtmcm9tW2F0dHJdW2ldICsgcG9zICogbXMgKiBkaWZmW2F0dHJdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdyA9IFtbXCJyXCIsIGdldCgyKSwgMCwgMF0sIFtcInRcIiwgZ2V0KDMpLCBnZXQoNCldLCBbXCJzXCIsIGdldCgwKSwgZ2V0KDEpLCAwLCAwXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbW1wibVwiLCBnZXQoMCksIGdldCgxKSwgZ2V0KDIpLCBnZXQoMyksIGdldCg0KSwgZ2V0KDUpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNzdlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ciA9PSBcImNsaXAtcmVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vd1tpXSA9ICtmcm9tW2F0dHJdW2ldICsgcG9zICogbXMgKiBkaWZmW2F0dHJdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9tMiA9IFtdW2NvbmNhdF0oZnJvbVthdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gdGhhdC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2F0dHJdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gK2Zyb20yW2ldICsgcG9zICogbXMgKiBkaWZmW2F0dHJdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0W2F0dHJdID0gbm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXR0cihzZXQpO1xuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKGlkLCB0aGF0LCBhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyBpZCwgdGhhdCwgYW5pbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkodGhhdC5pZCwgdGhhdCwgZS5hbmltKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oZiwgZWwsIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlKFwicmFwaGFlbC5hbmltLmZyYW1lLlwiICsgZWwuaWQsIGVsLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uZmluaXNoLlwiICsgZWwuaWQsIGVsLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLmlzKGYsIFwiZnVuY3Rpb25cIikgJiYgZi5jYWxsKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KShlLmNhbGxiYWNrLCB0aGF0LCBlLmFuaW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmF0dHIodG8pO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UobC0tLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucmVwZWF0ID4gMSAmJiAhZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiB0bykgaWYgKHRvW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRba2V5XSA9IGUudG90YWxPcmlnaW5ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZWwuYXR0cihpbml0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bkFuaW1hdGlvbihlLmFuaW0sIGUuZWwsIGUuYW5pbS5wZXJjZW50c1swXSwgbnVsbCwgZS50b3RhbE9yaWdpbiwgZS5yZXBlYXQgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5uZXh0ICYmICFlLnN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bkFuaW1hdGlvbihlLmFuaW0sIGUuZWwsIGUubmV4dCwgbnVsbCwgZS50b3RhbE9yaWdpbiwgZS5yZXBlYXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoICYmIHJlcXVlc3RBbmltRnJhbWUoYW5pbWF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXB0bzI1NSA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yID4gMjU1ID8gMjU1IDogY29sb3IgPCAwID8gMCA6IGNvbG9yO1xuICAgICAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmFuaW1hdGVXaXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBY3RzIHNpbWlsYXIgdG8gQEVsZW1lbnQuYW5pbWF0ZSwgYnV0IGVuc3VyZSB0aGF0IGdpdmVuIGFuaW1hdGlvbiBydW5zIGluIHN5bmMgd2l0aCBhbm90aGVyIGdpdmVuIGVsZW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGVsIChvYmplY3QpIGVsZW1lbnQgdG8gc3luYyB3aXRoXG4gICAgIC0gYW5pbSAob2JqZWN0KSBhbmltYXRpb24gdG8gc3luYyB3aXRoXG4gICAgIC0gcGFyYW1zIChvYmplY3QpICNvcHRpb25hbCBmaW5hbCBhdHRyaWJ1dGVzIGZvciB0aGUgZWxlbWVudCwgc2VlIGFsc28gQEVsZW1lbnQuYXR0clxuICAgICAtIG1zIChudW1iZXIpICNvcHRpb25hbCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhbmltYXRpb24gdG8gcnVuXG4gICAgIC0gZWFzaW5nIChzdHJpbmcpICNvcHRpb25hbCBlYXNpbmcgdHlwZS4gQWNjZXB0IG9uIG9mIEBSYXBoYWVsLmVhc2luZ19mb3JtdWxhcyBvciBDU1MgZm9ybWF0OiBgY3ViaWMmI3gyMDEwO2JlemllcihYWCwmIzE2MDtYWCwmIzE2MDtYWCwmIzE2MDtYWClgXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24uIFdpbGwgYmUgY2FsbGVkIGF0IHRoZSBlbmQgb2YgYW5pbWF0aW9uLlxuICAgICAqIG9yXG4gICAgIC0gZWxlbWVudCAob2JqZWN0KSBlbGVtZW50IHRvIHN5bmMgd2l0aFxuICAgICAtIGFuaW0gKG9iamVjdCkgYW5pbWF0aW9uIHRvIHN5bmMgd2l0aFxuICAgICAtIGFuaW1hdGlvbiAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdCwgc2VlIEBSYXBoYWVsLmFuaW1hdGlvblxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5hbmltYXRlV2l0aCA9IGZ1bmN0aW9uIChlbCwgYW5pbSwgcGFyYW1zLCBtcywgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIGlmIChlbGVtZW50LnJlbW92ZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYSA9IHBhcmFtcyBpbnN0YW5jZW9mIEFuaW1hdGlvbiA/IHBhcmFtcyA6IFIuYW5pbWF0aW9uKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spLFxuICAgICAgICAgICAgeCwgeTtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGEsIGVsZW1lbnQsIGEucGVyY2VudHNbMF0sIG51bGwsIGVsZW1lbnQuYXR0cigpKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0gPT0gYW5pbSAmJiBhbmltYXRpb25FbGVtZW50c1tpXS5lbCA9PSBlbCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzW2lpIC0gMV0uc3RhcnQgPSBhbmltYXRpb25FbGVtZW50c1tpXS5zdGFydDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy8gdmFyIGEgPSBwYXJhbXMgPyBSLmFuaW1hdGlvbihwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSA6IGFuaW0sXG4gICAgICAgIC8vICAgICBzdGF0dXMgPSBlbGVtZW50LnN0YXR1cyhhbmltKTtcbiAgICAgICAgLy8gcmV0dXJuIHRoaXMuYW5pbWF0ZShhKS5zdGF0dXMoYSwgc3RhdHVzICogYW5pbS5tcyAvIGEubXMpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ3ViaWNCZXppZXJBdFRpbWUodCwgcDF4LCBwMXksIHAyeCwgcDJ5LCBkdXJhdGlvbikge1xuICAgICAgICB2YXIgY3ggPSAzICogcDF4LFxuICAgICAgICAgICAgYnggPSAzICogKHAyeCAtIHAxeCkgLSBjeCxcbiAgICAgICAgICAgIGF4ID0gMSAtIGN4IC0gYngsXG4gICAgICAgICAgICBjeSA9IDMgKiBwMXksXG4gICAgICAgICAgICBieSA9IDMgKiAocDJ5IC0gcDF5KSAtIGN5LFxuICAgICAgICAgICAgYXkgPSAxIC0gY3kgLSBieTtcbiAgICAgICAgZnVuY3Rpb24gc2FtcGxlQ3VydmVYKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKGF4ICogdCArIGJ4KSAqIHQgKyBjeCkgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNvbHZlKHgsIGVwc2lsb24pIHtcbiAgICAgICAgICAgIHZhciB0ID0gc29sdmVDdXJ2ZVgoeCwgZXBzaWxvbik7XG4gICAgICAgICAgICByZXR1cm4gKChheSAqIHQgKyBieSkgKiB0ICsgY3kpICogdDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzb2x2ZUN1cnZlWCh4LCBlcHNpbG9uKSB7XG4gICAgICAgICAgICB2YXIgdDAsIHQxLCB0MiwgeDIsIGQyLCBpO1xuICAgICAgICAgICAgZm9yKHQyID0geCwgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICB4MiA9IHNhbXBsZUN1cnZlWCh0MikgLSB4O1xuICAgICAgICAgICAgICAgIGlmIChhYnMoeDIpIDwgZXBzaWxvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGQyID0gKDMgKiBheCAqIHQyICsgMiAqIGJ4KSAqIHQyICsgY3g7XG4gICAgICAgICAgICAgICAgaWYgKGFicyhkMikgPCAxZS02KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0MiA9IHQyIC0geDIgLyBkMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQwID0gMDtcbiAgICAgICAgICAgIHQxID0gMTtcbiAgICAgICAgICAgIHQyID0geDtcbiAgICAgICAgICAgIGlmICh0MiA8IHQwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQyID4gdDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAodDAgPCB0MSkge1xuICAgICAgICAgICAgICAgIHgyID0gc2FtcGxlQ3VydmVYKHQyKTtcbiAgICAgICAgICAgICAgICBpZiAoYWJzKHgyIC0geCkgPCBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHggPiB4Mikge1xuICAgICAgICAgICAgICAgICAgICB0MCA9IHQyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHQxID0gdDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQyID0gKHQxIC0gdDApIC8gMiArIHQwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2x2ZSh0LCAxIC8gKDIwMCAqIGR1cmF0aW9uKSk7XG4gICAgfVxuICAgIGVscHJvdG8ub25BbmltYXRpb24gPSBmdW5jdGlvbiAoZikge1xuICAgICAgICBmID8gZXZlLm9uKFwicmFwaGFlbC5hbmltLmZyYW1lLlwiICsgdGhpcy5pZCwgZikgOiBldmUudW5iaW5kKFwicmFwaGFlbC5hbmltLmZyYW1lLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uKGFuaW0sIG1zKSB7XG4gICAgICAgIHZhciBwZXJjZW50cyA9IFtdLFxuICAgICAgICAgICAgbmV3QW5pbSA9IHt9O1xuICAgICAgICB0aGlzLm1zID0gbXM7XG4gICAgICAgIHRoaXMudGltZXMgPSAxO1xuICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBhbmltKSBpZiAoYW5pbVtoYXNdKGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgbmV3QW5pbVt0b0Zsb2F0KGF0dHIpXSA9IGFuaW1bYXR0cl07XG4gICAgICAgICAgICAgICAgcGVyY2VudHMucHVzaCh0b0Zsb2F0KGF0dHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcmNlbnRzLnNvcnQoc29ydEJ5TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW0gPSBuZXdBbmltO1xuICAgICAgICB0aGlzLnRvcCA9IHBlcmNlbnRzW3BlcmNlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnBlcmNlbnRzID0gcGVyY2VudHM7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBBbmltYXRpb24uZGVsYXlcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIGV4aXN0aW5nIGFuaW1hdGlvbiBvYmplY3Qgd2l0aCBnaXZlbiBkZWxheS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZGVsYXkgKG51bWJlcikgbnVtYmVyIG9mIG1zIHRvIHBhc3MgYmV0d2VlbiBhbmltYXRpb24gc3RhcnQgYW5kIGFjdHVhbCBhbmltYXRpb25cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBuZXcgYWx0ZXJlZCBBbmltYXRpb24gb2JqZWN0XG4gICAgIHwgdmFyIGFuaW0gPSBSYXBoYWVsLmFuaW1hdGlvbih7Y3g6IDEwLCBjeTogMjB9LCAyZTMpO1xuICAgICB8IGNpcmNsZTEuYW5pbWF0ZShhbmltKTsgLy8gcnVuIHRoZSBnaXZlbiBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgfCBjaXJjbGUyLmFuaW1hdGUoYW5pbS5kZWxheSg1MDApKTsgLy8gcnVuIHRoZSBnaXZlbiBhbmltYXRpb24gYWZ0ZXIgNTAwIG1zXG4gICAgXFwqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAoZGVsYXkpIHtcbiAgICAgICAgdmFyIGEgPSBuZXcgQW5pbWF0aW9uKHRoaXMuYW5pbSwgdGhpcy5tcyk7XG4gICAgICAgIGEudGltZXMgPSB0aGlzLnRpbWVzO1xuICAgICAgICBhLmRlbCA9ICtkZWxheSB8fCAwO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBBbmltYXRpb24ucmVwZWF0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgY29weSBvZiBleGlzdGluZyBhbmltYXRpb24gb2JqZWN0IHdpdGggZ2l2ZW4gcmVwZXRpdGlvbi5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcmVwZWF0IChudW1iZXIpIG51bWJlciBpdGVyYXRpb25zIG9mIGFuaW1hdGlvbi4gRm9yIGluZmluaXRlIGFuaW1hdGlvbiBwYXNzIGBJbmZpbml0eWBcbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBuZXcgYWx0ZXJlZCBBbmltYXRpb24gb2JqZWN0XG4gICAgXFwqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUucmVwZWF0ID0gZnVuY3Rpb24gKHRpbWVzKSB7XG4gICAgICAgIHZhciBhID0gbmV3IEFuaW1hdGlvbih0aGlzLmFuaW0sIHRoaXMubXMpO1xuICAgICAgICBhLmRlbCA9IHRoaXMuZGVsO1xuICAgICAgICBhLnRpbWVzID0gbWF0aC5mbG9vcihtbWF4KHRpbWVzLCAwKSkgfHwgMTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBydW5BbmltYXRpb24oYW5pbSwgZWxlbWVudCwgcGVyY2VudCwgc3RhdHVzLCB0b3RhbE9yaWdpbiwgdGltZXMpIHtcbiAgICAgICAgcGVyY2VudCA9IHRvRmxvYXQocGVyY2VudCk7XG4gICAgICAgIHZhciBwYXJhbXMsXG4gICAgICAgICAgICBpc0luQW5pbSxcbiAgICAgICAgICAgIGlzSW5BbmltU2V0LFxuICAgICAgICAgICAgcGVyY2VudHMgPSBbXSxcbiAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICBwcmV2LFxuICAgICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgICAgbXMgPSBhbmltLm1zLFxuICAgICAgICAgICAgZnJvbSA9IHt9LFxuICAgICAgICAgICAgdG8gPSB7fSxcbiAgICAgICAgICAgIGRpZmYgPSB7fTtcbiAgICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBhbmltYXRpb25FbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZS5lbC5pZCA9PSBlbGVtZW50LmlkICYmIGUuYW5pbSA9PSBhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnBlcmNlbnQgIT0gcGVyY2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkFuaW1TZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkFuaW0gPSBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihlLnRvdGFsT3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzID0gK3RvOyAvLyBOYU5cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhbmltLnBlcmNlbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbmltLnBlcmNlbnRzW2ldID09IHBlcmNlbnQgfHwgYW5pbS5wZXJjZW50c1tpXSA+IHN0YXR1cyAqIGFuaW0udG9wKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudCA9IGFuaW0ucGVyY2VudHNbaV07XG4gICAgICAgICAgICAgICAgcHJldiA9IGFuaW0ucGVyY2VudHNbaSAtIDFdIHx8IDA7XG4gICAgICAgICAgICAgICAgbXMgPSBtcyAvIGFuaW0udG9wICogKHBlcmNlbnQgLSBwcmV2KTtcbiAgICAgICAgICAgICAgICBuZXh0ID0gYW5pbS5wZXJjZW50c1tpICsgMV07XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gYW5pbS5hbmltW3BlcmNlbnRdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoYW5pbS5hbmltW2FuaW0ucGVyY2VudHNbaV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNJbkFuaW0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gcGFyYW1zKSBpZiAocGFyYW1zW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXZhaWxhYmxlQW5pbUF0dHJzW2hhc10oYXR0cikgfHwgZWxlbWVudC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVthdHRyXSA9IGVsZW1lbnQuYXR0cihhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgKGZyb21bYXR0cl0gPT0gbnVsbCkgJiYgKGZyb21bYXR0cl0gPSBhdmFpbGFibGVBdHRyc1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gcGFyYW1zW2F0dHJdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGF2YWlsYWJsZUFuaW1BdHRyc1thdHRyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBudTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdID0gKHRvW2F0dHJdIC0gZnJvbVthdHRyXSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xvdXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gUi5nZXRSR0IoZnJvbVthdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvQ29sb3VyID0gUi5nZXRSR0IodG9bYXR0cl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6ICh0b0NvbG91ci5yIC0gZnJvbVthdHRyXS5yKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnOiAodG9Db2xvdXIuZyAtIGZyb21bYXR0cl0uZykgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYjogKHRvQ29sb3VyLmIgLSBmcm9tW2F0dHJdLmIpIC8gbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aGVzID0gcGF0aDJjdXJ2ZShmcm9tW2F0dHJdLCB0b1thdHRyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvUGF0aCA9IHBhdGhlc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gcGF0aGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGZyb21bYXR0cl0ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV1bal0gPSAodG9QYXRoW2ldW2pdIC0gZnJvbVthdHRyXVtpXVtqXSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgXyA9IGVsZW1lbnQuXyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXEgPSBlcXVhbGlzZVRyYW5zZm9ybShfW2F0dHJdLCB0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBlcS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1thdHRyXSA9IGVxLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0ucmVhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldID0gW2Zyb21bYXR0cl1baV1bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldW2pdID0gKHRvW2F0dHJdW2ldW2pdIC0gZnJvbVthdHRyXVtpXVtqXSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gKGVsZW1lbnQubWF0cml4IHx8IG5ldyBNYXRyaXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IHt0cmFuc2Zvcm06IF8udHJhbnNmb3JtfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRCQm94OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEJCb3goMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbVthdHRyXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0VHJhbnNmb3JtKHRvMiwgdG9bYXR0cl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1thdHRyXSA9IHRvMi5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmEgLSBtLmEpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5iIC0gbS5iKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguYyAtIG0uYykgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmQgLSBtLmQpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5lIC0gbS5lKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguZiAtIG0uZikgLyBtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tW2F0dHJdID0gW18uc3gsIF8uc3ksIF8uZGVnLCBfLmR4LCBfLmR5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHRvMiA9IHtfOnt9LCBnZXRCQm94OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbGVtZW50LmdldEJCb3goKTsgfX07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4dHJhY3RUcmFuc2Zvcm0odG8yLCB0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZbYXR0cl0gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAodG8yLl8uc3ggLSBfLnN4KSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKHRvMi5fLnN5IC0gXy5zeSkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5kZWcgLSBfLmRlZykgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5keCAtIF8uZHgpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAodG8yLl8uZHkgLSBfLmR5KSAvIG1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNzdlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBTdHIocGFyYW1zW2F0dHJdKVtzcGxpdF0oc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTIgPSBTdHIoZnJvbVthdHRyXSlbc3BsaXRdKHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHIgPT0gXCJjbGlwLXJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gZnJvbTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGZyb20yLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXVtpXSA9ICh2YWx1ZXNbaV0gLSBmcm9tW2F0dHJdW2ldKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXVtjb25jYXRdKHBhcmFtc1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTIgPSBbXVtjb25jYXRdKGZyb21bYXR0cl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gZWxlbWVudC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2F0dHJdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV0gPSAoKHZhbHVlc1tpXSB8fCAwKSAtIChmcm9tMltpXSB8fCAwKSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyxcbiAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IFIuZWFzaW5nX2Zvcm11bGFzW2Vhc2luZ107XG4gICAgICAgICAgICBpZiAoIWVhc3llYXN5KSB7XG4gICAgICAgICAgICAgICAgZWFzeWVhc3kgPSBTdHIoZWFzaW5nKS5tYXRjaChiZXppZXJyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGVhc3llYXN5ICYmIGVhc3llYXN5Lmxlbmd0aCA9PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZSA9IGVhc3llYXN5O1xuICAgICAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ3ViaWNCZXppZXJBdFRpbWUodCwgK2N1cnZlWzFdLCArY3VydmVbMl0sICtjdXJ2ZVszXSwgK2N1cnZlWzRdLCBtcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWFzeWVhc3kgPSBwaXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHBhcmFtcy5zdGFydCB8fCBhbmltLnN0YXJ0IHx8ICtuZXcgRGF0ZTtcbiAgICAgICAgICAgIGUgPSB7XG4gICAgICAgICAgICAgICAgYW5pbTogYW5pbSxcbiAgICAgICAgICAgICAgICBwZXJjZW50OiBwZXJjZW50LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aW1lc3RhbXAgKyAoYW5pbS5kZWwgfHwgMCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAwLFxuICAgICAgICAgICAgICAgIGluaXRzdGF0dXM6IHN0YXR1cyB8fCAwLFxuICAgICAgICAgICAgICAgIHN0b3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1zOiBtcyxcbiAgICAgICAgICAgICAgICBlYXNpbmc6IGVhc3llYXN5LFxuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgZGlmZjogZGlmZixcbiAgICAgICAgICAgICAgICB0bzogdG8sXG4gICAgICAgICAgICAgICAgZWw6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHBhcmFtcy5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICBwcmV2OiBwcmV2LFxuICAgICAgICAgICAgICAgIG5leHQ6IG5leHQsXG4gICAgICAgICAgICAgICAgcmVwZWF0OiB0aW1lcyB8fCBhbmltLnRpbWVzLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogZWxlbWVudC5hdHRyKCksXG4gICAgICAgICAgICAgICAgdG90YWxPcmlnaW46IHRvdGFsT3JpZ2luXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMucHVzaChlKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgJiYgIWlzSW5BbmltICYmICFpc0luQW5pbVNldCkge1xuICAgICAgICAgICAgICAgIGUuc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZS5zdGFydCA9IG5ldyBEYXRlIC0gbXMgKiBzdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNJbkFuaW1TZXQpIHtcbiAgICAgICAgICAgICAgICBlLnN0YXJ0ID0gbmV3IERhdGUgLSBlLm1zICogc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoID09IDEgJiYgcmVxdWVzdEFuaW1GcmFtZShhbmltYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNJbkFuaW0uaW5pdHN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgIGlzSW5BbmltLnN0YXJ0ID0gbmV3IERhdGUgLSBpc0luQW5pbS5tcyAqIHN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uc3RhcnQuXCIgKyBlbGVtZW50LmlkLCBlbGVtZW50LCBhbmltKTtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuYW5pbWF0aW9uXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGFuIGFuaW1hdGlvbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBARWxlbWVudC5hbmltYXRlIG9yIEBFbGVtZW50LmFuaW1hdGVXaXRoIG1ldGhvZHMuXG4gICAgICogU2VlIGFsc28gQEFuaW1hdGlvbi5kZWxheSBhbmQgQEFuaW1hdGlvbi5yZXBlYXQgbWV0aG9kcy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGFyYW1zIChvYmplY3QpIGZpbmFsIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LCBzZWUgYWxzbyBARWxlbWVudC5hdHRyXG4gICAgIC0gbXMgKG51bWJlcikgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBmb3IgYW5pbWF0aW9uIHRvIHJ1blxuICAgICAtIGVhc2luZyAoc3RyaW5nKSAjb3B0aW9uYWwgZWFzaW5nIHR5cGUuIEFjY2VwdCBvbmUgb2YgQFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzIG9yIENTUyBmb3JtYXQ6IGBjdWJpYyYjeDIwMTA7YmV6aWVyKFhYLCYjMTYwO1hYLCYjMTYwO1hYLCYjMTYwO1hYKWBcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pICNvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbi4gV2lsbCBiZSBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgQEFuaW1hdGlvblxuICAgIFxcKi9cbiAgICBSLmFuaW1hdGlvbiA9IGZ1bmN0aW9uIChwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChwYXJhbXMgaW5zdGFuY2VvZiBBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFIuaXMoZWFzaW5nLCBcImZ1bmN0aW9uXCIpIHx8ICFlYXNpbmcpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZWFzaW5nIHx8IG51bGw7XG4gICAgICAgICAgICBlYXNpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcyA9IE9iamVjdChwYXJhbXMpO1xuICAgICAgICBtcyA9ICttcyB8fCAwO1xuICAgICAgICB2YXIgcCA9IHt9LFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIGF0dHI7XG4gICAgICAgIGZvciAoYXR0ciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShhdHRyKSAmJiB0b0Zsb2F0KGF0dHIpICE9IGF0dHIgJiYgdG9GbG9hdChhdHRyKSArIFwiJVwiICE9IGF0dHIpIHtcbiAgICAgICAgICAgIGpzb24gPSB0cnVlO1xuICAgICAgICAgICAgcFthdHRyXSA9IHBhcmFtc1thdHRyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWpzb24pIHtcbiAgICAgICAgICAgIC8vIGlmIHBlcmNlbnQtbGlrZSBzeW50YXggaXMgdXNlZCBhbmQgZW5kLW9mLWFsbCBhbmltYXRpb24gY2FsbGJhY2sgdXNlZFxuICAgICAgICAgICAgaWYoY2FsbGJhY2spe1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RLZXkgPSAwO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSBpbiBwYXJhbXMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IHRvSW50KGkpO1xuICAgICAgICAgICAgICAgICAgICBpZihwYXJhbXNbaGFzXShpKSAmJiBwZXJjZW50ID4gbGFzdEtleSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0S2V5ID0gcGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0S2V5ICs9ICclJztcbiAgICAgICAgICAgICAgICAvLyBpZiBhbHJlYWR5IGRlZmluZWQgY2FsbGJhY2sgaW4gdGhlIGxhc3Qga2V5ZnJhbWUsIHNraXBcbiAgICAgICAgICAgICAgICAhcGFyYW1zW2xhc3RLZXldLmNhbGxiYWNrICYmIChwYXJhbXNbbGFzdEtleV0uY2FsbGJhY2sgPSBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24ocGFyYW1zLCBtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlYXNpbmcgJiYgKHAuZWFzaW5nID0gZWFzaW5nKTtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIChwLmNhbGxiYWNrID0gY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24oezEwMDogcH0sIG1zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYW5pbWF0ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBhbmQgc3RhcnRzIGFuaW1hdGlvbiBmb3IgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGFyYW1zIChvYmplY3QpIGZpbmFsIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LCBzZWUgYWxzbyBARWxlbWVudC5hdHRyXG4gICAgIC0gbXMgKG51bWJlcikgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBmb3IgYW5pbWF0aW9uIHRvIHJ1blxuICAgICAtIGVhc2luZyAoc3RyaW5nKSAjb3B0aW9uYWwgZWFzaW5nIHR5cGUuIEFjY2VwdCBvbmUgb2YgQFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzIG9yIENTUyBmb3JtYXQ6IGBjdWJpYyYjeDIwMTA7YmV6aWVyKFhYLCYjMTYwO1hYLCYjMTYwO1hYLCYjMTYwO1hYKWBcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pICNvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbi4gV2lsbCBiZSBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gICAgICogb3JcbiAgICAgLSBhbmltYXRpb24gKG9iamVjdCkgYW5pbWF0aW9uIG9iamVjdCwgc2VlIEBSYXBoYWVsLmFuaW1hdGlvblxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5hbmltYXRlID0gZnVuY3Rpb24gKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzO1xuICAgICAgICBpZiAoZWxlbWVudC5yZW1vdmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFuaW0gPSBwYXJhbXMgaW5zdGFuY2VvZiBBbmltYXRpb24gPyBwYXJhbXMgOiBSLmFuaW1hdGlvbihwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGFuaW0sIGVsZW1lbnQsIGFuaW0ucGVyY2VudHNbMF0sIG51bGwsIGVsZW1lbnQuYXR0cigpKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zZXRUaW1lXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0dXMgb2YgYW5pbWF0aW9uIG9mIHRoZSBlbGVtZW50IGluIG1pbGxpc2Vjb25kcy4gU2ltaWxhciB0byBARWxlbWVudC5zdGF0dXMgbWV0aG9kLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBhbmltIChvYmplY3QpIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgLSB2YWx1ZSAobnVtYmVyKSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYW5pbWF0aW9uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudCBpZiBgdmFsdWVgIGlzIHNwZWNpZmllZFxuICAgICAqIE5vdGUsIHRoYXQgZHVyaW5nIGFuaW1hdGlvbiBmb2xsb3dpbmcgZXZlbnRzIGFyZSB0cmlnZ2VyZWQ6XG4gICAgICpcbiAgICAgKiBPbiBlYWNoIGFuaW1hdGlvbiBmcmFtZSBldmVudCBgYW5pbS5mcmFtZS48aWQ+YCwgb24gc3RhcnQgYGFuaW0uc3RhcnQuPGlkPmAgYW5kIG9uIGVuZCBgYW5pbS5maW5pc2guPGlkPmAuXG4gICAgXFwqL1xuICAgIGVscHJvdG8uc2V0VGltZSA9IGZ1bmN0aW9uIChhbmltLCB2YWx1ZSkge1xuICAgICAgICBpZiAoYW5pbSAmJiB2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyhhbmltLCBtbWluKHZhbHVlLCBhbmltLm1zKSAvIGFuaW0ubXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuc3RhdHVzXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIHN0YXR1cyBvZiBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGFuaW0gKG9iamVjdCkgI29wdGlvbmFsIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgLSB2YWx1ZSAobnVtYmVyKSAjb3B0aW9uYWwgMCDigJMgMS4gSWYgc3BlY2lmaWVkLCBtZXRob2Qgd29ya3MgbGlrZSBhIHNldHRlciBhbmQgc2V0cyB0aGUgc3RhdHVzIG9mIGEgZ2l2ZW4gYW5pbWF0aW9uIHRvIHRoZSB2YWx1ZS4gVGhpcyB3aWxsIGNhdXNlIGFuaW1hdGlvbiB0byBqdW1wIHRvIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKipcbiAgICAgPSAobnVtYmVyKSBzdGF0dXNcbiAgICAgKiBvclxuICAgICA9IChhcnJheSkgc3RhdHVzIGlmIGBhbmltYCBpcyBub3Qgc3BlY2lmaWVkLiBBcnJheSBvZiBvYmplY3RzIGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIGFuaW06IChvYmplY3QpIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgbyAgICAgc3RhdHVzOiAobnVtYmVyKSBzdGF0dXNcbiAgICAgbyB9XG4gICAgICogb3JcbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50IGlmIGB2YWx1ZWAgaXMgc3BlY2lmaWVkXG4gICAgXFwqL1xuICAgIGVscHJvdG8uc3RhdHVzID0gZnVuY3Rpb24gKGFuaW0sIHZhbHVlKSB7XG4gICAgICAgIHZhciBvdXQgPSBbXSxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgbGVuLFxuICAgICAgICAgICAgZTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJ1bkFuaW1hdGlvbihhbmltLCB0aGlzLCAtMSwgbW1pbih2YWx1ZSwgMSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZSA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlLmVsLmlkID09IHRoaXMuaWQgJiYgKCFhbmltIHx8IGUuYW5pbSA9PSBhbmltKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW06IGUuYW5pbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZS5zdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnBhdXNlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTdG9wcyBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQgd2l0aCBhYmlsaXR5IHRvIHJlc3VtZSBpdCBsYXRlciBvbi5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5wYXVzZSA9IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpKyspIGlmIChhbmltYXRpb25FbGVtZW50c1tpXS5lbC5pZCA9PSB0aGlzLmlkICYmICghYW5pbSB8fCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICBpZiAoZXZlKFwicmFwaGFlbC5hbmltLnBhdXNlLlwiICsgdGhpcy5pZCwgdGhpcywgYW5pbWF0aW9uRWxlbWVudHNbaV0uYW5pbSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHNbaV0ucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlc3VtZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVzdW1lcyBhbmltYXRpb24gaWYgaXQgd2FzIHBhdXNlZCB3aXRoIEBFbGVtZW50LnBhdXNlIG1ldGhvZC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5yZXN1bWUgPSBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSsrKSBpZiAoYW5pbWF0aW9uRWxlbWVudHNbaV0uZWwuaWQgPT0gdGhpcy5pZCAmJiAoIWFuaW0gfHwgYW5pbWF0aW9uRWxlbWVudHNbaV0uYW5pbSA9PSBhbmltKSkge1xuICAgICAgICAgICAgdmFyIGUgPSBhbmltYXRpb25FbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChldmUoXCJyYXBoYWVsLmFuaW0ucmVzdW1lLlwiICsgdGhpcy5pZCwgdGhpcywgZS5hbmltKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZS5wYXVzZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMoZS5hbmltLCBlLnN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zdG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTdG9wcyBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGFuaW0gKG9iamVjdCkgI29wdGlvbmFsIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uc3RvcCA9IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpKyspIGlmIChhbmltYXRpb25FbGVtZW50c1tpXS5lbC5pZCA9PSB0aGlzLmlkICYmICghYW5pbSB8fCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICBpZiAoZXZlKFwicmFwaGFlbC5hbmltLnN0b3AuXCIgKyB0aGlzLmlkLCB0aGlzLCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHN0b3BBbmltYXRpb24ocGFwZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsLnBhcGVyID09IHBhcGVyKSB7XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBldmUub24oXCJyYXBoYWVsLnJlbW92ZVwiLCBzdG9wQW5pbWF0aW9uKTtcbiAgICBldmUub24oXCJyYXBoYWVsLmNsZWFyXCIsIHN0b3BBbmltYXRpb24pO1xuICAgIGVscHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIlJhcGhhXFx4ZWJsXFx1MjAxOXMgb2JqZWN0XCI7XG4gICAgfTtcblxuICAgIC8vIFNldFxuICAgIHZhciBTZXQgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IFwic2V0XCI7XG4gICAgICAgIGlmIChpdGVtcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaXRlbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXSAmJiAoaXRlbXNbaV0uY29uc3RydWN0b3IgPT0gZWxwcm90by5jb25zdHJ1Y3RvciB8fCBpdGVtc1tpXS5jb25zdHJ1Y3RvciA9PSBTZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbdGhpcy5pdGVtcy5sZW5ndGhdID0gdGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aF0gPSBpdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldHByb3RvID0gU2V0LnByb3RvdHlwZTtcbiAgICAvKlxcXG4gICAgICogU2V0LnB1c2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZWFjaCBhcmd1bWVudCB0byB0aGUgY3VycmVudCBzZXQuXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBzZXRwcm90by5wdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlbSxcbiAgICAgICAgICAgIGxlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAoaXRlbS5jb25zdHJ1Y3RvciA9PSBlbHByb3RvLmNvbnN0cnVjdG9yIHx8IGl0ZW0uY29uc3RydWN0b3IgPT0gU2V0KSkge1xuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXNbbGVuXSA9IHRoaXMuaXRlbXNbbGVuXSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQucG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGxhc3QgZWxlbWVudCBhbmQgcmV0dXJucyBpdC5cbiAgICAgPSAob2JqZWN0KSBlbGVtZW50XG4gICAgXFwqL1xuICAgIHNldHByb3RvLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggJiYgZGVsZXRlIHRoaXNbdGhpcy5sZW5ndGgtLV07XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLnBvcCgpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFNldC5mb3JFYWNoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBFeGVjdXRlcyBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXG4gICAgICpcbiAgICAgKiBJZiBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgaXQgd2lsbCBzdG9wIGxvb3AgcnVubmluZy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSBmdW5jdGlvbiB0byBydW5cbiAgICAgLSB0aGlzQXJnIChvYmplY3QpIGNvbnRleHQgb2JqZWN0IGZvciB0aGUgY2FsbGJhY2tcbiAgICAgPSAob2JqZWN0KSBTZXQgb2JqZWN0XG4gICAgXFwqL1xuICAgIHNldHByb3RvLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLml0ZW1zW2ldLCBpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGZvciAodmFyIG1ldGhvZCBpbiBlbHByb3RvKSBpZiAoZWxwcm90b1toYXNdKG1ldGhvZCkpIHtcbiAgICAgICAgc2V0cHJvdG9bbWV0aG9kXSA9IChmdW5jdGlvbiAobWV0aG9kbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsW21ldGhvZG5hbWVdW2FwcGx5XShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxuICAgIHNldHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG5hbWUgJiYgUi5pcyhuYW1lLCBhcnJheSkgJiYgUi5pcyhuYW1lWzBdLCBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gbmFtZS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tqXS5hdHRyKG5hbWVbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5hdHRyKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQuY2xlYXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhlIHNldFxuICAgIFxcKi9cbiAgICBzZXRwcm90by5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogU2V0LnNwbGljZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBnaXZlbiBlbGVtZW50IGZyb20gdGhlIHNldFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBpbmRleCAobnVtYmVyKSBwb3NpdGlvbiBvZiB0aGUgZGVsZXRpb25cbiAgICAgLSBjb3VudCAobnVtYmVyKSBudW1iZXIgb2YgZWxlbWVudCB0byByZW1vdmVcbiAgICAgLSBpbnNlcnRpb27igKYgKG9iamVjdCkgI29wdGlvbmFsIGVsZW1lbnRzIHRvIGluc2VydFxuICAgICA9IChvYmplY3QpIHNldCBlbGVtZW50cyB0aGF0IHdlcmUgZGVsZXRlZFxuICAgIFxcKi9cbiAgICBzZXRwcm90by5zcGxpY2UgPSBmdW5jdGlvbiAoaW5kZXgsIGNvdW50LCBpbnNlcnRpb24pIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBtbWF4KHRoaXMubGVuZ3RoICsgaW5kZXgsIDApIDogaW5kZXg7XG4gICAgICAgIGNvdW50ID0gbW1heCgwLCBtbWluKHRoaXMubGVuZ3RoIC0gaW5kZXgsIGNvdW50KSk7XG4gICAgICAgIHZhciB0YWlsID0gW10sXG4gICAgICAgICAgICB0b2RlbCA9IFtdLFxuICAgICAgICAgICAgYXJncyA9IFtdLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgZm9yIChpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRvZGVsLnB1c2godGhpc1tpbmRleCArIGldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgaSA8IHRoaXMubGVuZ3RoIC0gaW5kZXg7IGkrKykge1xuICAgICAgICAgICAgdGFpbC5wdXNoKHRoaXNbaW5kZXggKyBpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ2xlbiA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJnbGVuICsgdGFpbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleCArIGldID0gdGhpc1tpbmRleCArIGldID0gaSA8IGFyZ2xlbiA/IGFyZ3NbaV0gOiB0YWlsW2kgLSBhcmdsZW5dO1xuICAgICAgICB9XG4gICAgICAgIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCA9IHRoaXMubGVuZ3RoIC09IGNvdW50IC0gYXJnbGVuO1xuICAgICAgICB3aGlsZSAodGhpc1tpXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXNbaSsrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNldCh0b2RlbCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogU2V0LmV4Y2x1ZGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gZWxlbWVudCBmcm9tIHRoZSBzZXRcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZWxlbWVudCAob2JqZWN0KSBlbGVtZW50IHRvIHJlbW92ZVxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgb2JqZWN0IHdhcyBmb3VuZCAmIHJlbW92ZWQgZnJvbSB0aGUgc2V0XG4gICAgXFwqL1xuICAgIHNldHByb3RvLmV4Y2x1ZGUgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAodGhpc1tpXSA9PSBlbCkge1xuICAgICAgICAgICAgdGhpcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc2V0cHJvdG8uYW5pbWF0ZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIChSLmlzKGVhc2luZywgXCJmdW5jdGlvblwiKSB8fCAhZWFzaW5nKSAmJiAoY2FsbGJhY2sgPSBlYXNpbmcgfHwgbnVsbCk7XG4gICAgICAgIHZhciBsZW4gPSB0aGlzLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGkgPSBsZW4sXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgc2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGNvbGxlY3RvcjtcbiAgICAgICAgaWYgKCFsZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrICYmIChjb2xsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAhLS1sZW4gJiYgY2FsbGJhY2suY2FsbChzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWFzaW5nID0gUi5pcyhlYXNpbmcsIHN0cmluZykgPyBlYXNpbmcgOiBjb2xsZWN0b3I7XG4gICAgICAgIHZhciBhbmltID0gUi5hbmltYXRpb24ocGFyYW1zLCBtcywgZWFzaW5nLCBjb2xsZWN0b3IpO1xuICAgICAgICBpdGVtID0gdGhpcy5pdGVtc1stLWldLmFuaW1hdGUoYW5pbSk7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0gJiYgIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCAmJiB0aGlzLml0ZW1zW2ldLmFuaW1hdGVXaXRoKGl0ZW0sIGFuaW0sIGFuaW0pO1xuICAgICAgICAgICAgKHRoaXMuaXRlbXNbaV0gJiYgIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCkgfHwgbGVuLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBzZXRwcm90by5pbnNlcnRBZnRlciA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmluc2VydEFmdGVyKGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHNldHByb3RvLmdldEJCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4ID0gW10sXG4gICAgICAgICAgICB5ID0gW10sXG4gICAgICAgICAgICB4MiA9IFtdLFxuICAgICAgICAgICAgeTIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpLS07KSBpZiAoIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGJveCA9IHRoaXMuaXRlbXNbaV0uZ2V0QkJveCgpO1xuICAgICAgICAgICAgeC5wdXNoKGJveC54KTtcbiAgICAgICAgICAgIHkucHVzaChib3gueSk7XG4gICAgICAgICAgICB4Mi5wdXNoKGJveC54ICsgYm94LndpZHRoKTtcbiAgICAgICAgICAgIHkyLnB1c2goYm94LnkgKyBib3guaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB4ID0gbW1pblthcHBseV0oMCwgeCk7XG4gICAgICAgIHkgPSBtbWluW2FwcGx5XSgwLCB5KTtcbiAgICAgICAgeDIgPSBtbWF4W2FwcGx5XSgwLCB4Mik7XG4gICAgICAgIHkyID0gbW1heFthcHBseV0oMCwgeTIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB4MjogeDIsXG4gICAgICAgICAgICB5MjogeTIsXG4gICAgICAgICAgICB3aWR0aDogeDIgLSB4LFxuICAgICAgICAgICAgaGVpZ2h0OiB5MiAtIHlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHNldHByb3RvLmNsb25lID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcyA9IHRoaXMucGFwZXIuc2V0KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgcy5wdXNoKHRoaXMuaXRlbXNbaV0uY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBzZXRwcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmFwaGFcXHhlYmxcXHUyMDE4cyBzZXRcIjtcbiAgICB9O1xuXG4gICAgc2V0cHJvdG8uZ2xvdyA9IGZ1bmN0aW9uKGdsb3dDb25maWcpIHtcbiAgICAgICAgdmFyIHJldCA9IHRoaXMucGFwZXIuc2V0KCk7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbihzaGFwZSwgaW5kZXgpe1xuICAgICAgICAgICAgdmFyIGcgPSBzaGFwZS5nbG93KGdsb3dDb25maWcpO1xuICAgICAgICAgICAgaWYoZyAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICBnLmZvckVhY2goZnVuY3Rpb24oc2hhcGUyLCBpbmRleDIpe1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaChzaGFwZTIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG5cbiAgICAvKlxcXG4gICAgICogU2V0LmlzUG9pbnRJbnNpZGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERldGVybWluZSBpZiBnaXZlbiBwb2ludCBpcyBpbnNpZGUgdGhpcyBzZXTigJlzIGVsZW1lbnRzXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgcG9pbnQgaXMgaW5zaWRlIGFueSBvZiB0aGUgc2V0J3MgZWxlbWVudHNcbiAgICAgXFwqL1xuICAgIHNldHByb3RvLmlzUG9pbnRJbnNpZGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgaXNQb2ludEluc2lkZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoZWwuaXNQb2ludEluc2lkZSh4LCB5KSkge1xuICAgICAgICAgICAgICAgIGlzUG9pbnRJbnNpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gc3RvcCBsb29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNQb2ludEluc2lkZTtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmVnaXN0ZXJGb250XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGdpdmVuIGZvbnQgdG8gdGhlIHJlZ2lzdGVyZWQgc2V0IG9mIGZvbnRzIGZvciBSYXBoYcOrbC4gU2hvdWxkIGJlIHVzZWQgYXMgYW4gaW50ZXJuYWwgY2FsbCBmcm9tIHdpdGhpbiBDdWbDs27igJlzIGZvbnQgZmlsZS5cbiAgICAgKiBSZXR1cm5zIG9yaWdpbmFsIHBhcmFtZXRlciwgc28gaXQgY291bGQgYmUgdXNlZCB3aXRoIGNoYWluaW5nLlxuICAgICAjIDxhIGhyZWY9XCJodHRwOi8vd2lraS5naXRodWIuY29tL3NvcmNjdS9jdWZvbi9hYm91dFwiPk1vcmUgYWJvdXQgQ3Vmw7NuIGFuZCBob3cgdG8gY29udmVydCB5b3VyIGZvbnQgZm9ybSBUVEYsIE9URiwgZXRjIHRvIEphdmFTY3JpcHQgZmlsZS48L2E+XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGZvbnQgKG9iamVjdCkgdGhlIGZvbnQgdG8gcmVnaXN0ZXJcbiAgICAgPSAob2JqZWN0KSB0aGUgZm9udCB5b3UgcGFzc2VkIGluXG4gICAgID4gVXNhZ2VcbiAgICAgfCBDdWZvbi5yZWdpc3RlckZvbnQoUmFwaGFlbC5yZWdpc3RlckZvbnQoe+KApn0pKTtcbiAgICBcXCovXG4gICAgUi5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICBpZiAoIWZvbnQuZmFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb250cyA9IHRoaXMuZm9udHMgfHwge307XG4gICAgICAgIHZhciBmb250Y29weSA9IHtcbiAgICAgICAgICAgICAgICB3OiBmb250LncsXG4gICAgICAgICAgICAgICAgZmFjZToge30sXG4gICAgICAgICAgICAgICAgZ2x5cGhzOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbWlseSA9IGZvbnQuZmFjZVtcImZvbnQtZmFtaWx5XCJdO1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGZvbnQuZmFjZSkgaWYgKGZvbnQuZmFjZVtoYXNdKHByb3ApKSB7XG4gICAgICAgICAgICBmb250Y29weS5mYWNlW3Byb3BdID0gZm9udC5mYWNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZvbnRzW2ZhbWlseV0pIHtcbiAgICAgICAgICAgIHRoaXMuZm9udHNbZmFtaWx5XS5wdXNoKGZvbnRjb3B5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9udHNbZmFtaWx5XSA9IFtmb250Y29weV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb250LnN2Zykge1xuICAgICAgICAgICAgZm9udGNvcHkuZmFjZVtcInVuaXRzLXBlci1lbVwiXSA9IHRvSW50KGZvbnQuZmFjZVtcInVuaXRzLXBlci1lbVwiXSwgMTApO1xuICAgICAgICAgICAgZm9yICh2YXIgZ2x5cGggaW4gZm9udC5nbHlwaHMpIGlmIChmb250LmdseXBoc1toYXNdKGdseXBoKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gZm9udC5nbHlwaHNbZ2x5cGhdO1xuICAgICAgICAgICAgICAgIGZvbnRjb3B5LmdseXBoc1tnbHlwaF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHc6IHBhdGgudyxcbiAgICAgICAgICAgICAgICAgICAgazoge30sXG4gICAgICAgICAgICAgICAgICAgIGQ6IHBhdGguZCAmJiBcIk1cIiArIHBhdGguZC5yZXBsYWNlKC9bbWxjeHRydl0vZywgZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2w6IFwiTFwiLCBjOiBcIkNcIiwgeDogXCJ6XCIsIHQ6IFwibVwiLCByOiBcImxcIiwgdjogXCJjXCJ9W2NvbW1hbmRdIHx8IFwiTVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkgKyBcInpcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHBhdGguaykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIHBhdGguaykgaWYgKHBhdGhbaGFzXShrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udGNvcHkuZ2x5cGhzW2dseXBoXS5rW2tdID0gcGF0aC5rW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEZvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEZpbmRzIGZvbnQgb2JqZWN0IGluIHRoZSByZWdpc3RlcmVkIGZvbnRzIGJ5IGdpdmVuIHBhcmFtZXRlcnMuIFlvdSBjb3VsZCBzcGVjaWZ5IG9ubHkgb25lIHdvcmQgZnJvbSB0aGUgZm9udCBuYW1lLCBsaWtlIOKAnE15cmlhZOKAnSBmb3Ig4oCcTXlyaWFkIFByb+KAnS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZmFtaWx5IChzdHJpbmcpIGZvbnQgZmFtaWx5IG5hbWUgb3IgYW55IHdvcmQgZnJvbSBpdFxuICAgICAtIHdlaWdodCAoc3RyaW5nKSAjb3B0aW9uYWwgZm9udCB3ZWlnaHRcbiAgICAgLSBzdHlsZSAoc3RyaW5nKSAjb3B0aW9uYWwgZm9udCBzdHlsZVxuICAgICAtIHN0cmV0Y2ggKHN0cmluZykgI29wdGlvbmFsIGZvbnQgc3RyZXRjaFxuICAgICA9IChvYmplY3QpIHRoZSBmb250IG9iamVjdFxuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIucHJpbnQoMTAwLCAxMDAsIFwiVGVzdCBzdHJpbmdcIiwgcGFwZXIuZ2V0Rm9udChcIlRpbWVzXCIsIDgwMCksIDMwKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRGb250ID0gZnVuY3Rpb24gKGZhbWlseSwgd2VpZ2h0LCBzdHlsZSwgc3RyZXRjaCkge1xuICAgICAgICBzdHJldGNoID0gc3RyZXRjaCB8fCBcIm5vcm1hbFwiO1xuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IFwibm9ybWFsXCI7XG4gICAgICAgIHdlaWdodCA9ICt3ZWlnaHQgfHwge25vcm1hbDogNDAwLCBib2xkOiA3MDAsIGxpZ2h0ZXI6IDMwMCwgYm9sZGVyOiA4MDB9W3dlaWdodF0gfHwgNDAwO1xuICAgICAgICBpZiAoIVIuZm9udHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IFIuZm9udHNbZmFtaWx5XTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGZhbWlseS5yZXBsYWNlKC9bXlxcd1xcZFxccyshfi46Xy1dL2csIEUpICsgXCIoXFxcXHN8JClcIiwgXCJpXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgZm9udE5hbWUgaW4gUi5mb250cykgaWYgKFIuZm9udHNbaGFzXShmb250TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS50ZXN0KGZvbnROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBmb250ID0gUi5mb250c1tmb250TmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhlZm9udDtcbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZvbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoZWZvbnQgPSBmb250W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0aGVmb250LmZhY2VbXCJmb250LXdlaWdodFwiXSA9PSB3ZWlnaHQgJiYgKHRoZWZvbnQuZmFjZVtcImZvbnQtc3R5bGVcIl0gPT0gc3R5bGUgfHwgIXRoZWZvbnQuZmFjZVtcImZvbnQtc3R5bGVcIl0pICYmIHRoZWZvbnQuZmFjZVtcImZvbnQtc3RyZXRjaFwiXSA9PSBzdHJldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhlZm9udDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5wcmludFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBwYXRoIHRoYXQgcmVwcmVzZW50IGdpdmVuIHRleHQgd3JpdHRlbiB1c2luZyBnaXZlbiBmb250IGF0IGdpdmVuIHBvc2l0aW9uIHdpdGggZ2l2ZW4gc2l6ZS5cbiAgICAgKiBSZXN1bHQgb2YgdGhlIG1ldGhvZCBpcyBwYXRoIGVsZW1lbnQgdGhhdCBjb250YWlucyB3aG9sZSB0ZXh0IGFzIGEgc2VwYXJhdGUgcGF0aC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IHBvc2l0aW9uIG9mIHRoZSB0ZXh0XG4gICAgIC0geSAobnVtYmVyKSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0XG4gICAgIC0gc3RyaW5nIChzdHJpbmcpIHRleHQgdG8gcHJpbnRcbiAgICAgLSBmb250IChvYmplY3QpIGZvbnQgb2JqZWN0LCBzZWUgQFBhcGVyLmdldEZvbnRcbiAgICAgLSBzaXplIChudW1iZXIpICNvcHRpb25hbCBzaXplIG9mIHRoZSBmb250LCBkZWZhdWx0IGlzIGAxNmBcbiAgICAgLSBvcmlnaW4gKHN0cmluZykgI29wdGlvbmFsIGNvdWxkIGJlIGBcImJhc2VsaW5lXCJgIG9yIGBcIm1pZGRsZVwiYCwgZGVmYXVsdCBpcyBgXCJtaWRkbGVcImBcbiAgICAgLSBsZXR0ZXJfc3BhY2luZyAobnVtYmVyKSAjb3B0aW9uYWwgbnVtYmVyIGluIHJhbmdlIGAtMS4uMWAsIGRlZmF1bHQgaXMgYDBgXG4gICAgIC0gbGluZV9zcGFjaW5nIChudW1iZXIpICNvcHRpb25hbCBudW1iZXIgaW4gcmFuZ2UgYDEuLjNgLCBkZWZhdWx0IGlzIGAxYFxuICAgICA9IChvYmplY3QpIHJlc3VsdGluZyBwYXRoIGVsZW1lbnQsIHdoaWNoIGNvbnNpc3Qgb2YgYWxsIGxldHRlcnNcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciB0eHQgPSByLnByaW50KDEwLCA1MCwgXCJwcmludFwiLCByLmdldEZvbnQoXCJNdXNlb1wiKSwgMzApLmF0dHIoe2ZpbGw6IFwiI2ZmZlwifSk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucHJpbnQgPSBmdW5jdGlvbiAoeCwgeSwgc3RyaW5nLCBmb250LCBzaXplLCBvcmlnaW4sIGxldHRlcl9zcGFjaW5nLCBsaW5lX3NwYWNpbmcpIHtcbiAgICAgICAgb3JpZ2luID0gb3JpZ2luIHx8IFwibWlkZGxlXCI7IC8vIGJhc2VsaW5lfG1pZGRsZVxuICAgICAgICBsZXR0ZXJfc3BhY2luZyA9IG1tYXgobW1pbihsZXR0ZXJfc3BhY2luZyB8fCAwLCAxKSwgLTEpO1xuICAgICAgICBsaW5lX3NwYWNpbmcgPSBtbWF4KG1taW4obGluZV9zcGFjaW5nIHx8IDEsIDMpLCAxKTtcbiAgICAgICAgdmFyIGxldHRlcnMgPSBTdHIoc3RyaW5nKVtzcGxpdF0oRSksXG4gICAgICAgICAgICBzaGlmdCA9IDAsXG4gICAgICAgICAgICBub3RmaXJzdCA9IDAsXG4gICAgICAgICAgICBwYXRoID0gRSxcbiAgICAgICAgICAgIHNjYWxlO1xuICAgICAgICBSLmlzKGZvbnQsIFwic3RyaW5nXCIpICYmIChmb250ID0gdGhpcy5nZXRGb250KGZvbnQpKTtcbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIHNjYWxlID0gKHNpemUgfHwgMTYpIC8gZm9udC5mYWNlW1widW5pdHMtcGVyLWVtXCJdO1xuICAgICAgICAgICAgdmFyIGJiID0gZm9udC5mYWNlLmJib3hbc3BsaXRdKHNlcGFyYXRvciksXG4gICAgICAgICAgICAgICAgdG9wID0gK2JiWzBdLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSBiYlszXSAtIGJiWzFdLFxuICAgICAgICAgICAgICAgIHNoaWZ0eSA9IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gK2JiWzFdICsgKG9yaWdpbiA9PSBcImJhc2VsaW5lXCIgPyBsaW5lSGVpZ2h0ICsgKCtmb250LmZhY2UuZGVzY2VudCkgOiBsaW5lSGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsZXR0ZXJzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGV0dGVyc1tpXSA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY3VyciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIG5vdGZpcnN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnR5ICs9IGxpbmVIZWlnaHQgKiBsaW5lX3NwYWNpbmc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXYgPSBub3RmaXJzdCAmJiBmb250LmdseXBoc1tsZXR0ZXJzW2kgLSAxXV0gfHwge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gZm9udC5nbHlwaHNbbGV0dGVyc1tpXV07XG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0ICs9IG5vdGZpcnN0ID8gKHByZXYudyB8fCBmb250LncpICsgKHByZXYuayAmJiBwcmV2LmtbbGV0dGVyc1tpXV0gfHwgMCkgKyAoZm9udC53ICogbGV0dGVyX3NwYWNpbmcpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgbm90Zmlyc3QgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VyciAmJiBjdXJyLmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSBSLnRyYW5zZm9ybVBhdGgoY3Vyci5kLCBbXCJ0XCIsIHNoaWZ0ICogc2NhbGUsIHNoaWZ0eSAqIHNjYWxlLCBcInNcIiwgc2NhbGUsIHNjYWxlLCB0b3AsIGhlaWdodCwgXCJ0XCIsICh4IC0gdG9wKSAvIHNjYWxlLCAoeSAtIGhlaWdodCkgLyBzY2FsZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wYXRoKHBhdGgpLmF0dHIoe1xuICAgICAgICAgICAgZmlsbDogXCIjMDAwXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUGFwZXIuYWRkXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJbXBvcnRzIGVsZW1lbnRzIGluIEpTT04gYXJyYXkgaW4gZm9ybWF0IGB7dHlwZTogdHlwZSwgPGF0dHJpYnV0ZXM+fWBcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0ganNvbiAoYXJyYXkpXG4gICAgID0gKG9iamVjdCkgcmVzdWx0aW5nIHNldCBvZiBpbXBvcnRlZCBlbGVtZW50c1xuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIuYWRkKFtcbiAgICAgfCAgICAge1xuICAgICB8ICAgICAgICAgdHlwZTogXCJjaXJjbGVcIixcbiAgICAgfCAgICAgICAgIGN4OiAxMCxcbiAgICAgfCAgICAgICAgIGN5OiAxMCxcbiAgICAgfCAgICAgICAgIHI6IDVcbiAgICAgfCAgICAgfSxcbiAgICAgfCAgICAge1xuICAgICB8ICAgICAgICAgdHlwZTogXCJyZWN0XCIsXG4gICAgIHwgICAgICAgICB4OiAxMCxcbiAgICAgfCAgICAgICAgIHk6IDEwLFxuICAgICB8ICAgICAgICAgd2lkdGg6IDEwLFxuICAgICB8ICAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgfCAgICAgICAgIGZpbGw6IFwiI2ZjMFwiXG4gICAgIHwgICAgIH1cbiAgICAgfCBdKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5hZGQgPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICBpZiAoUi5pcyhqc29uLCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5zZXQoKSxcbiAgICAgICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgICAgICBpaSA9IGpzb24ubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGo7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBqID0ganNvbltpXSB8fCB7fTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1toYXNdKGoudHlwZSkgJiYgcmVzLnB1c2godGhpc1tqLnR5cGVdKCkuYXR0cihqKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZm9ybWF0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTaW1wbGUgZm9ybWF0IGZ1bmN0aW9uLiBSZXBsYWNlcyBjb25zdHJ1Y3Rpb24gb2YgdHlwZSDigJxgezxudW1iZXI+fWDigJ0gdG8gdGhlIGNvcnJlc3BvbmRpbmcgYXJndW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHRva2VuIChzdHJpbmcpIHN0cmluZyB0byBmb3JtYXRcbiAgICAgLSDigKYgKHN0cmluZykgcmVzdCBvZiBhcmd1bWVudHMgd2lsbCBiZSB0cmVhdGVkIGFzIHBhcmFtZXRlcnMgZm9yIHJlcGxhY2VtZW50XG4gICAgID0gKHN0cmluZykgZm9ybWF0ZWQgc3RyaW5nXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgeCA9IDEwLFxuICAgICB8ICAgICB5ID0gMjAsXG4gICAgIHwgICAgIHdpZHRoID0gNDAsXG4gICAgIHwgICAgIGhlaWdodCA9IDUwO1xuICAgICB8IC8vIHRoaXMgd2lsbCBkcmF3IGEgcmVjdGFuZ3VsYXIgc2hhcGUgZXF1aXZhbGVudCB0byBcIk0xMCwyMGg0MHY1MGgtNDB6XCJcbiAgICAgfCBwYXBlci5wYXRoKFJhcGhhZWwuZm9ybWF0KFwiTXswfSx7MX1oezJ9dnszfWh7NH16XCIsIHgsIHksIHdpZHRoLCBoZWlnaHQsIC13aWR0aCkpO1xuICAgIFxcKi9cbiAgICBSLmZvcm1hdCA9IGZ1bmN0aW9uICh0b2tlbiwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBhcmdzID0gUi5pcyhwYXJhbXMsIGFycmF5KSA/IFswXVtjb25jYXRdKHBhcmFtcykgOiBhcmd1bWVudHM7XG4gICAgICAgIHRva2VuICYmIFIuaXModG9rZW4sIHN0cmluZykgJiYgYXJncy5sZW5ndGggLSAxICYmICh0b2tlbiA9IHRva2VuLnJlcGxhY2UoZm9ybWF0cmcsIGZ1bmN0aW9uIChzdHIsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzWysraV0gPT0gbnVsbCA/IEUgOiBhcmdzW2ldO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB0b2tlbiB8fCBFO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZnVsbGZpbGxcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEEgbGl0dGxlIGJpdCBtb3JlIGFkdmFuY2VkIGZvcm1hdCBmdW5jdGlvbiB0aGFuIEBSYXBoYWVsLmZvcm1hdC4gUmVwbGFjZXMgY29uc3RydWN0aW9uIG9mIHR5cGUg4oCcYHs8bmFtZT59YOKAnSB0byB0aGUgY29ycmVzcG9uZGluZyBhcmd1bWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gdG9rZW4gKHN0cmluZykgc3RyaW5nIHRvIGZvcm1hdFxuICAgICAtIGpzb24gKG9iamVjdCkgb2JqZWN0IHdoaWNoIHByb3BlcnRpZXMgd2lsbCBiZSB1c2VkIGFzIGEgcmVwbGFjZW1lbnRcbiAgICAgPSAoc3RyaW5nKSBmb3JtYXRlZCBzdHJpbmdcbiAgICAgPiBVc2FnZVxuICAgICB8IC8vIHRoaXMgd2lsbCBkcmF3IGEgcmVjdGFuZ3VsYXIgc2hhcGUgZXF1aXZhbGVudCB0byBcIk0xMCwyMGg0MHY1MGgtNDB6XCJcbiAgICAgfCBwYXBlci5wYXRoKFJhcGhhZWwuZnVsbGZpbGwoXCJNe3h9LHt5fWh7ZGltLndpZHRofXZ7ZGltLmhlaWdodH1oe2RpbVsnbmVnYXRpdmUgd2lkdGgnXX16XCIsIHtcbiAgICAgfCAgICAgeDogMTAsXG4gICAgIHwgICAgIHk6IDIwLFxuICAgICB8ICAgICBkaW06IHtcbiAgICAgfCAgICAgICAgIHdpZHRoOiA0MCxcbiAgICAgfCAgICAgICAgIGhlaWdodDogNTAsXG4gICAgIHwgICAgICAgICBcIm5lZ2F0aXZlIHdpZHRoXCI6IC00MFxuICAgICB8ICAgICB9XG4gICAgIHwgfSkpO1xuICAgIFxcKi9cbiAgICBSLmZ1bGxmaWxsID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuUmVnZXggPSAvXFx7KFteXFx9XSspXFx9L2csXG4gICAgICAgICAgICBvYmpOb3RhdGlvblJlZ2V4ID0gLyg/Oig/Ol58XFwuKSguKz8pKD89XFxbfFxcLnwkfFxcKCl8XFxbKCd8XCIpKC4rPylcXDJcXF0pKFxcKFxcKSk/L2csIC8vIG1hdGNoZXMgLnh4eHh4IG9yIFtcInh4eHh4XCJdIHRvIHJ1biBvdmVyIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICByZXBsYWNlciA9IGZ1bmN0aW9uIChhbGwsIGtleSwgb2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IG9iajtcbiAgICAgICAgICAgICAgICBrZXkucmVwbGFjZShvYmpOb3RhdGlvblJlZ2V4LCBmdW5jdGlvbiAoYWxsLCBuYW1lLCBxdW90ZSwgcXVvdGVkTmFtZSwgaXNGdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lIHx8IHF1b3RlZE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lIGluIHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiByZXMgPT0gXCJmdW5jdGlvblwiICYmIGlzRnVuYyAmJiAocmVzID0gcmVzKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzID0gKHJlcyA9PSBudWxsIHx8IHJlcyA9PSBvYmogPyBhbGwgOiByZXMpICsgXCJcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIsIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UodG9rZW5SZWdleCwgZnVuY3Rpb24gKGFsbCwga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VyKGFsbCwga2V5LCBvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSkoKTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5uaW5qYVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSWYgeW91IHdhbnQgdG8gbGVhdmUgbm8gdHJhY2Ugb2YgUmFwaGHDq2wgKFdlbGwsIFJhcGhhw6tsIGNyZWF0ZXMgb25seSBvbmUgZ2xvYmFsIHZhcmlhYmxlIGBSYXBoYWVsYCwgYnV0IGFueXdheS4pIFlvdSBjYW4gdXNlIGBuaW5qYWAgbWV0aG9kLlxuICAgICAqIEJld2FyZSwgdGhhdCBpbiB0aGlzIGNhc2UgcGx1Z2lucyBjb3VsZCBzdG9wIHdvcmtpbmcsIGJlY2F1c2UgdGhleSBhcmUgZGVwZW5kaW5nIG9uIGdsb2JhbCB2YXJpYWJsZSBleGlzdGVuY2UuXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgUmFwaGFlbCBvYmplY3RcbiAgICAgPiBVc2FnZVxuICAgICB8IChmdW5jdGlvbiAobG9jYWxfcmFwaGFlbCkge1xuICAgICB8ICAgICB2YXIgcGFwZXIgPSBsb2NhbF9yYXBoYWVsKDEwLCAxMCwgMzIwLCAyMDApO1xuICAgICB8ICAgICDigKZcbiAgICAgfCB9KShSYXBoYWVsLm5pbmphKCkpO1xuICAgIFxcKi9cbiAgICBSLm5pbmphID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob2xkUmFwaGFlbC53YXMpIHtcbiAgICAgICAgICAgIGcud2luLlJhcGhhZWwgPSBvbGRSYXBoYWVsLmlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSUU4IHJhaXNlcyBhbiBlcnJvciB3aGVuIGRlbGV0aW5nIHdpbmRvdyBwcm9wZXJ0eVxuICAgICAgICAgICAgd2luZG93LlJhcGhhZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuUmFwaGFlbDtcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUjtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnN0XG4gICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAqKlxuICAgICAqIFlvdSBjYW4gYWRkIHlvdXIgb3duIG1ldGhvZCB0byBlbGVtZW50cyBhbmQgc2V0cy4gSXQgaXMgd2lzZSB0byBhZGQgYSBzZXQgbWV0aG9kIGZvciBlYWNoIGVsZW1lbnQgbWV0aG9kXG4gICAgICogeW91IGFkZGVkLCBzbyB5b3Ugd2lsbCBiZSBhYmxlIHRvIGNhbGwgdGhlIHNhbWUgbWV0aG9kIG9uIHNldHMgdG9vLlxuICAgICAqKlxuICAgICAqIFNlZSBhbHNvIEBSYXBoYWVsLmVsLlxuICAgICA+IFVzYWdlXG4gICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIHwgICAgIHRoaXMuYXR0cih7ZmlsbDogXCIjZjAwXCJ9KTtcbiAgICAgfCB9O1xuICAgICB8IFJhcGhhZWwuc3QucmVkID0gZnVuY3Rpb24gKCkge1xuICAgICB8ICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgIHwgICAgICAgICBlbC5yZWQoKTtcbiAgICAgfCAgICAgfSk7XG4gICAgIHwgfTtcbiAgICAgfCAvLyB0aGVuIHVzZSBpdFxuICAgICB8IHBhcGVyLnNldChwYXBlci5jaXJjbGUoMTAwLCAxMDAsIDIwKSwgcGFwZXIuY2lyY2xlKDExMCwgMTAwLCAyMCkpLnJlZCgpO1xuICAgIFxcKi9cbiAgICBSLnN0ID0gc2V0cHJvdG87XG5cbiAgICBldmUub24oXCJyYXBoYWVsLkRPTWxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2FkZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLy8gRmlyZWZveCA8My42IGZpeDogaHR0cDovL3dlYnJlZmxlY3Rpb24uYmxvZ3Nwb3QuY29tLzIwMDkvMTEvMTk1LWNoYXJzLXRvLWhlbHAtbGF6eS1sb2FkaW5nLmh0bWxcbiAgICAoZnVuY3Rpb24gKGRvYywgbG9hZGVkLCBmKSB7XG4gICAgICAgIGlmIChkb2MucmVhZHlTdGF0ZSA9PSBudWxsICYmIGRvYy5hZGRFdmVudExpc3RlbmVyKXtcbiAgICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKGxvYWRlZCwgZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihsb2FkZWQsIGYsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBkb2MucmVhZHlTdGF0ZSA9IFwiY29tcGxldGVcIjtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIGRvYy5yZWFkeVN0YXRlID0gXCJsb2FkaW5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNMb2FkZWQoKSB7XG4gICAgICAgICAgICAoL2luLykudGVzdChkb2MucmVhZHlTdGF0ZSkgPyBzZXRUaW1lb3V0KGlzTG9hZGVkLCA5KSA6IFIuZXZlKFwicmFwaGFlbC5ET01sb2FkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlzTG9hZGVkKCk7XG4gICAgfSkoZG9jdW1lbnQsIFwiRE9NQ29udGVudExvYWRlZFwiKTtcblxuICAgIHJldHVybiBSO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./dev/raphael.core.js\\n\");\n\n/***/ }),\n\n/***/ \"./dev/raphael.svg.js\":\n/*!****************************!*\\\n  !*** ./dev/raphael.svg.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ \\\"./dev/raphael.core.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\\n    if (R && !R.svg) {\\n        return;\\n    }\\n\\n    var has = \\\"hasOwnProperty\\\",\\n        Str = String,\\n        toFloat = parseFloat,\\n        toInt = parseInt,\\n        math = Math,\\n        mmax = math.max,\\n        abs = math.abs,\\n        pow = math.pow,\\n        separator = /[, ]+/,\\n        eve = R.eve,\\n        E = \\\"\\\",\\n        S = \\\" \\\";\\n    var xlink = \\\"http://www.w3.org/1999/xlink\\\",\\n        markers = {\\n            block: \\\"M5,0 0,2.5 5,5z\\\",\\n            classic: \\\"M5,0 0,2.5 5,5 3.5,3 3.5,2z\\\",\\n            diamond: \\\"M2.5,0 5,2.5 2.5,5 0,2.5z\\\",\\n            open: \\\"M6,1 1,3.5 6,6\\\",\\n            oval: \\\"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z\\\"\\n        },\\n        markerCounter = {};\\n    R.toString = function () {\\n        return  \\\"Your browser supports SVG.\\\\nYou are running Rapha\\\\xebl \\\" + this.version;\\n    };\\n    var $ = function (el, attr) {\\n        if (attr) {\\n            if (typeof el == \\\"string\\\") {\\n                el = $(el);\\n            }\\n            for (var key in attr) if (attr[has](key)) {\\n                if (key.substring(0, 6) == \\\"xlink:\\\") {\\n                    el.setAttributeNS(xlink, key.substring(6), Str(attr[key]));\\n                } else {\\n                    el.setAttribute(key, Str(attr[key]));\\n                }\\n            }\\n        } else {\\n            el = R._g.doc.createElementNS(\\\"http://www.w3.org/2000/svg\\\", el);\\n            el.style && (el.style.webkitTapHighlightColor = \\\"rgba(0,0,0,0)\\\");\\n        }\\n        return el;\\n    },\\n    addGradientFill = function (element, gradient) {\\n        var type = \\\"linear\\\",\\n            id = element.id + gradient,\\n            fx = .5, fy = .5,\\n            o = element.node,\\n            SVG = element.paper,\\n            s = o.style,\\n            el = R._g.doc.getElementById(id);\\n        if (!el) {\\n            gradient = Str(gradient).replace(R._radial_gradient, function (all, _fx, _fy) {\\n                type = \\\"radial\\\";\\n                if (_fx && _fy) {\\n                    fx = toFloat(_fx);\\n                    fy = toFloat(_fy);\\n                    var dir = ((fy > .5) * 2 - 1);\\n                    pow(fx - .5, 2) + pow(fy - .5, 2) > .25 &&\\n                        (fy = math.sqrt(.25 - pow(fx - .5, 2)) * dir + .5) &&\\n                        fy != .5 &&\\n                        (fy = fy.toFixed(5) - 1e-5 * dir);\\n                }\\n                return E;\\n            });\\n            gradient = gradient.split(/\\\\s*\\\\-\\\\s*/);\\n            if (type == \\\"linear\\\") {\\n                var angle = gradient.shift();\\n                angle = -toFloat(angle);\\n                if (isNaN(angle)) {\\n                    return null;\\n                }\\n                var vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))],\\n                    max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);\\n                vector[2] *= max;\\n                vector[3] *= max;\\n                if (vector[2] < 0) {\\n                    vector[0] = -vector[2];\\n                    vector[2] = 0;\\n                }\\n                if (vector[3] < 0) {\\n                    vector[1] = -vector[3];\\n                    vector[3] = 0;\\n                }\\n            }\\n            var dots = R._parseDots(gradient);\\n            if (!dots) {\\n                return null;\\n            }\\n            id = id.replace(/[\\\\(\\\\)\\\\s,\\\\xb0#]/g, \\\"_\\\");\\n\\n            if (element.gradient && id != element.gradient.id) {\\n                SVG.defs.removeChild(element.gradient);\\n                delete element.gradient;\\n            }\\n\\n            if (!element.gradient) {\\n                el = $(type + \\\"Gradient\\\", {id: id});\\n                element.gradient = el;\\n                $(el, type == \\\"radial\\\" ? {\\n                    fx: fx,\\n                    fy: fy\\n                } : {\\n                    x1: vector[0],\\n                    y1: vector[1],\\n                    x2: vector[2],\\n                    y2: vector[3],\\n                    gradientTransform: element.matrix.invert()\\n                });\\n                SVG.defs.appendChild(el);\\n                for (var i = 0, ii = dots.length; i < ii; i++) {\\n                    el.appendChild($(\\\"stop\\\", {\\n                        offset: dots[i].offset ? dots[i].offset : i ? \\\"100%\\\" : \\\"0%\\\",\\n                        \\\"stop-color\\\": dots[i].color || \\\"#fff\\\",\\n                        \\\"stop-opacity\\\": isFinite(dots[i].opacity) ? dots[i].opacity : 1\\n                    }));\\n                }\\n            }\\n        }\\n        $(o, {\\n            fill: fillurl(id),\\n            opacity: 1,\\n            \\\"fill-opacity\\\": 1\\n        });\\n        s.fill = E;\\n        s.opacity = 1;\\n        s.fillOpacity = 1;\\n        return 1;\\n    },\\n    isIE9or10 = function () {\\n      var mode = document.documentMode;\\n      return mode && (mode === 9 || mode === 10);\\n    },\\n    fillurl = function (id) {\\n      if (isIE9or10()) {\\n          return \\\"url('#\\\" + id + \\\"')\\\";\\n      }\\n      var location = document.location;\\n      var locationString = (\\n          location.protocol + '//' +\\n          location.host +\\n          location.pathname +\\n          location.search\\n      );\\n      return \\\"url('\\\" + locationString + \\\"#\\\" + id + \\\"')\\\";\\n    },\\n    updatePosition = function (o) {\\n        var bbox = o.getBBox(1);\\n        $(o.pattern, {patternTransform: o.matrix.invert() + \\\" translate(\\\" + bbox.x + \\\",\\\" + bbox.y + \\\")\\\"});\\n    },\\n    addArrow = function (o, value, isEnd) {\\n        if (o.type == \\\"path\\\") {\\n            var values = Str(value).toLowerCase().split(\\\"-\\\"),\\n                p = o.paper,\\n                se = isEnd ? \\\"end\\\" : \\\"start\\\",\\n                node = o.node,\\n                attrs = o.attrs,\\n                stroke = attrs[\\\"stroke-width\\\"],\\n                i = values.length,\\n                type = \\\"classic\\\",\\n                from,\\n                to,\\n                dx,\\n                refX,\\n                attr,\\n                w = 3,\\n                h = 3,\\n                t = 5;\\n            while (i--) {\\n                switch (values[i]) {\\n                    case \\\"block\\\":\\n                    case \\\"classic\\\":\\n                    case \\\"oval\\\":\\n                    case \\\"diamond\\\":\\n                    case \\\"open\\\":\\n                    case \\\"none\\\":\\n                        type = values[i];\\n                        break;\\n                    case \\\"wide\\\": h = 5; break;\\n                    case \\\"narrow\\\": h = 2; break;\\n                    case \\\"long\\\": w = 5; break;\\n                    case \\\"short\\\": w = 2; break;\\n                }\\n            }\\n            if (type == \\\"open\\\") {\\n                w += 2;\\n                h += 2;\\n                t += 2;\\n                dx = 1;\\n                refX = isEnd ? 4 : 1;\\n                attr = {\\n                    fill: \\\"none\\\",\\n                    stroke: attrs.stroke\\n                };\\n            } else {\\n                refX = dx = w / 2;\\n                attr = {\\n                    fill: attrs.stroke,\\n                    stroke: \\\"none\\\"\\n                };\\n            }\\n            if (o._.arrows) {\\n                if (isEnd) {\\n                    o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;\\n                    o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;\\n                } else {\\n                    o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;\\n                    o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;\\n                }\\n            } else {\\n                o._.arrows = {};\\n            }\\n            if (type != \\\"none\\\") {\\n                var pathId = \\\"raphael-marker-\\\" + type,\\n                    markerId = \\\"raphael-marker-\\\" + se + type + w + h + \\\"-obj\\\" + o.id;\\n                if (!R._g.doc.getElementById(pathId)) {\\n                    p.defs.appendChild($($(\\\"path\\\"), {\\n                        \\\"stroke-linecap\\\": \\\"round\\\",\\n                        d: markers[type],\\n                        id: pathId\\n                    }));\\n                    markerCounter[pathId] = 1;\\n                } else {\\n                    markerCounter[pathId]++;\\n                }\\n                var marker = R._g.doc.getElementById(markerId),\\n                    use;\\n                if (!marker) {\\n                    marker = $($(\\\"marker\\\"), {\\n                        id: markerId,\\n                        markerHeight: h,\\n                        markerWidth: w,\\n                        orient: \\\"auto\\\",\\n                        refX: refX,\\n                        refY: h / 2\\n                    });\\n                    use = $($(\\\"use\\\"), {\\n                        \\\"xlink:href\\\": \\\"#\\\" + pathId,\\n                        transform: (isEnd ? \\\"rotate(180 \\\" + w / 2 + \\\" \\\" + h / 2 + \\\") \\\" : E) + \\\"scale(\\\" + w / t + \\\",\\\" + h / t + \\\")\\\",\\n                        \\\"stroke-width\\\": (1 / ((w / t + h / t) / 2)).toFixed(4)\\n                    });\\n                    marker.appendChild(use);\\n                    p.defs.appendChild(marker);\\n                    markerCounter[markerId] = 1;\\n                } else {\\n                    markerCounter[markerId]++;\\n                    use = marker.getElementsByTagName(\\\"use\\\")[0];\\n                }\\n                $(use, attr);\\n                var delta = dx * (type != \\\"diamond\\\" && type != \\\"oval\\\");\\n                if (isEnd) {\\n                    from = o._.arrows.startdx * stroke || 0;\\n                    to = R.getTotalLength(attrs.path) - delta * stroke;\\n                } else {\\n                    from = delta * stroke;\\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\\n                }\\n                attr = {};\\n                attr[\\\"marker-\\\" + se] = \\\"url(#\\\" + markerId + \\\")\\\";\\n                if (to || from) {\\n                    attr.d = R.getSubpath(attrs.path, from, to);\\n                }\\n                $(node, attr);\\n                o._.arrows[se + \\\"Path\\\"] = pathId;\\n                o._.arrows[se + \\\"Marker\\\"] = markerId;\\n                o._.arrows[se + \\\"dx\\\"] = delta;\\n                o._.arrows[se + \\\"Type\\\"] = type;\\n                o._.arrows[se + \\\"String\\\"] = value;\\n            } else {\\n                if (isEnd) {\\n                    from = o._.arrows.startdx * stroke || 0;\\n                    to = R.getTotalLength(attrs.path) - from;\\n                } else {\\n                    from = 0;\\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\\n                }\\n                o._.arrows[se + \\\"Path\\\"] && $(node, {d: R.getSubpath(attrs.path, from, to)});\\n                delete o._.arrows[se + \\\"Path\\\"];\\n                delete o._.arrows[se + \\\"Marker\\\"];\\n                delete o._.arrows[se + \\\"dx\\\"];\\n                delete o._.arrows[se + \\\"Type\\\"];\\n                delete o._.arrows[se + \\\"String\\\"];\\n            }\\n            for (attr in markerCounter) if (markerCounter[has](attr) && !markerCounter[attr]) {\\n                var item = R._g.doc.getElementById(attr);\\n                item && item.parentNode.removeChild(item);\\n            }\\n        }\\n    },\\n    dasharray = {\\n        \\\"-\\\": [3, 1],\\n        \\\".\\\": [1, 1],\\n        \\\"-.\\\": [3, 1, 1, 1],\\n        \\\"-..\\\": [3, 1, 1, 1, 1, 1],\\n        \\\". \\\": [1, 3],\\n        \\\"- \\\": [4, 3],\\n        \\\"--\\\": [8, 3],\\n        \\\"- .\\\": [4, 3, 1, 3],\\n        \\\"--.\\\": [8, 3, 1, 3],\\n        \\\"--..\\\": [8, 3, 1, 3, 1, 3]\\n    },\\n    addDashes = function (o, value, params) {\\n        value = dasharray[Str(value).toLowerCase()];\\n        if (value) {\\n            var width = o.attrs[\\\"stroke-width\\\"] || \\\"1\\\",\\n                butt = {round: width, square: width, butt: 0}[o.attrs[\\\"stroke-linecap\\\"] || params[\\\"stroke-linecap\\\"]] || 0,\\n                dashes = [],\\n                i = value.length;\\n            while (i--) {\\n                dashes[i] = value[i] * width + ((i % 2) ? 1 : -1) * butt;\\n            }\\n            $(o.node, {\\\"stroke-dasharray\\\": dashes.join(\\\",\\\")});\\n        }\\n        else {\\n          $(o.node, {\\\"stroke-dasharray\\\": \\\"none\\\"});\\n        }\\n    },\\n    setFillAndStroke = function (o, params) {\\n        var node = o.node,\\n            attrs = o.attrs,\\n            vis = node.style.visibility;\\n        node.style.visibility = \\\"hidden\\\";\\n        for (var att in params) {\\n            if (params[has](att)) {\\n                if (!R._availableAttrs[has](att)) {\\n                    continue;\\n                }\\n                var value = params[att];\\n                attrs[att] = value;\\n                switch (att) {\\n                    case \\\"blur\\\":\\n                        o.blur(value);\\n                        break;\\n                    case \\\"title\\\":\\n                        var title = node.getElementsByTagName(\\\"title\\\");\\n\\n                        // Use the existing <title>.\\n                        if (title.length && (title = title[0])) {\\n                          title.firstChild.nodeValue = value;\\n                        } else {\\n                          title = $(\\\"title\\\");\\n                          var val = R._g.doc.createTextNode(value);\\n                          title.appendChild(val);\\n                          node.appendChild(title);\\n                        }\\n                        break;\\n                    case \\\"href\\\":\\n                    case \\\"target\\\":\\n                        var pn = node.parentNode;\\n                        if (pn.tagName.toLowerCase() != \\\"a\\\") {\\n                            var hl = $(\\\"a\\\");\\n                            pn.insertBefore(hl, node);\\n                            hl.appendChild(node);\\n                            pn = hl;\\n                        }\\n                        if (att == \\\"target\\\") {\\n                            pn.setAttributeNS(xlink, \\\"show\\\", value == \\\"blank\\\" ? \\\"new\\\" : value);\\n                        } else {\\n                            pn.setAttributeNS(xlink, att, value);\\n                        }\\n                        break;\\n                    case \\\"cursor\\\":\\n                        node.style.cursor = value;\\n                        break;\\n                    case \\\"transform\\\":\\n                        o.transform(value);\\n                        break;\\n                    case \\\"arrow-start\\\":\\n                        addArrow(o, value);\\n                        break;\\n                    case \\\"arrow-end\\\":\\n                        addArrow(o, value, 1);\\n                        break;\\n                    case \\\"clip-rect\\\":\\n                        var rect = Str(value).split(separator);\\n                        if (rect.length == 4) {\\n                            o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);\\n                            var el = $(\\\"clipPath\\\"),\\n                                rc = $(\\\"rect\\\");\\n                            el.id = R.createUUID();\\n                            $(rc, {\\n                                x: rect[0],\\n                                y: rect[1],\\n                                width: rect[2],\\n                                height: rect[3]\\n                            });\\n                            el.appendChild(rc);\\n                            o.paper.defs.appendChild(el);\\n                            $(node, {\\\"clip-path\\\": \\\"url(#\\\" + el.id + \\\")\\\"});\\n                            o.clip = rc;\\n                        }\\n                        if (!value) {\\n                            var path = node.getAttribute(\\\"clip-path\\\");\\n                            if (path) {\\n                                var clip = R._g.doc.getElementById(path.replace(/(^url\\\\(#|\\\\)$)/g, E));\\n                                clip && clip.parentNode.removeChild(clip);\\n                                $(node, {\\\"clip-path\\\": E});\\n                                delete o.clip;\\n                            }\\n                        }\\n                    break;\\n                    case \\\"path\\\":\\n                        if (o.type == \\\"path\\\") {\\n                            $(node, {d: value ? attrs.path = R._pathToAbsolute(value) : \\\"M0,0\\\"});\\n                            o._.dirty = 1;\\n                            if (o._.arrows) {\\n                                \\\"startString\\\" in o._.arrows && addArrow(o, o._.arrows.startString);\\n                                \\\"endString\\\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\\n                            }\\n                        }\\n                        break;\\n                    case \\\"width\\\":\\n                        node.setAttribute(att, value);\\n                        o._.dirty = 1;\\n                        if (attrs.fx) {\\n                            att = \\\"x\\\";\\n                            value = attrs.x;\\n                        } else {\\n                            break;\\n                        }\\n                    case \\\"x\\\":\\n                        if (attrs.fx) {\\n                            value = -attrs.x - (attrs.width || 0);\\n                        }\\n                    case \\\"rx\\\":\\n                        if (att == \\\"rx\\\" && o.type == \\\"rect\\\") {\\n                            break;\\n                        }\\n                    case \\\"cx\\\":\\n                        node.setAttribute(att, value);\\n                        o.pattern && updatePosition(o);\\n                        o._.dirty = 1;\\n                        break;\\n                    case \\\"height\\\":\\n                        node.setAttribute(att, value);\\n                        o._.dirty = 1;\\n                        if (attrs.fy) {\\n                            att = \\\"y\\\";\\n                            value = attrs.y;\\n                        } else {\\n                            break;\\n                        }\\n                    case \\\"y\\\":\\n                        if (attrs.fy) {\\n                            value = -attrs.y - (attrs.height || 0);\\n                        }\\n                    case \\\"ry\\\":\\n                        if (att == \\\"ry\\\" && o.type == \\\"rect\\\") {\\n                            break;\\n                        }\\n                    case \\\"cy\\\":\\n                        node.setAttribute(att, value);\\n                        o.pattern && updatePosition(o);\\n                        o._.dirty = 1;\\n                        break;\\n                    case \\\"r\\\":\\n                        if (o.type == \\\"rect\\\") {\\n                            $(node, {rx: value, ry: value});\\n                        } else {\\n                            node.setAttribute(att, value);\\n                        }\\n                        o._.dirty = 1;\\n                        break;\\n                    case \\\"src\\\":\\n                        if (o.type == \\\"image\\\") {\\n                            node.setAttributeNS(xlink, \\\"href\\\", value);\\n                        }\\n                        break;\\n                    case \\\"stroke-width\\\":\\n                        if (o._.sx != 1 || o._.sy != 1) {\\n                            value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;\\n                        }\\n                        node.setAttribute(att, value);\\n                        if (attrs[\\\"stroke-dasharray\\\"]) {\\n                            addDashes(o, attrs[\\\"stroke-dasharray\\\"], params);\\n                        }\\n                        if (o._.arrows) {\\n                            \\\"startString\\\" in o._.arrows && addArrow(o, o._.arrows.startString);\\n                            \\\"endString\\\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\\n                        }\\n                        break;\\n                    case \\\"stroke-dasharray\\\":\\n                        addDashes(o, value, params);\\n                        break;\\n                    case \\\"fill\\\":\\n                        var isURL = Str(value).match(R._ISURL);\\n                        if (isURL) {\\n                            el = $(\\\"pattern\\\");\\n                            var ig = $(\\\"image\\\");\\n                            el.id = R.createUUID();\\n                            $(el, {x: 0, y: 0, patternUnits: \\\"userSpaceOnUse\\\", height: 1, width: 1});\\n                            $(ig, {x: 0, y: 0, \\\"xlink:href\\\": isURL[1]});\\n                            el.appendChild(ig);\\n\\n                            (function (el) {\\n                                R._preload(isURL[1], function () {\\n                                    var w = this.offsetWidth,\\n                                        h = this.offsetHeight;\\n                                    $(el, {width: w, height: h});\\n                                    $(ig, {width: w, height: h});\\n                                });\\n                            })(el);\\n                            o.paper.defs.appendChild(el);\\n                            $(node, {fill: \\\"url(#\\\" + el.id + \\\")\\\"});\\n                            o.pattern = el;\\n                            o.pattern && updatePosition(o);\\n                            break;\\n                        }\\n                        var clr = R.getRGB(value);\\n                        if (!clr.error) {\\n                            delete params.gradient;\\n                            delete attrs.gradient;\\n                            !R.is(attrs.opacity, \\\"undefined\\\") &&\\n                                R.is(params.opacity, \\\"undefined\\\") &&\\n                                $(node, {opacity: attrs.opacity});\\n                            !R.is(attrs[\\\"fill-opacity\\\"], \\\"undefined\\\") &&\\n                                R.is(params[\\\"fill-opacity\\\"], \\\"undefined\\\") &&\\n                                $(node, {\\\"fill-opacity\\\": attrs[\\\"fill-opacity\\\"]});\\n                        } else if ((o.type == \\\"circle\\\" || o.type == \\\"ellipse\\\" || Str(value).charAt() != \\\"r\\\") && addGradientFill(o, value)) {\\n                            if (\\\"opacity\\\" in attrs || \\\"fill-opacity\\\" in attrs) {\\n                                var gradient = R._g.doc.getElementById(node.getAttribute(\\\"fill\\\").replace(/^url\\\\(#|\\\\)$/g, E));\\n                                if (gradient) {\\n                                    var stops = gradient.getElementsByTagName(\\\"stop\\\");\\n                                    $(stops[stops.length - 1], {\\\"stop-opacity\\\": (\\\"opacity\\\" in attrs ? attrs.opacity : 1) * (\\\"fill-opacity\\\" in attrs ? attrs[\\\"fill-opacity\\\"] : 1)});\\n                                }\\n                            }\\n                            attrs.gradient = value;\\n                            attrs.fill = \\\"none\\\";\\n                            break;\\n                        }\\n                        clr[has](\\\"opacity\\\") && $(node, {\\\"fill-opacity\\\": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\\n                    case \\\"stroke\\\":\\n                        clr = R.getRGB(value);\\n                        node.setAttribute(att, clr.hex);\\n                        att == \\\"stroke\\\" && clr[has](\\\"opacity\\\") && $(node, {\\\"stroke-opacity\\\": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\\n                        if (att == \\\"stroke\\\" && o._.arrows) {\\n                            \\\"startString\\\" in o._.arrows && addArrow(o, o._.arrows.startString);\\n                            \\\"endString\\\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\\n                        }\\n                        break;\\n                    case \\\"gradient\\\":\\n                        (o.type == \\\"circle\\\" || o.type == \\\"ellipse\\\" || Str(value).charAt() != \\\"r\\\") && addGradientFill(o, value);\\n                        break;\\n                    case \\\"opacity\\\":\\n                        if (attrs.gradient && !attrs[has](\\\"stroke-opacity\\\")) {\\n                            $(node, {\\\"stroke-opacity\\\": value > 1 ? value / 100 : value});\\n                        }\\n                        // fall\\n                    case \\\"fill-opacity\\\":\\n                        if (attrs.gradient) {\\n                            gradient = R._g.doc.getElementById(node.getAttribute(\\\"fill\\\").replace(/^url\\\\(#|\\\\)$/g, E));\\n                            if (gradient) {\\n                                stops = gradient.getElementsByTagName(\\\"stop\\\");\\n                                $(stops[stops.length - 1], {\\\"stop-opacity\\\": value});\\n                            }\\n                            break;\\n                        }\\n                    default:\\n                        att == \\\"font-size\\\" && (value = toInt(value, 10) + \\\"px\\\");\\n                        var cssrule = att.replace(/(\\\\-.)/g, function (w) {\\n                            return w.substring(1).toUpperCase();\\n                        });\\n                        node.style[cssrule] = value;\\n                        o._.dirty = 1;\\n                        node.setAttribute(att, value);\\n                        break;\\n                }\\n            }\\n        }\\n\\n        tuneText(o, params);\\n        node.style.visibility = vis;\\n    },\\n    leading = 1.2,\\n    tuneText = function (el, params) {\\n        if (el.type != \\\"text\\\" || !(params[has](\\\"text\\\") || params[has](\\\"font\\\") || params[has](\\\"font-size\\\") || params[has](\\\"x\\\") || params[has](\\\"y\\\"))) {\\n            return;\\n        }\\n        var a = el.attrs,\\n            node = el.node,\\n            fontSize = node.firstChild ? toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild, E).getPropertyValue(\\\"font-size\\\"), 10) : 10;\\n\\n        if (params[has](\\\"text\\\")) {\\n            a.text = params.text;\\n            while (node.firstChild) {\\n                node.removeChild(node.firstChild);\\n            }\\n            var texts = Str(params.text).split(\\\"\\\\n\\\"),\\n                tspans = [],\\n                tspan;\\n            for (var i = 0, ii = texts.length; i < ii; i++) {\\n                tspan = $(\\\"tspan\\\");\\n                i && $(tspan, {dy: fontSize * leading, x: a.x});\\n                tspan.appendChild(R._g.doc.createTextNode(texts[i]));\\n                node.appendChild(tspan);\\n                tspans[i] = tspan;\\n            }\\n        } else {\\n            tspans = node.getElementsByTagName(\\\"tspan\\\");\\n            for (i = 0, ii = tspans.length; i < ii; i++) if (i) {\\n                $(tspans[i], {dy: fontSize * leading, x: a.x});\\n            } else {\\n                $(tspans[0], {dy: 0});\\n            }\\n        }\\n        $(node, {x: a.x, y: a.y});\\n        el._.dirty = 1;\\n        var bb = el._getBBox(),\\n            dif = a.y - (bb.y + bb.height / 2);\\n        dif && R.is(dif, \\\"finite\\\") && $(tspans[0], {dy: dif});\\n    },\\n    getRealNode = function (node) {\\n        if (node.parentNode && node.parentNode.tagName.toLowerCase() === \\\"a\\\") {\\n            return node.parentNode;\\n        } else {\\n            return node;\\n        }\\n    },\\n    Element = function (node, svg) {\\n        var X = 0,\\n            Y = 0;\\n        /*\\\\\\n         * Element.node\\n         [ property (object) ]\\n         **\\n         * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\\n         **\\n         * Note: Don’t mess with it.\\n         > Usage\\n         | // draw a circle at coordinate 10,10 with radius of 10\\n         | var c = paper.circle(10, 10, 10);\\n         | c.node.onclick = function () {\\n         |     c.attr(\\\"fill\\\", \\\"red\\\");\\n         | };\\n        \\\\*/\\n        this[0] = this.node = node;\\n        /*\\\\\\n         * Element.raphael\\n         [ property (object) ]\\n         **\\n         * Internal reference to @Raphael object. In case it is not available.\\n         > Usage\\n         | Raphael.el.red = function () {\\n         |     var hsb = this.paper.raphael.rgb2hsb(this.attr(\\\"fill\\\"));\\n         |     hsb.h = 1;\\n         |     this.attr({fill: this.paper.raphael.hsb2rgb(hsb).hex});\\n         | }\\n        \\\\*/\\n        node.raphael = true;\\n        /*\\\\\\n         * Element.id\\n         [ property (number) ]\\n         **\\n         * Unique id of the element. Especially useful when you want to listen to events of the element,\\n         * because all events are fired in format `<module>.<action>.<id>`. Also useful for @Paper.getById method.\\n        \\\\*/\\n        this.id = guid();\\n        node.raphaelid = this.id;\\n\\n        /**\\n        * Method that returns a 5 letter/digit id, enough for 36^5 = 60466176 elements\\n        * @returns {string} id\\n        */\\n        function guid() {\\n            return (\\\"0000\\\" + (Math.random()*Math.pow(36,5) << 0).toString(36)).slice(-5);\\n        }\\n\\n        this.matrix = R.matrix();\\n        this.realPath = null;\\n        /*\\\\\\n         * Element.paper\\n         [ property (object) ]\\n         **\\n         * Internal reference to “paper” where object drawn. Mainly for use in plugins and element extensions.\\n         > Usage\\n         | Raphael.el.cross = function () {\\n         |     this.attr({fill: \\\"red\\\"});\\n         |     this.paper.path(\\\"M10,10L50,50M50,10L10,50\\\")\\n         |         .attr({stroke: \\\"red\\\"});\\n         | }\\n        \\\\*/\\n        this.paper = svg;\\n        this.attrs = this.attrs || {};\\n        this._ = {\\n            transform: [],\\n            sx: 1,\\n            sy: 1,\\n            deg: 0,\\n            dx: 0,\\n            dy: 0,\\n            dirty: 1\\n        };\\n        !svg.bottom && (svg.bottom = this);\\n        /*\\\\\\n         * Element.prev\\n         [ property (object) ]\\n         **\\n         * Reference to the previous element in the hierarchy.\\n        \\\\*/\\n        this.prev = svg.top;\\n        svg.top && (svg.top.next = this);\\n        svg.top = this;\\n        /*\\\\\\n         * Element.next\\n         [ property (object) ]\\n         **\\n         * Reference to the next element in the hierarchy.\\n        \\\\*/\\n        this.next = null;\\n    },\\n    elproto = R.el;\\n\\n    Element.prototype = elproto;\\n    elproto.constructor = Element;\\n\\n    R._engine.path = function (pathString, SVG) {\\n        var el = $(\\\"path\\\");\\n        SVG.canvas && SVG.canvas.appendChild(el);\\n        var p = new Element(el, SVG);\\n        p.type = \\\"path\\\";\\n        setFillAndStroke(p, {\\n            fill: \\\"none\\\",\\n            stroke: \\\"#000\\\",\\n            path: pathString\\n        });\\n        return p;\\n    };\\n    /*\\\\\\n     * Element.rotate\\n     [ method ]\\n     **\\n     * Deprecated! Use @Element.transform instead.\\n     * Adds rotation by given angle around given point to the list of\\n     * transformations of the element.\\n     > Parameters\\n     - deg (number) angle in degrees\\n     - cx (number) #optional x coordinate of the centre of rotation\\n     - cy (number) #optional y coordinate of the centre of rotation\\n     * If cx & cy aren’t specified centre of the shape is used as a point of rotation.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.rotate = function (deg, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        deg = Str(deg).split(separator);\\n        if (deg.length - 1) {\\n            cx = toFloat(deg[1]);\\n            cy = toFloat(deg[2]);\\n        }\\n        deg = toFloat(deg[0]);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n            cx = bbox.x + bbox.width / 2;\\n            cy = bbox.y + bbox.height / 2;\\n        }\\n        this.transform(this._.transform.concat([[\\\"r\\\", deg, cx, cy]]));\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.scale\\n     [ method ]\\n     **\\n     * Deprecated! Use @Element.transform instead.\\n     * Adds scale by given amount relative to given point to the list of\\n     * transformations of the element.\\n     > Parameters\\n     - sx (number) horisontal scale amount\\n     - sy (number) vertical scale amount\\n     - cx (number) #optional x coordinate of the centre of scale\\n     - cy (number) #optional y coordinate of the centre of scale\\n     * If cx & cy aren’t specified centre of the shape is used instead.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.scale = function (sx, sy, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        sx = Str(sx).split(separator);\\n        if (sx.length - 1) {\\n            sy = toFloat(sx[1]);\\n            cx = toFloat(sx[2]);\\n            cy = toFloat(sx[3]);\\n        }\\n        sx = toFloat(sx[0]);\\n        (sy == null) && (sy = sx);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n        }\\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\\n        this.transform(this._.transform.concat([[\\\"s\\\", sx, sy, cx, cy]]));\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.translate\\n     [ method ]\\n     **\\n     * Deprecated! Use @Element.transform instead.\\n     * Adds translation by given amount to the list of transformations of the element.\\n     > Parameters\\n     - dx (number) horisontal shift\\n     - dy (number) vertical shift\\n     = (object) @Element\\n    \\\\*/\\n    elproto.translate = function (dx, dy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        dx = Str(dx).split(separator);\\n        if (dx.length - 1) {\\n            dy = toFloat(dx[1]);\\n        }\\n        dx = toFloat(dx[0]) || 0;\\n        dy = +dy || 0;\\n        this.transform(this._.transform.concat([[\\\"t\\\", dx, dy]]));\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.transform\\n     [ method ]\\n     **\\n     * Adds transformation to the element which is separate to other attributes,\\n     * i.e. translation doesn’t change `x` or `y` of the rectange. The format\\n     * of transformation string is similar to the path string syntax:\\n     | \\\"t100,100r30,100,100s2,2,100,100r45s1.5\\\"\\n     * Each letter is a command. There are four commands: `t` is for translate, `r` is for rotate, `s` is for\\n     * scale and `m` is for matrix.\\n     *\\n     * There are also alternative “absolute” translation, rotation and scale: `T`, `R` and `S`. They will not take previous transformation into account. For example, `...T100,0` will always move element 100 px horisontally, while `...t100,0` could move it vertically if there is `r90` before. Just compare results of `r90t100,0` and `r90T100,0`.\\n     *\\n     * So, the example line above could be read like “translate by 100, 100; rotate 30° around 100, 100; scale twice around 100, 100;\\n     * rotate 45° around centre; scale 1.5 times relative to centre”. As you can see rotate and scale commands have origin\\n     * coordinates as optional parameters, the default is the centre point of the element.\\n     * Matrix accepts six parameters.\\n     > Usage\\n     | var el = paper.rect(10, 20, 300, 200);\\n     | // translate 100, 100, rotate 45°, translate -100, 0\\n     | el.transform(\\\"t100,100r45t-100,0\\\");\\n     | // if you want you can append or prepend transformations\\n     | el.transform(\\\"...t50,50\\\");\\n     | el.transform(\\\"s2...\\\");\\n     | // or even wrap\\n     | el.transform(\\\"t50,50...t-50-50\\\");\\n     | // to reset transformation call method with empty string\\n     | el.transform(\\\"\\\");\\n     | // to get current value call it without parameters\\n     | console.log(el.transform());\\n     > Parameters\\n     - tstr (string) #optional transformation string\\n     * If tstr isn’t specified\\n     = (string) current transformation string\\n     * else\\n     = (object) @Element\\n    \\\\*/\\n    elproto.transform = function (tstr) {\\n        var _ = this._;\\n        if (tstr == null) {\\n            return _.transform;\\n        }\\n        R._extractTransform(this, tstr);\\n\\n        this.clip && $(this.clip, {transform: this.matrix.invert()});\\n        this.pattern && updatePosition(this);\\n        this.node && $(this.node, {transform: this.matrix});\\n\\n        if (_.sx != 1 || _.sy != 1) {\\n            var sw = this.attrs[has](\\\"stroke-width\\\") ? this.attrs[\\\"stroke-width\\\"] : 1;\\n            this.attr({\\\"stroke-width\\\": sw});\\n        }\\n\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.hide\\n     [ method ]\\n     **\\n     * Makes element invisible. See @Element.show.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.hide = function () {\\n        if(!this.removed) this.node.style.display = \\\"none\\\";\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.show\\n     [ method ]\\n     **\\n     * Makes element visible. See @Element.hide.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.show = function () {\\n        if(!this.removed) this.node.style.display = \\\"\\\";\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.remove\\n     [ method ]\\n     **\\n     * Removes element from the paper.\\n    \\\\*/\\n    elproto.remove = function () {\\n        var node = getRealNode(this.node);\\n        if (this.removed || !node.parentNode) {\\n            return;\\n        }\\n        var paper = this.paper;\\n        paper.__set__ && paper.__set__.exclude(this);\\n        eve.unbind(\\\"raphael.*.*.\\\" + this.id);\\n        if (this.gradient) {\\n            paper.defs.removeChild(this.gradient);\\n        }\\n        R._tear(this, paper);\\n\\n        node.parentNode.removeChild(node);\\n\\n        // Remove custom data for element\\n        this.removeData();\\n\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n        this.removed = true;\\n    };\\n    elproto._getBBox = function () {\\n        if (this.node.style.display == \\\"none\\\") {\\n            this.show();\\n            var hide = true;\\n        }\\n        var canvasHidden = false,\\n            containerStyle;\\n        if (this.paper.canvas.parentElement) {\\n          containerStyle = this.paper.canvas.parentElement.style;\\n        } //IE10+ can't find parentElement\\n        else if (this.paper.canvas.parentNode) {\\n          containerStyle = this.paper.canvas.parentNode.style;\\n        }\\n\\n        if(containerStyle && containerStyle.display == \\\"none\\\") {\\n          canvasHidden = true;\\n          containerStyle.display = \\\"\\\";\\n        }\\n        var bbox = {};\\n        try {\\n            bbox = this.node.getBBox();\\n        } catch(e) {\\n            // Firefox 3.0.x, 25.0.1 (probably more versions affected) play badly here - possible fix\\n            bbox = {\\n                x: this.node.clientLeft,\\n                y: this.node.clientTop,\\n                width: this.node.clientWidth,\\n                height: this.node.clientHeight\\n            }\\n        } finally {\\n            bbox = bbox || {};\\n            if(canvasHidden){\\n              containerStyle.display = \\\"none\\\";\\n            }\\n        }\\n        hide && this.hide();\\n        return bbox;\\n    };\\n    /*\\\\\\n     * Element.attr\\n     [ method ]\\n     **\\n     * Sets the attributes of the element.\\n     > Parameters\\n     - attrName (string) attribute’s name\\n     - value (string) value\\n     * or\\n     - params (object) object of name/value pairs\\n     * or\\n     - attrName (string) attribute’s name\\n     * or\\n     - attrNames (array) in this case method returns array of current values for given attribute names\\n     = (object) @Element if attrsName & value or params are passed in.\\n     = (...) value of the attribute if only attrsName is passed in.\\n     = (array) array of values of the attribute if attrsNames is passed in.\\n     = (object) object of attributes if nothing is passed in.\\n     > Possible parameters\\n     # <p>Please refer to the <a href=\\\"http://www.w3.org/TR/SVG/\\\" title=\\\"The W3C Recommendation for the SVG language describes these properties in detail.\\\">SVG specification</a> for an explanation of these parameters.</p>\\n     o arrow-end (string) arrowhead on the end of the path. The format for string is `<type>[-<width>[-<length>]]`. Possible types: `classic`, `block`, `open`, `oval`, `diamond`, `none`, width: `wide`, `narrow`, `medium`, length: `long`, `short`, `midium`.\\n     o clip-rect (string) comma or space separated values: x, y, width and height\\n     o cursor (string) CSS type of the cursor\\n     o cx (number) the x-axis coordinate of the center of the circle, or ellipse\\n     o cy (number) the y-axis coordinate of the center of the circle, or ellipse\\n     o fill (string) colour, gradient or image\\n     o fill-opacity (number)\\n     o font (string)\\n     o font-family (string)\\n     o font-size (number) font size in pixels\\n     o font-weight (string)\\n     o height (number)\\n     o href (string) URL, if specified element behaves as hyperlink\\n     o opacity (number)\\n     o path (string) SVG path string format\\n     o r (number) radius of the circle, ellipse or rounded corner on the rect\\n     o rx (number) horisontal radius of the ellipse\\n     o ry (number) vertical radius of the ellipse\\n     o src (string) image URL, only works for @Element.image element\\n     o stroke (string) stroke colour\\n     o stroke-dasharray (string) [“”, “none”, “`-`”, “`.`”, “`-.`”, “`-..`”, “`. `”, “`- `”, “`--`”, “`- .`”, “`--.`”, “`--..`”]\\n     o stroke-linecap (string) [“`butt`”, “`square`”, “`round`”]\\n     o stroke-linejoin (string) [“`bevel`”, “`round`”, “`miter`”]\\n     o stroke-miterlimit (number)\\n     o stroke-opacity (number)\\n     o stroke-width (number) stroke width in pixels, default is '1'\\n     o target (string) used with href\\n     o text (string) contents of the text element. Use `\\\\n` for multiline text\\n     o text-anchor (string) [“`start`”, “`middle`”, “`end`”], default is “`middle`”\\n     o title (string) will create tooltip with a given text\\n     o transform (string) see @Element.transform\\n     o width (number)\\n     o x (number)\\n     o y (number)\\n     > Gradients\\n     * Linear gradient format: “`‹angle›-‹colour›[-‹colour›[:‹offset›]]*-‹colour›`”, example: “`90-#fff-#000`” – 90°\\n     * gradient from white to black or “`0-#fff-#f00:20-#000`” – 0° gradient from white via red (at 20%) to black.\\n     *\\n     * radial gradient: “`r[(‹fx›, ‹fy›)]‹colour›[-‹colour›[:‹offset›]]*-‹colour›`”, example: “`r#fff-#000`” –\\n     * gradient from white to black or “`r(0.25, 0.75)#fff-#000`” – gradient from white to black with focus point\\n     * at 0.25, 0.75. Focus point coordinates are in 0..1 range. Radial gradients can only be applied to circles and ellipses.\\n     > Path String\\n     # <p>Please refer to <a href=\\\"http://www.w3.org/TR/SVG/paths.html#PathData\\\" title=\\\"Details of a path’s data attribute’s format are described in the SVG specification.\\\">SVG documentation regarding path string</a>. Raphaël fully supports it.</p>\\n     > Colour Parsing\\n     # <ul>\\n     #     <li>Colour name (“<code>red</code>”, “<code>green</code>”, “<code>cornflowerblue</code>”, etc)</li>\\n     #     <li>#••• — shortened HTML colour: (“<code>#000</code>”, “<code>#fc0</code>”, etc)</li>\\n     #     <li>#•••••• — full length HTML colour: (“<code>#000000</code>”, “<code>#bd2300</code>”)</li>\\n     #     <li>rgb(•••, •••, •••) — red, green and blue channels’ values: (“<code>rgb(200,&nbsp;100,&nbsp;0)</code>”)</li>\\n     #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (“<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>”)</li>\\n     #     <li>rgba(•••, •••, •••, •••) — red, green and blue channels’ values: (“<code>rgba(200,&nbsp;100,&nbsp;0, .5)</code>”)</li>\\n     #     <li>rgba(•••%, •••%, •••%, •••%) — same as above, but in %: (“<code>rgba(100%,&nbsp;175%,&nbsp;0%, 50%)</code>”)</li>\\n     #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (“<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>”)</li>\\n     #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\\n     #     <li>hsba(•••, •••, •••, •••) — same as above, but with opacity</li>\\n     #     <li>hsl(•••, •••, •••) — almost the same as hsb, see <a href=\\\"http://en.wikipedia.org/wiki/HSL_and_HSV\\\" title=\\\"HSL and HSV - Wikipedia, the free encyclopedia\\\">Wikipedia page</a></li>\\n     #     <li>hsl(•••%, •••%, •••%) — same as above, but in %</li>\\n     #     <li>hsla(•••, •••, •••, •••) — same as above, but with opacity</li>\\n     #     <li>Optionally for hsb and hsl you could specify hue as a degree: “<code>hsl(240deg,&nbsp;1,&nbsp;.5)</code>” or, if you want to go fancy, “<code>hsl(240°,&nbsp;1,&nbsp;.5)</code>”</li>\\n     # </ul>\\n    \\\\*/\\n    elproto.attr = function (name, value) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (name == null) {\\n            var res = {};\\n            for (var a in this.attrs) if (this.attrs[has](a)) {\\n                res[a] = this.attrs[a];\\n            }\\n            res.gradient && res.fill == \\\"none\\\" && (res.fill = res.gradient) && delete res.gradient;\\n            res.transform = this._.transform;\\n            return res;\\n        }\\n        if (value == null && R.is(name, \\\"string\\\")) {\\n            if (name == \\\"fill\\\" && this.attrs.fill == \\\"none\\\" && this.attrs.gradient) {\\n                return this.attrs.gradient;\\n            }\\n            if (name == \\\"transform\\\") {\\n                return this._.transform;\\n            }\\n            var names = name.split(separator),\\n                out = {};\\n            for (var i = 0, ii = names.length; i < ii; i++) {\\n                name = names[i];\\n                if (name in this.attrs) {\\n                    out[name] = this.attrs[name];\\n                } else if (R.is(this.paper.customAttributes[name], \\\"function\\\")) {\\n                    out[name] = this.paper.customAttributes[name].def;\\n                } else {\\n                    out[name] = R._availableAttrs[name];\\n                }\\n            }\\n            return ii - 1 ? out : out[names[0]];\\n        }\\n        if (value == null && R.is(name, \\\"array\\\")) {\\n            out = {};\\n            for (i = 0, ii = name.length; i < ii; i++) {\\n                out[name[i]] = this.attr(name[i]);\\n            }\\n            return out;\\n        }\\n        if (value != null) {\\n            var params = {};\\n            params[name] = value;\\n        } else if (name != null && R.is(name, \\\"object\\\")) {\\n            params = name;\\n        }\\n        for (var key in params) {\\n            eve(\\\"raphael.attr.\\\" + key + \\\".\\\" + this.id, this, params[key]);\\n        }\\n        for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], \\\"function\\\")) {\\n            var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\\n            this.attrs[key] = params[key];\\n            for (var subkey in par) if (par[has](subkey)) {\\n                params[subkey] = par[subkey];\\n            }\\n        }\\n        setFillAndStroke(this, params);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.toFront\\n     [ method ]\\n     **\\n     * Moves the element so it is the closest to the viewer’s eyes, on top of other elements.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.toFront = function () {\\n        if (this.removed) {\\n            return this;\\n        }\\n        var node = getRealNode(this.node);\\n        node.parentNode.appendChild(node);\\n        var svg = this.paper;\\n        svg.top != this && R._tofront(this, svg);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.toBack\\n     [ method ]\\n     **\\n     * Moves the element so it is the furthest from the viewer’s eyes, behind other elements.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.toBack = function () {\\n        if (this.removed) {\\n            return this;\\n        }\\n        var node = getRealNode(this.node);\\n        var parentNode = node.parentNode;\\n        parentNode.insertBefore(node, parentNode.firstChild);\\n        R._toback(this, this.paper);\\n        var svg = this.paper;\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.insertAfter\\n     [ method ]\\n     **\\n     * Inserts current object after the given one.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.insertAfter = function (element) {\\n        if (this.removed || !element) {\\n            return this;\\n        }\\n\\n        var node = getRealNode(this.node);\\n        var afterNode = getRealNode(element.node || element[element.length - 1].node);\\n        if (afterNode.nextSibling) {\\n            afterNode.parentNode.insertBefore(node, afterNode.nextSibling);\\n        } else {\\n            afterNode.parentNode.appendChild(node);\\n        }\\n        R._insertafter(this, element, this.paper);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.insertBefore\\n     [ method ]\\n     **\\n     * Inserts current object before the given one.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.insertBefore = function (element) {\\n        if (this.removed || !element) {\\n            return this;\\n        }\\n\\n        var node = getRealNode(this.node);\\n        var beforeNode = getRealNode(element.node || element[0].node);\\n        beforeNode.parentNode.insertBefore(node, beforeNode);\\n        R._insertbefore(this, element, this.paper);\\n        return this;\\n    };\\n    elproto.blur = function (size) {\\n        // Experimental. No Safari support. Use it on your own risk.\\n        var t = this;\\n        if (+size !== 0) {\\n            var fltr = $(\\\"filter\\\"),\\n                blur = $(\\\"feGaussianBlur\\\");\\n            t.attrs.blur = size;\\n            fltr.id = R.createUUID();\\n            $(blur, {stdDeviation: +size || 1.5});\\n            fltr.appendChild(blur);\\n            t.paper.defs.appendChild(fltr);\\n            t._blur = fltr;\\n            $(t.node, {filter: \\\"url(#\\\" + fltr.id + \\\")\\\"});\\n        } else {\\n            if (t._blur) {\\n                t._blur.parentNode.removeChild(t._blur);\\n                delete t._blur;\\n                delete t.attrs.blur;\\n            }\\n            t.node.removeAttribute(\\\"filter\\\");\\n        }\\n        return t;\\n    };\\n    R._engine.circle = function (svg, x, y, r) {\\n        var el = $(\\\"circle\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {cx: x, cy: y, r: r, fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        res.type = \\\"circle\\\";\\n        $(el, res.attrs);\\n        return res;\\n    };\\n    R._engine.rect = function (svg, x, y, w, h, r) {\\n        var el = $(\\\"rect\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {x: x, y: y, width: w, height: h, rx: r || 0, ry: r || 0, fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        res.type = \\\"rect\\\";\\n        $(el, res.attrs);\\n        return res;\\n    };\\n    R._engine.ellipse = function (svg, x, y, rx, ry) {\\n        var el = $(\\\"ellipse\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {cx: x, cy: y, rx: rx, ry: ry, fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        res.type = \\\"ellipse\\\";\\n        $(el, res.attrs);\\n        return res;\\n    };\\n    R._engine.image = function (svg, src, x, y, w, h) {\\n        var el = $(\\\"image\\\");\\n        $(el, {x: x, y: y, width: w, height: h, preserveAspectRatio: \\\"none\\\"});\\n        el.setAttributeNS(xlink, \\\"href\\\", src);\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {x: x, y: y, width: w, height: h, src: src};\\n        res.type = \\\"image\\\";\\n        return res;\\n    };\\n    R._engine.text = function (svg, x, y, text) {\\n        var el = $(\\\"text\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {\\n            x: x,\\n            y: y,\\n            \\\"text-anchor\\\": \\\"middle\\\",\\n            text: text,\\n            \\\"font-family\\\": R._availableAttrs[\\\"font-family\\\"],\\n            \\\"font-size\\\": R._availableAttrs[\\\"font-size\\\"],\\n            stroke: \\\"none\\\",\\n            fill: \\\"#000\\\"\\n        };\\n        res.type = \\\"text\\\";\\n        setFillAndStroke(res, res.attrs);\\n        return res;\\n    };\\n    R._engine.setSize = function (width, height) {\\n        this.width = width || this.width;\\n        this.height = height || this.height;\\n        this.canvas.setAttribute(\\\"width\\\", this.width);\\n        this.canvas.setAttribute(\\\"height\\\", this.height);\\n        if (this._viewBox) {\\n            this.setViewBox.apply(this, this._viewBox);\\n        }\\n        return this;\\n    };\\n    R._engine.create = function () {\\n        var con = R._getContainer.apply(0, arguments),\\n            container = con && con.container,\\n            x = con.x,\\n            y = con.y,\\n            width = con.width,\\n            height = con.height;\\n        if (!container) {\\n            throw new Error(\\\"SVG container not found.\\\");\\n        }\\n        var cnvs = $(\\\"svg\\\"),\\n            css = \\\"overflow:hidden;\\\",\\n            isFloating;\\n        x = x || 0;\\n        y = y || 0;\\n        width = width || 512;\\n        height = height || 342;\\n        $(cnvs, {\\n            height: height,\\n            version: 1.1,\\n            width: width,\\n            xmlns: \\\"http://www.w3.org/2000/svg\\\",\\n            \\\"xmlns:xlink\\\": \\\"http://www.w3.org/1999/xlink\\\"\\n        });\\n        if (container == 1) {\\n            cnvs.style.cssText = css + \\\"position:absolute;left:\\\" + x + \\\"px;top:\\\" + y + \\\"px\\\";\\n            R._g.doc.body.appendChild(cnvs);\\n            isFloating = 1;\\n        } else {\\n            cnvs.style.cssText = css + \\\"position:relative\\\";\\n            if (container.firstChild) {\\n                container.insertBefore(cnvs, container.firstChild);\\n            } else {\\n                container.appendChild(cnvs);\\n            }\\n        }\\n        container = new R._Paper;\\n        container.width = width;\\n        container.height = height;\\n        container.canvas = cnvs;\\n        container.clear();\\n        container._left = container._top = 0;\\n        isFloating && (container.renderfix = function () {});\\n        container.renderfix();\\n        return container;\\n    };\\n    R._engine.setViewBox = function (x, y, w, h, fit) {\\n        eve(\\\"raphael.setViewBox\\\", this, this._viewBox, [x, y, w, h, fit]);\\n        var paperSize = this.getSize(),\\n            size = mmax(w / paperSize.width, h / paperSize.height),\\n            top = this.top,\\n            aspectRatio = fit ? \\\"xMidYMid meet\\\" : \\\"xMinYMin\\\",\\n            vb,\\n            sw;\\n        if (x == null) {\\n            if (this._vbSize) {\\n                size = 1;\\n            }\\n            delete this._vbSize;\\n            vb = \\\"0 0 \\\" + this.width + S + this.height;\\n        } else {\\n            this._vbSize = size;\\n            vb = x + S + y + S + w + S + h;\\n        }\\n        $(this.canvas, {\\n            viewBox: vb,\\n            preserveAspectRatio: aspectRatio\\n        });\\n        while (size && top) {\\n            sw = \\\"stroke-width\\\" in top.attrs ? top.attrs[\\\"stroke-width\\\"] : 1;\\n            top.attr({\\\"stroke-width\\\": sw});\\n            top._.dirty = 1;\\n            top._.dirtyT = 1;\\n            top = top.prev;\\n        }\\n        this._viewBox = [x, y, w, h, !!fit];\\n        return this;\\n    };\\n    /*\\\\\\n     * Paper.renderfix\\n     [ method ]\\n     **\\n     * Fixes the issue of Firefox and IE9 regarding subpixel rendering. If paper is dependent\\n     * on other elements after reflow it could shift half pixel which cause for lines to lost their crispness.\\n     * This method fixes the issue.\\n     **\\n       Special thanks to Mariusz Nowak (http://www.medikoo.com/) for this method.\\n    \\\\*/\\n    R.prototype.renderfix = function () {\\n        var cnvs = this.canvas,\\n            s = cnvs.style,\\n            pos;\\n        try {\\n            pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();\\n        } catch (e) {\\n            pos = cnvs.createSVGMatrix();\\n        }\\n        var left = -pos.e % 1,\\n            top = -pos.f % 1;\\n        if (left || top) {\\n            if (left) {\\n                this._left = (this._left + left) % 1;\\n                s.left = this._left + \\\"px\\\";\\n            }\\n            if (top) {\\n                this._top = (this._top + top) % 1;\\n                s.top = this._top + \\\"px\\\";\\n            }\\n        }\\n    };\\n    /*\\\\\\n     * Paper.clear\\n     [ method ]\\n     **\\n     * Clears the paper, i.e. removes all the elements.\\n    \\\\*/\\n    R.prototype.clear = function () {\\n        R.eve(\\\"raphael.clear\\\", this);\\n        var c = this.canvas;\\n        while (c.firstChild) {\\n            c.removeChild(c.firstChild);\\n        }\\n        this.bottom = this.top = null;\\n        (this.desc = $(\\\"desc\\\")).appendChild(R._g.doc.createTextNode(\\\"Created with Rapha\\\\xebl \\\" + R.version));\\n        c.appendChild(this.desc);\\n        c.appendChild(this.defs = $(\\\"defs\\\"));\\n    };\\n    /*\\\\\\n     * Paper.remove\\n     [ method ]\\n     **\\n     * Removes the paper from the DOM.\\n    \\\\*/\\n    R.prototype.remove = function () {\\n        eve(\\\"raphael.remove\\\", this);\\n        this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n    };\\n    var setproto = R.st;\\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\\n        setproto[method] = (function (methodname) {\\n            return function () {\\n                var arg = arguments;\\n                return this.forEach(function (el) {\\n                    el[methodname].apply(el, arg);\\n                });\\n            };\\n        })(method);\\n    }\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5zdmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuc3ZnLmpzP2Q4YzciXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIuc3ZnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICB0b0ludCA9IHBhcnNlSW50LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgbW1heCA9IG1hdGgubWF4LFxuICAgICAgICBhYnMgPSBtYXRoLmFicyxcbiAgICAgICAgcG93ID0gbWF0aC5wb3csXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGV2ZSA9IFIuZXZlLFxuICAgICAgICBFID0gXCJcIixcbiAgICAgICAgUyA9IFwiIFwiO1xuICAgIHZhciB4bGluayA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgICBtYXJrZXJzID0ge1xuICAgICAgICAgICAgYmxvY2s6IFwiTTUsMCAwLDIuNSA1LDV6XCIsXG4gICAgICAgICAgICBjbGFzc2ljOiBcIk01LDAgMCwyLjUgNSw1IDMuNSwzIDMuNSwyelwiLFxuICAgICAgICAgICAgZGlhbW9uZDogXCJNMi41LDAgNSwyLjUgMi41LDUgMCwyLjV6XCIsXG4gICAgICAgICAgICBvcGVuOiBcIk02LDEgMSwzLjUgNiw2XCIsXG4gICAgICAgICAgICBvdmFsOiBcIk0yLjUsMEEyLjUsMi41LDAsMCwxLDIuNSw1IDIuNSwyLjUsMCwwLDEsMi41LDB6XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2VyQ291bnRlciA9IHt9O1xuICAgIFIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAgXCJZb3VyIGJyb3dzZXIgc3VwcG9ydHMgU1ZHLlxcbllvdSBhcmUgcnVubmluZyBSYXBoYVxceGVibCBcIiArIHRoaXMudmVyc2lvbjtcbiAgICB9O1xuICAgIHZhciAkID0gZnVuY3Rpb24gKGVsLCBhdHRyKSB7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBlbCA9ICQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHIpIGlmIChhdHRyW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3Vic3RyaW5nKDAsIDYpID09IFwieGxpbms6XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIGtleS5zdWJzdHJpbmcoNiksIFN0cihhdHRyW2tleV0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBTdHIoYXR0cltrZXldKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBlbCk7XG4gICAgICAgICAgICBlbC5zdHlsZSAmJiAoZWwuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IgPSBcInJnYmEoMCwwLDAsMClcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgYWRkR3JhZGllbnRGaWxsID0gZnVuY3Rpb24gKGVsZW1lbnQsIGdyYWRpZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gXCJsaW5lYXJcIixcbiAgICAgICAgICAgIGlkID0gZWxlbWVudC5pZCArIGdyYWRpZW50LFxuICAgICAgICAgICAgZnggPSAuNSwgZnkgPSAuNSxcbiAgICAgICAgICAgIG8gPSBlbGVtZW50Lm5vZGUsXG4gICAgICAgICAgICBTVkcgPSBlbGVtZW50LnBhcGVyLFxuICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICBlbCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgZ3JhZGllbnQgPSBTdHIoZ3JhZGllbnQpLnJlcGxhY2UoUi5fcmFkaWFsX2dyYWRpZW50LCBmdW5jdGlvbiAoYWxsLCBfZngsIF9meSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcInJhZGlhbFwiO1xuICAgICAgICAgICAgICAgIGlmIChfZnggJiYgX2Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZ4ID0gdG9GbG9hdChfZngpO1xuICAgICAgICAgICAgICAgICAgICBmeSA9IHRvRmxvYXQoX2Z5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9ICgoZnkgPiAuNSkgKiAyIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHBvdyhmeCAtIC41LCAyKSArIHBvdyhmeSAtIC41LCAyKSA+IC4yNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZ5ID0gbWF0aC5zcXJ0KC4yNSAtIHBvdyhmeCAtIC41LCAyKSkgKiBkaXIgKyAuNSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ5ICE9IC41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnkgPSBmeS50b0ZpeGVkKDUpIC0gMWUtNSAqIGRpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBFO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncmFkaWVudCA9IGdyYWRpZW50LnNwbGl0KC9cXHMqXFwtXFxzKi8pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtdG9GbG9hdChhbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGFuZ2xlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZlY3RvciA9IFswLCAwLCBtYXRoLmNvcyhSLnJhZChhbmdsZSkpLCBtYXRoLnNpbihSLnJhZChhbmdsZSkpXSxcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gMSAvIChtbWF4KGFicyh2ZWN0b3JbMl0pLCBhYnModmVjdG9yWzNdKSkgfHwgMSk7XG4gICAgICAgICAgICAgICAgdmVjdG9yWzJdICo9IG1heDtcbiAgICAgICAgICAgICAgICB2ZWN0b3JbM10gKj0gbWF4O1xuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbMl0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclswXSA9IC12ZWN0b3JbMl07XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsyXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbM10gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsxXSA9IC12ZWN0b3JbM107XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclszXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRvdHMgPSBSLl9wYXJzZURvdHMoZ3JhZGllbnQpO1xuICAgICAgICAgICAgaWYgKCFkb3RzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoL1tcXChcXClcXHMsXFx4YjAjXS9nLCBcIl9cIik7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmdyYWRpZW50ICYmIGlkICE9IGVsZW1lbnQuZ3JhZGllbnQuaWQpIHtcbiAgICAgICAgICAgICAgICBTVkcuZGVmcy5yZW1vdmVDaGlsZChlbGVtZW50LmdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZWwgPSAkKHR5cGUgKyBcIkdyYWRpZW50XCIsIHtpZDogaWR9KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmdyYWRpZW50ID0gZWw7XG4gICAgICAgICAgICAgICAgJChlbCwgdHlwZSA9PSBcInJhZGlhbFwiID8ge1xuICAgICAgICAgICAgICAgICAgICBmeDogZngsXG4gICAgICAgICAgICAgICAgICAgIGZ5OiBmeVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHgxOiB2ZWN0b3JbMF0sXG4gICAgICAgICAgICAgICAgICAgIHkxOiB2ZWN0b3JbMV0sXG4gICAgICAgICAgICAgICAgICAgIHgyOiB2ZWN0b3JbMl0sXG4gICAgICAgICAgICAgICAgICAgIHkyOiB2ZWN0b3JbM10sXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VHJhbnNmb3JtOiBlbGVtZW50Lm1hdHJpeC5pbnZlcnQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNWRy5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb3RzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoJChcInN0b3BcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBkb3RzW2ldLm9mZnNldCA/IGRvdHNbaV0ub2Zmc2V0IDogaSA/IFwiMTAwJVwiIDogXCIwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGRvdHNbaV0uY29sb3IgfHwgXCIjZmZmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiBpc0Zpbml0ZShkb3RzW2ldLm9wYWNpdHkpID8gZG90c1tpXS5vcGFjaXR5IDogMVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICQobywge1xuICAgICAgICAgICAgZmlsbDogZmlsbHVybChpZCksXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogMVxuICAgICAgICB9KTtcbiAgICAgICAgcy5maWxsID0gRTtcbiAgICAgICAgcy5vcGFjaXR5ID0gMTtcbiAgICAgICAgcy5maWxsT3BhY2l0eSA9IDE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG4gICAgaXNJRTlvcjEwID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gICAgICByZXR1cm4gbW9kZSAmJiAobW9kZSA9PT0gOSB8fCBtb2RlID09PSAxMCk7XG4gICAgfSxcbiAgICBmaWxsdXJsID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAoaXNJRTlvcjEwKCkpIHtcbiAgICAgICAgICByZXR1cm4gXCJ1cmwoJyNcIiArIGlkICsgXCInKVwiO1xuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb247XG4gICAgICB2YXIgbG9jYXRpb25TdHJpbmcgPSAoXG4gICAgICAgICAgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICtcbiAgICAgICAgICBsb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSArXG4gICAgICAgICAgbG9jYXRpb24uc2VhcmNoXG4gICAgICApO1xuICAgICAgcmV0dXJuIFwidXJsKCdcIiArIGxvY2F0aW9uU3RyaW5nICsgXCIjXCIgKyBpZCArIFwiJylcIjtcbiAgICB9LFxuICAgIHVwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIGJib3ggPSBvLmdldEJCb3goMSk7XG4gICAgICAgICQoby5wYXR0ZXJuLCB7cGF0dGVyblRyYW5zZm9ybTogby5tYXRyaXguaW52ZXJ0KCkgKyBcIiB0cmFuc2xhdGUoXCIgKyBiYm94LnggKyBcIixcIiArIGJib3gueSArIFwiKVwifSk7XG4gICAgfSxcbiAgICBhZGRBcnJvdyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgaXNFbmQpIHtcbiAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFN0cih2YWx1ZSkudG9Mb3dlckNhc2UoKS5zcGxpdChcIi1cIiksXG4gICAgICAgICAgICAgICAgcCA9IG8ucGFwZXIsXG4gICAgICAgICAgICAgICAgc2UgPSBpc0VuZCA/IFwiZW5kXCIgOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgICAgICBhdHRycyA9IG8uYXR0cnMsXG4gICAgICAgICAgICAgICAgc3Ryb2tlID0gYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiY2xhc3NpY1wiLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICAgICAgcmVmWCxcbiAgICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICAgIHcgPSAzLFxuICAgICAgICAgICAgICAgIGggPSAzLFxuICAgICAgICAgICAgICAgIHQgPSA1O1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NpY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3ZhbFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2lkZVwiOiBoID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYXJyb3dcIjogaCA9IDI7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9uZ1wiOiB3ID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzaG9ydFwiOiB3ID0gMjsgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICAgICB3ICs9IDI7XG4gICAgICAgICAgICAgICAgaCArPSAyO1xuICAgICAgICAgICAgICAgIHQgKz0gMjtcbiAgICAgICAgICAgICAgICBkeCA9IDE7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGlzRW5kID8gNCA6IDE7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogYXR0cnMuc3Ryb2tlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGR4ID0gdyAvIDI7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogYXR0cnMuc3Ryb2tlLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MuZW5kUGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3MuZW5kUGF0aF0tLTtcbiAgICAgICAgICAgICAgICAgICAgby5fLmFycm93cy5lbmRNYXJrZXIgJiYgbWFya2VyQ291bnRlcltvLl8uYXJyb3dzLmVuZE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0UGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3Muc3RhcnRQYXRoXS0tO1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0TWFya2VyICYmIG1hcmtlckNvdW50ZXJbby5fLmFycm93cy5zdGFydE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlICE9IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyBzZSArIHR5cGUgKyB3ICsgaCArIFwiLW9ialwiICsgby5pZDtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGhJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKCQoJChcInBhdGhcIiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZDogbWFya2Vyc1t0eXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXRoSWRcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW3BhdGhJZF0gPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbcGF0aElkXSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQobWFya2VySWQpLFxuICAgICAgICAgICAgICAgICAgICB1c2U7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyID0gJCgkKFwibWFya2VyXCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbWFya2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJIZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJXaWR0aDogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZYOiByZWZYLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmWTogaCAvIDJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHVzZSA9ICQoJChcInVzZVwiKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpocmVmXCI6IFwiI1wiICsgcGF0aElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAoaXNFbmQgPyBcInJvdGF0ZSgxODAgXCIgKyB3IC8gMiArIFwiIFwiICsgaCAvIDIgKyBcIikgXCIgOiBFKSArIFwic2NhbGUoXCIgKyB3IC8gdCArIFwiLFwiICsgaCAvIHQgKyBcIilcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6ICgxIC8gKCh3IC8gdCArIGggLyB0KSAvIDIpKS50b0ZpeGVkKDQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuYXBwZW5kQ2hpbGQodXNlKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbbWFya2VySWRdID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW21hcmtlcklkXSsrO1xuICAgICAgICAgICAgICAgICAgICB1c2UgPSBtYXJrZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1c2VcIilbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQodXNlLCBhdHRyKTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBkeCAqICh0eXBlICE9IFwiZGlhbW9uZFwiICYmIHR5cGUgIT0gXCJvdmFsXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpc0VuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gby5fLmFycm93cy5zdGFydGR4ICogc3Ryb2tlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gUi5nZXRUb3RhbExlbmd0aChhdHRycy5wYXRoKSAtIGRlbHRhICogc3Ryb2tlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBkZWx0YSAqIHN0cm9rZTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dHIgPSB7fTtcbiAgICAgICAgICAgICAgICBhdHRyW1wibWFya2VyLVwiICsgc2VdID0gXCJ1cmwoI1wiICsgbWFya2VySWQgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBpZiAodG8gfHwgZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyLmQgPSBSLmdldFN1YnBhdGgoYXR0cnMucGF0aCwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKG5vZGUsIGF0dHIpO1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gPSBwYXRoSWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiTWFya2VyXCJdID0gbWFya2VySWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiZHhcIl0gPSBkZWx0YTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdID0gdHlwZTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBvLl8uYXJyb3dzLnN0YXJ0ZHggKiBzdHJva2UgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gZnJvbTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gJiYgJChub2RlLCB7ZDogUi5nZXRTdWJwYXRoKGF0dHJzLnBhdGgsIGZyb20sIHRvKX0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJQYXRoXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJNYXJrZXJcIl07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG8uXy5hcnJvd3Nbc2UgKyBcImR4XCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGF0dHIgaW4gbWFya2VyQ291bnRlcikgaWYgKG1hcmtlckNvdW50ZXJbaGFzXShhdHRyKSAmJiAhbWFya2VyQ291bnRlclthdHRyXSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoYXR0cik7XG4gICAgICAgICAgICAgICAgaXRlbSAmJiBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRhc2hhcnJheSA9IHtcbiAgICAgICAgXCItXCI6IFszLCAxXSxcbiAgICAgICAgXCIuXCI6IFsxLCAxXSxcbiAgICAgICAgXCItLlwiOiBbMywgMSwgMSwgMV0sXG4gICAgICAgIFwiLS4uXCI6IFszLCAxLCAxLCAxLCAxLCAxXSxcbiAgICAgICAgXCIuIFwiOiBbMSwgM10sXG4gICAgICAgIFwiLSBcIjogWzQsIDNdLFxuICAgICAgICBcIi0tXCI6IFs4LCAzXSxcbiAgICAgICAgXCItIC5cIjogWzQsIDMsIDEsIDNdLFxuICAgICAgICBcIi0tLlwiOiBbOCwgMywgMSwgM10sXG4gICAgICAgIFwiLS0uLlwiOiBbOCwgMywgMSwgMywgMSwgM11cbiAgICB9LFxuICAgIGFkZERhc2hlcyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgcGFyYW1zKSB7XG4gICAgICAgIHZhbHVlID0gZGFzaGFycmF5W1N0cih2YWx1ZSkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gby5hdHRyc1tcInN0cm9rZS13aWR0aFwiXSB8fCBcIjFcIixcbiAgICAgICAgICAgICAgICBidXR0ID0ge3JvdW5kOiB3aWR0aCwgc3F1YXJlOiB3aWR0aCwgYnV0dDogMH1bby5hdHRyc1tcInN0cm9rZS1saW5lY2FwXCJdIHx8IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdXSB8fCAwLFxuICAgICAgICAgICAgICAgIGRhc2hlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGkgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgZGFzaGVzW2ldID0gdmFsdWVbaV0gKiB3aWR0aCArICgoaSAlIDIpID8gMSA6IC0xKSAqIGJ1dHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBkYXNoZXMuam9pbihcIixcIil9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBcIm5vbmVcIn0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGaWxsQW5kU3Ryb2tlID0gZnVuY3Rpb24gKG8sIHBhcmFtcykge1xuICAgICAgICB2YXIgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHZpcyA9IG5vZGUuc3R5bGUudmlzaWJpbGl0eTtcbiAgICAgICAgbm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgZm9yICh2YXIgYXR0IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1toYXNdKGF0dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2F2YWlsYWJsZUF0dHJzW2hhc10oYXR0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1zW2F0dF07XG4gICAgICAgICAgICAgICAgYXR0cnNbYXR0XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmJsdXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIDx0aXRsZT4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoICYmICh0aXRsZSA9IHRpdGxlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAkKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0YXJnZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbiA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbi50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGwgPSAkKFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5pbnNlcnRCZWZvcmUoaGwsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuID0gaGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwidGFyZ2V0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5zZXRBdHRyaWJ1dGVOUyh4bGluaywgXCJzaG93XCIsIHZhbHVlID09IFwiYmxhbmtcIiA/IFwibmV3XCIgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuLnNldEF0dHJpYnV0ZU5TKHhsaW5rLCBhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3Vyc29yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmN1cnNvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG8udHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFycm93KG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBcnJvdyhvLCB2YWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsaXAtcmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBTdHIodmFsdWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2xpcCAmJiBvLmNsaXAucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8uY2xpcC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSAkKFwiY2xpcFBhdGhcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJjID0gJChcInJlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHJjLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlY3RbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHJlY3RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiByZWN0WzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3RbM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImNsaXAtcGF0aFwiOiBcInVybCgjXCIgKyBlbC5pZCArIFwiKVwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jbGlwID0gcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBub2RlLmdldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGgucmVwbGFjZSgvKF51cmxcXCgjfFxcKSQpL2csIEUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcCAmJiBjbGlwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge1wiY2xpcC1wYXRoXCI6IEV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG8uY2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2Q6IHZhbHVlID8gYXR0cnMucGF0aCA9IFIuX3BhdGhUb0Fic29sdXRlKHZhbHVlKSA6IFwiTTAsMFwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5fLmFycm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuZngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQgPSBcInhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGF0dHJzLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAtYXR0cnMueCAtIChhdHRycy53aWR0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwicnhcIiAmJiBvLnR5cGUgPT0gXCJyZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbihvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gXCJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhdHRycy55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5meSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gLWF0dHJzLnkgLSAoYXR0cnMuaGVpZ2h0IHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJyeVwiICYmIG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3lcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXR0ZXJuICYmIHVwZGF0ZVBvc2l0aW9uKG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge3J4OiB2YWx1ZSwgcnk6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZS13aWR0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5zeCAhPSAxIHx8IG8uXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLz0gbW1heChhYnMoby5fLnN4KSwgYWJzKG8uXy5zeSkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgYXR0cnNbXCJzdHJva2UtZGFzaGFycmF5XCJdLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5hcnJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVuZFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5lbmRTdHJpbmcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJva2UtZGFzaGFycmF5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgdmFsdWUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cih2YWx1ZSkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSAkKFwicGF0dGVyblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWcgPSAkKFwiaW1hZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGVsLCB7eDogMCwgeTogMCwgcGF0dGVyblVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsIGhlaWdodDogMSwgd2lkdGg6IDF9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlnLCB7eDogMCwgeTogMCwgXCJ4bGluazpocmVmXCI6IGlzVVJMWzFdfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHRoaXMub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbCwge3dpZHRoOiB3LCBoZWlnaHQ6IGh9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWcsIHt3aWR0aDogdywgaGVpZ2h0OiBofSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2ZpbGw6IFwidXJsKCNcIiArIGVsLmlkICsgXCIpXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gJiYgdXBkYXRlUG9zaXRpb24obyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbHIuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmdyYWRpZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhUi5pcyhhdHRycy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLmlzKHBhcmFtcy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtvcGFjaXR5OiBhdHRycy5vcGFjaXR5fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIVIuaXMoYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0sIFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuaXMocGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdLCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImZpbGwtb3BhY2l0eVwiOiBhdHRyc1tcImZpbGwtb3BhY2l0eVwiXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoby50eXBlID09IFwiY2lyY2xlXCIgfHwgby50eXBlID09IFwiZWxsaXBzZVwiIHx8IFN0cih2YWx1ZSkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChvLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvcGFjaXR5XCIgaW4gYXR0cnMgfHwgXCJmaWxsLW9wYWNpdHlcIiBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmFkaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzdG9wc1tzdG9wcy5sZW5ndGggLSAxXSwge1wic3RvcC1vcGFjaXR5XCI6IChcIm9wYWNpdHlcIiBpbiBhdHRycyA/IGF0dHJzLm9wYWNpdHkgOiAxKSAqIChcImZpbGwtb3BhY2l0eVwiIGluIGF0dHJzID8gYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0gOiAxKX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLmdyYWRpZW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMuZmlsbCA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyW2hhc10oXCJvcGFjaXR5XCIpICYmICQobm9kZSwge1wiZmlsbC1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCBjbHIuaGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dCA9PSBcInN0cm9rZVwiICYmIGNscltoYXNdKFwib3BhY2l0eVwiKSAmJiAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJzdHJva2VcIiAmJiBvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGFydFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5zdGFydFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JhZGllbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIChvLnR5cGUgPT0gXCJjaXJjbGVcIiB8fCBvLnR5cGUgPT0gXCJlbGxpcHNlXCIgfHwgU3RyKHZhbHVlKS5jaGFyQXQoKSAhPSBcInJcIikgJiYgYWRkR3JhZGllbnRGaWxsKG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50ICYmICFhdHRyc1toYXNdKFwic3Ryb2tlLW9wYWNpdHlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IHZhbHVlID4gMSA/IHZhbHVlIC8gMTAwIDogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGxcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGwtb3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN0b3BzW3N0b3BzLmxlbmd0aCAtIDFdLCB7XCJzdG9wLW9wYWNpdHlcIjogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHQgPT0gXCJmb250LXNpemVcIiAmJiAodmFsdWUgPSB0b0ludCh2YWx1ZSwgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NydWxlID0gYXR0LnJlcGxhY2UoLyhcXC0uKS9nLCBmdW5jdGlvbiAodykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3LnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2Nzc3J1bGVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0dW5lVGV4dChvLCBwYXJhbXMpO1xuICAgICAgICBub2RlLnN0eWxlLnZpc2liaWxpdHkgPSB2aXM7XG4gICAgfSxcbiAgICBsZWFkaW5nID0gMS4yLFxuICAgIHR1bmVUZXh0ID0gZnVuY3Rpb24gKGVsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKGVsLnR5cGUgIT0gXCJ0ZXh0XCIgfHwgIShwYXJhbXNbaGFzXShcInRleHRcIikgfHwgcGFyYW1zW2hhc10oXCJmb250XCIpIHx8IHBhcmFtc1toYXNdKFwiZm9udC1zaXplXCIpIHx8IHBhcmFtc1toYXNdKFwieFwiKSB8fCBwYXJhbXNbaGFzXShcInlcIikpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBlbC5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSBlbC5ub2RlLFxuICAgICAgICAgICAgZm9udFNpemUgPSBub2RlLmZpcnN0Q2hpbGQgPyB0b0ludChSLl9nLmRvYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUuZmlyc3RDaGlsZCwgRSkuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSwgMTApIDogMTA7XG5cbiAgICAgICAgaWYgKHBhcmFtc1toYXNdKFwidGV4dFwiKSkge1xuICAgICAgICAgICAgYS50ZXh0ID0gcGFyYW1zLnRleHQ7XG4gICAgICAgICAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHRzID0gU3RyKHBhcmFtcy50ZXh0KS5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgICAgICB0c3BhbnMgPSBbXSxcbiAgICAgICAgICAgICAgICB0c3BhbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRleHRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0c3BhbiA9ICQoXCJ0c3BhblwiKTtcbiAgICAgICAgICAgICAgICBpICYmICQodHNwYW4sIHtkeTogZm9udFNpemUgKiBsZWFkaW5nLCB4OiBhLnh9KTtcbiAgICAgICAgICAgICAgICB0c3Bhbi5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0c1tpXSkpO1xuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgICAgICAgICAgICAgIHRzcGFuc1tpXSA9IHRzcGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHNwYW5zID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRzcGFuXCIpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSB0c3BhbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1tpXSwge2R5OiBmb250U2l6ZSAqIGxlYWRpbmcsIHg6IGEueH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1swXSwge2R5OiAwfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJChub2RlLCB7eDogYS54LCB5OiBhLnl9KTtcbiAgICAgICAgZWwuXy5kaXJ0eSA9IDE7XG4gICAgICAgIHZhciBiYiA9IGVsLl9nZXRCQm94KCksXG4gICAgICAgICAgICBkaWYgPSBhLnkgLSAoYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICBkaWYgJiYgUi5pcyhkaWYsIFwiZmluaXRlXCIpICYmICQodHNwYW5zWzBdLCB7ZHk6IGRpZn0pO1xuICAgIH0sXG4gICAgZ2V0UmVhbE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgc3ZnKSB7XG4gICAgICAgIHZhciBYID0gMCxcbiAgICAgICAgICAgIFkgPSAwO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubm9kZVxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBHaXZlcyB5b3UgYSByZWZlcmVuY2UgdG8gdGhlIERPTSBvYmplY3QsIHNvIHlvdSBjYW4gYXNzaWduIGV2ZW50IGhhbmRsZXJzIG9yIGp1c3QgbWVzcyBhcm91bmQuXG4gICAgICAgICAqKlxuICAgICAgICAgKiBOb3RlOiBEb27igJl0IG1lc3Mgd2l0aCBpdC5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgLy8gZHJhdyBhIGNpcmNsZSBhdCBjb29yZGluYXRlIDEwLDEwIHdpdGggcmFkaXVzIG9mIDEwXG4gICAgICAgICB8IHZhciBjID0gcGFwZXIuY2lyY2xlKDEwLCAxMCwgMTApO1xuICAgICAgICAgfCBjLm5vZGUub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHwgICAgIGMuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XG4gICAgICAgICB8IH07XG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpc1swXSA9IHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogRWxlbWVudC5yYXBoYWVsXG4gICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byBAUmFwaGFlbCBvYmplY3QuIEluIGNhc2UgaXQgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICB8ICAgICB2YXIgaHNiID0gdGhpcy5wYXBlci5yYXBoYWVsLnJnYjJoc2IodGhpcy5hdHRyKFwiZmlsbFwiKSk7XG4gICAgICAgICB8ICAgICBoc2IuaCA9IDE7XG4gICAgICAgICB8ICAgICB0aGlzLmF0dHIoe2ZpbGw6IHRoaXMucGFwZXIucmFwaGFlbC5oc2IycmdiKGhzYikuaGV4fSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQuaWRcbiAgICAgICAgIFsgcHJvcGVydHkgKG51bWJlcikgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVW5pcXVlIGlkIG9mIHRoZSBlbGVtZW50LiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGxpc3RlbiB0byBldmVudHMgb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAqIGJlY2F1c2UgYWxsIGV2ZW50cyBhcmUgZmlyZWQgaW4gZm9ybWF0IGA8bW9kdWxlPi48YWN0aW9uPi48aWQ+YC4gQWxzbyB1c2VmdWwgZm9yIEBQYXBlci5nZXRCeUlkIG1ldGhvZC5cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLmlkID0gZ3VpZCgpO1xuICAgICAgICBub2RlLnJhcGhhZWxpZCA9IHRoaXMuaWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogTWV0aG9kIHRoYXQgcmV0dXJucyBhIDUgbGV0dGVyL2RpZ2l0IGlkLCBlbm91Z2ggZm9yIDM2XjUgPSA2MDQ2NjE3NiBlbGVtZW50c1xuICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGlkXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGd1aWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiMDAwMFwiICsgKE1hdGgucmFuZG9tKCkqTWF0aC5wb3coMzYsNSkgPDwgMCkudG9TdHJpbmcoMzYpKS5zbGljZSgtNSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMucmVhbFBhdGggPSBudWxsO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQucGFwZXJcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIOKAnHBhcGVy4oCdIHdoZXJlIG9iamVjdCBkcmF3bi4gTWFpbmx5IGZvciB1c2UgaW4gcGx1Z2lucyBhbmQgZWxlbWVudCBleHRlbnNpb25zLlxuICAgICAgICAgPiBVc2FnZVxuICAgICAgICAgfCBSYXBoYWVsLmVsLmNyb3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgfCAgICAgdGhpcy5hdHRyKHtmaWxsOiBcInJlZFwifSk7XG4gICAgICAgICB8ICAgICB0aGlzLnBhcGVyLnBhdGgoXCJNMTAsMTBMNTAsNTBNNTAsMTBMMTAsNTBcIilcbiAgICAgICAgIHwgICAgICAgICAuYXR0cih7c3Ryb2tlOiBcInJlZFwifSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLnBhcGVyID0gc3ZnO1xuICAgICAgICB0aGlzLmF0dHJzID0gdGhpcy5hdHRycyB8fCB7fTtcbiAgICAgICAgdGhpcy5fID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBbXSxcbiAgICAgICAgICAgIHN4OiAxLFxuICAgICAgICAgICAgc3k6IDEsXG4gICAgICAgICAgICBkZWc6IDAsXG4gICAgICAgICAgICBkeDogMCxcbiAgICAgICAgICAgIGR5OiAwLFxuICAgICAgICAgICAgZGlydHk6IDFcbiAgICAgICAgfTtcbiAgICAgICAgIXN2Zy5ib3R0b20gJiYgKHN2Zy5ib3R0b20gPSB0aGlzKTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBFbGVtZW50LnByZXZcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyBlbGVtZW50IGluIHRoZSBoaWVyYXJjaHkuXG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpcy5wcmV2ID0gc3ZnLnRvcDtcbiAgICAgICAgc3ZnLnRvcCAmJiAoc3ZnLnRvcC5uZXh0ID0gdGhpcyk7XG4gICAgICAgIHN2Zy50b3AgPSB0aGlzO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubmV4dFxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG5leHQgZWxlbWVudCBpbiB0aGUgaGllcmFyY2h5LlxuICAgICAgICBcXCovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfSxcbiAgICBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcblxuICAgIFIuX2VuZ2luZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhTdHJpbmcsIFNWRykge1xuICAgICAgICB2YXIgZWwgPSAkKFwicGF0aFwiKTtcbiAgICAgICAgU1ZHLmNhbnZhcyAmJiBTVkcuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgU1ZHKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocCwge1xuICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgICAgICAgICAgcGF0aDogcGF0aFN0cmluZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5yb3RhdGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHJvdGF0aW9uIGJ5IGdpdmVuIGFuZ2xlIGFyb3VuZCBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZGVnIChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgYXMgYSBwb2ludCBvZiByb3RhdGlvbi5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIChkZWcsIGN4LCBjeSkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkZWcgPSBTdHIoZGVnKS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoZGVnLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChkZWdbMV0pO1xuICAgICAgICAgICAgY3kgPSB0b0Zsb2F0KGRlZ1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gdG9GbG9hdChkZWdbMF0pO1xuICAgICAgICAoY3kgPT0gbnVsbCkgJiYgKGN4ID0gY3kpO1xuICAgICAgICBpZiAoY3ggPT0gbnVsbCB8fCBjeSA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYmJveCA9IHRoaXMuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgIGN4ID0gYmJveC54ICsgYmJveC53aWR0aCAvIDI7XG4gICAgICAgICAgICBjeSA9IGJib3gueSArIGJib3guaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wiclwiLCBkZWcsIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuc2NhbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHNjYWxlIGJ5IGdpdmVuIGFtb3VudCByZWxhdGl2ZSB0byBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gc3ggKG51bWJlcikgaG9yaXNvbnRhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBzeSAobnVtYmVyKSB2ZXJ0aWNhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgaW5zdGVhZC5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnNjYWxlID0gZnVuY3Rpb24gKHN4LCBzeSwgY3gsIGN5KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gU3RyKHN4KS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoc3gubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgc3kgPSB0b0Zsb2F0KHN4WzFdKTtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChzeFsyXSk7XG4gICAgICAgICAgICBjeSA9IHRvRmxvYXQoc3hbM10pO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gdG9GbG9hdChzeFswXSk7XG4gICAgICAgIChzeSA9PSBudWxsKSAmJiAoc3kgPSBzeCk7XG4gICAgICAgIChjeSA9PSBudWxsKSAmJiAoY3ggPSBjeSk7XG4gICAgICAgIGlmIChjeCA9PSBudWxsIHx8IGN5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5nZXRCQm94KDEpO1xuICAgICAgICB9XG4gICAgICAgIGN4ID0gY3ggPT0gbnVsbCA/IGJib3gueCArIGJib3gud2lkdGggLyAyIDogY3g7XG4gICAgICAgIGN5ID0gY3kgPT0gbnVsbCA/IGJib3gueSArIGJib3guaGVpZ2h0IC8gMiA6IGN5O1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wic1wiLCBzeCwgc3ksIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudHJhbnNsYXRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEZXByZWNhdGVkISBVc2UgQEVsZW1lbnQudHJhbnNmb3JtIGluc3RlYWQuXG4gICAgICogQWRkcyB0cmFuc2xhdGlvbiBieSBnaXZlbiBhbW91bnQgdG8gdGhlIGxpc3Qgb2YgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBkeCAobnVtYmVyKSBob3Jpc29udGFsIHNoaWZ0XG4gICAgIC0gZHkgKG51bWJlcikgdmVydGljYWwgc2hpZnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInRcIiwgZHgsIGR5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50cmFuc2Zvcm1cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGVsZW1lbnQgd2hpY2ggaXMgc2VwYXJhdGUgdG8gb3RoZXIgYXR0cmlidXRlcyxcbiAgICAgKiBpLmUuIHRyYW5zbGF0aW9uIGRvZXNu4oCZdCBjaGFuZ2UgYHhgIG9yIGB5YCBvZiB0aGUgcmVjdGFuZ2UuIFRoZSBmb3JtYXRcbiAgICAgKiBvZiB0cmFuc2Zvcm1hdGlvbiBzdHJpbmcgaXMgc2ltaWxhciB0byB0aGUgcGF0aCBzdHJpbmcgc3ludGF4OlxuICAgICB8IFwidDEwMCwxMDByMzAsMTAwLDEwMHMyLDIsMTAwLDEwMHI0NXMxLjVcIlxuICAgICAqIEVhY2ggbGV0dGVyIGlzIGEgY29tbWFuZC4gVGhlcmUgYXJlIGZvdXIgY29tbWFuZHM6IGB0YCBpcyBmb3IgdHJhbnNsYXRlLCBgcmAgaXMgZm9yIHJvdGF0ZSwgYHNgIGlzIGZvclxuICAgICAqIHNjYWxlIGFuZCBgbWAgaXMgZm9yIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSBhbHNvIGFsdGVybmF0aXZlIOKAnGFic29sdXRl4oCdIHRyYW5zbGF0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGU6IGBUYCwgYFJgIGFuZCBgU2AuIFRoZXkgd2lsbCBub3QgdGFrZSBwcmV2aW91cyB0cmFuc2Zvcm1hdGlvbiBpbnRvIGFjY291bnQuIEZvciBleGFtcGxlLCBgLi4uVDEwMCwwYCB3aWxsIGFsd2F5cyBtb3ZlIGVsZW1lbnQgMTAwIHB4IGhvcmlzb250YWxseSwgd2hpbGUgYC4uLnQxMDAsMGAgY291bGQgbW92ZSBpdCB2ZXJ0aWNhbGx5IGlmIHRoZXJlIGlzIGByOTBgIGJlZm9yZS4gSnVzdCBjb21wYXJlIHJlc3VsdHMgb2YgYHI5MHQxMDAsMGAgYW5kIGByOTBUMTAwLDBgLlxuICAgICAqXG4gICAgICogU28sIHRoZSBleGFtcGxlIGxpbmUgYWJvdmUgY291bGQgYmUgcmVhZCBsaWtlIOKAnHRyYW5zbGF0ZSBieSAxMDAsIDEwMDsgcm90YXRlIDMwwrAgYXJvdW5kIDEwMCwgMTAwOyBzY2FsZSB0d2ljZSBhcm91bmQgMTAwLCAxMDA7XG4gICAgICogcm90YXRlIDQ1wrAgYXJvdW5kIGNlbnRyZTsgc2NhbGUgMS41IHRpbWVzIHJlbGF0aXZlIHRvIGNlbnRyZeKAnS4gQXMgeW91IGNhbiBzZWUgcm90YXRlIGFuZCBzY2FsZSBjb21tYW5kcyBoYXZlIG9yaWdpblxuICAgICAqIGNvb3JkaW5hdGVzIGFzIG9wdGlvbmFsIHBhcmFtZXRlcnMsIHRoZSBkZWZhdWx0IGlzIHRoZSBjZW50cmUgcG9pbnQgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogTWF0cml4IGFjY2VwdHMgc2l4IHBhcmFtZXRlcnMuXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgZWwgPSBwYXBlci5yZWN0KDEwLCAyMCwgMzAwLCAyMDApO1xuICAgICB8IC8vIHRyYW5zbGF0ZSAxMDAsIDEwMCwgcm90YXRlIDQ1wrAsIHRyYW5zbGF0ZSAtMTAwLCAwXG4gICAgIHwgZWwudHJhbnNmb3JtKFwidDEwMCwxMDByNDV0LTEwMCwwXCIpO1xuICAgICB8IC8vIGlmIHlvdSB3YW50IHlvdSBjYW4gYXBwZW5kIG9yIHByZXBlbmQgdHJhbnNmb3JtYXRpb25zXG4gICAgIHwgZWwudHJhbnNmb3JtKFwiLi4udDUwLDUwXCIpO1xuICAgICB8IGVsLnRyYW5zZm9ybShcInMyLi4uXCIpO1xuICAgICB8IC8vIG9yIGV2ZW4gd3JhcFxuICAgICB8IGVsLnRyYW5zZm9ybShcInQ1MCw1MC4uLnQtNTAtNTBcIik7XG4gICAgIHwgLy8gdG8gcmVzZXQgdHJhbnNmb3JtYXRpb24gY2FsbCBtZXRob2Qgd2l0aCBlbXB0eSBzdHJpbmdcbiAgICAgfCBlbC50cmFuc2Zvcm0oXCJcIik7XG4gICAgIHwgLy8gdG8gZ2V0IGN1cnJlbnQgdmFsdWUgY2FsbCBpdCB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICAgfCBjb25zb2xlLmxvZyhlbC50cmFuc2Zvcm0oKSk7XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHRzdHIgKHN0cmluZykgI29wdGlvbmFsIHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIElmIHRzdHIgaXNu4oCZdCBzcGVjaWZpZWRcbiAgICAgPSAoc3RyaW5nKSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIGVsc2VcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIHZhciBfID0gdGhpcy5fO1xuICAgICAgICBpZiAodHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXy50cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB0c3RyKTtcblxuICAgICAgICB0aGlzLmNsaXAgJiYgJCh0aGlzLmNsaXAsIHt0cmFuc2Zvcm06IHRoaXMubWF0cml4LmludmVydCgpfSk7XG4gICAgICAgIHRoaXMucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbih0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlICYmICQodGhpcy5ub2RlLCB7dHJhbnNmb3JtOiB0aGlzLm1hdHJpeH0pO1xuXG4gICAgICAgIGlmIChfLnN4ICE9IDEgfHwgXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICB2YXIgc3cgPSB0aGlzLmF0dHJzW2hhc10oXCJzdHJva2Utd2lkdGhcIikgPyB0aGlzLmF0dHJzW1wic3Ryb2tlLXdpZHRoXCJdIDogMTtcbiAgICAgICAgICAgIHRoaXMuYXR0cih7XCJzdHJva2Utd2lkdGhcIjogc3d9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaGlkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogTWFrZXMgZWxlbWVudCBpbnZpc2libGUuIFNlZSBARWxlbWVudC5zaG93LlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zaG93XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHZpc2libGUuIFNlZSBARWxlbWVudC5oaWRlLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50IGZyb20gdGhlIHBhcGVyLlxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFwZXIgPSB0aGlzLnBhcGVyO1xuICAgICAgICBwYXBlci5fX3NldF9fICYmIHBhcGVyLl9fc2V0X18uZXhjbHVkZSh0aGlzKTtcbiAgICAgICAgZXZlLnVuYmluZChcInJhcGhhZWwuKi4qLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIGlmICh0aGlzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICBwYXBlci5kZWZzLnJlbW92ZUNoaWxkKHRoaXMuZ3JhZGllbnQpO1xuICAgICAgICB9XG4gICAgICAgIFIuX3RlYXIodGhpcywgcGFwZXIpO1xuXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblxuICAgICAgICAvLyBSZW1vdmUgY3VzdG9tIGRhdGEgZm9yIGVsZW1lbnRcbiAgICAgICAgdGhpcy5yZW1vdmVEYXRhKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLl9nZXRCQm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgdmFyIGhpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXNIaWRkZW4gPSBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlO1xuICAgICAgICBpZiAodGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIGNvbnRhaW5lclN0eWxlID0gdGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudC5zdHlsZTtcbiAgICAgICAgfSAvL0lFMTArIGNhbid0IGZpbmQgcGFyZW50RWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSB0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlLnN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgIGNhbnZhc0hpZGRlbiA9IHRydWU7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJib3ggPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJib3ggPSB0aGlzLm5vZGUuZ2V0QkJveCgpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggMy4wLngsIDI1LjAuMSAocHJvYmFibHkgbW9yZSB2ZXJzaW9ucyBhZmZlY3RlZCkgcGxheSBiYWRseSBoZXJlIC0gcG9zc2libGUgZml4XG4gICAgICAgICAgICBiYm94ID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubm9kZS5jbGllbnRMZWZ0LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMubm9kZS5jbGllbnRUb3AsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubm9kZS5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubm9kZS5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGJib3ggPSBiYm94IHx8IHt9O1xuICAgICAgICAgICAgaWYoY2FudmFzSGlkZGVuKXtcbiAgICAgICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhpZGUgJiYgdGhpcy5oaWRlKCk7XG4gICAgICAgIHJldHVybiBiYm94O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYXR0clxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU2V0cyB0aGUgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgIC0gdmFsdWUgKHN0cmluZykgdmFsdWVcbiAgICAgKiBvclxuICAgICAtIHBhcmFtcyAob2JqZWN0KSBvYmplY3Qgb2YgbmFtZS92YWx1ZSBwYWlyc1xuICAgICAqIG9yXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgICogb3JcbiAgICAgLSBhdHRyTmFtZXMgKGFycmF5KSBpbiB0aGlzIGNhc2UgbWV0aG9kIHJldHVybnMgYXJyYXkgb2YgY3VycmVudCB2YWx1ZXMgZm9yIGdpdmVuIGF0dHJpYnV0ZSBuYW1lc1xuICAgICA9IChvYmplY3QpIEBFbGVtZW50IGlmIGF0dHJzTmFtZSAmIHZhbHVlIG9yIHBhcmFtcyBhcmUgcGFzc2VkIGluLlxuICAgICA9ICguLi4pIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgaWYgb25seSBhdHRyc05hbWUgaXMgcGFzc2VkIGluLlxuICAgICA9IChhcnJheSkgYXJyYXkgb2YgdmFsdWVzIG9mIHRoZSBhdHRyaWJ1dGUgaWYgYXR0cnNOYW1lcyBpcyBwYXNzZWQgaW4uXG4gICAgID0gKG9iamVjdCkgb2JqZWN0IG9mIGF0dHJpYnV0ZXMgaWYgbm90aGluZyBpcyBwYXNzZWQgaW4uXG4gICAgID4gUG9zc2libGUgcGFyYW1ldGVyc1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byB0aGUgPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9cIiB0aXRsZT1cIlRoZSBXM0MgUmVjb21tZW5kYXRpb24gZm9yIHRoZSBTVkcgbGFuZ3VhZ2UgZGVzY3JpYmVzIHRoZXNlIHByb3BlcnRpZXMgaW4gZGV0YWlsLlwiPlNWRyBzcGVjaWZpY2F0aW9uPC9hPiBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhlc2UgcGFyYW1ldGVycy48L3A+XG4gICAgIG8gYXJyb3ctZW5kIChzdHJpbmcpIGFycm93aGVhZCBvbiB0aGUgZW5kIG9mIHRoZSBwYXRoLiBUaGUgZm9ybWF0IGZvciBzdHJpbmcgaXMgYDx0eXBlPlstPHdpZHRoPlstPGxlbmd0aD5dXWAuIFBvc3NpYmxlIHR5cGVzOiBgY2xhc3NpY2AsIGBibG9ja2AsIGBvcGVuYCwgYG92YWxgLCBgZGlhbW9uZGAsIGBub25lYCwgd2lkdGg6IGB3aWRlYCwgYG5hcnJvd2AsIGBtZWRpdW1gLCBsZW5ndGg6IGBsb25nYCwgYHNob3J0YCwgYG1pZGl1bWAuXG4gICAgIG8gY2xpcC1yZWN0IChzdHJpbmcpIGNvbW1hIG9yIHNwYWNlIHNlcGFyYXRlZCB2YWx1ZXM6IHgsIHksIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgbyBjdXJzb3IgKHN0cmluZykgQ1NTIHR5cGUgb2YgdGhlIGN1cnNvclxuICAgICBvIGN4IChudW1iZXIpIHRoZSB4LWF4aXMgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUsIG9yIGVsbGlwc2VcbiAgICAgbyBjeSAobnVtYmVyKSB0aGUgeS1heGlzIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlLCBvciBlbGxpcHNlXG4gICAgIG8gZmlsbCAoc3RyaW5nKSBjb2xvdXIsIGdyYWRpZW50IG9yIGltYWdlXG4gICAgIG8gZmlsbC1vcGFjaXR5IChudW1iZXIpXG4gICAgIG8gZm9udCAoc3RyaW5nKVxuICAgICBvIGZvbnQtZmFtaWx5IChzdHJpbmcpXG4gICAgIG8gZm9udC1zaXplIChudW1iZXIpIGZvbnQgc2l6ZSBpbiBwaXhlbHNcbiAgICAgbyBmb250LXdlaWdodCAoc3RyaW5nKVxuICAgICBvIGhlaWdodCAobnVtYmVyKVxuICAgICBvIGhyZWYgKHN0cmluZykgVVJMLCBpZiBzcGVjaWZpZWQgZWxlbWVudCBiZWhhdmVzIGFzIGh5cGVybGlua1xuICAgICBvIG9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZyBmb3JtYXRcbiAgICAgbyByIChudW1iZXIpIHJhZGl1cyBvZiB0aGUgY2lyY2xlLCBlbGxpcHNlIG9yIHJvdW5kZWQgY29ybmVyIG9uIHRoZSByZWN0XG4gICAgIG8gcnggKG51bWJlcikgaG9yaXNvbnRhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyByeSAobnVtYmVyKSB2ZXJ0aWNhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyBzcmMgKHN0cmluZykgaW1hZ2UgVVJMLCBvbmx5IHdvcmtzIGZvciBARWxlbWVudC5pbWFnZSBlbGVtZW50XG4gICAgIG8gc3Ryb2tlIChzdHJpbmcpIHN0cm9rZSBjb2xvdXJcbiAgICAgbyBzdHJva2UtZGFzaGFycmF5IChzdHJpbmcpIFvigJzigJ0sIOKAnG5vbmXigJ0sIOKAnGAtYOKAnSwg4oCcYC5g4oCdLCDigJxgLS5g4oCdLCDigJxgLS4uYOKAnSwg4oCcYC4gYOKAnSwg4oCcYC0gYOKAnSwg4oCcYC0tYOKAnSwg4oCcYC0gLmDigJ0sIOKAnGAtLS5g4oCdLCDigJxgLS0uLmDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVjYXAgKHN0cmluZykgW+KAnGBidXR0YOKAnSwg4oCcYHNxdWFyZWDigJ0sIOKAnGByb3VuZGDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVqb2luIChzdHJpbmcpIFvigJxgYmV2ZWxg4oCdLCDigJxgcm91bmRg4oCdLCDigJxgbWl0ZXJg4oCdXVxuICAgICBvIHN0cm9rZS1taXRlcmxpbWl0IChudW1iZXIpXG4gICAgIG8gc3Ryb2tlLW9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBzdHJva2Utd2lkdGggKG51bWJlcikgc3Ryb2tlIHdpZHRoIGluIHBpeGVscywgZGVmYXVsdCBpcyAnMSdcbiAgICAgbyB0YXJnZXQgKHN0cmluZykgdXNlZCB3aXRoIGhyZWZcbiAgICAgbyB0ZXh0IChzdHJpbmcpIGNvbnRlbnRzIG9mIHRoZSB0ZXh0IGVsZW1lbnQuIFVzZSBgXFxuYCBmb3IgbXVsdGlsaW5lIHRleHRcbiAgICAgbyB0ZXh0LWFuY2hvciAoc3RyaW5nKSBb4oCcYHN0YXJ0YOKAnSwg4oCcYG1pZGRsZWDigJ0sIOKAnGBlbmRg4oCdXSwgZGVmYXVsdCBpcyDigJxgbWlkZGxlYOKAnVxuICAgICBvIHRpdGxlIChzdHJpbmcpIHdpbGwgY3JlYXRlIHRvb2x0aXAgd2l0aCBhIGdpdmVuIHRleHRcbiAgICAgbyB0cmFuc2Zvcm0gKHN0cmluZykgc2VlIEBFbGVtZW50LnRyYW5zZm9ybVxuICAgICBvIHdpZHRoIChudW1iZXIpXG4gICAgIG8geCAobnVtYmVyKVxuICAgICBvIHkgKG51bWJlcilcbiAgICAgPiBHcmFkaWVudHNcbiAgICAgKiBMaW5lYXIgZ3JhZGllbnQgZm9ybWF0OiDigJxg4oC5YW5nbGXigLot4oC5Y29sb3Vy4oC6Wy3igLljb2xvdXLigLpbOuKAuW9mZnNldOKAul1dKi3igLljb2xvdXLigLpg4oCdLCBleGFtcGxlOiDigJxgOTAtI2ZmZi0jMDAwYOKAnSDigJMgOTDCsFxuICAgICAqIGdyYWRpZW50IGZyb20gd2hpdGUgdG8gYmxhY2sgb3Ig4oCcYDAtI2ZmZi0jZjAwOjIwLSMwMDBg4oCdIOKAkyAwwrAgZ3JhZGllbnQgZnJvbSB3aGl0ZSB2aWEgcmVkIChhdCAyMCUpIHRvIGJsYWNrLlxuICAgICAqXG4gICAgICogcmFkaWFsIGdyYWRpZW50OiDigJxgclso4oC5ZnjigLosIOKAuWZ54oC6KV3igLljb2xvdXLigLpbLeKAuWNvbG91cuKAuls64oC5b2Zmc2V04oC6XV0qLeKAuWNvbG91cuKAumDigJ0sIGV4YW1wbGU6IOKAnGByI2ZmZi0jMDAwYOKAnSDigJNcbiAgICAgKiBncmFkaWVudCBmcm9tIHdoaXRlIHRvIGJsYWNrIG9yIOKAnGByKDAuMjUsIDAuNzUpI2ZmZi0jMDAwYOKAnSDigJMgZ3JhZGllbnQgZnJvbSB3aGl0ZSB0byBibGFjayB3aXRoIGZvY3VzIHBvaW50XG4gICAgICogYXQgMC4yNSwgMC43NS4gRm9jdXMgcG9pbnQgY29vcmRpbmF0ZXMgYXJlIGluIDAuLjEgcmFuZ2UuIFJhZGlhbCBncmFkaWVudHMgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBjaXJjbGVzIGFuZCBlbGxpcHNlcy5cbiAgICAgPiBQYXRoIFN0cmluZ1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcIiB0aXRsZT1cIkRldGFpbHMgb2YgYSBwYXRo4oCZcyBkYXRhIGF0dHJpYnV0ZeKAmXMgZm9ybWF0IGFyZSBkZXNjcmliZWQgaW4gdGhlIFNWRyBzcGVjaWZpY2F0aW9uLlwiPlNWRyBkb2N1bWVudGF0aW9uIHJlZ2FyZGluZyBwYXRoIHN0cmluZzwvYT4uIFJhcGhhw6tsIGZ1bGx5IHN1cHBvcnRzIGl0LjwvcD5cbiAgICAgPiBDb2xvdXIgUGFyc2luZ1xuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPkNvbG91ciBuYW1lICjigJw8Y29kZT5yZWQ8L2NvZGU+4oCdLCDigJw8Y29kZT5ncmVlbjwvY29kZT7igJ0sIOKAnDxjb2RlPmNvcm5mbG93ZXJibHVlPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCiIOKAlCBzaG9ydGVuZWQgSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2ZjMDwvY29kZT7igJ0sIGV0Yyk8L2xpPlxuICAgICAjICAgICA8bGk+I+KAouKAouKAouKAouKAouKAoiDigJQgZnVsbCBsZW5ndGggSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2JkMjMwMDwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2IoMjAwLCZuYnNwOzEwMCwmbmJzcDswKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2IoMTAwJSwmbmJzcDsxNzUlLCZuYnNwOzAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYmEo4oCi4oCi4oCiLCDigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2JhKDIwMCwmbmJzcDsxMDAsJm5ic3A7MCwgLjUpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiYSjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2JhKDEwMCUsJm5ic3A7MTc1JSwmbmJzcDswJSwgNTAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgaHVlLCBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzIHZhbHVlczogKOKAnDxjb2RlPmhzYigwLjUsJm5ic3A7MC4yNSwmbmJzcDsxKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNiYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgYWxtb3N0IHRoZSBzYW1lIGFzIGhzYiwgc2VlIDxhIGhyZWY9XCJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXCIgdGl0bGU9XCJIU0wgYW5kIEhTViAtIFdpa2lwZWRpYSwgdGhlIGZyZWUgZW5jeWNsb3BlZGlhXCI+V2lraXBlZGlhIHBhZ2U8L2E+PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNsYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPk9wdGlvbmFsbHkgZm9yIGhzYiBhbmQgaHNsIHlvdSBjb3VsZCBzcGVjaWZ5IGh1ZSBhcyBhIGRlZ3JlZTog4oCcPGNvZGU+aHNsKDI0MGRlZywmbmJzcDsxLCZuYnNwOy41KTwvY29kZT7igJ0gb3IsIGlmIHlvdSB3YW50IHRvIGdvIGZhbmN5LCDigJw8Y29kZT5oc2woMjQwwrAsJm5ic3A7MSwmbmJzcDsuNSk8L2NvZGU+4oCdPC9saT5cbiAgICAgIyA8L3VsPlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJmaWxsXCIgJiYgdGhpcy5hdHRycy5maWxsID09IFwibm9uZVwiICYmIHRoaXMuYXR0cnMuZ3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lID09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gdGhpcy5hdHRycykge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLmF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0sIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0gdGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW25hbWVdLmRlZjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSBSLl9hdmFpbGFibGVBdHRyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWkgLSAxID8gb3V0IDogb3V0W25hbWVzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBSLmlzKG5hbWUsIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRbbmFtZVtpXV0gPSB0aGlzLmF0dHIobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lICE9IG51bGwgJiYgUi5pcyhuYW1lLCBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgcGFyYW1zID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgdmFyIHBhciA9IHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1trZXldLmFwcGx5KHRoaXMsIFtdLmNvbmNhdChwYXJhbXNba2V5XSkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtc1tzdWJrZXldID0gcGFyW3N1YmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvRnJvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBjbG9zZXN0IHRvIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIG9uIHRvcCBvZiBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgc3ZnLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgc3ZnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b0JhY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBmdXJ0aGVzdCBmcm9tIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIGJlaGluZCBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgUi5fdG9iYWNrKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5pbnNlcnRBZnRlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSW5zZXJ0cyBjdXJyZW50IG9iamVjdCBhZnRlciB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGdldFJlYWxOb2RlKGVsZW1lbnQubm9kZSB8fCBlbGVtZW50W2VsZW1lbnQubGVuZ3RoIC0gMV0ubm9kZSk7XG4gICAgICAgIGlmIChhZnRlck5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGFmdGVyTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBhZnRlck5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZ0ZXJOb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5faW5zZXJ0YWZ0ZXIodGhpcywgZWxlbWVudCwgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaW5zZXJ0QmVmb3JlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJbnNlcnRzIGN1cnJlbnQgb2JqZWN0IGJlZm9yZSB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCB8fCAhZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9kZSA9IGdldFJlYWxOb2RlKHRoaXMubm9kZSk7XG4gICAgICAgIHZhciBiZWZvcmVOb2RlID0gZ2V0UmVhbE5vZGUoZWxlbWVudC5ub2RlIHx8IGVsZW1lbnRbMF0ubm9kZSk7XG4gICAgICAgIGJlZm9yZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyBFeHBlcmltZW50YWwuIE5vIFNhZmFyaSBzdXBwb3J0LiBVc2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICBpZiAoK3NpemUgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBmbHRyID0gJChcImZpbHRlclwiKSxcbiAgICAgICAgICAgICAgICBibHVyID0gJChcImZlR2F1c3NpYW5CbHVyXCIpO1xuICAgICAgICAgICAgdC5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIGZsdHIuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICQoYmx1ciwge3N0ZERldmlhdGlvbjogK3NpemUgfHwgMS41fSk7XG4gICAgICAgICAgICBmbHRyLmFwcGVuZENoaWxkKGJsdXIpO1xuICAgICAgICAgICAgdC5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGZsdHIpO1xuICAgICAgICAgICAgdC5fYmx1ciA9IGZsdHI7XG4gICAgICAgICAgICAkKHQubm9kZSwge2ZpbHRlcjogXCJ1cmwoI1wiICsgZmx0ci5pZCArIFwiKVwifSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodC5fYmx1cikge1xuICAgICAgICAgICAgICAgIHQuX2JsdXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Ll9ibHVyKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5fYmx1cjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5hdHRycy5ibHVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdC5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJjaXJjbGVcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge2N4OiB4LCBjeTogeSwgcjogciwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUucmVjdCA9IGZ1bmN0aW9uIChzdmcsIHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgdmFyIGVsID0gJChcInJlY3RcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge3g6IHgsIHk6IHksIHdpZHRoOiB3LCBoZWlnaHQ6IGgsIHJ4OiByIHx8IDAsIHJ5OiByIHx8IDAsIGZpbGw6IFwibm9uZVwiLCBzdHJva2U6IFwiIzAwMFwifTtcbiAgICAgICAgcmVzLnR5cGUgPSBcInJlY3RcIjtcbiAgICAgICAgJChlbCwgcmVzLmF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5lbGxpcHNlID0gZnVuY3Rpb24gKHN2ZywgeCwgeSwgcngsIHJ5KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJlbGxpcHNlXCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtjeDogeCwgY3k6IHksIHJ4OiByeCwgcnk6IHJ5LCBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcIiMwMDBcIn07XG4gICAgICAgIHJlcy50eXBlID0gXCJlbGxpcHNlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuaW1hZ2UgPSBmdW5jdGlvbiAoc3ZnLCBzcmMsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGVsID0gJChcImltYWdlXCIpO1xuICAgICAgICAkKGVsLCB7eDogeCwgeTogeSwgd2lkdGg6IHcsIGhlaWdodDogaCwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCJ9KTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCBzcmMpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHt4OiB4LCB5OiB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLCBzcmM6IHNyY307XG4gICAgICAgIHJlcy50eXBlID0gXCJpbWFnZVwiO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnRleHQgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCB0ZXh0KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJ0ZXh0XCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogUi5fYXZhaWxhYmxlQXR0cnNbXCJmb250LWZhbWlseVwiXSxcbiAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFIuX2F2YWlsYWJsZUF0dHJzW1wiZm9udC1zaXplXCJdLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZpbGw6IFwiIzAwMFwiXG4gICAgICAgIH07XG4gICAgICAgIHJlcy50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCByZXMuYXR0cnMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHRoaXMud2lkdGgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5fdmlld0JveCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbiA9IFIuX2dldENvbnRhaW5lci5hcHBseSgwLCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgY29udGFpbmVyID0gY29uICYmIGNvbi5jb250YWluZXIsXG4gICAgICAgICAgICB4ID0gY29uLngsXG4gICAgICAgICAgICB5ID0gY29uLnksXG4gICAgICAgICAgICB3aWR0aCA9IGNvbi53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA9IGNvbi5oZWlnaHQ7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTVkcgY29udGFpbmVyIG5vdCBmb3VuZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNudnMgPSAkKFwic3ZnXCIpLFxuICAgICAgICAgICAgY3NzID0gXCJvdmVyZmxvdzpoaWRkZW47XCIsXG4gICAgICAgICAgICBpc0Zsb2F0aW5nO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgJChjbnZzLCB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHZlcnNpb246IDEuMSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgICAgICBcInhtbG5zOnhsaW5rXCI6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29udGFpbmVyID09IDEpIHtcbiAgICAgICAgICAgIGNudnMuc3R5bGUuY3NzVGV4dCA9IGNzcyArIFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIiArIHggKyBcInB4O3RvcDpcIiArIHkgKyBcInB4XCI7XG4gICAgICAgICAgICBSLl9nLmRvYy5ib2R5LmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgaXNGbG9hdGluZyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbnZzLnN0eWxlLmNzc1RleHQgPSBjc3MgKyBcInBvc2l0aW9uOnJlbGF0aXZlXCI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNudnMsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lciA9IG5ldyBSLl9QYXBlcjtcbiAgICAgICAgY29udGFpbmVyLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRhaW5lci5jYW52YXMgPSBjbnZzO1xuICAgICAgICBjb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgY29udGFpbmVyLl9sZWZ0ID0gY29udGFpbmVyLl90b3AgPSAwO1xuICAgICAgICBpc0Zsb2F0aW5nICYmIChjb250YWluZXIucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge30pO1xuICAgICAgICBjb250YWluZXIucmVuZGVyZml4KCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0Vmlld0JveCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCBmaXQpIHtcbiAgICAgICAgZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgc2l6ZSA9IG1tYXgodyAvIHBhcGVyU2l6ZS53aWR0aCwgaCAvIHBhcGVyU2l6ZS5oZWlnaHQpLFxuICAgICAgICAgICAgdG9wID0gdGhpcy50b3AsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbyA9IGZpdCA/IFwieE1pZFlNaWQgbWVldFwiIDogXCJ4TWluWU1pblwiLFxuICAgICAgICAgICAgdmIsXG4gICAgICAgICAgICBzdztcbiAgICAgICAgaWYgKHggPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZiU2l6ZSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZiU2l6ZTtcbiAgICAgICAgICAgIHZiID0gXCIwIDAgXCIgKyB0aGlzLndpZHRoICsgUyArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHZiID0geCArIFMgKyB5ICsgUyArIHcgKyBTICsgaDtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMuY2FudmFzLCB7XG4gICAgICAgICAgICB2aWV3Qm94OiB2YixcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoc2l6ZSAmJiB0b3ApIHtcbiAgICAgICAgICAgIHN3ID0gXCJzdHJva2Utd2lkdGhcIiBpbiB0b3AuYXR0cnMgPyB0b3AuYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0gOiAxO1xuICAgICAgICAgICAgdG9wLmF0dHIoe1wic3Ryb2tlLXdpZHRoXCI6IHN3fSk7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgdG9wID0gdG9wLnByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbmRlcmZpeFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRml4ZXMgdGhlIGlzc3VlIG9mIEZpcmVmb3ggYW5kIElFOSByZWdhcmRpbmcgc3VicGl4ZWwgcmVuZGVyaW5nLiBJZiBwYXBlciBpcyBkZXBlbmRlbnRcbiAgICAgKiBvbiBvdGhlciBlbGVtZW50cyBhZnRlciByZWZsb3cgaXQgY291bGQgc2hpZnQgaGFsZiBwaXhlbCB3aGljaCBjYXVzZSBmb3IgbGluZXMgdG8gbG9zdCB0aGVpciBjcmlzcG5lc3MuXG4gICAgICogVGhpcyBtZXRob2QgZml4ZXMgdGhlIGlzc3VlLlxuICAgICAqKlxuICAgICAgIFNwZWNpYWwgdGhhbmtzIHRvIE1hcml1c3ogTm93YWsgKGh0dHA6Ly93d3cubWVkaWtvby5jb20vKSBmb3IgdGhpcyBtZXRob2QuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLnJlbmRlcmZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNudnMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgIHMgPSBjbnZzLnN0eWxlLFxuICAgICAgICAgICAgcG9zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcG9zID0gY252cy5nZXRTY3JlZW5DVE0oKSB8fCBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBwb3MgPSBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZWZ0ID0gLXBvcy5lICUgMSxcbiAgICAgICAgICAgIHRvcCA9IC1wb3MuZiAlIDE7XG4gICAgICAgIGlmIChsZWZ0IHx8IHRvcCkge1xuICAgICAgICAgICAgaWYgKGxlZnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWZ0ID0gKHRoaXMuX2xlZnQgKyBsZWZ0KSAlIDE7XG4gICAgICAgICAgICAgICAgcy5sZWZ0ID0gdGhpcy5fbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3AgPSAodGhpcy5fdG9wICsgdG9wKSAlIDE7XG4gICAgICAgICAgICAgICAgcy50b3AgPSB0aGlzLl90b3AgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5jbGVhclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ2xlYXJzIHRoZSBwYXBlciwgaS5lLiByZW1vdmVzIGFsbCB0aGUgZWxlbWVudHMuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSLmV2ZShcInJhcGhhZWwuY2xlYXJcIiwgdGhpcyk7XG4gICAgICAgIHZhciBjID0gdGhpcy5jYW52YXM7XG4gICAgICAgIHdoaWxlIChjLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wID0gbnVsbDtcbiAgICAgICAgKHRoaXMuZGVzYyA9ICQoXCJkZXNjXCIpKS5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZShcIkNyZWF0ZWQgd2l0aCBSYXBoYVxceGVibCBcIiArIFIudmVyc2lvbikpO1xuICAgICAgICBjLmFwcGVuZENoaWxkKHRoaXMuZGVzYyk7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQodGhpcy5kZWZzID0gJChcImRlZnNcIikpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyB0aGUgcGFwZXIgZnJvbSB0aGUgRE9NLlxuICAgIFxcKi9cbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGV2ZShcInJhcGhhZWwucmVtb3ZlXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5wYXJlbnROb2RlICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./dev/raphael.svg.js\\n\");\n\n/***/ }),\n\n/***/ \"./dev/raphael.vml.js\":\n/*!****************************!*\\\n  !*** ./dev/raphael.vml.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ \\\"./dev/raphael.core.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\\n    if (R && !R.vml) {\\n        return;\\n    }\\n\\n    var has = \\\"hasOwnProperty\\\",\\n        Str = String,\\n        toFloat = parseFloat,\\n        math = Math,\\n        round = math.round,\\n        mmax = math.max,\\n        mmin = math.min,\\n        abs = math.abs,\\n        fillString = \\\"fill\\\",\\n        separator = /[, ]+/,\\n        eve = R.eve,\\n        ms = \\\" progid:DXImageTransform.Microsoft\\\",\\n        S = \\\" \\\",\\n        E = \\\"\\\",\\n        map = {M: \\\"m\\\", L: \\\"l\\\", C: \\\"c\\\", Z: \\\"x\\\", m: \\\"t\\\", l: \\\"r\\\", c: \\\"v\\\", z: \\\"x\\\"},\\n        bites = /([clmz]),?([^clmz]*)/gi,\\n        blurregexp = / progid:\\\\S+Blur\\\\([^\\\\)]+\\\\)/g,\\n        val = /-?[^,\\\\s-]+/g,\\n        cssDot = \\\"position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)\\\",\\n        zoom = 21600,\\n        pathTypes = {path: 1, rect: 1, image: 1},\\n        ovalTypes = {circle: 1, ellipse: 1},\\n        path2vml = function (path) {\\n            var total =  /[ahqstv]/ig,\\n                command = R._pathToAbsolute;\\n            Str(path).match(total) && (command = R._path2curve);\\n            total = /[clmz]/g;\\n            if (command == R._pathToAbsolute && !Str(path).match(total)) {\\n                var res = Str(path).replace(bites, function (all, command, args) {\\n                    var vals = [],\\n                        isMove = command.toLowerCase() == \\\"m\\\",\\n                        res = map[command];\\n                    args.replace(val, function (value) {\\n                        if (isMove && vals.length == 2) {\\n                            res += vals + map[command == \\\"m\\\" ? \\\"l\\\" : \\\"L\\\"];\\n                            vals = [];\\n                        }\\n                        vals.push(round(value * zoom));\\n                    });\\n                    return res + vals;\\n                });\\n                return res;\\n            }\\n            var pa = command(path), p, r;\\n            res = [];\\n            for (var i = 0, ii = pa.length; i < ii; i++) {\\n                p = pa[i];\\n                r = pa[i][0].toLowerCase();\\n                r == \\\"z\\\" && (r = \\\"x\\\");\\n                for (var j = 1, jj = p.length; j < jj; j++) {\\n                    r += round(p[j] * zoom) + (j != jj - 1 ? \\\",\\\" : E);\\n                }\\n                res.push(r);\\n            }\\n            return res.join(S);\\n        },\\n        compensation = function (deg, dx, dy) {\\n            var m = R.matrix();\\n            m.rotate(-deg, .5, .5);\\n            return {\\n                dx: m.x(dx, dy),\\n                dy: m.y(dx, dy)\\n            };\\n        },\\n        setCoords = function (p, sx, sy, dx, dy, deg) {\\n            var _ = p._,\\n                m = p.matrix,\\n                fillpos = _.fillpos,\\n                o = p.node,\\n                s = o.style,\\n                y = 1,\\n                flip = \\\"\\\",\\n                dxdy,\\n                kx = zoom / sx,\\n                ky = zoom / sy;\\n            s.visibility = \\\"hidden\\\";\\n            if (!sx || !sy) {\\n                return;\\n            }\\n            o.coordsize = abs(kx) + S + abs(ky);\\n            s.rotation = deg * (sx * sy < 0 ? -1 : 1);\\n            if (deg) {\\n                var c = compensation(deg, dx, dy);\\n                dx = c.dx;\\n                dy = c.dy;\\n            }\\n            sx < 0 && (flip += \\\"x\\\");\\n            sy < 0 && (flip += \\\" y\\\") && (y = -1);\\n            s.flip = flip;\\n            o.coordorigin = (dx * -kx) + S + (dy * -ky);\\n            if (fillpos || _.fillsize) {\\n                var fill = o.getElementsByTagName(fillString);\\n                fill = fill && fill[0];\\n                o.removeChild(fill);\\n                if (fillpos) {\\n                    c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));\\n                    fill.position = c.dx * y + S + c.dy * y;\\n                }\\n                if (_.fillsize) {\\n                    fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);\\n                }\\n                o.appendChild(fill);\\n            }\\n            s.visibility = \\\"visible\\\";\\n        };\\n    R.toString = function () {\\n        return  \\\"Your browser doesn\\\\u2019t support SVG. Falling down to VML.\\\\nYou are running Rapha\\\\xebl \\\" + this.version;\\n    };\\n    var addArrow = function (o, value, isEnd) {\\n        var values = Str(value).toLowerCase().split(\\\"-\\\"),\\n            se = isEnd ? \\\"end\\\" : \\\"start\\\",\\n            i = values.length,\\n            type = \\\"classic\\\",\\n            w = \\\"medium\\\",\\n            h = \\\"medium\\\";\\n        while (i--) {\\n            switch (values[i]) {\\n                case \\\"block\\\":\\n                case \\\"classic\\\":\\n                case \\\"oval\\\":\\n                case \\\"diamond\\\":\\n                case \\\"open\\\":\\n                case \\\"none\\\":\\n                    type = values[i];\\n                    break;\\n                case \\\"wide\\\":\\n                case \\\"narrow\\\": h = values[i]; break;\\n                case \\\"long\\\":\\n                case \\\"short\\\": w = values[i]; break;\\n            }\\n        }\\n        var stroke = o.node.getElementsByTagName(\\\"stroke\\\")[0];\\n        stroke[se + \\\"arrow\\\"] = type;\\n        stroke[se + \\\"arrowlength\\\"] = w;\\n        stroke[se + \\\"arrowwidth\\\"] = h;\\n    },\\n    setFillAndStroke = function (o, params) {\\n        // o.paper.canvas.style.display = \\\"none\\\";\\n        o.attrs = o.attrs || {};\\n        var node = o.node,\\n            a = o.attrs,\\n            s = node.style,\\n            xy,\\n            newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),\\n            isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),\\n            res = o;\\n\\n\\n        for (var par in params) if (params[has](par)) {\\n            a[par] = params[par];\\n        }\\n        if (newpath) {\\n            a.path = R._getPath[o.type](o);\\n            o._.dirty = 1;\\n        }\\n        params.href && (node.href = params.href);\\n        params.title && (node.title = params.title);\\n        params.target && (node.target = params.target);\\n        params.cursor && (s.cursor = params.cursor);\\n        \\\"blur\\\" in params && o.blur(params.blur);\\n        if (params.path && o.type == \\\"path\\\" || newpath) {\\n            node.path = path2vml(~Str(a.path).toLowerCase().indexOf(\\\"r\\\") ? R._pathToAbsolute(a.path) : a.path);\\n            o._.dirty = 1;\\n            if (o.type == \\\"image\\\") {\\n                o._.fillpos = [a.x, a.y];\\n                o._.fillsize = [a.width, a.height];\\n                setCoords(o, 1, 1, 0, 0, 0);\\n            }\\n        }\\n        \\\"transform\\\" in params && o.transform(params.transform);\\n        if (isOval) {\\n            var cx = +a.cx,\\n                cy = +a.cy,\\n                rx = +a.rx || +a.r || 0,\\n                ry = +a.ry || +a.r || 0;\\n            node.path = R.format(\\\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\\\", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));\\n            o._.dirty = 1;\\n        }\\n        if (\\\"clip-rect\\\" in params) {\\n            var rect = Str(params[\\\"clip-rect\\\"]).split(separator);\\n            if (rect.length == 4) {\\n                rect[2] = +rect[2] + (+rect[0]);\\n                rect[3] = +rect[3] + (+rect[1]);\\n                var div = node.clipRect || R._g.doc.createElement(\\\"div\\\"),\\n                    dstyle = div.style;\\n                dstyle.clip = R.format(\\\"rect({1}px {2}px {3}px {0}px)\\\", rect);\\n                if (!node.clipRect) {\\n                    dstyle.position = \\\"absolute\\\";\\n                    dstyle.top = 0;\\n                    dstyle.left = 0;\\n                    dstyle.width = o.paper.width + \\\"px\\\";\\n                    dstyle.height = o.paper.height + \\\"px\\\";\\n                    node.parentNode.insertBefore(div, node);\\n                    div.appendChild(node);\\n                    node.clipRect = div;\\n                }\\n            }\\n            if (!params[\\\"clip-rect\\\"]) {\\n                node.clipRect && (node.clipRect.style.clip = \\\"auto\\\");\\n            }\\n        }\\n        if (o.textpath) {\\n            var textpathStyle = o.textpath.style;\\n            params.font && (textpathStyle.font = params.font);\\n            params[\\\"font-family\\\"] && (textpathStyle.fontFamily = '\\\"' + params[\\\"font-family\\\"].split(\\\",\\\")[0].replace(/^['\\\"]+|['\\\"]+$/g, E) + '\\\"');\\n            params[\\\"font-size\\\"] && (textpathStyle.fontSize = params[\\\"font-size\\\"]);\\n            params[\\\"font-weight\\\"] && (textpathStyle.fontWeight = params[\\\"font-weight\\\"]);\\n            params[\\\"font-style\\\"] && (textpathStyle.fontStyle = params[\\\"font-style\\\"]);\\n        }\\n        if (\\\"arrow-start\\\" in params) {\\n            addArrow(res, params[\\\"arrow-start\\\"]);\\n        }\\n        if (\\\"arrow-end\\\" in params) {\\n            addArrow(res, params[\\\"arrow-end\\\"], 1);\\n        }\\n        if (params.opacity != null ||\\n            params.fill != null ||\\n            params.src != null ||\\n            params.stroke != null ||\\n            params[\\\"stroke-width\\\"] != null ||\\n            params[\\\"stroke-opacity\\\"] != null ||\\n            params[\\\"fill-opacity\\\"] != null ||\\n            params[\\\"stroke-dasharray\\\"] != null ||\\n            params[\\\"stroke-miterlimit\\\"] != null ||\\n            params[\\\"stroke-linejoin\\\"] != null ||\\n            params[\\\"stroke-linecap\\\"] != null) {\\n            var fill = node.getElementsByTagName(fillString),\\n                newfill = false;\\n            fill = fill && fill[0];\\n            !fill && (newfill = fill = createNode(fillString));\\n            if (o.type == \\\"image\\\" && params.src) {\\n                fill.src = params.src;\\n            }\\n            params.fill && (fill.on = true);\\n            if (fill.on == null || params.fill == \\\"none\\\" || params.fill === null) {\\n                fill.on = false;\\n            }\\n            if (fill.on && params.fill) {\\n                var isURL = Str(params.fill).match(R._ISURL);\\n                if (isURL) {\\n                    fill.parentNode == node && node.removeChild(fill);\\n                    fill.rotate = true;\\n                    fill.src = isURL[1];\\n                    fill.type = \\\"tile\\\";\\n                    var bbox = o.getBBox(1);\\n                    fill.position = bbox.x + S + bbox.y;\\n                    o._.fillpos = [bbox.x, bbox.y];\\n\\n                    R._preload(isURL[1], function () {\\n                        o._.fillsize = [this.offsetWidth, this.offsetHeight];\\n                    });\\n                } else {\\n                    fill.color = R.getRGB(params.fill).hex;\\n                    fill.src = E;\\n                    fill.type = \\\"solid\\\";\\n                    if (R.getRGB(params.fill).error && (res.type in {circle: 1, ellipse: 1} || Str(params.fill).charAt() != \\\"r\\\") && addGradientFill(res, params.fill, fill)) {\\n                        a.fill = \\\"none\\\";\\n                        a.gradient = params.fill;\\n                        fill.rotate = false;\\n                    }\\n                }\\n            }\\n            if (\\\"fill-opacity\\\" in params || \\\"opacity\\\" in params) {\\n                var opacity = ((+a[\\\"fill-opacity\\\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+R.getRGB(params.fill).o + 1 || 2) - 1);\\n                opacity = mmin(mmax(opacity, 0), 1);\\n                fill.opacity = opacity;\\n                if (fill.src) {\\n                    fill.color = \\\"none\\\";\\n                }\\n            }\\n            node.appendChild(fill);\\n            var stroke = (node.getElementsByTagName(\\\"stroke\\\") && node.getElementsByTagName(\\\"stroke\\\")[0]),\\n            newstroke = false;\\n            !stroke && (newstroke = stroke = createNode(\\\"stroke\\\"));\\n            if ((params.stroke && params.stroke != \\\"none\\\") ||\\n                params[\\\"stroke-width\\\"] ||\\n                params[\\\"stroke-opacity\\\"] != null ||\\n                params[\\\"stroke-dasharray\\\"] ||\\n                params[\\\"stroke-miterlimit\\\"] ||\\n                params[\\\"stroke-linejoin\\\"] ||\\n                params[\\\"stroke-linecap\\\"]) {\\n                stroke.on = true;\\n            }\\n            (params.stroke == \\\"none\\\" || params.stroke === null || stroke.on == null || params.stroke == 0 || params[\\\"stroke-width\\\"] == 0) && (stroke.on = false);\\n            var strokeColor = R.getRGB(params.stroke);\\n            stroke.on && params.stroke && (stroke.color = strokeColor.hex);\\n            opacity = ((+a[\\\"stroke-opacity\\\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.o + 1 || 2) - 1);\\n            var width = (toFloat(params[\\\"stroke-width\\\"]) || 1) * .75;\\n            opacity = mmin(mmax(opacity, 0), 1);\\n            params[\\\"stroke-width\\\"] == null && (width = a[\\\"stroke-width\\\"]);\\n            params[\\\"stroke-width\\\"] && (stroke.weight = width);\\n            width && width < 1 && (opacity *= width) && (stroke.weight = 1);\\n            stroke.opacity = opacity;\\n\\n            params[\\\"stroke-linejoin\\\"] && (stroke.joinstyle = params[\\\"stroke-linejoin\\\"] || \\\"miter\\\");\\n            stroke.miterlimit = params[\\\"stroke-miterlimit\\\"] || 8;\\n            params[\\\"stroke-linecap\\\"] && (stroke.endcap = params[\\\"stroke-linecap\\\"] == \\\"butt\\\" ? \\\"flat\\\" : params[\\\"stroke-linecap\\\"] == \\\"square\\\" ? \\\"square\\\" : \\\"round\\\");\\n            if (\\\"stroke-dasharray\\\" in params) {\\n                var dasharray = {\\n                    \\\"-\\\": \\\"shortdash\\\",\\n                    \\\".\\\": \\\"shortdot\\\",\\n                    \\\"-.\\\": \\\"shortdashdot\\\",\\n                    \\\"-..\\\": \\\"shortdashdotdot\\\",\\n                    \\\". \\\": \\\"dot\\\",\\n                    \\\"- \\\": \\\"dash\\\",\\n                    \\\"--\\\": \\\"longdash\\\",\\n                    \\\"- .\\\": \\\"dashdot\\\",\\n                    \\\"--.\\\": \\\"longdashdot\\\",\\n                    \\\"--..\\\": \\\"longdashdotdot\\\"\\n                };\\n                stroke.dashstyle = dasharray[has](params[\\\"stroke-dasharray\\\"]) ? dasharray[params[\\\"stroke-dasharray\\\"]] : E;\\n            }\\n            newstroke && node.appendChild(stroke);\\n        }\\n        if (res.type == \\\"text\\\") {\\n            res.paper.canvas.style.display = E;\\n            var span = res.paper.span,\\n                m = 100,\\n                fontSize = a.font && a.font.match(/\\\\d+(?:\\\\.\\\\d*)?(?=px)/);\\n            s = span.style;\\n            a.font && (s.font = a.font);\\n            a[\\\"font-family\\\"] && (s.fontFamily = a[\\\"font-family\\\"]);\\n            a[\\\"font-weight\\\"] && (s.fontWeight = a[\\\"font-weight\\\"]);\\n            a[\\\"font-style\\\"] && (s.fontStyle = a[\\\"font-style\\\"]);\\n            fontSize = toFloat(a[\\\"font-size\\\"] || fontSize && fontSize[0]) || 10;\\n            s.fontSize = fontSize * m + \\\"px\\\";\\n            res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, \\\"&#60;\\\").replace(/&/g, \\\"&#38;\\\").replace(/\\\\n/g, \\\"<br>\\\"));\\n            var brect = span.getBoundingClientRect();\\n            res.W = a.w = (brect.right - brect.left) / m;\\n            res.H = a.h = (brect.bottom - brect.top) / m;\\n            // res.paper.canvas.style.display = \\\"none\\\";\\n            res.X = a.x;\\n            res.Y = a.y + res.H / 2;\\n\\n            (\\\"x\\\" in params || \\\"y\\\" in params) && (res.path.v = R.format(\\\"m{0},{1}l{2},{1}\\\", round(a.x * zoom), round(a.y * zoom), round(a.x * zoom) + 1));\\n            var dirtyattrs = [\\\"x\\\", \\\"y\\\", \\\"text\\\", \\\"font\\\", \\\"font-family\\\", \\\"font-weight\\\", \\\"font-style\\\", \\\"font-size\\\"];\\n            for (var d = 0, dd = dirtyattrs.length; d < dd; d++) if (dirtyattrs[d] in params) {\\n                res._.dirty = 1;\\n                break;\\n            }\\n\\n            // text-anchor emulation\\n            switch (a[\\\"text-anchor\\\"]) {\\n                case \\\"start\\\":\\n                    res.textpath.style[\\\"v-text-align\\\"] = \\\"left\\\";\\n                    res.bbx = res.W / 2;\\n                break;\\n                case \\\"end\\\":\\n                    res.textpath.style[\\\"v-text-align\\\"] = \\\"right\\\";\\n                    res.bbx = -res.W / 2;\\n                break;\\n                default:\\n                    res.textpath.style[\\\"v-text-align\\\"] = \\\"center\\\";\\n                    res.bbx = 0;\\n                break;\\n            }\\n            res.textpath.style[\\\"v-text-kern\\\"] = true;\\n        }\\n        // res.paper.canvas.style.display = E;\\n    },\\n    addGradientFill = function (o, gradient, fill) {\\n        o.attrs = o.attrs || {};\\n        var attrs = o.attrs,\\n            pow = Math.pow,\\n            opacity,\\n            oindex,\\n            type = \\\"linear\\\",\\n            fxfy = \\\".5 .5\\\";\\n        o.attrs.gradient = gradient;\\n        gradient = Str(gradient).replace(R._radial_gradient, function (all, fx, fy) {\\n            type = \\\"radial\\\";\\n            if (fx && fy) {\\n                fx = toFloat(fx);\\n                fy = toFloat(fy);\\n                pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = math.sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);\\n                fxfy = fx + S + fy;\\n            }\\n            return E;\\n        });\\n        gradient = gradient.split(/\\\\s*\\\\-\\\\s*/);\\n        if (type == \\\"linear\\\") {\\n            var angle = gradient.shift();\\n            angle = -toFloat(angle);\\n            if (isNaN(angle)) {\\n                return null;\\n            }\\n        }\\n        var dots = R._parseDots(gradient);\\n        if (!dots) {\\n            return null;\\n        }\\n        o = o.shape || o.node;\\n        if (dots.length) {\\n            o.removeChild(fill);\\n            fill.on = true;\\n            fill.method = \\\"none\\\";\\n            fill.color = dots[0].color;\\n            fill.color2 = dots[dots.length - 1].color;\\n            var clrs = [];\\n            for (var i = 0, ii = dots.length; i < ii; i++) {\\n                dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);\\n            }\\n            fill.colors = clrs.length ? clrs.join() : \\\"0% \\\" + fill.color;\\n            if (type == \\\"radial\\\") {\\n                fill.type = \\\"gradientTitle\\\";\\n                fill.focus = \\\"100%\\\";\\n                fill.focussize = \\\"0 0\\\";\\n                fill.focusposition = fxfy;\\n                fill.angle = 0;\\n            } else {\\n                // fill.rotate= true;\\n                fill.type = \\\"gradient\\\";\\n                fill.angle = (270 - angle) % 360;\\n            }\\n            o.appendChild(fill);\\n        }\\n        return 1;\\n    },\\n    Element = function (node, vml) {\\n        this[0] = this.node = node;\\n        node.raphael = true;\\n        this.id = R._oid++;\\n        node.raphaelid = this.id;\\n        this.X = 0;\\n        this.Y = 0;\\n        this.attrs = {};\\n        this.paper = vml;\\n        this.matrix = R.matrix();\\n        this._ = {\\n            transform: [],\\n            sx: 1,\\n            sy: 1,\\n            dx: 0,\\n            dy: 0,\\n            deg: 0,\\n            dirty: 1,\\n            dirtyT: 1\\n        };\\n        !vml.bottom && (vml.bottom = this);\\n        this.prev = vml.top;\\n        vml.top && (vml.top.next = this);\\n        vml.top = this;\\n        this.next = null;\\n    };\\n    var elproto = R.el;\\n\\n    Element.prototype = elproto;\\n    elproto.constructor = Element;\\n    elproto.transform = function (tstr) {\\n        if (tstr == null) {\\n            return this._.transform;\\n        }\\n        var vbs = this.paper._viewBoxShift,\\n            vbt = vbs ? \\\"s\\\" + [vbs.scale, vbs.scale] + \\\"-1-1t\\\" + [vbs.dx, vbs.dy] : E,\\n            oldt;\\n        if (vbs) {\\n            oldt = tstr = Str(tstr).replace(/\\\\.{3}|\\\\u2026/g, this._.transform || E);\\n        }\\n        R._extractTransform(this, vbt + tstr);\\n        var matrix = this.matrix.clone(),\\n            skew = this.skew,\\n            o = this.node,\\n            split,\\n            isGrad = ~Str(this.attrs.fill).indexOf(\\\"-\\\"),\\n            isPatt = !Str(this.attrs.fill).indexOf(\\\"url(\\\");\\n        matrix.translate(1, 1);\\n        if (isPatt || isGrad || this.type == \\\"image\\\") {\\n            skew.matrix = \\\"1 0 0 1\\\";\\n            skew.offset = \\\"0 0\\\";\\n            split = matrix.split();\\n            if ((isGrad && split.noRotation) || !split.isSimple) {\\n                o.style.filter = matrix.toFilter();\\n                var bb = this.getBBox(),\\n                    bbt = this.getBBox(1),\\n                    dx = bb.x - bbt.x,\\n                    dy = bb.y - bbt.y;\\n                o.coordorigin = (dx * -zoom) + S + (dy * -zoom);\\n                setCoords(this, 1, 1, dx, dy, 0);\\n            } else {\\n                o.style.filter = E;\\n                setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);\\n            }\\n        } else {\\n            o.style.filter = E;\\n            skew.matrix = Str(matrix);\\n            skew.offset = matrix.offset();\\n        }\\n        if (oldt !== null) { // empty string value is true as well\\n            this._.transform = oldt;\\n            R._extractTransform(this, oldt);\\n        }\\n        return this;\\n    };\\n    elproto.rotate = function (deg, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (deg == null) {\\n            return;\\n        }\\n        deg = Str(deg).split(separator);\\n        if (deg.length - 1) {\\n            cx = toFloat(deg[1]);\\n            cy = toFloat(deg[2]);\\n        }\\n        deg = toFloat(deg[0]);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n            cx = bbox.x + bbox.width / 2;\\n            cy = bbox.y + bbox.height / 2;\\n        }\\n        this._.dirtyT = 1;\\n        this.transform(this._.transform.concat([[\\\"r\\\", deg, cx, cy]]));\\n        return this;\\n    };\\n    elproto.translate = function (dx, dy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        dx = Str(dx).split(separator);\\n        if (dx.length - 1) {\\n            dy = toFloat(dx[1]);\\n        }\\n        dx = toFloat(dx[0]) || 0;\\n        dy = +dy || 0;\\n        if (this._.bbox) {\\n            this._.bbox.x += dx;\\n            this._.bbox.y += dy;\\n        }\\n        this.transform(this._.transform.concat([[\\\"t\\\", dx, dy]]));\\n        return this;\\n    };\\n    elproto.scale = function (sx, sy, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        sx = Str(sx).split(separator);\\n        if (sx.length - 1) {\\n            sy = toFloat(sx[1]);\\n            cx = toFloat(sx[2]);\\n            cy = toFloat(sx[3]);\\n            isNaN(cx) && (cx = null);\\n            isNaN(cy) && (cy = null);\\n        }\\n        sx = toFloat(sx[0]);\\n        (sy == null) && (sy = sx);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n        }\\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\\n\\n        this.transform(this._.transform.concat([[\\\"s\\\", sx, sy, cx, cy]]));\\n        this._.dirtyT = 1;\\n        return this;\\n    };\\n    elproto.hide = function () {\\n        !this.removed && (this.node.style.display = \\\"none\\\");\\n        return this;\\n    };\\n    elproto.show = function () {\\n        !this.removed && (this.node.style.display = E);\\n        return this;\\n    };\\n    // Needed to fix the vml setViewBox issues\\n    elproto.auxGetBBox = R.el.getBBox;\\n    elproto.getBBox = function(){\\n      var b = this.auxGetBBox();\\n      if (this.paper && this.paper._viewBoxShift)\\n      {\\n        var c = {};\\n        var z = 1/this.paper._viewBoxShift.scale;\\n        c.x = b.x - this.paper._viewBoxShift.dx;\\n        c.x *= z;\\n        c.y = b.y - this.paper._viewBoxShift.dy;\\n        c.y *= z;\\n        c.width  = b.width  * z;\\n        c.height = b.height * z;\\n        c.x2 = c.x + c.width;\\n        c.y2 = c.y + c.height;\\n        return c;\\n      }\\n      return b;\\n    };\\n    elproto._getBBox = function () {\\n        if (this.removed) {\\n            return {};\\n        }\\n        return {\\n            x: this.X + (this.bbx || 0) - this.W / 2,\\n            y: this.Y - this.H,\\n            width: this.W,\\n            height: this.H\\n        };\\n    };\\n    elproto.remove = function () {\\n        if (this.removed || !this.node.parentNode) {\\n            return;\\n        }\\n        this.paper.__set__ && this.paper.__set__.exclude(this);\\n        R.eve.unbind(\\\"raphael.*.*.\\\" + this.id);\\n        R._tear(this, this.paper);\\n        this.node.parentNode.removeChild(this.node);\\n        this.shape && this.shape.parentNode.removeChild(this.shape);\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n        this.removed = true;\\n    };\\n    elproto.attr = function (name, value) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (name == null) {\\n            var res = {};\\n            for (var a in this.attrs) if (this.attrs[has](a)) {\\n                res[a] = this.attrs[a];\\n            }\\n            res.gradient && res.fill == \\\"none\\\" && (res.fill = res.gradient) && delete res.gradient;\\n            res.transform = this._.transform;\\n            return res;\\n        }\\n        if (value == null && R.is(name, \\\"string\\\")) {\\n            if (name == fillString && this.attrs.fill == \\\"none\\\" && this.attrs.gradient) {\\n                return this.attrs.gradient;\\n            }\\n            var names = name.split(separator),\\n                out = {};\\n            for (var i = 0, ii = names.length; i < ii; i++) {\\n                name = names[i];\\n                if (name in this.attrs) {\\n                    out[name] = this.attrs[name];\\n                } else if (R.is(this.paper.customAttributes[name], \\\"function\\\")) {\\n                    out[name] = this.paper.customAttributes[name].def;\\n                } else {\\n                    out[name] = R._availableAttrs[name];\\n                }\\n            }\\n            return ii - 1 ? out : out[names[0]];\\n        }\\n        if (this.attrs && value == null && R.is(name, \\\"array\\\")) {\\n            out = {};\\n            for (i = 0, ii = name.length; i < ii; i++) {\\n                out[name[i]] = this.attr(name[i]);\\n            }\\n            return out;\\n        }\\n        var params;\\n        if (value != null) {\\n            params = {};\\n            params[name] = value;\\n        }\\n        value == null && R.is(name, \\\"object\\\") && (params = name);\\n        for (var key in params) {\\n            eve(\\\"raphael.attr.\\\" + key + \\\".\\\" + this.id, this, params[key]);\\n        }\\n        if (params) {\\n            for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], \\\"function\\\")) {\\n                var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\\n                this.attrs[key] = params[key];\\n                for (var subkey in par) if (par[has](subkey)) {\\n                    params[subkey] = par[subkey];\\n                }\\n            }\\n            // this.paper.canvas.style.display = \\\"none\\\";\\n            if (params.text && this.type == \\\"text\\\") {\\n                this.textpath.string = params.text;\\n            }\\n            setFillAndStroke(this, params);\\n            // this.paper.canvas.style.display = E;\\n        }\\n        return this;\\n    };\\n    elproto.toFront = function () {\\n        !this.removed && this.node.parentNode.appendChild(this.node);\\n        this.paper && this.paper.top != this && R._tofront(this, this.paper);\\n        return this;\\n    };\\n    elproto.toBack = function () {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (this.node.parentNode.firstChild != this.node) {\\n            this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);\\n            R._toback(this, this.paper);\\n        }\\n        return this;\\n    };\\n    elproto.insertAfter = function (element) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (element.constructor == R.st.constructor) {\\n            element = element[element.length - 1];\\n        }\\n        if (element.node.nextSibling) {\\n            element.node.parentNode.insertBefore(this.node, element.node.nextSibling);\\n        } else {\\n            element.node.parentNode.appendChild(this.node);\\n        }\\n        R._insertafter(this, element, this.paper);\\n        return this;\\n    };\\n    elproto.insertBefore = function (element) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (element.constructor == R.st.constructor) {\\n            element = element[0];\\n        }\\n        element.node.parentNode.insertBefore(this.node, element.node);\\n        R._insertbefore(this, element, this.paper);\\n        return this;\\n    };\\n    elproto.blur = function (size) {\\n        var s = this.node.runtimeStyle,\\n            f = s.filter;\\n        f = f.replace(blurregexp, E);\\n        if (+size !== 0) {\\n            this.attrs.blur = size;\\n            s.filter = f + S + ms + \\\".Blur(pixelradius=\\\" + (+size || 1.5) + \\\")\\\";\\n            s.margin = R.format(\\\"-{0}px 0 0 -{0}px\\\", round(+size || 1.5));\\n        } else {\\n            s.filter = f;\\n            s.margin = 0;\\n            delete this.attrs.blur;\\n        }\\n        return this;\\n    };\\n\\n    R._engine.path = function (pathString, vml) {\\n        var el = createNode(\\\"shape\\\");\\n        el.style.cssText = cssDot;\\n        el.coordsize = zoom + S + zoom;\\n        el.coordorigin = vml.coordorigin;\\n        var p = new Element(el, vml),\\n            attr = {fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        pathString && (attr.path = pathString);\\n        p.type = \\\"path\\\";\\n        p.path = [];\\n        p.Path = E;\\n        setFillAndStroke(p, attr);\\n        vml.canvas && vml.canvas.appendChild(el);\\n        var skew = createNode(\\\"skew\\\");\\n        skew.on = true;\\n        el.appendChild(skew);\\n        p.skew = skew;\\n        p.transform(E);\\n        return p;\\n    };\\n    R._engine.rect = function (vml, x, y, w, h, r) {\\n        var path = R._rectPath(x, y, w, h, r),\\n            res = vml.path(path),\\n            a = res.attrs;\\n        res.X = a.x = x;\\n        res.Y = a.y = y;\\n        res.W = a.width = w;\\n        res.H = a.height = h;\\n        a.r = r;\\n        a.path = path;\\n        res.type = \\\"rect\\\";\\n        return res;\\n    };\\n    R._engine.ellipse = function (vml, x, y, rx, ry) {\\n        var res = vml.path(),\\n            a = res.attrs;\\n        res.X = x - rx;\\n        res.Y = y - ry;\\n        res.W = rx * 2;\\n        res.H = ry * 2;\\n        res.type = \\\"ellipse\\\";\\n        setFillAndStroke(res, {\\n            cx: x,\\n            cy: y,\\n            rx: rx,\\n            ry: ry\\n        });\\n        return res;\\n    };\\n    R._engine.circle = function (vml, x, y, r) {\\n        var res = vml.path(),\\n            a = res.attrs;\\n        res.X = x - r;\\n        res.Y = y - r;\\n        res.W = res.H = r * 2;\\n        res.type = \\\"circle\\\";\\n        setFillAndStroke(res, {\\n            cx: x,\\n            cy: y,\\n            r: r\\n        });\\n        return res;\\n    };\\n    R._engine.image = function (vml, src, x, y, w, h) {\\n        var path = R._rectPath(x, y, w, h),\\n            res = vml.path(path).attr({stroke: \\\"none\\\"}),\\n            a = res.attrs,\\n            node = res.node,\\n            fill = node.getElementsByTagName(fillString)[0];\\n        a.src = src;\\n        res.X = a.x = x;\\n        res.Y = a.y = y;\\n        res.W = a.width = w;\\n        res.H = a.height = h;\\n        a.path = path;\\n        res.type = \\\"image\\\";\\n        fill.parentNode == node && node.removeChild(fill);\\n        fill.rotate = true;\\n        fill.src = src;\\n        fill.type = \\\"tile\\\";\\n        res._.fillpos = [x, y];\\n        res._.fillsize = [w, h];\\n        node.appendChild(fill);\\n        setCoords(res, 1, 1, 0, 0, 0);\\n        return res;\\n    };\\n    R._engine.text = function (vml, x, y, text) {\\n        var el = createNode(\\\"shape\\\"),\\n            path = createNode(\\\"path\\\"),\\n            o = createNode(\\\"textpath\\\");\\n        x = x || 0;\\n        y = y || 0;\\n        text = text || \\\"\\\";\\n        path.v = R.format(\\\"m{0},{1}l{2},{1}\\\", round(x * zoom), round(y * zoom), round(x * zoom) + 1);\\n        path.textpathok = true;\\n        o.string = Str(text);\\n        o.on = true;\\n        el.style.cssText = cssDot;\\n        el.coordsize = zoom + S + zoom;\\n        el.coordorigin = \\\"0 0\\\";\\n        var p = new Element(el, vml),\\n            attr = {\\n                fill: \\\"#000\\\",\\n                stroke: \\\"none\\\",\\n                font: R._availableAttrs.font,\\n                text: text\\n            };\\n        p.shape = el;\\n        p.path = path;\\n        p.textpath = o;\\n        p.type = \\\"text\\\";\\n        p.attrs.text = Str(text);\\n        p.attrs.x = x;\\n        p.attrs.y = y;\\n        p.attrs.w = 1;\\n        p.attrs.h = 1;\\n        setFillAndStroke(p, attr);\\n        el.appendChild(o);\\n        el.appendChild(path);\\n        vml.canvas.appendChild(el);\\n        var skew = createNode(\\\"skew\\\");\\n        skew.on = true;\\n        el.appendChild(skew);\\n        p.skew = skew;\\n        p.transform(E);\\n        return p;\\n    };\\n    R._engine.setSize = function (width, height) {\\n        var cs = this.canvas.style;\\n        this.width = width;\\n        this.height = height;\\n        width == +width && (width += \\\"px\\\");\\n        height == +height && (height += \\\"px\\\");\\n        cs.width = width;\\n        cs.height = height;\\n        cs.clip = \\\"rect(0 \\\" + width + \\\" \\\" + height + \\\" 0)\\\";\\n        if (this._viewBox) {\\n            R._engine.setViewBox.apply(this, this._viewBox);\\n        }\\n        return this;\\n    };\\n    R._engine.setViewBox = function (x, y, w, h, fit) {\\n        R.eve(\\\"raphael.setViewBox\\\", this, this._viewBox, [x, y, w, h, fit]);\\n        var paperSize = this.getSize(),\\n            width = paperSize.width,\\n            height = paperSize.height,\\n            H, W;\\n        if (fit) {\\n            H = height / h;\\n            W = width / w;\\n            if (w * H < width) {\\n                x -= (width - w * H) / 2 / H;\\n            }\\n            if (h * W < height) {\\n                y -= (height - h * W) / 2 / W;\\n            }\\n        }\\n        this._viewBox = [x, y, w, h, !!fit];\\n        this._viewBoxShift = {\\n            dx: -x,\\n            dy: -y,\\n            scale: paperSize\\n        };\\n        this.forEach(function (el) {\\n            el.transform(\\\"...\\\");\\n        });\\n        return this;\\n    };\\n    var createNode;\\n    R._engine.initWin = function (win) {\\n            var doc = win.document;\\n            if (doc.styleSheets.length < 31) {\\n                doc.createStyleSheet().addRule(\\\".rvml\\\", \\\"behavior:url(#default#VML)\\\");\\n            } else {\\n                // no more room, add to the existing one\\n                // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\\n                doc.styleSheets[0].addRule(\\\".rvml\\\", \\\"behavior:url(#default#VML)\\\");\\n            }\\n            try {\\n                !doc.namespaces.rvml && doc.namespaces.add(\\\"rvml\\\", \\\"urn:schemas-microsoft-com:vml\\\");\\n                createNode = function (tagName) {\\n                    return doc.createElement('<rvml:' + tagName + ' class=\\\"rvml\\\">');\\n                };\\n            } catch (e) {\\n                createNode = function (tagName) {\\n                    return doc.createElement('<' + tagName + ' xmlns=\\\"urn:schemas-microsoft.com:vml\\\" class=\\\"rvml\\\">');\\n                };\\n            }\\n        };\\n    R._engine.initWin(R._g.win);\\n    R._engine.create = function () {\\n        var con = R._getContainer.apply(0, arguments),\\n            container = con.container,\\n            height = con.height,\\n            s,\\n            width = con.width,\\n            x = con.x,\\n            y = con.y;\\n        if (!container) {\\n            throw new Error(\\\"VML container not found.\\\");\\n        }\\n        var res = new R._Paper,\\n            c = res.canvas = R._g.doc.createElement(\\\"div\\\"),\\n            cs = c.style;\\n        x = x || 0;\\n        y = y || 0;\\n        width = width || 512;\\n        height = height || 342;\\n        res.width = width;\\n        res.height = height;\\n        width == +width && (width += \\\"px\\\");\\n        height == +height && (height += \\\"px\\\");\\n        res.coordsize = zoom * 1e3 + S + zoom * 1e3;\\n        res.coordorigin = \\\"0 0\\\";\\n        res.span = R._g.doc.createElement(\\\"span\\\");\\n        res.span.style.cssText = \\\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\\\";\\n        c.appendChild(res.span);\\n        cs.cssText = R.format(\\\"top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\\\", width, height);\\n        if (container == 1) {\\n            R._g.doc.body.appendChild(c);\\n            cs.left = x + \\\"px\\\";\\n            cs.top = y + \\\"px\\\";\\n            cs.position = \\\"absolute\\\";\\n        } else {\\n            if (container.firstChild) {\\n                container.insertBefore(c, container.firstChild);\\n            } else {\\n                container.appendChild(c);\\n            }\\n        }\\n        res.renderfix = function () {};\\n        return res;\\n    };\\n    R.prototype.clear = function () {\\n        R.eve(\\\"raphael.clear\\\", this);\\n        this.canvas.innerHTML = E;\\n        this.span = R._g.doc.createElement(\\\"span\\\");\\n        this.span.style.cssText = \\\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\\\";\\n        this.canvas.appendChild(this.span);\\n        this.bottom = this.top = null;\\n    };\\n    R.prototype.remove = function () {\\n        R.eve(\\\"raphael.remove\\\", this);\\n        this.canvas.parentNode.removeChild(this.canvas);\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n        return true;\\n    };\\n\\n    var setproto = R.st;\\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\\n        setproto[method] = (function (methodname) {\\n            return function () {\\n                var arg = arguments;\\n                return this.forEach(function (el) {\\n                    el[methodname].apply(el, arg);\\n                });\\n            };\\n        })(method);\\n    }\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC52bWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwudm1sLmpzP2JhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIudm1sKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgcm91bmQgPSBtYXRoLnJvdW5kLFxuICAgICAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICAgICAgYWJzID0gbWF0aC5hYnMsXG4gICAgICAgIGZpbGxTdHJpbmcgPSBcImZpbGxcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1ssIF0rLyxcbiAgICAgICAgZXZlID0gUi5ldmUsXG4gICAgICAgIG1zID0gXCIgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0XCIsXG4gICAgICAgIFMgPSBcIiBcIixcbiAgICAgICAgRSA9IFwiXCIsXG4gICAgICAgIG1hcCA9IHtNOiBcIm1cIiwgTDogXCJsXCIsIEM6IFwiY1wiLCBaOiBcInhcIiwgbTogXCJ0XCIsIGw6IFwiclwiLCBjOiBcInZcIiwgejogXCJ4XCJ9LFxuICAgICAgICBiaXRlcyA9IC8oW2NsbXpdKSw/KFteY2xtel0qKS9naSxcbiAgICAgICAgYmx1cnJlZ2V4cCA9IC8gcHJvZ2lkOlxcUytCbHVyXFwoW15cXCldK1xcKS9nLFxuICAgICAgICB2YWwgPSAvLT9bXixcXHMtXSsvZyxcbiAgICAgICAgY3NzRG90ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIixcbiAgICAgICAgem9vbSA9IDIxNjAwLFxuICAgICAgICBwYXRoVHlwZXMgPSB7cGF0aDogMSwgcmVjdDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBvdmFsVHlwZXMgPSB7Y2lyY2xlOiAxLCBlbGxpcHNlOiAxfSxcbiAgICAgICAgcGF0aDJ2bWwgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gIC9bYWhxc3R2XS9pZyxcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gUi5fcGF0aFRvQWJzb2x1dGU7XG4gICAgICAgICAgICBTdHIocGF0aCkubWF0Y2godG90YWwpICYmIChjb21tYW5kID0gUi5fcGF0aDJjdXJ2ZSk7XG4gICAgICAgICAgICB0b3RhbCA9IC9bY2xtel0vZztcbiAgICAgICAgICAgIGlmIChjb21tYW5kID09IFIuX3BhdGhUb0Fic29sdXRlICYmICFTdHIocGF0aCkubWF0Y2godG90YWwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IFN0cihwYXRoKS5yZXBsYWNlKGJpdGVzLCBmdW5jdGlvbiAoYWxsLCBjb21tYW5kLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vdmUgPSBjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT0gXCJtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBtYXBbY29tbWFuZF07XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucmVwbGFjZSh2YWwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZSAmJiB2YWxzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9IHZhbHMgKyBtYXBbY29tbWFuZCA9PSBcIm1cIiA/IFwibFwiIDogXCJMXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChyb3VuZCh2YWx1ZSAqIHpvb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMgKyB2YWxzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGEgPSBjb21tYW5kKHBhdGgpLCBwLCByO1xuICAgICAgICAgICAgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcCA9IHBhW2ldO1xuICAgICAgICAgICAgICAgIHIgPSBwYVtpXVswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHIgPT0gXCJ6XCIgJiYgKHIgPSBcInhcIik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gcC5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgKz0gcm91bmQocFtqXSAqIHpvb20pICsgKGogIT0gamogLSAxID8gXCIsXCIgOiBFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpvaW4oUyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBlbnNhdGlvbiA9IGZ1bmN0aW9uIChkZWcsIGR4LCBkeSkge1xuICAgICAgICAgICAgdmFyIG0gPSBSLm1hdHJpeCgpO1xuICAgICAgICAgICAgbS5yb3RhdGUoLWRlZywgLjUsIC41KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZHg6IG0ueChkeCwgZHkpLFxuICAgICAgICAgICAgICAgIGR5OiBtLnkoZHgsIGR5KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29vcmRzID0gZnVuY3Rpb24gKHAsIHN4LCBzeSwgZHgsIGR5LCBkZWcpIHtcbiAgICAgICAgICAgIHZhciBfID0gcC5fLFxuICAgICAgICAgICAgICAgIG0gPSBwLm1hdHJpeCxcbiAgICAgICAgICAgICAgICBmaWxscG9zID0gXy5maWxscG9zLFxuICAgICAgICAgICAgICAgIG8gPSBwLm5vZGUsXG4gICAgICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICAgICAgeSA9IDEsXG4gICAgICAgICAgICAgICAgZmxpcCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZHhkeSxcbiAgICAgICAgICAgICAgICBreCA9IHpvb20gLyBzeCxcbiAgICAgICAgICAgICAgICBreSA9IHpvb20gLyBzeTtcbiAgICAgICAgICAgIHMudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBpZiAoIXN4IHx8ICFzeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG8uY29vcmRzaXplID0gYWJzKGt4KSArIFMgKyBhYnMoa3kpO1xuICAgICAgICAgICAgcy5yb3RhdGlvbiA9IGRlZyAqIChzeCAqIHN5IDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICBpZiAoZGVnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBjb21wZW5zYXRpb24oZGVnLCBkeCwgZHkpO1xuICAgICAgICAgICAgICAgIGR4ID0gYy5keDtcbiAgICAgICAgICAgICAgICBkeSA9IGMuZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzeCA8IDAgJiYgKGZsaXAgKz0gXCJ4XCIpO1xuICAgICAgICAgICAgc3kgPCAwICYmIChmbGlwICs9IFwiIHlcIikgJiYgKHkgPSAtMSk7XG4gICAgICAgICAgICBzLmZsaXAgPSBmbGlwO1xuICAgICAgICAgICAgby5jb29yZG9yaWdpbiA9IChkeCAqIC1reCkgKyBTICsgKGR5ICogLWt5KTtcbiAgICAgICAgICAgIGlmIChmaWxscG9zIHx8IF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IG8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZmlsbFN0cmluZyk7XG4gICAgICAgICAgICAgICAgZmlsbCA9IGZpbGwgJiYgZmlsbFswXTtcbiAgICAgICAgICAgICAgICBvLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxscG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBjb21wZW5zYXRpb24oZGVnLCBtLngoZmlsbHBvc1swXSwgZmlsbHBvc1sxXSksIG0ueShmaWxscG9zWzBdLCBmaWxscG9zWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwucG9zaXRpb24gPSBjLmR4ICogeSArIFMgKyBjLmR5ICogeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zaXplID0gXy5maWxsc2l6ZVswXSAqIGFicyhzeCkgKyBTICsgXy5maWxsc2l6ZVsxXSAqIGFicyhzeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uYXBwZW5kQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgfTtcbiAgICBSLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIFwiWW91ciBicm93c2VyIGRvZXNuXFx1MjAxOXQgc3VwcG9ydCBTVkcuIEZhbGxpbmcgZG93biB0byBWTUwuXFxuWW91IGFyZSBydW5uaW5nIFJhcGhhXFx4ZWJsIFwiICsgdGhpcy52ZXJzaW9uO1xuICAgIH07XG4gICAgdmFyIGFkZEFycm93ID0gZnVuY3Rpb24gKG8sIHZhbHVlLCBpc0VuZCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gU3RyKHZhbHVlKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLVwiKSxcbiAgICAgICAgICAgIHNlID0gaXNFbmQgPyBcImVuZFwiIDogXCJzdGFydFwiLFxuICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlID0gXCJjbGFzc2ljXCIsXG4gICAgICAgICAgICB3ID0gXCJtZWRpdW1cIixcbiAgICAgICAgICAgIGggPSBcIm1lZGl1bVwiO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc2ljXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm92YWxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIndpZGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFycm93XCI6IGggPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNob3J0XCI6IHcgPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJva2UgPSBvLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF07XG4gICAgICAgIHN0cm9rZVtzZSArIFwiYXJyb3dcIl0gPSB0eXBlO1xuICAgICAgICBzdHJva2Vbc2UgKyBcImFycm93bGVuZ3RoXCJdID0gdztcbiAgICAgICAgc3Ryb2tlW3NlICsgXCJhcnJvd3dpZHRoXCJdID0gaDtcbiAgICB9LFxuICAgIHNldEZpbGxBbmRTdHJva2UgPSBmdW5jdGlvbiAobywgcGFyYW1zKSB7XG4gICAgICAgIC8vIG8ucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgby5hdHRycyA9IG8uYXR0cnMgfHwge307XG4gICAgICAgIHZhciBub2RlID0gby5ub2RlLFxuICAgICAgICAgICAgYSA9IG8uYXR0cnMsXG4gICAgICAgICAgICBzID0gbm9kZS5zdHlsZSxcbiAgICAgICAgICAgIHh5LFxuICAgICAgICAgICAgbmV3cGF0aCA9IHBhdGhUeXBlc1tvLnR5cGVdICYmIChwYXJhbXMueCAhPSBhLnggfHwgcGFyYW1zLnkgIT0gYS55IHx8IHBhcmFtcy53aWR0aCAhPSBhLndpZHRoIHx8IHBhcmFtcy5oZWlnaHQgIT0gYS5oZWlnaHQgfHwgcGFyYW1zLmN4ICE9IGEuY3ggfHwgcGFyYW1zLmN5ICE9IGEuY3kgfHwgcGFyYW1zLnJ4ICE9IGEucnggfHwgcGFyYW1zLnJ5ICE9IGEucnkgfHwgcGFyYW1zLnIgIT0gYS5yKSxcbiAgICAgICAgICAgIGlzT3ZhbCA9IG92YWxUeXBlc1tvLnR5cGVdICYmIChhLmN4ICE9IHBhcmFtcy5jeCB8fCBhLmN5ICE9IHBhcmFtcy5jeSB8fCBhLnIgIT0gcGFyYW1zLnIgfHwgYS5yeCAhPSBwYXJhbXMucnggfHwgYS5yeSAhPSBwYXJhbXMucnkpLFxuICAgICAgICAgICAgcmVzID0gbztcblxuXG4gICAgICAgIGZvciAodmFyIHBhciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShwYXIpKSB7XG4gICAgICAgICAgICBhW3Bhcl0gPSBwYXJhbXNbcGFyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3cGF0aCkge1xuICAgICAgICAgICAgYS5wYXRoID0gUi5fZ2V0UGF0aFtvLnR5cGVdKG8pO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuaHJlZiAmJiAobm9kZS5ocmVmID0gcGFyYW1zLmhyZWYpO1xuICAgICAgICBwYXJhbXMudGl0bGUgJiYgKG5vZGUudGl0bGUgPSBwYXJhbXMudGl0bGUpO1xuICAgICAgICBwYXJhbXMudGFyZ2V0ICYmIChub2RlLnRhcmdldCA9IHBhcmFtcy50YXJnZXQpO1xuICAgICAgICBwYXJhbXMuY3Vyc29yICYmIChzLmN1cnNvciA9IHBhcmFtcy5jdXJzb3IpO1xuICAgICAgICBcImJsdXJcIiBpbiBwYXJhbXMgJiYgby5ibHVyKHBhcmFtcy5ibHVyKTtcbiAgICAgICAgaWYgKHBhcmFtcy5wYXRoICYmIG8udHlwZSA9PSBcInBhdGhcIiB8fCBuZXdwYXRoKSB7XG4gICAgICAgICAgICBub2RlLnBhdGggPSBwYXRoMnZtbCh+U3RyKGEucGF0aCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiclwiKSA/IFIuX3BhdGhUb0Fic29sdXRlKGEucGF0aCkgOiBhLnBhdGgpO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICAgICAgby5fLmZpbGxwb3MgPSBbYS54LCBhLnldO1xuICAgICAgICAgICAgICAgIG8uXy5maWxsc2l6ZSA9IFthLndpZHRoLCBhLmhlaWdodF07XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKG8sIDEsIDEsIDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFwidHJhbnNmb3JtXCIgaW4gcGFyYW1zICYmIG8udHJhbnNmb3JtKHBhcmFtcy50cmFuc2Zvcm0pO1xuICAgICAgICBpZiAoaXNPdmFsKSB7XG4gICAgICAgICAgICB2YXIgY3ggPSArYS5jeCxcbiAgICAgICAgICAgICAgICBjeSA9ICthLmN5LFxuICAgICAgICAgICAgICAgIHJ4ID0gK2EucnggfHwgK2EuciB8fCAwLFxuICAgICAgICAgICAgICAgIHJ5ID0gK2EucnkgfHwgK2EuciB8fCAwO1xuICAgICAgICAgICAgbm9kZS5wYXRoID0gUi5mb3JtYXQoXCJhcnswfSx7MX0sezJ9LHszfSx7NH0sezF9LHs0fSx7MX14XCIsIHJvdW5kKChjeCAtIHJ4KSAqIHpvb20pLCByb3VuZCgoY3kgLSByeSkgKiB6b29tKSwgcm91bmQoKGN4ICsgcngpICogem9vbSksIHJvdW5kKChjeSArIHJ5KSAqIHpvb20pLCByb3VuZChjeCAqIHpvb20pKTtcbiAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xpcC1yZWN0XCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IFN0cihwYXJhbXNbXCJjbGlwLXJlY3RcIl0pLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgIHJlY3RbMl0gPSArcmVjdFsyXSArICgrcmVjdFswXSk7XG4gICAgICAgICAgICAgICAgcmVjdFszXSA9ICtyZWN0WzNdICsgKCtyZWN0WzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gbm9kZS5jbGlwUmVjdCB8fCBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgICAgICAgICBkc3R5bGUgPSBkaXYuc3R5bGU7XG4gICAgICAgICAgICAgICAgZHN0eWxlLmNsaXAgPSBSLmZvcm1hdChcInJlY3QoezF9cHggezJ9cHggezN9cHggezB9cHgpXCIsIHJlY3QpO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZS5jbGlwUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS50b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUubGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS53aWR0aCA9IG8ucGFwZXIud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS5oZWlnaHQgPSBvLnBhcGVyLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2xpcFJlY3QgPSBkaXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJhbXNbXCJjbGlwLXJlY3RcIl0pIHtcbiAgICAgICAgICAgICAgICBub2RlLmNsaXBSZWN0ICYmIChub2RlLmNsaXBSZWN0LnN0eWxlLmNsaXAgPSBcImF1dG9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8udGV4dHBhdGgpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0cGF0aFN0eWxlID0gby50ZXh0cGF0aC5zdHlsZTtcbiAgICAgICAgICAgIHBhcmFtcy5mb250ICYmICh0ZXh0cGF0aFN0eWxlLmZvbnQgPSBwYXJhbXMuZm9udCk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LWZhbWlseVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250RmFtaWx5ID0gJ1wiJyArIHBhcmFtc1tcImZvbnQtZmFtaWx5XCJdLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKC9eWydcIl0rfFsnXCJdKyQvZywgRSkgKyAnXCInKTtcbiAgICAgICAgICAgIHBhcmFtc1tcImZvbnQtc2l6ZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U2l6ZSA9IHBhcmFtc1tcImZvbnQtc2l6ZVwiXSk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LXdlaWdodFwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250V2VpZ2h0ID0gcGFyYW1zW1wiZm9udC13ZWlnaHRcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wiZm9udC1zdHlsZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U3R5bGUgPSBwYXJhbXNbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJhcnJvdy1zdGFydFwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgYWRkQXJyb3cocmVzLCBwYXJhbXNbXCJhcnJvdy1zdGFydFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiYXJyb3ctZW5kXCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBhZGRBcnJvdyhyZXMsIHBhcmFtc1tcImFycm93LWVuZFwiXSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5vcGFjaXR5ICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5maWxsICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5zcmMgIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zLnN0cm9rZSAhPSBudWxsIHx8XG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW9wYWNpdHlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLWxpbmVqb2luXCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBmaWxsID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShmaWxsU3RyaW5nKSxcbiAgICAgICAgICAgICAgICBuZXdmaWxsID0gZmFsc2U7XG4gICAgICAgICAgICBmaWxsID0gZmlsbCAmJiBmaWxsWzBdO1xuICAgICAgICAgICAgIWZpbGwgJiYgKG5ld2ZpbGwgPSBmaWxsID0gY3JlYXRlTm9kZShmaWxsU3RyaW5nKSk7XG4gICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIiAmJiBwYXJhbXMuc3JjKSB7XG4gICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBwYXJhbXMuc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyYW1zLmZpbGwgJiYgKGZpbGwub24gPSB0cnVlKTtcbiAgICAgICAgICAgIGlmIChmaWxsLm9uID09IG51bGwgfHwgcGFyYW1zLmZpbGwgPT0gXCJub25lXCIgfHwgcGFyYW1zLmZpbGwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmaWxsLm9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsbC5vbiAmJiBwYXJhbXMuZmlsbCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cihwYXJhbXMuZmlsbCkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgIGlmIChpc1VSTCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnBhcmVudE5vZGUgPT0gbm9kZSAmJiBub2RlLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuc3JjID0gaXNVUkxbMV07XG4gICAgICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwidGlsZVwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmJveCA9IG8uZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5wb3NpdGlvbiA9IGJib3gueCArIFMgKyBiYm94Lnk7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5maWxscG9zID0gW2Jib3gueCwgYmJveC55XTtcblxuICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZmlsbHNpemUgPSBbdGhpcy5vZmZzZXRXaWR0aCwgdGhpcy5vZmZzZXRIZWlnaHRdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLmNvbG9yID0gUi5nZXRSR0IocGFyYW1zLmZpbGwpLmhleDtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBFO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnR5cGUgPSBcInNvbGlkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSLmdldFJHQihwYXJhbXMuZmlsbCkuZXJyb3IgJiYgKHJlcy50eXBlIGluIHtjaXJjbGU6IDEsIGVsbGlwc2U6IDF9IHx8IFN0cihwYXJhbXMuZmlsbCkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChyZXMsIHBhcmFtcy5maWxsLCBmaWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5maWxsID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmdyYWRpZW50ID0gcGFyYW1zLmZpbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwiZmlsbC1vcGFjaXR5XCIgaW4gcGFyYW1zIHx8IFwib3BhY2l0eVwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gKCgrYVtcImZpbGwtb3BhY2l0eVwiXSArIDEgfHwgMikgLSAxKSAqICgoK2Eub3BhY2l0eSArIDEgfHwgMikgLSAxKSAqICgoK1IuZ2V0UkdCKHBhcmFtcy5maWxsKS5vICsgMSB8fCAyKSAtIDEpO1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBtbWluKG1tYXgob3BhY2l0eSwgMCksIDEpO1xuICAgICAgICAgICAgICAgIGZpbGwub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuY29sb3IgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZSA9IChub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3Ryb2tlXCIpICYmIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF0pLFxuICAgICAgICAgICAgbmV3c3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAhc3Ryb2tlICYmIChuZXdzdHJva2UgPSBzdHJva2UgPSBjcmVhdGVOb2RlKFwic3Ryb2tlXCIpKTtcbiAgICAgICAgICAgIGlmICgocGFyYW1zLnN0cm9rZSAmJiBwYXJhbXMuc3Ryb2tlICE9IFwibm9uZVwiKSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtZGFzaGFycmF5XCJdIHx8XG4gICAgICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWNhcFwiXSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZS5vbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAocGFyYW1zLnN0cm9rZSA9PSBcIm5vbmVcIiB8fCBwYXJhbXMuc3Ryb2tlID09PSBudWxsIHx8IHN0cm9rZS5vbiA9PSBudWxsIHx8IHBhcmFtcy5zdHJva2UgPT0gMCB8fCBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gPT0gMCkgJiYgKHN0cm9rZS5vbiA9IGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IFIuZ2V0UkdCKHBhcmFtcy5zdHJva2UpO1xuICAgICAgICAgICAgc3Ryb2tlLm9uICYmIHBhcmFtcy5zdHJva2UgJiYgKHN0cm9rZS5jb2xvciA9IHN0cm9rZUNvbG9yLmhleCk7XG4gICAgICAgICAgICBvcGFjaXR5ID0gKCgrYVtcInN0cm9rZS1vcGFjaXR5XCJdICsgMSB8fCAyKSAtIDEpICogKCgrYS5vcGFjaXR5ICsgMSB8fCAyKSAtIDEpICogKCgrc3Ryb2tlQ29sb3IubyArIDEgfHwgMikgLSAxKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICh0b0Zsb2F0KHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSkgfHwgMSkgKiAuNzU7XG4gICAgICAgICAgICBvcGFjaXR5ID0gbW1pbihtbWF4KG9wYWNpdHksIDApLCAxKTtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSA9PSBudWxsICYmICh3aWR0aCA9IGFbXCJzdHJva2Utd2lkdGhcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLXdpZHRoXCJdICYmIChzdHJva2Uud2VpZ2h0ID0gd2lkdGgpO1xuICAgICAgICAgICAgd2lkdGggJiYgd2lkdGggPCAxICYmIChvcGFjaXR5ICo9IHdpZHRoKSAmJiAoc3Ryb2tlLndlaWdodCA9IDEpO1xuICAgICAgICAgICAgc3Ryb2tlLm9wYWNpdHkgPSBvcGFjaXR5O1xuXG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gJiYgKHN0cm9rZS5qb2luc3R5bGUgPSBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHwgXCJtaXRlclwiKTtcbiAgICAgICAgICAgIHN0cm9rZS5taXRlcmxpbWl0ID0gcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHwgODtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICYmIChzdHJva2UuZW5kY2FwID0gcGFyYW1zW1wic3Ryb2tlLWxpbmVjYXBcIl0gPT0gXCJidXR0XCIgPyBcImZsYXRcIiA6IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdID09IFwic3F1YXJlXCIgPyBcInNxdWFyZVwiIDogXCJyb3VuZFwiKTtcbiAgICAgICAgICAgIGlmIChcInN0cm9rZS1kYXNoYXJyYXlcIiBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGFzaGFycmF5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIi1cIjogXCJzaG9ydGRhc2hcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuXCI6IFwic2hvcnRkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLlwiOiBcInNob3J0ZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0uLlwiOiBcInNob3J0ZGFzaGRvdGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi4gXCI6IFwiZG90XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLSBcIjogXCJkYXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLS1cIjogXCJsb25nZGFzaFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0gLlwiOiBcImRhc2hkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLS5cIjogXCJsb25nZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0tLi5cIjogXCJsb25nZGFzaGRvdGRvdFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdHJva2UuZGFzaHN0eWxlID0gZGFzaGFycmF5W2hhc10ocGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXSkgPyBkYXNoYXJyYXlbcGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXV0gOiBFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3c3Ryb2tlICYmIG5vZGUuYXBwZW5kQ2hpbGQoc3Ryb2tlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIHJlcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgICAgICB2YXIgc3BhbiA9IHJlcy5wYXBlci5zcGFuLFxuICAgICAgICAgICAgICAgIG0gPSAxMDAsXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSBhLmZvbnQgJiYgYS5mb250Lm1hdGNoKC9cXGQrKD86XFwuXFxkKik/KD89cHgpLyk7XG4gICAgICAgICAgICBzID0gc3Bhbi5zdHlsZTtcbiAgICAgICAgICAgIGEuZm9udCAmJiAocy5mb250ID0gYS5mb250KTtcbiAgICAgICAgICAgIGFbXCJmb250LWZhbWlseVwiXSAmJiAocy5mb250RmFtaWx5ID0gYVtcImZvbnQtZmFtaWx5XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXdlaWdodFwiXSAmJiAocy5mb250V2VpZ2h0ID0gYVtcImZvbnQtd2VpZ2h0XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXN0eWxlXCJdICYmIChzLmZvbnRTdHlsZSA9IGFbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgICAgIGZvbnRTaXplID0gdG9GbG9hdChhW1wiZm9udC1zaXplXCJdIHx8IGZvbnRTaXplICYmIGZvbnRTaXplWzBdKSB8fCAxMDtcbiAgICAgICAgICAgIHMuZm9udFNpemUgPSBmb250U2l6ZSAqIG0gKyBcInB4XCI7XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3RyaW5nICYmIChzcGFuLmlubmVySFRNTCA9IFN0cihyZXMudGV4dHBhdGguc3RyaW5nKS5yZXBsYWNlKC88L2csIFwiJiM2MDtcIikucmVwbGFjZSgvJi9nLCBcIiYjMzg7XCIpLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIikpO1xuICAgICAgICAgICAgdmFyIGJyZWN0ID0gc3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJlcy5XID0gYS53ID0gKGJyZWN0LnJpZ2h0IC0gYnJlY3QubGVmdCkgLyBtO1xuICAgICAgICAgICAgcmVzLkggPSBhLmggPSAoYnJlY3QuYm90dG9tIC0gYnJlY3QudG9wKSAvIG07XG4gICAgICAgICAgICAvLyByZXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHJlcy5YID0gYS54O1xuICAgICAgICAgICAgcmVzLlkgPSBhLnkgKyByZXMuSCAvIDI7XG5cbiAgICAgICAgICAgIChcInhcIiBpbiBwYXJhbXMgfHwgXCJ5XCIgaW4gcGFyYW1zKSAmJiAocmVzLnBhdGgudiA9IFIuZm9ybWF0KFwibXswfSx7MX1sezJ9LHsxfVwiLCByb3VuZChhLnggKiB6b29tKSwgcm91bmQoYS55ICogem9vbSksIHJvdW5kKGEueCAqIHpvb20pICsgMSkpO1xuICAgICAgICAgICAgdmFyIGRpcnR5YXR0cnMgPSBbXCJ4XCIsIFwieVwiLCBcInRleHRcIiwgXCJmb250XCIsIFwiZm9udC1mYW1pbHlcIiwgXCJmb250LXdlaWdodFwiLCBcImZvbnQtc3R5bGVcIiwgXCJmb250LXNpemVcIl07XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMCwgZGQgPSBkaXJ0eWF0dHJzLmxlbmd0aDsgZCA8IGRkOyBkKyspIGlmIChkaXJ0eWF0dHJzW2RdIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJlcy5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGV4dC1hbmNob3IgZW11bGF0aW9uXG4gICAgICAgICAgICBzd2l0Y2ggKGFbXCJ0ZXh0LWFuY2hvclwiXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQtYWxpZ25cIl0gPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IHJlcy5XIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlcy50ZXh0cGF0aC5zdHlsZVtcInYtdGV4dC1hbGlnblwiXSA9IFwicmlnaHRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IC1yZXMuVyAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVzLnRleHRwYXRoLnN0eWxlW1widi10ZXh0LWFsaWduXCJdID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQta2VyblwiXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzLnBhcGVyLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gRTtcbiAgICB9LFxuICAgIGFkZEdyYWRpZW50RmlsbCA9IGZ1bmN0aW9uIChvLCBncmFkaWVudCwgZmlsbCkge1xuICAgICAgICBvLmF0dHJzID0gby5hdHRycyB8fCB7fTtcbiAgICAgICAgdmFyIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgIG9pbmRleCxcbiAgICAgICAgICAgIHR5cGUgPSBcImxpbmVhclwiLFxuICAgICAgICAgICAgZnhmeSA9IFwiLjUgLjVcIjtcbiAgICAgICAgby5hdHRycy5ncmFkaWVudCA9IGdyYWRpZW50O1xuICAgICAgICBncmFkaWVudCA9IFN0cihncmFkaWVudCkucmVwbGFjZShSLl9yYWRpYWxfZ3JhZGllbnQsIGZ1bmN0aW9uIChhbGwsIGZ4LCBmeSkge1xuICAgICAgICAgICAgdHlwZSA9IFwicmFkaWFsXCI7XG4gICAgICAgICAgICBpZiAoZnggJiYgZnkpIHtcbiAgICAgICAgICAgICAgICBmeCA9IHRvRmxvYXQoZngpO1xuICAgICAgICAgICAgICAgIGZ5ID0gdG9GbG9hdChmeSk7XG4gICAgICAgICAgICAgICAgcG93KGZ4IC0gLjUsIDIpICsgcG93KGZ5IC0gLjUsIDIpID4gLjI1ICYmIChmeSA9IG1hdGguc3FydCguMjUgLSBwb3coZnggLSAuNSwgMikpICogKChmeSA+IC41KSAqIDIgLSAxKSArIC41KTtcbiAgICAgICAgICAgICAgICBmeGZ5ID0gZnggKyBTICsgZnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdyYWRpZW50ID0gZ3JhZGllbnQuc3BsaXQoL1xccypcXC1cXHMqLyk7XG4gICAgICAgIGlmICh0eXBlID09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICBhbmdsZSA9IC10b0Zsb2F0KGFuZ2xlKTtcbiAgICAgICAgICAgIGlmIChpc05hTihhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZG90cyA9IFIuX3BhcnNlRG90cyhncmFkaWVudCk7XG4gICAgICAgIGlmICghZG90cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbyA9IG8uc2hhcGUgfHwgby5ub2RlO1xuICAgICAgICBpZiAoZG90cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG8ucmVtb3ZlQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICBmaWxsLm9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbGwubWV0aG9kID0gXCJub25lXCI7XG4gICAgICAgICAgICBmaWxsLmNvbG9yID0gZG90c1swXS5jb2xvcjtcbiAgICAgICAgICAgIGZpbGwuY29sb3IyID0gZG90c1tkb3RzLmxlbmd0aCAtIDFdLmNvbG9yO1xuICAgICAgICAgICAgdmFyIGNscnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRvdHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvdHNbaV0ub2Zmc2V0ICYmIGNscnMucHVzaChkb3RzW2ldLm9mZnNldCArIFMgKyBkb3RzW2ldLmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGwuY29sb3JzID0gY2xycy5sZW5ndGggPyBjbHJzLmpvaW4oKSA6IFwiMCUgXCIgKyBmaWxsLmNvbG9yO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJyYWRpYWxcIikge1xuICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwiZ3JhZGllbnRUaXRsZVwiO1xuICAgICAgICAgICAgICAgIGZpbGwuZm9jdXMgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBmaWxsLmZvY3Vzc2l6ZSA9IFwiMCAwXCI7XG4gICAgICAgICAgICAgICAgZmlsbC5mb2N1c3Bvc2l0aW9uID0gZnhmeTtcbiAgICAgICAgICAgICAgICBmaWxsLmFuZ2xlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsbC5yb3RhdGU9IHRydWU7XG4gICAgICAgICAgICAgICAgZmlsbC50eXBlID0gXCJncmFkaWVudFwiO1xuICAgICAgICAgICAgICAgIGZpbGwuYW5nbGUgPSAoMjcwIC0gYW5nbGUpICUgMzYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgby5hcHBlbmRDaGlsZChmaWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgdm1sKSB7XG4gICAgICAgIHRoaXNbMF0gPSB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmlkID0gUi5fb2lkKys7XG4gICAgICAgIG5vZGUucmFwaGFlbGlkID0gdGhpcy5pZDtcbiAgICAgICAgdGhpcy5YID0gMDtcbiAgICAgICAgdGhpcy5ZID0gMDtcbiAgICAgICAgdGhpcy5hdHRycyA9IHt9O1xuICAgICAgICB0aGlzLnBhcGVyID0gdm1sO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMuXyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW10sXG4gICAgICAgICAgICBzeDogMSxcbiAgICAgICAgICAgIHN5OiAxLFxuICAgICAgICAgICAgZHg6IDAsXG4gICAgICAgICAgICBkeTogMCxcbiAgICAgICAgICAgIGRlZzogMCxcbiAgICAgICAgICAgIGRpcnR5OiAxLFxuICAgICAgICAgICAgZGlydHlUOiAxXG4gICAgICAgIH07XG4gICAgICAgICF2bWwuYm90dG9tICYmICh2bWwuYm90dG9tID0gdGhpcyk7XG4gICAgICAgIHRoaXMucHJldiA9IHZtbC50b3A7XG4gICAgICAgIHZtbC50b3AgJiYgKHZtbC50b3AubmV4dCA9IHRoaXMpO1xuICAgICAgICB2bWwudG9wID0gdGhpcztcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9O1xuICAgIHZhciBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIGlmICh0c3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8udHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YnMgPSB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQsXG4gICAgICAgICAgICB2YnQgPSB2YnMgPyBcInNcIiArIFt2YnMuc2NhbGUsIHZicy5zY2FsZV0gKyBcIi0xLTF0XCIgKyBbdmJzLmR4LCB2YnMuZHldIDogRSxcbiAgICAgICAgICAgIG9sZHQ7XG4gICAgICAgIGlmICh2YnMpIHtcbiAgICAgICAgICAgIG9sZHQgPSB0c3RyID0gU3RyKHRzdHIpLnJlcGxhY2UoL1xcLnszfXxcXHUyMDI2L2csIHRoaXMuXy50cmFuc2Zvcm0gfHwgRSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB2YnQgKyB0c3RyKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMubWF0cml4LmNsb25lKCksXG4gICAgICAgICAgICBza2V3ID0gdGhpcy5za2V3LFxuICAgICAgICAgICAgbyA9IHRoaXMubm9kZSxcbiAgICAgICAgICAgIHNwbGl0LFxuICAgICAgICAgICAgaXNHcmFkID0gflN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCItXCIpLFxuICAgICAgICAgICAgaXNQYXR0ID0gIVN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCJ1cmwoXCIpO1xuICAgICAgICBtYXRyaXgudHJhbnNsYXRlKDEsIDEpO1xuICAgICAgICBpZiAoaXNQYXR0IHx8IGlzR3JhZCB8fCB0aGlzLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFwiMSAwIDAgMVwiO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBcIjAgMFwiO1xuICAgICAgICAgICAgc3BsaXQgPSBtYXRyaXguc3BsaXQoKTtcbiAgICAgICAgICAgIGlmICgoaXNHcmFkICYmIHNwbGl0Lm5vUm90YXRpb24pIHx8ICFzcGxpdC5pc1NpbXBsZSkge1xuICAgICAgICAgICAgICAgIG8uc3R5bGUuZmlsdGVyID0gbWF0cml4LnRvRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIGJiID0gdGhpcy5nZXRCQm94KCksXG4gICAgICAgICAgICAgICAgICAgIGJidCA9IHRoaXMuZ2V0QkJveCgxKSxcbiAgICAgICAgICAgICAgICAgICAgZHggPSBiYi54IC0gYmJ0LngsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gYmIueSAtIGJidC55O1xuICAgICAgICAgICAgICAgIG8uY29vcmRvcmlnaW4gPSAoZHggKiAtem9vbSkgKyBTICsgKGR5ICogLXpvb20pO1xuICAgICAgICAgICAgICAgIHNldENvb3Jkcyh0aGlzLCAxLCAxLCBkeCwgZHksIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKHRoaXMsIHNwbGl0LnNjYWxleCwgc3BsaXQuc2NhbGV5LCBzcGxpdC5keCwgc3BsaXQuZHksIHNwbGl0LnJvdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFN0cihtYXRyaXgpO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBtYXRyaXgub2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZHQgIT09IG51bGwpIHsgLy8gZW1wdHkgc3RyaW5nIHZhbHVlIGlzIHRydWUgYXMgd2VsbFxuICAgICAgICAgICAgdGhpcy5fLnRyYW5zZm9ybSA9IG9sZHQ7XG4gICAgICAgICAgICBSLl9leHRyYWN0VHJhbnNmb3JtKHRoaXMsIG9sZHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by5yb3RhdGUgPSBmdW5jdGlvbiAoZGVnLCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gU3RyKGRlZykuc3BsaXQoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGRlZy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjeCA9IHRvRmxvYXQoZGVnWzFdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChkZWdbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZyA9IHRvRmxvYXQoZGVnWzBdKTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgICAgICBjeCA9IGJib3gueCArIGJib3gud2lkdGggLyAyO1xuICAgICAgICAgICAgY3kgPSBiYm94LnkgKyBiYm94LmhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fLmRpcnR5VCA9IDE7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbXCJyXCIsIGRlZywgY3gsIGN5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgaWYgKHRoaXMuXy5iYm94KSB7XG4gICAgICAgICAgICB0aGlzLl8uYmJveC54ICs9IGR4O1xuICAgICAgICAgICAgdGhpcy5fLmJib3gueSArPSBkeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1widFwiLCBkeCwgZHldXSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2NhbGUgPSBmdW5jdGlvbiAoc3gsIHN5LCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSBTdHIoc3gpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChzeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzeSA9IHRvRmxvYXQoc3hbMV0pO1xuICAgICAgICAgICAgY3ggPSB0b0Zsb2F0KHN4WzJdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChzeFszXSk7XG4gICAgICAgICAgICBpc05hTihjeCkgJiYgKGN4ID0gbnVsbCk7XG4gICAgICAgICAgICBpc05hTihjeSkgJiYgKGN5ID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSB0b0Zsb2F0KHN4WzBdKTtcbiAgICAgICAgKHN5ID09IG51bGwpICYmIChzeSA9IHN4KTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgIH1cbiAgICAgICAgY3ggPSBjeCA9PSBudWxsID8gYmJveC54ICsgYmJveC53aWR0aCAvIDIgOiBjeDtcbiAgICAgICAgY3kgPSBjeSA9PSBudWxsID8gYmJveC55ICsgYmJveC5oZWlnaHQgLyAyIDogY3k7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInNcIiwgc3gsIHN5LCBjeCwgY3ldXSkpO1xuICAgICAgICB0aGlzLl8uZGlydHlUID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIXRoaXMucmVtb3ZlZCAmJiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBFKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBOZWVkZWQgdG8gZml4IHRoZSB2bWwgc2V0Vmlld0JveCBpc3N1ZXNcbiAgICBlbHByb3RvLmF1eEdldEJCb3ggPSBSLmVsLmdldEJCb3g7XG4gICAgZWxwcm90by5nZXRCQm94ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBiID0gdGhpcy5hdXhHZXRCQm94KCk7XG4gICAgICBpZiAodGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQpXG4gICAgICB7XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIHZhciB6ID0gMS90aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQuc2NhbGU7XG4gICAgICAgIGMueCA9IGIueCAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keDtcbiAgICAgICAgYy54ICo9IHo7XG4gICAgICAgIGMueSA9IGIueSAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keTtcbiAgICAgICAgYy55ICo9IHo7XG4gICAgICAgIGMud2lkdGggID0gYi53aWR0aCAgKiB6O1xuICAgICAgICBjLmhlaWdodCA9IGIuaGVpZ2h0ICogejtcbiAgICAgICAgYy54MiA9IGMueCArIGMud2lkdGg7XG4gICAgICAgIGMueTIgPSBjLnkgKyBjLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgICByZXR1cm4gYjtcbiAgICB9O1xuICAgIGVscHJvdG8uX2dldEJCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5YICsgKHRoaXMuYmJ4IHx8IDApIC0gdGhpcy5XIC8gMixcbiAgICAgICAgICAgIHk6IHRoaXMuWSAtIHRoaXMuSCxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLlcsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuSFxuICAgICAgICB9O1xuICAgIH07XG4gICAgZWxwcm90by5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQgfHwgIXRoaXMubm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXBlci5fX3NldF9fICYmIHRoaXMucGFwZXIuX19zZXRfXy5leGNsdWRlKHRoaXMpO1xuICAgICAgICBSLmV2ZS51bmJpbmQoXCJyYXBoYWVsLiouKi5cIiArIHRoaXMuaWQpO1xuICAgICAgICBSLl90ZWFyKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLnNoYXBlICYmIHRoaXMuc2hhcGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoYXBlKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gZmlsbFN0cmluZyAmJiB0aGlzLmF0dHJzLmZpbGwgPT0gXCJub25lXCIgJiYgdGhpcy5hdHRycy5ncmFkaWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdChzZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSBpbiB0aGlzLmF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHRoaXMuYXR0cnNbbmFtZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChSLmlzKHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0uZGVmO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IFIuX2F2YWlsYWJsZUF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpaSAtIDEgPyBvdXQgOiBvdXRbbmFtZXNbMF1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJzICYmIHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0W25hbWVbaV1dID0gdGhpcy5hdHRyKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9PSBudWxsICYmIFIuaXMobmFtZSwgXCJvYmplY3RcIikgJiYgKHBhcmFtcyA9IG5hbWUpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXIgPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XS5hcHBseSh0aGlzLCBbXS5jb25jYXQocGFyYW1zW2tleV0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbc3Via2V5XSA9IHBhcltzdWJrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGlmIChwYXJhbXMudGV4dCAmJiB0aGlzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRwYXRoLnN0cmluZyA9IHBhcmFtcy50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICAgICAgLy8gdGhpcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgdGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by50b0JhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkICE9IHRoaXMubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSwgdGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICBSLl90b2JhY2sodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQuY29uc3RydWN0b3IgPT0gUi5zdC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbZWxlbWVudC5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLCBlbGVtZW50Lm5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBSLl9pbnNlcnRhZnRlcih0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LmNvbnN0cnVjdG9yID09IFIuc3QuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGUsIGVsZW1lbnQubm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgcyA9IHRoaXMubm9kZS5ydW50aW1lU3R5bGUsXG4gICAgICAgICAgICBmID0gcy5maWx0ZXI7XG4gICAgICAgIGYgPSBmLnJlcGxhY2UoYmx1cnJlZ2V4cCwgRSk7XG4gICAgICAgIGlmICgrc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIHMuZmlsdGVyID0gZiArIFMgKyBtcyArIFwiLkJsdXIocGl4ZWxyYWRpdXM9XCIgKyAoK3NpemUgfHwgMS41KSArIFwiKVwiO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSBSLmZvcm1hdChcIi17MH1weCAwIDAgLXswfXB4XCIsIHJvdW5kKCtzaXplIHx8IDEuNSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcy5maWx0ZXIgPSBmO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXR0cnMuYmx1cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgUi5fZW5naW5lLnBhdGggPSBmdW5jdGlvbiAocGF0aFN0cmluZywgdm1sKSB7XG4gICAgICAgIHZhciBlbCA9IGNyZWF0ZU5vZGUoXCJzaGFwZVwiKTtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IGNzc0RvdDtcbiAgICAgICAgZWwuY29vcmRzaXplID0gem9vbSArIFMgKyB6b29tO1xuICAgICAgICBlbC5jb29yZG9yaWdpbiA9IHZtbC5jb29yZG9yaWdpbjtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgdm1sKSxcbiAgICAgICAgICAgIGF0dHIgPSB7ZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICBwYXRoU3RyaW5nICYmIChhdHRyLnBhdGggPSBwYXRoU3RyaW5nKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHAucGF0aCA9IFtdO1xuICAgICAgICBwLlBhdGggPSBFO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHAsIGF0dHIpO1xuICAgICAgICB2bWwuY2FudmFzICYmIHZtbC5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgc2tldyA9IGNyZWF0ZU5vZGUoXCJza2V3XCIpO1xuICAgICAgICBza2V3Lm9uID0gdHJ1ZTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoc2tldyk7XG4gICAgICAgIHAuc2tldyA9IHNrZXc7XG4gICAgICAgIHAudHJhbnNmb3JtKEUpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5yZWN0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdywgaCwgcikge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgsIHIpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCksXG4gICAgICAgICAgICBhID0gcmVzLmF0dHJzO1xuICAgICAgICByZXMuWCA9IGEueCA9IHg7XG4gICAgICAgIHJlcy5ZID0gYS55ID0geTtcbiAgICAgICAgcmVzLlcgPSBhLndpZHRoID0gdztcbiAgICAgICAgcmVzLkggPSBhLmhlaWdodCA9IGg7XG4gICAgICAgIGEuciA9IHI7XG4gICAgICAgIGEucGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcy50eXBlID0gXCJyZWN0XCI7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuZWxsaXBzZSA9IGZ1bmN0aW9uICh2bWwsIHgsIHksIHJ4LCByeSkge1xuICAgICAgICB2YXIgcmVzID0gdm1sLnBhdGgoKSxcbiAgICAgICAgICAgIGEgPSByZXMuYXR0cnM7XG4gICAgICAgIHJlcy5YID0geCAtIHJ4O1xuICAgICAgICByZXMuWSA9IHkgLSByeTtcbiAgICAgICAgcmVzLlcgPSByeCAqIDI7XG4gICAgICAgIHJlcy5IID0gcnkgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiZWxsaXBzZVwiO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHJlcywge1xuICAgICAgICAgICAgY3g6IHgsXG4gICAgICAgICAgICBjeTogeSxcbiAgICAgICAgICAgIHJ4OiByeCxcbiAgICAgICAgICAgIHJ5OiByeVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAodm1sLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciByZXMgPSB2bWwucGF0aCgpLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycztcbiAgICAgICAgcmVzLlggPSB4IC0gcjtcbiAgICAgICAgcmVzLlkgPSB5IC0gcjtcbiAgICAgICAgcmVzLlcgPSByZXMuSCA9IHIgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCB7XG4gICAgICAgICAgICBjeDogeCxcbiAgICAgICAgICAgIGN5OiB5LFxuICAgICAgICAgICAgcjogclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5pbWFnZSA9IGZ1bmN0aW9uICh2bWwsIHNyYywgeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCkuYXR0cih7c3Ryb2tlOiBcIm5vbmVcIn0pLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSByZXMubm9kZSxcbiAgICAgICAgICAgIGZpbGwgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGZpbGxTdHJpbmcpWzBdO1xuICAgICAgICBhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzLlggPSBhLnggPSB4O1xuICAgICAgICByZXMuWSA9IGEueSA9IHk7XG4gICAgICAgIHJlcy5XID0gYS53aWR0aCA9IHc7XG4gICAgICAgIHJlcy5IID0gYS5oZWlnaHQgPSBoO1xuICAgICAgICBhLnBhdGggPSBwYXRoO1xuICAgICAgICByZXMudHlwZSA9IFwiaW1hZ2VcIjtcbiAgICAgICAgZmlsbC5wYXJlbnROb2RlID09IG5vZGUgJiYgbm9kZS5yZW1vdmVDaGlsZChmaWxsKTtcbiAgICAgICAgZmlsbC5yb3RhdGUgPSB0cnVlO1xuICAgICAgICBmaWxsLnNyYyA9IHNyYztcbiAgICAgICAgZmlsbC50eXBlID0gXCJ0aWxlXCI7XG4gICAgICAgIHJlcy5fLmZpbGxwb3MgPSBbeCwgeV07XG4gICAgICAgIHJlcy5fLmZpbGxzaXplID0gW3csIGhdO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICBzZXRDb29yZHMocmVzLCAxLCAxLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS50ZXh0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdGV4dCkge1xuICAgICAgICB2YXIgZWwgPSBjcmVhdGVOb2RlKFwic2hhcGVcIiksXG4gICAgICAgICAgICBwYXRoID0gY3JlYXRlTm9kZShcInBhdGhcIiksXG4gICAgICAgICAgICBvID0gY3JlYXRlTm9kZShcInRleHRwYXRoXCIpO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB0ZXh0ID0gdGV4dCB8fCBcIlwiO1xuICAgICAgICBwYXRoLnYgPSBSLmZvcm1hdChcIm17MH0sezF9bHsyfSx7MX1cIiwgcm91bmQoeCAqIHpvb20pLCByb3VuZCh5ICogem9vbSksIHJvdW5kKHggKiB6b29tKSArIDEpO1xuICAgICAgICBwYXRoLnRleHRwYXRob2sgPSB0cnVlO1xuICAgICAgICBvLnN0cmluZyA9IFN0cih0ZXh0KTtcbiAgICAgICAgby5vbiA9IHRydWU7XG4gICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSBjc3NEb3Q7XG4gICAgICAgIGVsLmNvb3Jkc2l6ZSA9IHpvb20gKyBTICsgem9vbTtcbiAgICAgICAgZWwuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICB2YXIgcCA9IG5ldyBFbGVtZW50KGVsLCB2bWwpLFxuICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiBcIiMwMDBcIixcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGZvbnQ6IFIuX2F2YWlsYWJsZUF0dHJzLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcC5zaGFwZSA9IGVsO1xuICAgICAgICBwLnBhdGggPSBwYXRoO1xuICAgICAgICBwLnRleHRwYXRoID0gbztcbiAgICAgICAgcC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHAuYXR0cnMudGV4dCA9IFN0cih0ZXh0KTtcbiAgICAgICAgcC5hdHRycy54ID0geDtcbiAgICAgICAgcC5hdHRycy55ID0geTtcbiAgICAgICAgcC5hdHRycy53ID0gMTtcbiAgICAgICAgcC5hdHRycy5oID0gMTtcbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZShwLCBhdHRyKTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobyk7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICB2bWwuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHNrZXcgPSBjcmVhdGVOb2RlKFwic2tld1wiKTtcbiAgICAgICAgc2tldy5vbiA9IHRydWU7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHNrZXcpO1xuICAgICAgICBwLnNrZXcgPSBza2V3O1xuICAgICAgICBwLnRyYW5zZm9ybShFKTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjcyA9IHRoaXMuY2FudmFzLnN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9PSArd2lkdGggJiYgKHdpZHRoICs9IFwicHhcIik7XG4gICAgICAgIGhlaWdodCA9PSAraGVpZ2h0ICYmIChoZWlnaHQgKz0gXCJweFwiKTtcbiAgICAgICAgY3Mud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3MuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjcy5jbGlwID0gXCJyZWN0KDAgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0ICsgXCIgMClcIjtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdCb3gpIHtcbiAgICAgICAgICAgIFIuX2VuZ2luZS5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFZpZXdCb3ggPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgZml0KSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgd2lkdGggPSBwYXBlclNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXBlclNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgSCwgVztcbiAgICAgICAgaWYgKGZpdCkge1xuICAgICAgICAgICAgSCA9IGhlaWdodCAvIGg7XG4gICAgICAgICAgICBXID0gd2lkdGggLyB3O1xuICAgICAgICAgICAgaWYgKHcgKiBIIDwgd2lkdGgpIHtcbiAgICAgICAgICAgICAgICB4IC09ICh3aWR0aCAtIHcgKiBIKSAvIDIgLyBIO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGggKiBXIDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgeSAtPSAoaGVpZ2h0IC0gaCAqIFcpIC8gMiAvIFc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHRoaXMuX3ZpZXdCb3hTaGlmdCA9IHtcbiAgICAgICAgICAgIGR4OiAteCxcbiAgICAgICAgICAgIGR5OiAteSxcbiAgICAgICAgICAgIHNjYWxlOiBwYXBlclNpemVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwudHJhbnNmb3JtKFwiLi4uXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICB2YXIgY3JlYXRlTm9kZTtcbiAgICBSLl9lbmdpbmUuaW5pdFdpbiA9IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gICAgICAgICAgICBpZiAoZG9jLnN0eWxlU2hlZXRzLmxlbmd0aCA8IDMxKSB7XG4gICAgICAgICAgICAgICAgZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKFwiLnJ2bWxcIiwgXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbW9yZSByb29tLCBhZGQgdG8gdGhlIGV4aXN0aW5nIG9uZVxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMTE5NCUyOFZTLjg1JTI5LmFzcHhcbiAgICAgICAgICAgICAgICBkb2Muc3R5bGVTaGVldHNbMF0uYWRkUnVsZShcIi5ydm1sXCIsIFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICFkb2MubmFtZXNwYWNlcy5ydm1sICYmIGRvYy5uYW1lc3BhY2VzLmFkZChcInJ2bWxcIiwgXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8cnZtbDonICsgdGFnTmFtZSArICcgY2xhc3M9XCJydm1sXCI+Jyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8JyArIHRhZ05hbWUgKyAnIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWxcIiBjbGFzcz1cInJ2bWxcIj4nKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIFIuX2VuZ2luZS5pbml0V2luKFIuX2cud2luKTtcbiAgICBSLl9lbmdpbmUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29uID0gUi5fZ2V0Q29udGFpbmVyLmFwcGx5KDAsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICBjb250YWluZXIgPSBjb24uY29udGFpbmVyLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uLmhlaWdodCxcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICB3aWR0aCA9IGNvbi53aWR0aCxcbiAgICAgICAgICAgIHggPSBjb24ueCxcbiAgICAgICAgICAgIHkgPSBjb24ueTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZNTCBjb250YWluZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzID0gbmV3IFIuX1BhcGVyLFxuICAgICAgICAgICAgYyA9IHJlcy5jYW52YXMgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgY3MgPSBjLnN0eWxlO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgcmVzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHJlcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHdpZHRoID09ICt3aWR0aCAmJiAod2lkdGggKz0gXCJweFwiKTtcbiAgICAgICAgaGVpZ2h0ID09ICtoZWlnaHQgJiYgKGhlaWdodCArPSBcInB4XCIpO1xuICAgICAgICByZXMuY29vcmRzaXplID0gem9vbSAqIDFlMyArIFMgKyB6b29tICogMWUzO1xuICAgICAgICByZXMuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICByZXMuc3BhbiA9IFIuX2cuZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICByZXMuc3Bhbi5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW07cGFkZGluZzowO21hcmdpbjowO2xpbmUtaGVpZ2h0OjE7XCI7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQocmVzLnNwYW4pO1xuICAgICAgICBjcy5jc3NUZXh0ID0gUi5mb3JtYXQoXCJ0b3A6MDtsZWZ0OjA7d2lkdGg6ezB9O2hlaWdodDp7MX07ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Y2xpcDpyZWN0KDAgezB9IHsxfSAwKTtvdmVyZmxvdzpoaWRkZW5cIiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChjb250YWluZXIgPT0gMSkge1xuICAgICAgICAgICAgUi5fZy5kb2MuYm9keS5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIGNzLmxlZnQgPSB4ICsgXCJweFwiO1xuICAgICAgICAgICAgY3MudG9wID0geSArIFwicHhcIjtcbiAgICAgICAgICAgIGNzLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXMucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUi5ldmUoXCJyYXBoYWVsLmNsZWFyXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5pbm5lckhUTUwgPSBFO1xuICAgICAgICB0aGlzLnNwYW4gPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5zcGFuLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbTtwYWRkaW5nOjA7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MTtkaXNwbGF5OmlubGluZTtcIjtcbiAgICAgICAgdGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5zcGFuKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCA9IG51bGw7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5yZW1vdmVcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./dev/raphael.vml.js\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/eve-raphael/eve.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/eve-raphael/eve.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\\n// \\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n// you may not use this file except in compliance with the License.\\n// You may obtain a copy of the License at\\n// \\n// http://www.apache.org/licenses/LICENSE-2.0\\n// \\n// Unless required by applicable law or agreed to in writing, software\\n// distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n// See the License for the specific language governing permissions and\\n// limitations under the License.\\n// ┌────────────────────────────────────────────────────────────┐ \\\\\\\\\\n// │ Eve 0.5.0 - JavaScript Events Library                      │ \\\\\\\\\\n// ├────────────────────────────────────────────────────────────┤ \\\\\\\\\\n// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\\\\\\\\\n// └────────────────────────────────────────────────────────────┘ \\\\\\\\\\n\\n(function (glob) {\\n    var version = \\\"0.5.0\\\",\\n        has = \\\"hasOwnProperty\\\",\\n        separator = /[\\\\.\\\\/]/,\\n        comaseparator = /\\\\s*,\\\\s*/,\\n        wildcard = \\\"*\\\",\\n        fun = function () {},\\n        numsort = function (a, b) {\\n            return a - b;\\n        },\\n        current_event,\\n        stop,\\n        events = {n: {}},\\n        firstDefined = function () {\\n            for (var i = 0, ii = this.length; i < ii; i++) {\\n                if (typeof this[i] != \\\"undefined\\\") {\\n                    return this[i];\\n                }\\n            }\\n        },\\n        lastDefined = function () {\\n            var i = this.length;\\n            while (--i) {\\n                if (typeof this[i] != \\\"undefined\\\") {\\n                    return this[i];\\n                }\\n            }\\n        },\\n        objtos = Object.prototype.toString,\\n        Str = String,\\n        isArray = Array.isArray || function (ar) {\\n            return ar instanceof Array || objtos.call(ar) == \\\"[object Array]\\\";\\n        };\\n    /*\\\\\\n     * eve\\n     [ method ]\\n\\n     * Fires event with given `name`, given scope and other parameters.\\n\\n     > Arguments\\n\\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\\n     - scope (object) context for the event handlers\\n     - varargs (...) the rest of arguments will be sent to event handlers\\n\\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\\n    \\\\*/\\n        var eve = function (name, scope) {\\n            var e = events,\\n                oldstop = stop,\\n                args = Array.prototype.slice.call(arguments, 2),\\n                listeners = eve.listeners(name),\\n                z = 0,\\n                f = false,\\n                l,\\n                indexed = [],\\n                queue = {},\\n                out = [],\\n                ce = current_event,\\n                errors = [];\\n            out.firstDefined = firstDefined;\\n            out.lastDefined = lastDefined;\\n            current_event = name;\\n            stop = 0;\\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\\\"zIndex\\\" in listeners[i]) {\\n                indexed.push(listeners[i].zIndex);\\n                if (listeners[i].zIndex < 0) {\\n                    queue[listeners[i].zIndex] = listeners[i];\\n                }\\n            }\\n            indexed.sort(numsort);\\n            while (indexed[z] < 0) {\\n                l = queue[indexed[z++]];\\n                out.push(l.apply(scope, args));\\n                if (stop) {\\n                    stop = oldstop;\\n                    return out;\\n                }\\n            }\\n            for (i = 0; i < ii; i++) {\\n                l = listeners[i];\\n                if (\\\"zIndex\\\" in l) {\\n                    if (l.zIndex == indexed[z]) {\\n                        out.push(l.apply(scope, args));\\n                        if (stop) {\\n                            break;\\n                        }\\n                        do {\\n                            z++;\\n                            l = queue[indexed[z]];\\n                            l && out.push(l.apply(scope, args));\\n                            if (stop) {\\n                                break;\\n                            }\\n                        } while (l)\\n                    } else {\\n                        queue[l.zIndex] = l;\\n                    }\\n                } else {\\n                    out.push(l.apply(scope, args));\\n                    if (stop) {\\n                        break;\\n                    }\\n                }\\n            }\\n            stop = oldstop;\\n            current_event = ce;\\n            return out;\\n        };\\n        // Undocumented. Debug only.\\n        eve._events = events;\\n    /*\\\\\\n     * eve.listeners\\n     [ method ]\\n\\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\\n\\n     > Arguments\\n\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\\n\\n     = (array) array of event handlers\\n    \\\\*/\\n    eve.listeners = function (name) {\\n        var names = isArray(name) ? name : name.split(separator),\\n            e = events,\\n            item,\\n            items,\\n            k,\\n            i,\\n            ii,\\n            j,\\n            jj,\\n            nes,\\n            es = [e],\\n            out = [];\\n        for (i = 0, ii = names.length; i < ii; i++) {\\n            nes = [];\\n            for (j = 0, jj = es.length; j < jj; j++) {\\n                e = es[j].n;\\n                items = [e[names[i]], e[wildcard]];\\n                k = 2;\\n                while (k--) {\\n                    item = items[k];\\n                    if (item) {\\n                        nes.push(item);\\n                        out = out.concat(item.f || []);\\n                    }\\n                }\\n            }\\n            es = nes;\\n        }\\n        return out;\\n    };\\n    /*\\\\\\n     * eve.separator\\n     [ method ]\\n\\n     * If for some reasons you don’t like default separators (`.` or `/`) you can specify yours\\n     * here. Be aware that if you pass a string longer than one character it will be treated as\\n     * a list of characters.\\n\\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\\n    \\\\*/\\n    eve.separator = function (sep) {\\n        if (sep) {\\n            sep = Str(sep).replace(/(?=[\\\\.\\\\^\\\\]\\\\[\\\\-])/g, \\\"\\\\\\\\\\\");\\n            sep = \\\"[\\\" + sep + \\\"]\\\";\\n            separator = new RegExp(sep);\\n        } else {\\n            separator = /[\\\\.\\\\/]/;\\n        }\\n    };\\n    /*\\\\\\n     * eve.on\\n     [ method ]\\n     **\\n     * Binds given event handler with a given name. You can use wildcards “`*`” for the names:\\n     | eve.on(\\\"*.under.*\\\", f);\\n     | eve(\\\"mouse.under.floor\\\"); // triggers f\\n     * Use @eve to trigger the listener.\\n     **\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\\n     - f (function) event handler function\\n     **\\n     - name (array) if you don’t want to use separators, you can use array of strings\\n     - f (function) event handler function\\n     **\\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \\n     > Example:\\n     | eve.on(\\\"mouse\\\", eatIt)(2);\\n     | eve.on(\\\"mouse\\\", scream);\\n     | eve.on(\\\"mouse\\\", catchIt)(1);\\n     * This will ensure that `catchIt` function will be called before `eatIt`.\\n     *\\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\\n     * Note: I assume most of the time you don’t need to worry about z-index, but it’s nice to have this feature “just in case”.\\n    \\\\*/\\n    eve.on = function (name, f) {\\n        if (typeof f != \\\"function\\\") {\\n            return function () {};\\n        }\\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\\n        for (var i = 0, ii = names.length; i < ii; i++) {\\n            (function (name) {\\n                var names = isArray(name) ? name : Str(name).split(separator),\\n                    e = events,\\n                    exist;\\n                for (var i = 0, ii = names.length; i < ii; i++) {\\n                    e = e.n;\\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\\n                }\\n                e.f = e.f || [];\\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\\n                    exist = true;\\n                    break;\\n                }\\n                !exist && e.f.push(f);\\n            }(names[i]));\\n        }\\n        return function (zIndex) {\\n            if (+zIndex == +zIndex) {\\n                f.zIndex = +zIndex;\\n            }\\n        };\\n    };\\n    /*\\\\\\n     * eve.f\\n     [ method ]\\n     **\\n     * Returns function that will fire given event with optional arguments.\\n     * Arguments that will be passed to the result function will be also\\n     * concated to the list of final arguments.\\n     | el.onclick = eve.f(\\\"click\\\", 1, 2);\\n     | eve.on(\\\"click\\\", function (a, b, c) {\\n     |     console.log(a, b, c); // 1, 2, [event object]\\n     | });\\n     > Arguments\\n     - event (string) event name\\n     - varargs (…) and any other arguments\\n     = (function) possible event handler function\\n    \\\\*/\\n    eve.f = function (event) {\\n        var attrs = [].slice.call(arguments, 1);\\n        return function () {\\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\\n        };\\n    };\\n    /*\\\\\\n     * eve.stop\\n     [ method ]\\n     **\\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\\n    \\\\*/\\n    eve.stop = function () {\\n        stop = 1;\\n    };\\n    /*\\\\\\n     * eve.nt\\n     [ method ]\\n     **\\n     * Could be used inside event handler to figure out actual name of the event.\\n     **\\n     > Arguments\\n     **\\n     - subname (string) #optional subname of the event\\n     **\\n     = (string) name of the event, if `subname` is not specified\\n     * or\\n     = (boolean) `true`, if current event’s name contains `subname`\\n    \\\\*/\\n    eve.nt = function (subname) {\\n        var cur = isArray(current_event) ? current_event.join(\\\".\\\") : current_event;\\n        if (subname) {\\n            return new RegExp(\\\"(?:\\\\\\\\.|\\\\\\\\/|^)\\\" + subname + \\\"(?:\\\\\\\\.|\\\\\\\\/|$)\\\").test(cur);\\n        }\\n        return cur;\\n    };\\n    /*\\\\\\n     * eve.nts\\n     [ method ]\\n     **\\n     * Could be used inside event handler to figure out actual name of the event.\\n     **\\n     **\\n     = (array) names of the event\\n    \\\\*/\\n    eve.nts = function () {\\n        return isArray(current_event) ? current_event : current_event.split(separator);\\n    };\\n    /*\\\\\\n     * eve.off\\n     [ method ]\\n     **\\n     * Removes given function from the list of event listeners assigned to given name.\\n     * If no arguments specified all the events will be cleared.\\n     **\\n     > Arguments\\n     **\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\\n     - f (function) event handler function\\n    \\\\*/\\n    /*\\\\\\n     * eve.unbind\\n     [ method ]\\n     **\\n     * See @eve.off\\n    \\\\*/\\n    eve.off = eve.unbind = function (name, f) {\\n        if (!name) {\\n            eve._events = events = {n: {}};\\n            return;\\n        }\\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\\n        if (names.length > 1) {\\n            for (var i = 0, ii = names.length; i < ii; i++) {\\n                eve.off(names[i], f);\\n            }\\n            return;\\n        }\\n        names = isArray(name) ? name : Str(name).split(separator);\\n        var e,\\n            key,\\n            splice,\\n            i, ii, j, jj,\\n            cur = [events];\\n        for (i = 0, ii = names.length; i < ii; i++) {\\n            for (j = 0; j < cur.length; j += splice.length - 2) {\\n                splice = [j, 1];\\n                e = cur[j].n;\\n                if (names[i] != wildcard) {\\n                    if (e[names[i]]) {\\n                        splice.push(e[names[i]]);\\n                    }\\n                } else {\\n                    for (key in e) if (e[has](key)) {\\n                        splice.push(e[key]);\\n                    }\\n                }\\n                cur.splice.apply(cur, splice);\\n            }\\n        }\\n        for (i = 0, ii = cur.length; i < ii; i++) {\\n            e = cur[i];\\n            while (e.n) {\\n                if (f) {\\n                    if (e.f) {\\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\\n                            e.f.splice(j, 1);\\n                            break;\\n                        }\\n                        !e.f.length && delete e.f;\\n                    }\\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\\n                        var funcs = e.n[key].f;\\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\\n                            funcs.splice(j, 1);\\n                            break;\\n                        }\\n                        !funcs.length && delete e.n[key].f;\\n                    }\\n                } else {\\n                    delete e.f;\\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\\n                        delete e.n[key].f;\\n                    }\\n                }\\n                e = e.n;\\n            }\\n        }\\n    };\\n    /*\\\\\\n     * eve.once\\n     [ method ]\\n     **\\n     * Binds given event handler with a given name to only run once then unbind itself.\\n     | eve.once(\\\"login\\\", f);\\n     | eve(\\\"login\\\"); // triggers f\\n     | eve(\\\"login\\\"); // no listeners\\n     * Use @eve to trigger the listener.\\n     **\\n     > Arguments\\n     **\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\\n     - f (function) event handler function\\n     **\\n     = (function) same return function as @eve.on\\n    \\\\*/\\n    eve.once = function (name, f) {\\n        var f2 = function () {\\n            eve.off(name, f2);\\n            return f.apply(this, arguments);\\n        };\\n        return eve.on(name, f2);\\n    };\\n    /*\\\\\\n     * eve.version\\n     [ property (string) ]\\n     **\\n     * Current version of the library.\\n    \\\\*/\\n    eve.version = version;\\n    eve.toString = function () {\\n        return \\\"You are running Eve \\\" + version;\\n    };\\n    (typeof module != \\\"undefined\\\" && module.exports) ? (module.exports = eve) : ( true ? (!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() { return eve; }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))) : (undefined));\\n})(this);\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlLXJhcGhhZWwvZXZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL25vZGVfbW9kdWxlcy9ldmUtcmFwaGFlbC9ldmUuanM/ZDJiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTMgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vIFxuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLyBcbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgXFxcXFxuLy8g4pSCIEV2ZSAwLjUuMCAtIEphdmFTY3JpcHQgRXZlbnRzIExpYnJhcnkgICAgICAgICAgICAgICAgICAgICAg4pSCIFxcXFxcbi8vIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpCBcXFxcXG4vLyDilIIgQXV0aG9yIERtaXRyeSBCYXJhbm92c2tpeSAoaHR0cDovL2RtaXRyeS5iYXJhbm92c2tpeS5jb20vKSDilIIgXFxcXFxuLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYIFxcXFxcblxuKGZ1bmN0aW9uIChnbG9iKSB7XG4gICAgdmFyIHZlcnNpb24gPSBcIjAuNS4wXCIsXG4gICAgICAgIGhhcyA9IFwiaGFzT3duUHJvcGVydHlcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1tcXC5cXC9dLyxcbiAgICAgICAgY29tYXNlcGFyYXRvciA9IC9cXHMqLFxccyovLFxuICAgICAgICB3aWxkY2FyZCA9IFwiKlwiLFxuICAgICAgICBmdW4gPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgbnVtc29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRfZXZlbnQsXG4gICAgICAgIHN0b3AsXG4gICAgICAgIGV2ZW50cyA9IHtuOiB7fX0sXG4gICAgICAgIGZpcnN0RGVmaW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdERlZmluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKC0taSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2JqdG9zID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgU3RyID0gU3RyaW5nLFxuICAgICAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhciBpbnN0YW5jZW9mIEFycmF5IHx8IG9ianRvcy5jYWxsKGFyKSA9PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZVxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBGaXJlcyBldmVudCB3aXRoIGdpdmVuIGBuYW1lYCwgZ2l2ZW4gc2NvcGUgYW5kIG90aGVyIHBhcmFtZXRlcnMuXG5cbiAgICAgPiBBcmd1bWVudHNcblxuICAgICAtIG5hbWUgKHN0cmluZykgbmFtZSBvZiB0aGUgKmV2ZW50KiwgZG90IChgLmApIG9yIHNsYXNoIChgL2ApIHNlcGFyYXRlZFxuICAgICAtIHNjb3BlIChvYmplY3QpIGNvbnRleHQgZm9yIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAtIHZhcmFyZ3MgKC4uLikgdGhlIHJlc3Qgb2YgYXJndW1lbnRzIHdpbGwgYmUgc2VudCB0byBldmVudCBoYW5kbGVyc1xuXG4gICAgID0gKG9iamVjdCkgYXJyYXkgb2YgcmV0dXJuZWQgdmFsdWVzIGZyb20gdGhlIGxpc3RlbmVycy4gQXJyYXkgaGFzIHR3byBtZXRob2RzIGAuZmlyc3REZWZpbmVkKClgIGFuZCBgLmxhc3REZWZpbmVkKClgIHRvIGdldCBmaXJzdCBvciBsYXN0IG5vdCBgdW5kZWZpbmVkYCB2YWx1ZS5cbiAgICBcXCovXG4gICAgICAgIHZhciBldmUgPSBmdW5jdGlvbiAobmFtZSwgc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBlID0gZXZlbnRzLFxuICAgICAgICAgICAgICAgIG9sZHN0b3AgPSBzdG9wLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGV2ZS5saXN0ZW5lcnMobmFtZSksXG4gICAgICAgICAgICAgICAgeiA9IDAsXG4gICAgICAgICAgICAgICAgZiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAgICAgaW5kZXhlZCA9IFtdLFxuICAgICAgICAgICAgICAgIHF1ZXVlID0ge30sXG4gICAgICAgICAgICAgICAgb3V0ID0gW10sXG4gICAgICAgICAgICAgICAgY2UgPSBjdXJyZW50X2V2ZW50LFxuICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgb3V0LmZpcnN0RGVmaW5lZCA9IGZpcnN0RGVmaW5lZDtcbiAgICAgICAgICAgIG91dC5sYXN0RGVmaW5lZCA9IGxhc3REZWZpbmVkO1xuICAgICAgICAgICAgY3VycmVudF9ldmVudCA9IG5hbWU7XG4gICAgICAgICAgICBzdG9wID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoXCJ6SW5kZXhcIiBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkLnB1c2gobGlzdGVuZXJzW2ldLnpJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS56SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2xpc3RlbmVyc1tpXS56SW5kZXhdID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ZWQuc29ydChudW1zb3J0KTtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleGVkW3pdIDwgMCkge1xuICAgICAgICAgICAgICAgIGwgPSBxdWV1ZVtpbmRleGVkW3orK11dO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGwuYXBwbHkoc2NvcGUsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGwgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKFwiekluZGV4XCIgaW4gbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobC56SW5kZXggPT0gaW5kZXhlZFt6XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHF1ZXVlW2luZGV4ZWRbel1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGwpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVtsLnpJbmRleF0gPSBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgIGN1cnJlbnRfZXZlbnQgPSBjZTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFVuZG9jdW1lbnRlZC4gRGVidWcgb25seS5cbiAgICAgICAgZXZlLl9ldmVudHMgPSBldmVudHM7XG4gICAgLypcXFxuICAgICAqIGV2ZS5saXN0ZW5lcnNcbiAgICAgWyBtZXRob2QgXVxuXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHdoaWNoIGdpdmVzIHlvdSBhcnJheSBvZiBhbGwgZXZlbnQgaGFuZGxlcnMgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCBieSB0aGUgZ2l2ZW4gYG5hbWVgLlxuXG4gICAgID4gQXJndW1lbnRzXG5cbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkXG5cbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIGV2ZW50IGhhbmRsZXJzXG4gICAgXFwqL1xuICAgIGV2ZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgIGUgPSBldmVudHMsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGpqLFxuICAgICAgICAgICAgbmVzLFxuICAgICAgICAgICAgZXMgPSBbZV0sXG4gICAgICAgICAgICBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBuZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgIGUgPSBlc1tqXS5uO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gW2VbbmFtZXNbaV1dLCBlW3dpbGRjYXJkXV07XG4gICAgICAgICAgICAgICAgayA9IDI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGstLSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNba107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCA9IG91dC5jb25jYXQoaXRlbS5mIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVzID0gbmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLnNlcGFyYXRvclxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBJZiBmb3Igc29tZSByZWFzb25zIHlvdSBkb27igJl0IGxpa2UgZGVmYXVsdCBzZXBhcmF0b3JzIChgLmAgb3IgYC9gKSB5b3UgY2FuIHNwZWNpZnkgeW91cnNcbiAgICAgKiBoZXJlLiBCZSBhd2FyZSB0aGF0IGlmIHlvdSBwYXNzIGEgc3RyaW5nIGxvbmdlciB0aGFuIG9uZSBjaGFyYWN0ZXIgaXQgd2lsbCBiZSB0cmVhdGVkIGFzXG4gICAgICogYSBsaXN0IG9mIGNoYXJhY3RlcnMuXG5cbiAgICAgLSBzZXBhcmF0b3IgKHN0cmluZykgbmV3IHNlcGFyYXRvci4gRW1wdHkgc3RyaW5nIHJlc2V0cyB0byBkZWZhdWx0OiBgLmAgb3IgYC9gLlxuICAgIFxcKi9cbiAgICBldmUuc2VwYXJhdG9yID0gZnVuY3Rpb24gKHNlcCkge1xuICAgICAgICBpZiAoc2VwKSB7XG4gICAgICAgICAgICBzZXAgPSBTdHIoc2VwKS5yZXBsYWNlKC8oPz1bXFwuXFxeXFxdXFxbXFwtXSkvZywgXCJcXFxcXCIpO1xuICAgICAgICAgICAgc2VwID0gXCJbXCIgKyBzZXAgKyBcIl1cIjtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IG5ldyBSZWdFeHAoc2VwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IC9bXFwuXFwvXS87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUub25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUuIFlvdSBjYW4gdXNlIHdpbGRjYXJkcyDigJxgKmDigJ0gZm9yIHRoZSBuYW1lczpcbiAgICAgfCBldmUub24oXCIqLnVuZGVyLipcIiwgZik7XG4gICAgIHwgZXZlKFwibW91c2UudW5kZXIuZmxvb3JcIik7IC8vIHRyaWdnZXJzIGZcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgIC0gbmFtZSAoYXJyYXkpIGlmIHlvdSBkb27igJl0IHdhbnQgdG8gdXNlIHNlcGFyYXRvcnMsIHlvdSBjYW4gdXNlIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgLSBmIChmdW5jdGlvbikgZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgICAqKlxuICAgICA9IChmdW5jdGlvbikgcmV0dXJuZWQgZnVuY3Rpb24gYWNjZXB0cyBhIHNpbmdsZSBudW1lcmljIHBhcmFtZXRlciB0aGF0IHJlcHJlc2VudHMgei1pbmRleCBvZiB0aGUgaGFuZGxlci4gSXQgaXMgYW4gb3B0aW9uYWwgZmVhdHVyZSBhbmQgb25seSB1c2VkIHdoZW4geW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgc29tZSBzdWJzZXQgb2YgaGFuZGxlcnMgd2lsbCBiZSBpbnZva2VkIGluIGEgZ2l2ZW4gb3JkZXIsIGRlc3BpdGUgb2YgdGhlIG9yZGVyIG9mIGFzc2lnbm1lbnQuIFxuICAgICA+IEV4YW1wbGU6XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgZWF0SXQpKDIpO1xuICAgICB8IGV2ZS5vbihcIm1vdXNlXCIsIHNjcmVhbSk7XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgY2F0Y2hJdCkoMSk7XG4gICAgICogVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGBjYXRjaEl0YCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgYGVhdEl0YC5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHB1dCB5b3VyIGhhbmRsZXIgYmVmb3JlIG5vbi1pbmRleGVkIGhhbmRsZXJzLCBzcGVjaWZ5IGEgbmVnYXRpdmUgdmFsdWUuXG4gICAgICogTm90ZTogSSBhc3N1bWUgbW9zdCBvZiB0aGUgdGltZSB5b3UgZG9u4oCZdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHotaW5kZXgsIGJ1dCBpdOKAmXMgbmljZSB0byBoYXZlIHRoaXMgZmVhdHVyZSDigJxqdXN0IGluIGNhc2XigJ0uXG4gICAgXFwqL1xuICAgIGV2ZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZiAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBTdHIobmFtZSkuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgZSA9IGV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZXhpc3Q7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5oYXNPd25Qcm9wZXJ0eShuYW1lc1tpXSkgJiYgZVtuYW1lc1tpXV0gfHwgKGVbbmFtZXNbaV1dID0ge246IHt9fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuZiA9IGUuZiB8fCBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGUuZi5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoZS5mW2ldID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIWV4aXN0ICYmIGUuZi5wdXNoKGYpO1xuICAgICAgICAgICAgfShuYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgICAgICBpZiAoK3pJbmRleCA9PSArekluZGV4KSB7XG4gICAgICAgICAgICAgICAgZi56SW5kZXggPSArekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5mXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGZ1bmN0aW9uIHRoYXQgd2lsbCBmaXJlIGdpdmVuIGV2ZW50IHdpdGggb3B0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEFyZ3VtZW50cyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSByZXN1bHQgZnVuY3Rpb24gd2lsbCBiZSBhbHNvXG4gICAgICogY29uY2F0ZWQgdG8gdGhlIGxpc3Qgb2YgZmluYWwgYXJndW1lbnRzLlxuICAgICB8IGVsLm9uY2xpY2sgPSBldmUuZihcImNsaWNrXCIsIDEsIDIpO1xuICAgICB8IGV2ZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgIHwgICAgIGNvbnNvbGUubG9nKGEsIGIsIGMpOyAvLyAxLCAyLCBbZXZlbnQgb2JqZWN0XVxuICAgICB8IH0pO1xuICAgICA+IEFyZ3VtZW50c1xuICAgICAtIGV2ZW50IChzdHJpbmcpIGV2ZW50IG5hbWVcbiAgICAgLSB2YXJhcmdzICjigKYpIGFuZCBhbnkgb3RoZXIgYXJndW1lbnRzXG4gICAgID0gKGZ1bmN0aW9uKSBwb3NzaWJsZSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIGV2ZS5mID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBhdHRycyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGV2ZS5hcHBseShudWxsLCBbZXZlbnQsIG51bGxdLmNvbmNhdChhdHRycykuY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5zdG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJcyB1c2VkIGluc2lkZSBhbiBldmVudCBoYW5kbGVyIHRvIHN0b3AgdGhlIGV2ZW50LCBwcmV2ZW50aW5nIGFueSBzdWJzZXF1ZW50IGxpc3RlbmVycyBmcm9tIGZpcmluZy5cbiAgICBcXCovXG4gICAgZXZlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3AgPSAxO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ291bGQgYmUgdXNlZCBpbnNpZGUgZXZlbnQgaGFuZGxlciB0byBmaWd1cmUgb3V0IGFjdHVhbCBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBzdWJuYW1lIChzdHJpbmcpICNvcHRpb25hbCBzdWJuYW1lIG9mIHRoZSBldmVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBpZiBgc3VibmFtZWAgaXMgbm90IHNwZWNpZmllZFxuICAgICAqIG9yXG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCwgaWYgY3VycmVudCBldmVudOKAmXMgbmFtZSBjb250YWlucyBgc3VibmFtZWBcbiAgICBcXCovXG4gICAgZXZlLm50ID0gZnVuY3Rpb24gKHN1Ym5hbWUpIHtcbiAgICAgICAgdmFyIGN1ciA9IGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50LmpvaW4oXCIuXCIpIDogY3VycmVudF9ldmVudDtcbiAgICAgICAgaWYgKHN1Ym5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKD86XFxcXC58XFxcXC98XilcIiArIHN1Ym5hbWUgKyBcIig/OlxcXFwufFxcXFwvfCQpXCIpLnRlc3QoY3VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udHNcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvdWxkIGJlIHVzZWQgaW5zaWRlIGV2ZW50IGhhbmRsZXIgdG8gZmlndXJlIG91dCBhY3R1YWwgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICoqXG4gICAgICoqXG4gICAgID0gKGFycmF5KSBuYW1lcyBvZiB0aGUgZXZlbnRcbiAgICBcXCovXG4gICAgZXZlLm50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50IDogY3VycmVudF9ldmVudC5zcGxpdChzZXBhcmF0b3IpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5vZmZcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gZnVuY3Rpb24gZnJvbSB0aGUgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzaWduZWQgdG8gZ2l2ZW4gbmFtZS5cbiAgICAgKiBJZiBubyBhcmd1bWVudHMgc3BlY2lmaWVkIGFsbCB0aGUgZXZlbnRzIHdpbGwgYmUgY2xlYXJlZC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBldmUudW5iaW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZWUgQGV2ZS5vZmZcbiAgICBcXCovXG4gICAgZXZlLm9mZiA9IGV2ZS51bmJpbmQgPSBmdW5jdGlvbiAobmFtZSwgZikge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIGV2ZS5fZXZlbnRzID0gZXZlbnRzID0ge246IHt9fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBldmUub2ZmKG5hbWVzW2ldLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogU3RyKG5hbWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc3BsaWNlLFxuICAgICAgICAgICAgaSwgaWksIGosIGpqLFxuICAgICAgICAgICAgY3VyID0gW2V2ZW50c107XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1ci5sZW5ndGg7IGogKz0gc3BsaWNlLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpY2UgPSBbaiwgMV07XG4gICAgICAgICAgICAgICAgZSA9IGN1cltqXS5uO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lc1tpXSAhPSB3aWxkY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZVtuYW1lc1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGljZS5wdXNoKGVbbmFtZXNbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUpIGlmIChlW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlLnB1c2goZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXIuc3BsaWNlLmFwcGx5KGN1ciwgc3BsaWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGN1ci5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBlID0gY3VyW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGUubikge1xuICAgICAgICAgICAgICAgIGlmIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZS5mLmxlbmd0aDsgaiA8IGpqOyBqKyspIGlmIChlLmZbal0gPT0gZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZi5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZS5mLmxlbmd0aCAmJiBkZWxldGUgZS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUubikgaWYgKGUubltoYXNdKGtleSkgJiYgZS5uW2tleV0uZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmNzID0gZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZnVuY3MubGVuZ3RoOyBqIDwgamo7IGorKykgaWYgKGZ1bmNzW2pdID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZnVuY3MubGVuZ3RoICYmIGRlbGV0ZSBlLm5ba2V5XS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gZS5uKSBpZiAoZS5uW2hhc10oa2V5KSAmJiBlLm5ba2V5XS5mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLm9uY2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUgdG8gb25seSBydW4gb25jZSB0aGVuIHVuYmluZCBpdHNlbGYuXG4gICAgIHwgZXZlLm9uY2UoXCJsb2dpblwiLCBmKTtcbiAgICAgfCBldmUoXCJsb2dpblwiKTsgLy8gdHJpZ2dlcnMgZlxuICAgICB8IGV2ZShcImxvZ2luXCIpOyAvLyBubyBsaXN0ZW5lcnNcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgID0gKGZ1bmN0aW9uKSBzYW1lIHJldHVybiBmdW5jdGlvbiBhcyBAZXZlLm9uXG4gICAgXFwqL1xuICAgIGV2ZS5vbmNlID0gZnVuY3Rpb24gKG5hbWUsIGYpIHtcbiAgICAgICAgdmFyIGYyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZXZlLm9mZihuYW1lLCBmMik7XG4gICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXZlLm9uKG5hbWUsIGYyKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUudmVyc2lvblxuICAgICBbIHByb3BlcnR5IChzdHJpbmcpIF1cbiAgICAgKipcbiAgICAgKiBDdXJyZW50IHZlcnNpb24gb2YgdGhlIGxpYnJhcnkuXG4gICAgXFwqL1xuICAgIGV2ZS52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBldmUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIllvdSBhcmUgcnVubmluZyBFdmUgXCIgKyB2ZXJzaW9uO1xuICAgIH07XG4gICAgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykgPyAobW9kdWxlLmV4cG9ydHMgPSBldmUpIDogKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kID8gKGRlZmluZShcImV2ZVwiLCBbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBldmU7IH0pKSA6IChnbG9iLmV2ZSA9IGV2ZSkpO1xufSkodGhpcyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./node_modules/eve-raphael/eve.js\\n\");\n\n/***/ })\n\n/******/ });\n});"],"sourceRoot":""}